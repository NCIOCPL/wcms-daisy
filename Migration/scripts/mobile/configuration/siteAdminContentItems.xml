<?xml version="1.0" encoding="utf-8"?>
<list>
  <item>
    <mig_id>MobileNavTemplateCollection</mig_id>
    <community>siteAdmin</community>
    <contenttype>nciPageTemplateCollection</contenttype>
    <folder>/configuration/cde</folder>
    <long_title><![CDATA[DefaultCancerGovMobileNavTemplate]]></long_title>
    <pretty_url_name><![CDATA[DefaultCancerGovMobileNavTemplateCollection]]></pretty_url_name>
    <name><![CDATA[DefaultCancerGovMobileNavTemplate]]></name>
  </item>
  <item>
    <mig_id>MobileGenTemplateCollection</mig_id>
    <community>siteAdmin</community>
    <contenttype>nciPageTemplateCollection</contenttype>
    <folder>/configuration/cde</folder>
    <long_title><![CDATA[DefaultCancerGovMobileGenTemplate]]></long_title>
    <pretty_url_name><![CDATA[DefaultCancerGovMobileGenTemplateCollection]]></pretty_url_name>
    <name><![CDATA[DefaultCancerGovMobileGenTemplate]]></name>
  </item>
  <item>
    <mig_id>MobileNavTemplateInfo</mig_id>
    <community>siteAdmin</community>
    <contenttype>nciPageTemplateInfo</contenttype>
    <folder>/configuration/cde</folder>
    <long_title><![CDATA[DefaultCancerGovMobileNavTemplate]]></long_title>
    <pretty_url_name><![CDATA[DefaultCancerGovMobileNavTemplate]]></pretty_url_name>
    <item_file_attachment><![CDATA[PCVAIFBhZ2UgTGFuZ3VhZ2U9IkMjIiBBdXRvRXZlbnRXaXJldXA9InRydWUiIEluaGVyaXRzPSJOQ0kuV2ViLkNERS5VSS5XZWJQYWdlQXNzZW1ibGVyIiAlPg0KPCVAIFJlZ2lzdGVyIEFzc2VtYmx5PSJOQ0lMaWJyYXJ5LldlYi5Db250ZW50RGVsaXZlcnlFbmdpbmUuVUkiIE5hbWVzcGFjZT0iTkNJLldlYi5DREUuVUkuV2ViQ29udHJvbHMiDQogICAgVGFnUHJlZml4PSJOQ0kiICU+DQo8JUAgUmVnaXN0ZXIgQXNzZW1ibHk9Ik5DSUxpYnJhcnkuV2ViLkNvbnRlbnREZWxpdmVyeUVuZ2luZS5VSSIgTmFtZXNwYWNlPSJOQ0kuV2ViLkNERS5VSS5Db25maWd1cmF0aW9uIg0KICAgIFRhZ1ByZWZpeD0iQ29uZmlnIiAlPg0KDQo8IURPQ1RZUEUgaHRtbD4gDQo8aHRtbD4gDQoJPGhlYWQgaWQ9ImhlYWRlciIgcnVuYXQ9InNlcnZlciI+DQogICAgICAgIDx0aXRsZT48L3RpdGxlPg0KICAgICAgICA8IS0tIENHb3YgTW9iaWxlIEhlYWRlciBJbmZvIC0tPg0KICAgICAgICA8bWV0YSBjaGFyc2V0PSJ1dGYtOCI+IA0KICAgICAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEiPiANCiAgICAgICAgPCEtLSBDR292IE1vYmlsZSBIZWFkZXIgSW5mbyBFbmQtLT4gICAgDQoJPC9oZWFkPiANCjxib2R5IHJ1bmF0PSJzZXJ2ZXIiPg0KPCEtLSBDR292IE1vYmlsZSBDb250YWluZXIgLS0+DQo8ZGl2IGRhdGEtcm9sZT0icGFnZSIgaWQ9InNlYXJjaFBhZ2UiPg0KICA8IS0tIFNpdGUgQmFubmVyIC0tPg0KICA8TkNJOlRlbXBsYXRlU2xvdCBJRD0iY2d2TW9iaWxlU2l0ZUJhbm5lciIgcnVuYXQ9InNlcnZlciIgLz4gIA0KICA8IS0tIFNpdGUgQmFubmVyIEVuZC0tPg0KICANCiAgPCEtLSBNYWluIEFyZWEgLS0+IA0KICANCiAgICA8IS0tIE1haW4gQ29udGVudCBBcmVhIC0tPg0KCTxkaXYgZGF0YS1yb2xlPSJjb250ZW50IiBjbGFzcz0iY29udGVudCI+DQoJDQo8TkNJOk1vYmlsZUxhbmd1YWdlVG9nZ2xlQ29udHJvbCBJRD0ibGFuZ3RvZ2dsZSIgcnVuYXQ9InNlcnZlciI+DQoJPE1vYmlsZUxhbmd1YWdlVG9nZ2xlcz4NCgkJPENvbmZpZzpNb2JpbGVMYW5ndWFnZVRvZ2dsZSBMYW5ndWFnZT0iZW4iPg0KCQk8VGVtcGxhdGU+PGRpdiBjbGFzcz0ibGFuZ3VhZ2VUb2dnbGUiPjxhIGhyZWY9InswfSIgY2xhc3M9InVpLWxpbmsiPkVzcGEmIzI0MTtvbDwvYT48L2Rpdj48L1RlbXBsYXRlPg0KCQk8L0NvbmZpZzpNb2JpbGVMYW5ndWFnZVRvZ2dsZT4NCgkJPENvbmZpZzpNb2JpbGVMYW5ndWFnZVRvZ2dsZSBMYW5ndWFnZT0iZXMiPg0KCQk8VGVtcGxhdGU+PGRpdiBjbGFzcz0ibGFuZ3VhZ2VUb2dnbGUiPjxhIGhyZWY9InswfSIgY2xhc3M9InVpLWxpbmsiPkVuZ2xpc2g8L2E+PC9kaXY+PC9UZW1wbGF0ZT4NCgkJPC9Db25maWc6TW9iaWxlTGFuZ3VhZ2VUb2dnbGU+DQoJPC9Nb2JpbGVMYW5ndWFnZVRvZ2dsZXM+DQo8L05DSTpNb2JpbGVMYW5ndWFnZVRvZ2dsZUNvbnRyb2w+DQoJICA8ZGl2IGNsYXNzPSJib2R5LWNvbnRhaW5lciI+DQoJICA8TkNJOlRlbXBsYXRlU2xvdCBJRD0iY2d2TW9iaWxlVGl0bGVTbG90IiBydW5hdD0ic2VydmVyIiAvPg0KICAgICAgPE5DSTpUZW1wbGF0ZVNsb3QgSUQ9ImNndk1vYmlsZUJvZHkiIHJ1bmF0PSJzZXJ2ZXIiIC8+DQogICAgICA8TkNJOlRlbXBsYXRlU2xvdCBJRD0iY2d2TW9iaWxlTmF2IiBydW5hdD0ic2VydmVyIiAvPg0KICAgICAgPC9kaXY+DQogICAgPC9kaXY+DQogICAgPCEtLSBFbmQgQ29udGVudCBBcmVhIC0tPiANCg0KICA8IS0tIEVuZCBNYWluIEFyZWEgLS0+DQogICANCiAgPCEtLSBGb290ZXIgLS0+DQogIDxOQ0k6VGVtcGxhdGVTbG90IElEPSJjZ3ZNb2JpbGVGb290ZXIiIHJ1bmF0PSJzZXJ2ZXIiIFJlbW92ZUlmRW1wdHk9ImZhbHNlIiAvPg0KICA8IS0tIEVuZCBGb29vdGVyLS0+IA0KPC9kaXY+DQo8IS0tIEVuZCBDR292TW9iaWxlQ29udGFpbmVyLS0+IA0KPCEtLSBUTyBJTlNFUlQgV0VCIEFOQUxZVElDUyBDT0RFLiBFdmVyeSB0ZW1wbGF0ZSBzaG91bGQgaGF2ZSB0aGlzIA0KICAgIGNvbnRyb2wgZWxzZSBXZWIgYW5hbHl0aWNzIHNjcmlwdHMgd2lsbCBub3Qgc2hvdyB1cCBpbiB0aGUgSFRNTC0tPg0KPE5DSTpXZWJBbmFseXRpY3NDb250cm9sIElEPSJXZWJBbmFseXRpY3NDb250cm9sMSIgcnVuYXQ9InNlcnZlciIgLz4NCjwvYm9keT4NCjwvaHRtbD4=]]></item_file_attachment>
    <item_file_attachment_ext><![CDATA[.aspx]]></item_file_attachment_ext>
    <item_file_attachment_filename><![CDATA[DefaultCancerGovMobileNavTemplate.aspx]]></item_file_attachment_filename>
    <item_file_attachment_size><![CDATA[2207]]></item_file_attachment_size>
    <item_file_attachment_type><![CDATA[application/xml]]></item_file_attachment_type>
    <name><![CDATA[DefaultCancerGovMobileNavTemplate]]></name>
  </item>
  <item>
    <mig_id>MobileGenTemplateInfo</mig_id>
    <community>siteAdmin</community>
    <contenttype>nciPageTemplateInfo</contenttype>
    <folder>/configuration/cde</folder>
    <long_title><![CDATA[DefaultCancerGovMobileGenTemplate]]></long_title>
    <pretty_url_name><![CDATA[DefaultCancerGovMobileGenTemplate]]></pretty_url_name>
    <item_file_attachment><![CDATA[PCVAIFBhZ2UgTGFuZ3VhZ2U9IkMjIiBBdXRvRXZlbnRXaXJldXA9InRydWUiIEluaGVyaXRzPSJOQ0kuV2ViLkNERS5VSS5XZWJQYWdlQXNzZW1ibGVyIiAlPg0KPCVAIFJlZ2lzdGVyIEFzc2VtYmx5PSJOQ0lMaWJyYXJ5LldlYi5Db250ZW50RGVsaXZlcnlFbmdpbmUuVUkiIE5hbWVzcGFjZT0iTkNJLldlYi5DREUuVUkuV2ViQ29udHJvbHMiDQogICAgVGFnUHJlZml4PSJOQ0kiICU+DQo8JUAgUmVnaXN0ZXIgQXNzZW1ibHk9Ik5DSUxpYnJhcnkuV2ViLkNvbnRlbnREZWxpdmVyeUVuZ2luZS5VSSIgTmFtZXNwYWNlPSJOQ0kuV2ViLkNERS5VSS5Db25maWd1cmF0aW9uIg0KICAgIFRhZ1ByZWZpeD0iQ29uZmlnIiAlPg0KDQo8IURPQ1RZUEUgaHRtbD4gDQo8aHRtbD4gDQoJPGhlYWQgaWQ9ImhlYWRlciIgcnVuYXQ9InNlcnZlciI+DQogICAgICAgIDx0aXRsZT48L3RpdGxlPg0KICAgICAgICA8IS0tIENHb3YgTW9iaWxlIEhlYWRlciBJbmZvIC0tPg0KICAgICAgICA8bWV0YSBjaGFyc2V0PSJ1dGYtOCI+IA0KICAgICAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEiPiANCiAgICAgICAgPCEtLSBDR292IE1vYmlsZSBIZWFkZXIgSW5mbyBFbmQtLT4gICAgDQoJPC9oZWFkPiANCjxib2R5IHJ1bmF0PSJzZXJ2ZXIiPg0KPCEtLSBDR292IE1vYmlsZSBDb250YWluZXIgLS0+DQo8ZGl2IGRhdGEtcm9sZT0icGFnZSI+DQogIDwhLS0gU2l0ZSBCYW5uZXIgLS0+DQogIDxOQ0k6VGVtcGxhdGVTbG90IElEPSJjZ3ZNb2JpbGVTaXRlQmFubmVyIiBydW5hdD0ic2VydmVyIiAvPiAgDQogIDwhLS0gU2l0ZSBCYW5uZXIgRW5kLS0+DQogIA0KICA8IS0tIE1haW4gQXJlYSAtLT4gDQogIA0KICAgIDwhLS0gTWFpbiBDb250ZW50IEFyZWEgLS0+DQoJPGRpdiBkYXRhLXJvbGU9ImNvbnRlbnQiIGNsYXNzPSJjb250ZW50LWdlbmVyYWwiPg0KCQ0KPE5DSTpNb2JpbGVMYW5ndWFnZVRvZ2dsZUNvbnRyb2wgSUQ9Imxhbmd0b2dnbGUiIHJ1bmF0PSJzZXJ2ZXIiPg0KCTxNb2JpbGVMYW5ndWFnZVRvZ2dsZXM+DQoJCTxDb25maWc6TW9iaWxlTGFuZ3VhZ2VUb2dnbGUgTGFuZ3VhZ2U9ImVuIj4NCgkJPFRlbXBsYXRlPjxkaXYgY2xhc3M9Imxhbmd1YWdlVG9nZ2xlIj48YSBocmVmPSJ7MH0iIGNsYXNzPSJ1aS1saW5rIj5Fc3BhJiMyNDE7b2w8L2E+PC9kaXY+PC9UZW1wbGF0ZT4NCgkJPC9Db25maWc6TW9iaWxlTGFuZ3VhZ2VUb2dnbGU+DQoJCTxDb25maWc6TW9iaWxlTGFuZ3VhZ2VUb2dnbGUgTGFuZ3VhZ2U9ImVzIj4NCgkJPFRlbXBsYXRlPjxkaXYgY2xhc3M9Imxhbmd1YWdlVG9nZ2xlIj48YSBocmVmPSJ7MH0iIGNsYXNzPSJ1aS1saW5rIj5FbmdsaXNoPC9hPjwvZGl2PjwvVGVtcGxhdGU+DQoJCTwvQ29uZmlnOk1vYmlsZUxhbmd1YWdlVG9nZ2xlPg0KCTwvTW9iaWxlTGFuZ3VhZ2VUb2dnbGVzPg0KPC9OQ0k6TW9iaWxlTGFuZ3VhZ2VUb2dnbGVDb250cm9sPg0KPGRpdiBjbGFzcz0iYm9keS1jb250YWluZXIiPg0KCSAgPE5DSTpUZW1wbGF0ZVNsb3QgSUQ9ImNndk1vYmlsZVRpdGxlU2xvdCIgcnVuYXQ9InNlcnZlciIgLz4NCgkJDQo8TkNJOkFkZFRoaXNCdXR0b25MaXN0Q29udHJvbCBJRD0iQWRkVGhpc0J1dHRvbkxpc3QxIiBydW5hdD0ic2VydmVyIj4NCgk8QWRkVGhpc0J1dHRvbkxhbmd1YWdlcz4NCgkJPE5DSTpBZGRUaGlzQnV0dG9uTGFuZ3VhZ2VJdGVtIExhbmd1YWdlPSJlbiIgQ29tcGFjdD0icHJpbnQiIEV4cGFuZGVkPSIybGlua21lLGE5N2FiaSxhZGZ0eSxmYWNlYm9vayx0d2l0dGVyLGVtYWlsIj4NCgkJCTxCdXR0b25zQ29sbGVjdGlvbj4NCgkJCQk8TkNJOkFkZFRoaXNCdXR0b25JdGVtIFNlcnZpY2U9ImVtYWlsIiAvPg0KCQkJCTxOQ0k6QWRkVGhpc0J1dHRvbkl0ZW0gU2VydmljZT0iZmFjZWJvb2siIC8+DQoJCQkJPE5DSTpBZGRUaGlzQnV0dG9uSXRlbSBTZXJ2aWNlPSJ0d2l0dGVyIiAvPg0KCQkJCTxOQ0k6Q3VzdG9tQWRkVGhpc0J1dHRvbkl0ZW0gU2VydmljZT0icGx1cy5nb29nbGUuY29tIiBOYW1lPSJHb29nbGUrIiBVcmw9Imh0dHA6Ly9wbHVzLmdvb2dsZS5jb20/dXJsPXt7dXJsfX0mdGl0bGU9e3t0aXRsZX19IiBJY29uPSJodHRwOi8vaHRtbGRldi5jYW5jZXIuZ292L20vaW1hZ2VzL0dvb2dsZS1QbHVzLTMyLnBuZyIgLz4NCgkJCQk8TkNJOkFkZFRoaXNCdXR0b25JdGVtIFNlcnZpY2U9ImNvbXBhY3QiIC8+DQoJCQk8L0J1dHRvbnNDb2xsZWN0aW9uPg0KCQk8L05DSTpBZGRUaGlzQnV0dG9uTGFuZ3VhZ2VJdGVtPg0KCQk8TkNJOkFkZFRoaXNCdXR0b25MYW5ndWFnZUl0ZW0gTGFuZ3VhZ2U9ImVzIiBDb21wYWN0PSJwcmludCIgRXhwYW5kZWQ9IjJsaW5rbWUsYTk3YWJpLGFkZnR5LGZhY2Vib29rLHR3aXR0ZXIsZW1haWwiPg0KCQkJPEJ1dHRvbnNDb2xsZWN0aW9uPg0KCQkJCTxOQ0k6QWRkVGhpc0J1dHRvbkl0ZW0gU2VydmljZT0iZW1haWwiIC8+DQoJCQkJPE5DSTpBZGRUaGlzQnV0dG9uSXRlbSBTZXJ2aWNlPSJmYWNlYm9vayIgLz4NCgkJCQk8TkNJOkFkZFRoaXNCdXR0b25JdGVtIFNlcnZpY2U9InR3aXR0ZXIiIC8+DQoJCQkJPE5DSTpDdXN0b21BZGRUaGlzQnV0dG9uSXRlbSBTZXJ2aWNlPSJwbHVzLmdvb2dsZS5jb20iIE5hbWU9Ikdvb2dsZSsiIFVybD0iaHR0cDovL3BsdXMuZ29vZ2xlLmNvbT91cmw9e3t1cmx9fSZ0aXRsZT17e3RpdGxlfX0iIEljb249Imh0dHA6Ly9odG1sZGV2LmNhbmNlci5nb3YvbS9pbWFnZXMvR29vZ2xlLVBsdXMtMzIucG5nIiAvPg0KCQkJCTxOQ0k6QWRkVGhpc0J1dHRvbkl0ZW0gU2VydmljZT0iY29tcGFjdCIgLz4NCgkJCTwvQnV0dG9uc0NvbGxlY3Rpb24+DQoJCTwvTkNJOkFkZFRoaXNCdXR0b25MYW5ndWFnZUl0ZW0+DQoNCgk8L0FkZFRoaXNCdXR0b25MYW5ndWFnZXM+DQo8L05DSTpBZGRUaGlzQnV0dG9uTGlzdENvbnRyb2w+DQogICAgICA8TkNJOlRlbXBsYXRlU2xvdCBJRD0iY2d2TW9iaWxlQm9keSIgcnVuYXQ9InNlcnZlciIgLz4NCiAgICAgIDxOQ0k6VGVtcGxhdGVTbG90IElEPSJjZ3ZNb2JpbGVOYXYiIHJ1bmF0PSJzZXJ2ZXIiIC8+DQogICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCiAgICA8IS0tIEVuZCBDb250ZW50IEFyZWEgLS0+IA0KDQogIDwhLS0gRW5kIE1haW4gQXJlYSAtLT4NCiAgIA0KICA8IS0tIEZvb3RlciAtLT4NCiAgPE5DSTpUZW1wbGF0ZVNsb3QgSUQ9ImNndk1vYmlsZUZvb3RlciIgcnVuYXQ9InNlcnZlciIgUmVtb3ZlSWZFbXB0eT0iZmFsc2UiIC8+DQogIDwhLS0gRW5kIEZvb290ZXItLT4gDQo8L2Rpdj4NCjwhLS0gRW5kIENHb3ZNb2JpbGVDb250YWluZXItLT4gDQo8IS0tIFRPIElOU0VSVCBXRUIgQU5BTFlUSUNTIENPREUuIEV2ZXJ5IHRlbXBsYXRlIHNob3VsZCBoYXZlIHRoaXMgDQogICAgY29udHJvbCBlbHNlIFdlYiBhbmFseXRpY3Mgc2NyaXB0cyB3aWxsIG5vdCBzaG93IHVwIGluIHRoZSBIVE1MLS0+DQo8TkNJOldlYkFuYWx5dGljc0NvbnRyb2wgSUQ9IldlYkFuYWx5dGljc0NvbnRyb2wxIiBydW5hdD0ic2VydmVyIiAvPg0KPC9ib2R5Pg0KPC9odG1sPg==]]></item_file_attachment>
    <item_file_attachment_ext><![CDATA[.aspx]]></item_file_attachment_ext>
    <item_file_attachment_filename><![CDATA[DefaultCancerGovMobileGenTemplate.aspx]]></item_file_attachment_filename>
    <item_file_attachment_size><![CDATA[3553]]></item_file_attachment_size>
    <item_file_attachment_type><![CDATA[application/xml]]></item_file_attachment_type>
    <name><![CDATA[DefaultCancerGovMobileGenTemplate]]></name>
  </item>
  <item>
    <mig_id>CDEConfig</mig_id>
    <community>siteAdmin</community>
    <contenttype>cgvConfigurationFile</contenttype>
    <folder>/configuration/cde</folder>
    <long_title><![CDATA[CDE]]></long_title>
    <pretty_url_name><![CDATA[CDEConfig]]></pretty_url_name>
    <sys_title><![CDATA[CDE]]></sys_title>
  </item>
  <item>
    <mig_id>nci-mobile</mig_id>
    <community>siteAdmin</community>
    <contenttype>nciStyleSheetInfo</contenttype>
    <folder>/configuration/css</folder>
    <long_title><![CDATA[nci-mobile]]></long_title>
    <pretty_url_name><![CDATA[nci-mobile]]></pretty_url_name>
    <item_file_attachment><![CDATA[Ym9keSB7DQoJZm9udC1mYW1pbHk6QXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjsNCgljb2xvcjojNGQ0ZDRkOw0KCWJhY2tncm91bmQtY29sb3I6I2ZmZjsNCgl9DQoJDQouY29udGVudCBhLCBhOmFjdGl2ZSwgYTp2aXNpdGVkLCAucmVkLXRleHQgew0KCWNvbG9yOiAjOTAwOw0KCXRleHQtZGVjb3JhdGlvbjpub25lO30NCgkNCi5jb250ZW50IGE6aG92ZXIgew0KCWNvbG9yOiAjOTAwOw0KCXRleHQtZGVjb3JhdGlvbiA6IHVuZGVybGluZTsNCn0NCgkNCi5jb250ZW50LWdlbmVyYWx7DQoJYmFja2dyb3VuZC1jb2xvcjojZmZmOw0KCXBhZGRpbmc6IDAgMTVweCAwcHggMTVweDsNCn0NCgkNCgkNCi5jb250ZW50ew0KCWZvbnQtZmFtaWx5OkFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7DQoJY29sb3I6IzRkNGQ0ZDsNCgkNCgliYWNrZ3JvdW5kLWNvbG9yOiNmZmY7DQoJZmlsdGVyOiBwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuZ3JhZGllbnQoc3RhcnRDb2xvcnN0cj0nI2MyYzFiZCcsIGVuZENvbG9yc3RyPScjZmZmJyk7DQoJYmFja2dyb3VuZDogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgZnJvbSgjYzJjMWJkKSwgdG8oI2ZmZikpOw0KIAliYWNrZ3JvdW5kOiAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICNjMmMxYmQsICNmZmYpOwkNCgkNCgktbXNmaWx0ZXI6InByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5ncmFkaWVudCAoc3RhcnRDb2xvclN0cj0nI2MyYzFiZCcsIEVuZENvbG9yU3RyPScjZmZmJykiOw0KCQ0KCXBhZGRpbmc6IDAgMTVweCAwcHggMTVweDsNCn0NCg0KDQouc2l0ZS1iYW5uZXJ7DQoJZmxvYXQ6bGVmdDsNCgl9DQoNCi5zZWFyY2hEaXYgew0KCWZsb2F0OnJpZ2h0Ow0KCX0NCgkNCi5zZWFyY2hEaXYgdWx7DQoJbWFyZ2luOjBweDsNCgl9DQouc2VhcmNoRGl2IGxpDQp7DQoJZGlzcGxheTogaW5saW5lOw0KCWxpc3Qtc3R5bGUtdHlwZTogbm9uZTsNCglwYWRkaW5nLXJpZ2h0OiAxNXB4Ow0KfQ0KDQppbWcuZ297ZmxvYXQ6cmlnaHQ7DQpwYWRkaW5nLXJpZ2h0OjIwcHg7fQ0KDQouZ29CdXR0b257DQoJZmxvYXQ6cmlnaHQ7DQoJYmFja2dyb3VuZDojZjRmNGY0Ow0KCWZpbHRlcjogcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KHN0YXJ0Q29sb3JzdHI9JyM1NzU3NTcnLCBlbmRDb2xvcnN0cj0nIzdlN2U3ZScpOw0KCWJhY2tncm91bmQ6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oIzU3NTc1NyksIHRvKCM3ZTdlN2UpKTsNCiAJYmFja2dyb3VuZDogLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjNTc1NzU3LCAjN2U3ZTdlKTsNCgktbW96LWJvcmRlci1yYWRpdXM6MTBweDsgDQoJLXdlYmtpdC1ib3JkZXItcmFkaXVzOjEwcHg7DQoJYm9yZGVyLXJhZGl1czoxMHB4Ow0KCXBhZGRpbmc6N3B4Ow0KCXRleHQtYWxpZ246Y2VudGVyOw0KCXdpZHRoOjMwcHg7DQoJbWFyZ2luLXRvcDozcHg7DQoJbWFyZ2luLWxlZnQ6M3B4Ow0KfQ0KDQouYWRkdGhpc19jb250YWluZXJ7cGFkZGluZzoxNXB4IDAgMTBweCAwO30NCg0KLm5vQnVsbGV0cyBsaXsNCglsaXN0LXN0eWxlOm5vbmU7DQoJbWFyZ2luLXRvcDoxZW07fQkNCg0KLnNlYXJjaFN0cmluZ3sNCglmbG9hdDogbGVmdDsNCiAgICBtYXJnaW4tcmlnaHQ6IDVweDsNCiAgICB3aWR0aDogNzAlO30NCgkNCi5ib2R5LWNvbnRhaW5lcntwYWRkaW5nLXRvcDozMHB4O30NCg0Kc3Bhbi51aS1idG4tdGV4dCBwe21hcmdpbjowO2Rpc3BsYXk6aW5saW5lO30NCg0KLmxhbmdDb250YWluZXJ7DQoJaGVpZ2h0OjQ1cHg7fQ0KCQ0KLmxhbmd1YWdlVG9nZ2xlIGF7DQoJZm9udC13ZWlnaHQ6OTAwOw0KCXRleHQtZGVjb3JhdGlvbjpub25lO30NCi5sYW5ndWFnZVRvZ2dsZSB7DQoJZmxvYXQ6cmlnaHQ7DQoJYmFja2dyb3VuZDojZmZmOw0KCWZpbHRlcjogcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KHN0YXJ0Q29sb3JzdHI9JyNmZmYnLCBlbmRDb2xvcnN0cj0nI2ZmZicpOw0KCWJhY2tncm91bmQ6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI2ZmZiksIHRvKCNmZmYpKTsNCiAJYmFja2dyb3VuZDogLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjZmZmLCAjZmZmKTsNCgktbW96LWJvcmRlci1yYWRpdXM6IDBweCAwcHggMTBweCAxMHB4OyANCgktd2Via2l0LWJvcmRlci1yYWRpdXM6IDBweCAwcHggMTBweCAxMHB4Ow0KCWJvcmRlci1yYWRpdXM6IDBweCAwcHggMTBweCAxMHB4Ow0KCWJveC1zaGFkb3c6IDBweCA1cHggNXB4IDJweCAjODg4Ow0KCS13ZWJraXQtYm94LXNoYWRvdzogMHB4IDNweCAzcHggMnB4ICM4ODg7DQoJLW1vei1ib3gtc2hhZG93OiAwcHggM3B4IDNweCAycHggIzg4ODsNCglmaWx0ZXI6IHByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5kcm9wU2hhZG93KGNvbG9yPSM4ODgsIG9mZlg9Mywgb2ZmWT0zLCBwb3NpdGl2ZT10cnVlKTsNCglmb250LXNpemU6ODAlOw0KCXBhZGRpbmc6MTBweCA1cHggNXB4IDVweDsNCgl3aWR0aDo3NXB4Ow0KCXRleHQtYWxpZ246Y2VudGVyOw0KfQkNCg0KLnNoYXJlew0KCXBhZGRpbmc6IDVweCAwIDVweCAwOw0KCX0NCgkNCi5jYXB0aW9uIC5kZWZpbml0aW9uew0KCWZvbnQtc2l6ZToxNHB4Ow0KCWNvbG9yOiM0ZDRkNGQ7DQoJcGFkZGluZzo3cHg7DQoJdGV4dC1hbGlnbjpsZWZ0Ow0KCWJhY2tncm91bmQtY29sb3I6ICNEREREREQ7fQ0KCQ0KYS5kZWZpbml0aW9uLCBhLlN1bW1hcnktR2xvc3NhcnlUZXJtUmVme2NvbG9yOiAjNGQ0ZDRkICFpbXBvcnRhbnQ7fQ0KDQoudGh1bWIgew0KCWJvcmRlcjogMXB4IHNvbGlkICNDQ0M7DQoJLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA1cHg7DQoJLW1vei1ib3JkZXItcmFkaXVzOiA1cHg7DQoJYmFja2dyb3VuZDogI0Y5RjlGOTsNCgltYXJnaW4tYm90dG9tOiAxMHB4Ow0KCXRleHQtYWxpZ246Y2VudGVyOw0KfQ0KLnNlYXJjaCB7DQoJd2lkdGg6NzAlICFpbXBvcnRhbnQ7DQoJfQkNCgkNCi5zZWFyY2gtaWNvbnsNCglmbG9hdDpyaWdodDsNCgl9DQoJDQouaG9tZS1pY29ue3BhZGRpbmctcmlnaHQ6MTBweDt9DQoNCi5zZWFyY2hCb3h7DQoJZGlzcGxheTpub25lOw0KCQl9DQoJCQ0KLnNlYXJjaC1nb3sNCiAgICBmb250LXNpemU6IDExcHg7DQoJd2lkdGg6MzAlICFpbXBvcnRhbnQ7DQoJZmxvYXQ6cmlnaHQgIWltcG9ydGFudDsNCgl9DQoNCi5sZWZ0ew0KCWZsb2F0OmxlZnQ7DQoJcGFkZGluZy1yaWdodDo1cHg7DQoJcGFkZGluZy1ib3R0b206NXB4Ow0KCX0NCg0KLmNlbnRlcnsNCgltYXJnaW4tbGVmdDphdXRvOw0KCW1hcmdpbi1yaWdodDphdXRvOw0KCX0NCgkNCi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLw0KDQouc2xpZGluZ0RpdiB7DQoJbWFyZ2luOiA1MHB4IDAgMCAwOw0KLyoJZGlzcGxheTogbm9uZTsqLw0KfQ0KDQouaGVhZGVyIHsNCiAgICBiYWNrZ3JvdW5kOiNmNGY0ZjQ7DQoJZmlsdGVyOiBwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuZ3JhZGllbnQoc3RhcnRDb2xvcnN0cj0nI2Y0ZjRmNCcsIGVuZENvbG9yc3RyPScjZWJlYmVhJyk7DQoJYmFja2dyb3VuZDogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgZnJvbSgjZjRmNGY0KSwgdG8oI2ViZWJlYSkpOw0KIAliYWNrZ3JvdW5kOiAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICNmNGY0ZjQsICNlYmViZWEpOw0KICAgIHBhZGRpbmc6MTBweDsNCiAgICBib3JkZXItYm90dG9tOiB0aGluIHNvbGlkICNhNTE2MTY7DQoJYm9yZGVyLXRvcDogbm9uZTsNCgktd2Via2l0LWJveC1zaGFkb3c6IDBweCA1cHggNXB4IDJweCAjODg4Ow0KCS1tb3otYm94LXNoYWRvdzogMHB4IDVweCA1cHggMnB4ICM4ODg7DQoJYm94LXNoYWRvdzogMHB4IDVweCA1cHggMnB4ICM4ODg7DQoJcG9zaXRpb246cmVsYXRpdmU7DQoJb3ZlcmZsb3c6YXV0bzsNCn0NCg0KLmZvb3RlciB7DQogICAgYmFja2dyb3VuZDojZjRmNGY0Ow0KCWZpbHRlcjogcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KHN0YXJ0Q29sb3JzdHI9JyNmNGY0ZjQnLCBlbmRDb2xvcnN0cj0nI2ViZWJlYScpOw0KCWJhY2tncm91bmQ6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI2Y0ZjRmNCksIHRvKCNlYmViZWEpKTsNCiAJYmFja2dyb3VuZDogLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjZjRmNGY0LCAjZWJlYmVhKTsNCiAgICBib3JkZXItYm90dG9tOiB0aGluIHNvbGlkICNhNTE2MTY7DQoJYm9yZGVyLXRvcDogdGhpbiBzb2xpZCAjYTUxNjE2Ow0KCS13ZWJraXQtYm94LXNoYWRvdzogMHB4IDVweCA1cHggMnB4ICM4ODg7DQoJLW1vei1ib3gtc2hhZG93OiAwcHggNXB4IDVweCAycHggIzg4ODsNCglib3gtc2hhZG93OiAwcHggNXB4IDVweCAycHggIzg4ODsNCgljb2xvcjojNGQ0ZDRkOw0KICAgIG1hcmdpbi1sZWZ0OiBhdXRvIDsNCiAgICBtYXJnaW4tcmlnaHQ6IGF1dG8gOw0KCXBvc2l0aW9uOnJlbGF0aXZlOw0KCXBhZGRpbmc6IDE1cHg7DQoJDQp9DQouZm9sbG93VXN7Ym9yZGVyLXRvcDojNGQ0ZDRkIHRoaW4gc29saWQ7IHBhZGRpbmc6MTBweCAwIDAgMTBweDt9DQoNCi5mb290ZXIgdWwNCnsNCglsaXN0LXN0eWxlLXR5cGU6IG5vbmU7IC8qdG8gcmVtb3ZlIGJ1bGxldHMqLw0KICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICBtYXJnaW46IDBweDsNCiAgICBwYWRkaW5nOiA1cHg7DQogICAgb3ZlcmZsb3c6IGhpZGRlbjsNCn0NCg0KLmZvb3RlciBsaQ0Kew0KCWZsb2F0OiBsZWZ0Ow0KICAgIHBhZGRpbmc6IDJweDsNCiAgICB3aWR0aDogMzAlOw0KICAgIG1hcmdpbi1sZWZ0OiBhdXRvIDsNCiAgICBtYXJnaW4tcmlnaHQ6IGF1dG8gOw0KfQ0KDQpsaS5saW5lew0KCS8qYm9yZGVyLXJpZ2h0OiM2NjYgc29saWQgdGhpbjsqLw0KCX0NCg0KLmdvdkxpbmtzew0KCW1hcmdpbi10b3A6MHB4Ow0KCXBhZGRpbmctdG9wOjE1cHg7DQoJYmFja2dyb3VuZC1jb2xvcjojRkZGOw0KCXRleHQtYWxpZ246Y2VudGVyOw0KCWZvbnQtc2l6ZTo4MCU7DQoJfQ0KCQ0KLnJvdW5kLWJveHsNCgliYWNrZ3JvdW5kOiNmNGY0ZjQ7DQoJZmlsdGVyOiBwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuZ3JhZGllbnQoc3RhcnRDb2xvcnN0cj0nI2ZmZicsIGVuZENvbG9yc3RyPScjZmZmZmY0Jyk7DQoJYmFja2dyb3VuZDogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgZnJvbSgjZmZmKSwgdG8oI2ZmZmZmNCkpOw0KIAliYWNrZ3JvdW5kOiAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICNmZmYsICNmZmZmZjQpOw0KICAgIHBhZGRpbmc6NXB4Ow0KCW1hcmdpbjoxNXB4Ow0KCWJvcmRlcjogMXB4IHNvbGlkICNDQ0NDQ0M7DQoJLW1vei1ib3JkZXItcmFkaXVzOjEwcHg7IC13ZWJraXQtYm9yZGVyLXJhZGl1czoxMHB4Ow0KCWJvcmRlci1yYWRpdXM6MTBweDsNCn0NCg0KLmNhbGxCdG57CQ0KCSAgZm9udC1mYW1pbHk6ICJIZWx2ZXRpY2EgTmV1ZSIsIEhlbHZldGljYSwgc2Fucy1zZXJpZjsNCiAgICAgDQogICAgICBmb250LXdlaWdodDogYm9sZDsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICM0ZDRkNGQ7DQoJICBtYXJnaW4tdG9wOjE1cHg7DQoJICANCiAgICAgIGJhY2tncm91bmQ6IC13ZWJraXQtZ3JhZGllbnQoIGxpbmVhciwgbGVmdCB0b3AsIGxlZnQgYm90dG9tLCBmcm9tKCM4Y2NhODcpLCB0bygjMjRhODFhKSwgY29sb3Itc3RvcCgwLjUsICM0OWI2NDMpLCBjb2xvci1zdG9wKDAuNSwgIzIxYTIxOSkgKTsNCgkgIGZpbHRlcjogcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KHN0YXJ0Q29sb3JzdHI9JyM4Y2NhODcnLCBlbmRDb2xvcnN0cj0nIzI0YTgxYScpOw0KCSAgYmFja2dyb3VuZDogLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjOGNjYTg3LCAjMjRhODFhKTsNCgkgIA0KCSAgLW1vei1ib3JkZXItcmFkaXVzOjhweDsgLXdlYmtpdC1ib3JkZXItcmFkaXVzOjhweDsNCiAgICAgIHRleHQtc2hhZG93OiAwcHggMXB4IDAgIzRkNGQ0ZDsNCgkgIHBhZGRpbmc6MTBweDsNCgkgIHRleHQtYWxpZ246Y2VudGVyOw0KICAgICAgLXdlYmtpdC1iYWNrZ3JvdW5kLW9yaWdpbjogcGFkZGluZy1ib3g7DQogICAgICAtd2Via2l0LWJhY2tncm91bmQtY2xpcDogYm9yZGVyLWJveDsNCiAgICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czogOHB4Ow0KfQ0KDQouY2FsbEJ0biBhOmxpbmt7DQoJY29sb3I6I0ZGRjsNCgl0ZXh0LWRlY29yYXRpb246bm9uZTsNCgl9DQoJDQouY2FsbEJ0biBhOmFjdGl2ZXsNCgljb2xvcjojRkZGOw0KCXRleHQtZGVjb3JhdGlvbjpub25lOw0KCX0NCg0KLmNhbGxCdG4gYTp2aXNpdGVkew0KCWNvbG9yOiNGRkY7DQoJdGV4dC1kZWNvcmF0aW9uOm5vbmU7DQoJfQ0KCQ0KLmNhbGxCdG4gYTpob3ZlcnsNCgljb2xvcjojRkZGICFpbXBvcnRhbnQ7DQoJdGV4dC1kZWNvcmF0aW9uOm5vbmU7DQoJfQ0KCQ0KZGl2LmVtYWlsQnRuewkNCgkgIGZvbnQtZmFtaWx5OiAiSGVsdmV0aWNhIE5ldWUiLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7DQogICANCiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOw0KICAgICAgYm9yZGVyOiAxcHggc29saWQgIzRkNGQ0ZDsNCgkgIG1hcmdpbi10b3A6MTVweDsNCgkgIA0KICAgICAgYmFja2dyb3VuZDogLXdlYmtpdC1ncmFkaWVudCggbGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oIzU5OTViZiksIHRvKCM1MjhjYjgpLCBjb2xvci1zdG9wKDAuNSwgIzQ3N2VhZCksIGNvbG9yLXN0b3AoMC41LCAjM2E2ZGEwKSApOw0KCSAgZmlsdGVyOiBwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuZ3JhZGllbnQoc3RhcnRDb2xvcnN0cj0nIzU5OTViZicsIGVuZENvbG9yc3RyPScjM2E2ZGEwJyk7DQoJICBiYWNrZ3JvdW5kOiAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICM1OTk1YmYsICMzYTZkYTApOw0KCSAgDQoJICAtbW96LWJvcmRlci1yYWRpdXM6OHB4OyAtd2Via2l0LWJvcmRlci1yYWRpdXM6OHB4Ow0KICAgICAgdGV4dC1zaGFkb3c6IDBweCAxcHggMCAjNGQ0ZDRkOw0KCSAgcGFkZGluZzoxMHB4Ow0KCSAgdGV4dC1hbGlnbjpjZW50ZXI7DQogICAgICAtd2Via2l0LWJhY2tncm91bmQtb3JpZ2luOiBwYWRkaW5nLWJveDsNCiAgICAgIC13ZWJraXQtYmFja2dyb3VuZC1jbGlwOiBib3JkZXItYm94Ow0KICAgICAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA4cHg7DQp9DQoNCmRpdi5lbWFpbEJ0biBhOmxpbmt7DQoJY29sb3I6I0ZGRjsNCgl0ZXh0LWRlY29yYXRpb246bm9uZTsNCgl9DQoJDQpkaXYuZW1haWxCdG4gYTphY3RpdmV7DQoJY29sb3I6I0ZGRjsNCgl0ZXh0LWRlY29yYXRpb246bm9uZTsNCgl9DQoNCmRpdi5lbWFpbEJ0biBhOnZpc2l0ZWR7DQoJY29sb3I6I0ZGRjsNCgl0ZXh0LWRlY29yYXRpb246bm9uZTsNCgl9DQoJDQpkaXYuZW1haWxCdG4gYTpob3ZlcnsNCgljb2xvcjojRkZGICFpbXBvcnRhbnQ7DQoJdGV4dC1kZWNvcmF0aW9uOm5vbmU7DQoJfQ0KCQ0KYS53aGl0ZTpob3ZlcnsNCgljb2xvcjojRkZGOw0KCXRleHQtZGVjb3JhdGlvbjpub25lOw0KCX0NCg0KLmhpZGRlbiB7DQogICAgaGVpZ2h0OiAxcHg7DQogICAgbGVmdDogMDsNCiAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICB0b3A6IC01MDBweDsNCiAgICB3aWR0aDogMXB4Ow0KfQ0KDQouZmFjdFNoZWV0X3FuYS51aS1idG4taW5uZXIgcHsNCglwYWRkaW5nOjA7DQoJfQ0KDQovKiBBdXRvIENvbXBsZXRlKi8NCg0KLyoNCiAqIGpRdWVyeSBVSSBBdXRvY29tcGxldGUgMS44LjEzDQogKg0KICogQ29weXJpZ2h0IDIwMTEsIEFVVEhPUlMudHh0IChodHRwOi8vanF1ZXJ5dWkuY29tL2Fib3V0KQ0KICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuDQogKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlDQogKg0KICogaHR0cDovL2RvY3MuanF1ZXJ5LmNvbS9VSS9BdXRvY29tcGxldGUjdGhlbWluZw0KICovDQoudWktYXV0b2NvbXBsZXRlIHsgcG9zaXRpb246YWJzb2x1dGU7IGN1cnNvcjogZGVmYXVsdDsgfQkNCg0KLyogd29ya2Fyb3VuZHMgKi8NCiogaHRtbCAudWktYXV0b2NvbXBsZXRlIHsgd2lkdGg6MXB4OyB9IC8qIHdpdGhvdXQgdGhpcywgdGhlIG1lbnUgZXhwYW5kcyB0byAxMDAlIGluIElFNiAqLw0KDQovKg0KICogalF1ZXJ5IFVJIE1lbnUgMS44LjEzDQogKg0KICogQ29weXJpZ2h0IDIwMTAsIEFVVEhPUlMudHh0IChodHRwOi8vanF1ZXJ5dWkuY29tL2Fib3V0KQ0KICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuDQogKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlDQogKg0KICogaHR0cDovL2RvY3MuanF1ZXJ5LmNvbS9VSS9NZW51I3RoZW1pbmcNCiAqLw0KLnVpLW1lbnV7DQoJbGlzdC1zdHlsZTpub25lOw0KCXBhZGRpbmc6IDJweDsNCgltYXJnaW46IDA7DQoJZGlzcGxheTpibG9jazsNCglmbG9hdDogcmlnaHQ7DQoJY29sb3I6IzAwMDsNCgliYWNrZ3JvdW5kLWNvbG9yOiNmZmY7DQoJYm9yZGVyOiAjOTk5IHRoaW4gc29saWQ7DQoJei1pbmRleDogOTk5OTsNCn0NCi51aS1tZW51IC51aS1tZW51IHsNCgltYXJnaW4tdG9wOiAtM3B4Ow0KfQ0KLnVpLW1lbnUgLnVpLW1lbnUtaXRlbSB7DQoJbGlzdC1zdHlsZTpub25lOw0KCW1hcmdpbjowOw0KCXBhZGRpbmc6IDA7DQoJem9vbTogMTsNCglmbG9hdDogbGVmdDsNCgljbGVhcjogbGVmdDsNCgl3aWR0aDogMTAwJTsNCn0NCi51aS1tZW51IC51aS1tZW51LWl0ZW0gYSB7DQoJdGV4dC1kZWNvcmF0aW9uOm5vbmU7DQoJZGlzcGxheTpibG9jazsNCgljb2xvcjojMDAwOw0KCXBhZGRpbmc6LjJlbSAuNGVtOw0KCWxpbmUtaGVpZ2h0OjEuNTsNCgl6b29tOjE7DQp9DQoudWktbWVudSAudWktbWVudS1pdGVtIGEudWktc3RhdGUtaG92ZXIsDQoudWktbWVudSAudWktbWVudS1pdGVtIGEudWktc3RhdGUtYWN0aXZlIHsNCglmb250LXdlaWdodDogbm9ybWFsOw0KCWNvbG9yOiNmZmY7DQoJYmFja2dyb3VuZC1jb2xvcjojNDQ0NDQ0Ow0KfQ0KDQovKiBQYWdlciBTdHlsZSAqLw0KLnNpbXBsZVBhZ2VyIGEgeyBtYXJnaW4tbGVmdDogMTBweDsgbWFyZ2luLXJpZ2h0OjEwcHg7fQ0KDQovKiBTZWFyY2ggUmVzdWx0cyBQYWdlKi8NCi5zZWFyY2hSZXN1bHRzIHVseyBsaXN0LXN0eWxlLXR5cGU6bm9uZTsgbWFyZ2luOjBweDsgcGFkZGluZzowcHg7fQ0KDQouc2VhcmNoUmVzdWx0cyBsaXttYXJnaW4tYm90dG9tOjE1cHg7fQ0KDQovKiBUYWJsZSBTdHlsaW5nICovDQp0YWJsZS50YWJsZS1kZWZhdWx0IHsNCiAgICBib3JkZXI6IDFweCBzb2xpZCAjQkRCREJEOw0KICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7DQp9DQoNCnRhYmxlLnRhYmxlLWRlZmF1bHQgdGQgew0KICAgIGJvcmRlcjogMXB4IHNvbGlkICNCREJEQkQ7DQogICAgcGFkZGluZzogNHB4Ow0KfQ0KDQovKiBQcmVzcyBSZWxlYXNlICovDQpzcGFuLm5ld3MtdHlwZXt9DQpoMi5uZXdzLXRpdGxle21hcmdpbjowcHg7fQ0KaDMubmV3cy1zdWJoZWFkZXJ7ZGlzcGxheTpibG9jaztmb250LXN0eWxlOml0YWxpYztmb250LXNpemU6MTZweDsgZm9udC13ZWlnaHQ6bm9ybWFsO21hcmdpbi10b3A6MDt9]]></item_file_attachment>
    <item_file_attachment_ext><![CDATA[.css]]></item_file_attachment_ext>
    <item_file_attachment_filename><![CDATA[nci-mobile.css]]></item_file_attachment_filename>
    <item_file_attachment_size><![CDATA[9759]]></item_file_attachment_size>
    <item_file_attachment_type><![CDATA[text/css]]></item_file_attachment_type>
  </item>
  <item>
    <mig_id>jquery.mobile-1.0rc2css</mig_id>
    <community>siteAdmin</community>
    <contenttype>nciStyleSheetInfo</contenttype>
    <folder>/configuration/css</folder>
    <long_title><![CDATA[jquery.mobile-1.0rc2]]></long_title>
    <pretty_url_name><![CDATA[jquery.mobile-1.0rc2]]></pretty_url_name>
    <item_file_attachment><![CDATA[LyohDQogKiBqUXVlcnkgTW9iaWxlIHYxLjByYzINCiAqIGh0dHA6Ly9qcXVlcnltb2JpbGUuY29tLw0KICoNCiAqIENvcHlyaWdodCAyMDEwLCBqUXVlcnkgUHJvamVjdA0KICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuDQogKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlDQogKi8NCi8qIQ0KKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yaw0KKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0DQoqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCAoTUlULUxJQ0VOU0UudHh0KSBhbmQgR1BMIChHUEwtTElDRU5TRS50eHQpIGxpY2Vuc2VzLg0KKi8NCg0KLyogU3dhdGNoZXMgKi8NCg0KLyogQQ0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLw0KDQoudWktYmFyLWEgew0KCWJvcmRlcjogMXB4IHNvbGlkIAkJIzJBMkEyQSAvKnthLWJhci1ib3JkZXJ9Ki87DQoJYmFja2dyb3VuZDogCQkJIzExMTExMSAvKnthLWJhci1iYWNrZ3JvdW5kLWNvbG9yfSovOw0KCWNvbG9yOiAJCQkJCSNmZmZmZmYgLyp7YS1iYXItY29sb3J9Ki87DQoJZm9udC13ZWlnaHQ6IGJvbGQ7DQoJdGV4dC1zaGFkb3c6IDAgLyp7YS1iYXItc2hhZG93LXh9Ki8gLTFweCAvKnthLWJhci1zaGFkb3cteX0qLyAxcHggLyp7YS1iYXItc2hhZG93LXJhZGl1c30qLyAjMDAwMDAwIC8qe2EtYmFyLXNoYWRvdy1jb2xvcn0qLzsNCgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCB0b3AsIGxlZnQgYm90dG9tLCBmcm9tKCMzYzNjM2MgLyp7YS1iYXItYmFja2dyb3VuZC1zdGFydH0qLyksIHRvKCMxMTEgLyp7YS1iYXItYmFja2dyb3VuZC1lbmR9Ki8pKTsgLyogU2FmNCssIENocm9tZSAqLw0KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgIzNjM2MzYyAvKnthLWJhci1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjMTExIC8qe2EtYmFyLWJhY2tncm91bmQtZW5kfSovKTsgLyogQ2hyb21lIDEwKywgU2FmNS4xKyAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgIC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgIzNjM2MzYyAvKnthLWJhci1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjMTExIC8qe2EtYmFyLWJhY2tncm91bmQtZW5kfSovKTsgLyogRkYzLjYgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICMzYzNjM2MgLyp7YS1iYXItYmFja2dyb3VuZC1zdGFydH0qLywgIzExMSAvKnthLWJhci1iYWNrZ3JvdW5kLWVuZH0qLyk7IC8qIElFMTAgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgIC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICMzYzNjM2MgLyp7YS1iYXItYmFja2dyb3VuZC1zdGFydH0qLywgIzExMSAvKnthLWJhci1iYWNrZ3JvdW5kLWVuZH0qLyk7IC8qIE9wZXJhIDExLjEwKyAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgICAgbGluZWFyLWdyYWRpZW50KHRvcCwgIzNjM2MzYyAvKnthLWJhci1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjMTExIC8qe2EtYmFyLWJhY2tncm91bmQtZW5kfSovKTsNCn0NCi51aS1iYXItYSwgDQoudWktYmFyLWEgaW5wdXQsIA0KLnVpLWJhci1hIHNlbGVjdCwgDQoudWktYmFyLWEgdGV4dGFyZWEsIA0KLnVpLWJhci1hIGJ1dHRvbiB7DQoJZm9udC1mYW1pbHk6IEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWYgLyp7YS1iYXItZm9udH0qLzsNCn0NCi51aS1iYXItYSAudWktbGluay1pbmhlcml0IHsNCgljb2xvcjogI2ZmZiAvKnthLWJhci1jb2xvcn0qLzsNCn0NCg0KLnVpLWJhci1hIC51aS1saW5rIHsNCgljb2xvcjogIzdjYzRlNyAvKnthLWJhci1saW5rLWNvbG9yfSovOw0KCWZvbnQtd2VpZ2h0OiBib2xkOw0KfQ0KDQoudWktYmFyLWEgLnVpLWxpbms6aG92ZXIgew0KCWNvbG9yOiAjMjQ4OUNFIC8qe2EtYmFyLWxpbmstaG92ZXJ9Ki87DQp9DQoNCi51aS1iYXItYSAudWktbGluazphY3RpdmUgew0KCWNvbG9yOiAjMjQ4OUNFIC8qe2EtYmFyLWxpbmstYWN0aXZlfSovOw0KfQ0KDQoudWktYmFyLWEgLnVpLWxpbms6dmlzaXRlZCB7DQogICAgY29sb3I6ICMyNDg5Q0UgLyp7YS1iYXItbGluay12aXNpdGVkfSovOw0KfQ0KLnVpLWJvZHktYSB7DQoJYm9yZGVyOiAxcHggc29saWQgCQkjMkEyQTJBIC8qe2EtYm9keS1ib3JkZXJ9Ki87DQoJYmFja2dyb3VuZDogCQkJIzIyMjIyMiAvKnthLWJvZHktYmFja2dyb3VuZC1jb2xvcn0qLzsNCgljb2xvcjogCQkJCQkjZmZmIC8qe2EtYm9keS1jb2xvcn0qLzsNCgkgdGV4dC1zaGFkb3c6IDAgLyp7YS1ib2R5LXNoYWRvdy14fSovIDFweCAvKnthLWJvZHktc2hhZG93LXl9Ki8gMCAvKnthLWJvZHktc2hhZG93LXJhZGl1c30qLyAjMDAwIC8qe2EtYm9keS1zaGFkb3ctY29sb3J9Ki87DQoJZm9udC13ZWlnaHQ6IG5vcm1hbDsNCgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCB0b3AsIGxlZnQgYm90dG9tLCBmcm9tKCM2NjYgLyp7YS1ib2R5LWJhY2tncm91bmQtc3RhcnR9Ki8pLCB0bygjMjIyIC8qe2EtYm9keS1iYWNrZ3JvdW5kLWVuZH0qLykpOyAvKiBTYWY0KywgQ2hyb21lICovDQoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjNjY2IC8qe2EtYm9keS1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjMjIyIC8qe2EtYm9keS1iYWNrZ3JvdW5kLWVuZH0qLyk7IC8qIENocm9tZSAxMCssIFNhZjUuMSsgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICM2NjYgLyp7YS1ib2R5LWJhY2tncm91bmQtc3RhcnR9Ki8sICMyMjIgLyp7YS1ib2R5LWJhY2tncm91bmQtZW5kfSovKTsgLyogRkYzLjYgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICM2NjYgLyp7YS1ib2R5LWJhY2tncm91bmQtc3RhcnR9Ki8sICMyMjIgLyp7YS1ib2R5LWJhY2tncm91bmQtZW5kfSovKTsgLyogSUUxMCAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgIzY2NiAvKnthLWJvZHktYmFja2dyb3VuZC1zdGFydH0qLywgIzIyMiAvKnthLWJvZHktYmFja2dyb3VuZC1lbmR9Ki8pOyAvKiBPcGVyYSAxMS4xMCsgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgICAgIGxpbmVhci1ncmFkaWVudCh0b3AsICM2NjYgLyp7YS1ib2R5LWJhY2tncm91bmQtc3RhcnR9Ki8sICMyMjIgLyp7YS1ib2R5LWJhY2tncm91bmQtZW5kfSovKTsJDQp9DQoudWktYm9keS1hLA0KLnVpLWJvZHktYSBpbnB1dCwNCi51aS1ib2R5LWEgc2VsZWN0LA0KLnVpLWJvZHktYSB0ZXh0YXJlYSwNCi51aS1ib2R5LWEgYnV0dG9uIHsNCglmb250LWZhbWlseTogSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZiAvKnthLWJvZHktZm9udH0qLzsNCn0NCi51aS1ib2R5LWEgLnVpLWxpbmstaW5oZXJpdCB7DQoJY29sb3I6IAkjZmZmIC8qe2EtYm9keS1jb2xvcn0qLzsNCn0NCg0KLnVpLWJvZHktYSAudWktbGluayB7DQoJY29sb3I6ICMyNDg5Q0UgLyp7YS1ib2R5LWxpbmstY29sb3J9Ki87DQoJZm9udC13ZWlnaHQ6IGJvbGQ7DQp9DQoNCi51aS1ib2R5LWEgLnVpLWxpbms6aG92ZXIgew0KCWNvbG9yOiAjMjQ4OUNFIC8qe2EtYm9keS1saW5rLWhvdmVyfSovOw0KfQ0KDQoudWktYm9keS1hIC51aS1saW5rOmFjdGl2ZSB7DQoJY29sb3I6ICMyNDg5Q0UgLyp7YS1ib2R5LWxpbmstYWN0aXZlfSovOw0KfQ0KDQoudWktYm9keS1hIC51aS1saW5rOnZpc2l0ZWQgew0KICAgIGNvbG9yOiAjMjQ4OUNFIC8qe2EtYm9keS1saW5rLXZpc2l0ZWR9Ki87DQp9DQoNCi51aS1iciB7DQoJYm9yZGVyLWJvdHRvbTogcmdiKDEzMCwxMzAsMTMwKTsNCglib3JkZXItYm90dG9tOiByZ2JhKDEzMCwxMzAsMTMwLC4zKTsNCglib3JkZXItYm90dG9tLXdpZHRoOiAxcHg7DQoJYm9yZGVyLWJvdHRvbS1zdHlsZTogc29saWQ7DQp9DQoudWktYnRuLXVwLWEgew0KCWJvcmRlcjogMXB4IHNvbGlkIAkJIzIyMiAvKnthLWJ1cC1ib3JkZXJ9Ki87DQoJYmFja2dyb3VuZDogCQkJIzMzMzMzMyAvKnthLWJ1cC1iYWNrZ3JvdW5kLWNvbG9yfSovOw0KCWZvbnQtd2VpZ2h0OiBib2xkOw0KCWNvbG9yOiAJCQkJCSNmZmYgLyp7YS1idXAtY29sb3J9Ki87DQoJdGV4dC1zaGFkb3c6IDAgLyp7YS1idXAtc2hhZG93LXh9Ki8gLTFweCAvKnthLWJ1cC1zaGFkb3cteX0qLyAxcHggLyp7YS1idXAtc2hhZG93LXJhZGl1c30qLyAjMDAwIC8qe2EtYnVwLXNoYWRvdy1jb2xvcn0qLzsNCgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCB0b3AsIGxlZnQgYm90dG9tLCBmcm9tKCM1MTUxNTEgLyp7YS1idXAtYmFja2dyb3VuZC1zdGFydH0qLyksIHRvKCM3QjdCN0IgLyp7YS1idXAtYmFja2dyb3VuZC1lbmR9Ki8pKTsgLyogU2FmNCssIENocm9tZSAqLw0KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgIzUxNTE1MSAvKnthLWJ1cC1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjN0I3QjdCIC8qe2EtYnVwLWJhY2tncm91bmQtZW5kfSovKTsgLyogQ2hyb21lIDEwKywgU2FmNS4xKyAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgIC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgIzUxNTE1MSAvKnthLWJ1cC1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjN0I3QjdCIC8qe2EtYnVwLWJhY2tncm91bmQtZW5kfSovKTsgLyogRkYzLjYgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICM1MTUxNTEgLyp7YS1idXAtYmFja2dyb3VuZC1zdGFydH0qLywgIzdCN0I3QiAvKnthLWJ1cC1iYWNrZ3JvdW5kLWVuZH0qLyk7IC8qIElFMTAgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgIC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICM1MTUxNTEgLyp7YS1idXAtYmFja2dyb3VuZC1zdGFydH0qLywgIzdCN0I3QiAvKnthLWJ1cC1iYWNrZ3JvdW5kLWVuZH0qLyk7IC8qIE9wZXJhIDExLjEwKyAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgICAgbGluZWFyLWdyYWRpZW50KHRvcCwgIzUxNTE1MSAvKnthLWJ1cC1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjN0I3QjdCIC8qe2EtYnVwLWJhY2tncm91bmQtZW5kfSovKTsNCn0NCi51aS1idG4tdXAtYSBhLnVpLWxpbmstaW5oZXJpdCB7DQoJY29sb3I6IAkJCQkJI2ZmZiAvKnthLWJ1cC1jb2xvcn0qLzsNCn0NCi51aS1idG4taG92ZXItYSB7DQoJYm9yZGVyOiAxcHggc29saWQgCQkjMDAwIC8qe2EtYmhvdmVyLWJvcmRlcn0qLzsNCgliYWNrZ3JvdW5kOiAJCQkjNDQ0NDQ0IC8qe2EtYmhvdmVyLWJhY2tncm91bmQtY29sb3J9Ki87DQoJZm9udC13ZWlnaHQ6IGJvbGQ7DQoJY29sb3I6IAkJCQkJI2ZmZiAvKnthLWJob3Zlci1jb2xvcn0qLzsNCgl0ZXh0LXNoYWRvdzogMCAvKnthLWJob3Zlci1zaGFkb3cteH0qLyAtMXB4IC8qe2EtYmhvdmVyLXNoYWRvdy15fSovIDFweCAvKnthLWJob3Zlci1zaGFkb3ctcmFkaXVzfSovICMwMDAgLyp7YS1iaG92ZXItc2hhZG93LWNvbG9yfSovOw0KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oIzY2NiAvKnthLWJob3Zlci1iYWNrZ3JvdW5kLXN0YXJ0fSovKSwgdG8oIzQ0NCAvKnthLWJob3Zlci1iYWNrZ3JvdW5kLWVuZH0qLykpOyAvKiBTYWY0KywgQ2hyb21lICovDQoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjNjY2IC8qe2EtYmhvdmVyLWJhY2tncm91bmQtc3RhcnR9Ki8sICM0NDQgLyp7YS1iaG92ZXItYmFja2dyb3VuZC1lbmR9Ki8pOyAvKiBDaHJvbWUgMTArLCBTYWY1LjErICovDQoJYmFja2dyb3VuZC1pbWFnZTogICAgLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjNjY2IC8qe2EtYmhvdmVyLWJhY2tncm91bmQtc3RhcnR9Ki8sICM0NDQgLyp7YS1iaG92ZXItYmFja2dyb3VuZC1lbmR9Ki8pOyAvKiBGRjMuNiAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgIzY2NiAvKnthLWJob3Zlci1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjNDQ0IC8qe2EtYmhvdmVyLWJhY2tncm91bmQtZW5kfSovKTsgLyogSUUxMCAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgIzY2NiAvKnthLWJob3Zlci1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjNDQ0IC8qe2EtYmhvdmVyLWJhY2tncm91bmQtZW5kfSovKTsgLyogT3BlcmEgMTEuMTArICovDQoJYmFja2dyb3VuZC1pbWFnZTogICAgICAgICBsaW5lYXItZ3JhZGllbnQodG9wLCAjNjY2IC8qe2EtYmhvdmVyLWJhY2tncm91bmQtc3RhcnR9Ki8sICM0NDQgLyp7YS1iaG92ZXItYmFja2dyb3VuZC1lbmR9Ki8pOw0KfQ0KLnVpLWJ0bi1ob3Zlci1hIGEudWktbGluay1pbmhlcml0IHsNCgljb2xvcjogCQkJCQkjZmZmIC8qe2EtYmhvdmVyLWNvbG9yfSovOw0KfQ0KLnVpLWJ0bi1kb3duLWEgew0KCWJvcmRlcjogMXB4IHNvbGlkIAkJIzAwMCAvKnthLWJkb3duLWJvcmRlcn0qLzsNCgliYWNrZ3JvdW5kOiAJCQkjM2QzZDNkIC8qe2EtYmRvd24tYmFja2dyb3VuZC1jb2xvcn0qLzsNCglmb250LXdlaWdodDogYm9sZDsNCgljb2xvcjogCQkJCQkjZmZmIC8qe2EtYmRvd24tY29sb3J9Ki87DQoJdGV4dC1zaGFkb3c6IDAgLyp7YS1iZG93bi1zaGFkb3cteH0qLyAtMXB4IC8qe2EtYmRvd24tc2hhZG93LXl9Ki8gMXB4IC8qe2EtYmRvd24tc2hhZG93LXJhZGl1c30qLyAjMDAwIC8qe2EtYmRvd24tc2hhZG93LWNvbG9yfSovOw0KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oIzMzMyAvKnthLWJkb3duLWJhY2tncm91bmQtc3RhcnR9Ki8pLCB0bygjNWE1YTVhIC8qe2EtYmRvd24tYmFja2dyb3VuZC1lbmR9Ki8pKTsgLyogU2FmNCssIENocm9tZSAqLw0KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgIzMzMyAvKnthLWJkb3duLWJhY2tncm91bmQtc3RhcnR9Ki8sICM1YTVhNWEgLyp7YS1iZG93bi1iYWNrZ3JvdW5kLWVuZH0qLyk7IC8qIENocm9tZSAxMCssIFNhZjUuMSsgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICMzMzMgLyp7YS1iZG93bi1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjNWE1YTVhIC8qe2EtYmRvd24tYmFja2dyb3VuZC1lbmR9Ki8pOyAvKiBGRjMuNiAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgIzMzMyAvKnthLWJkb3duLWJhY2tncm91bmQtc3RhcnR9Ki8sICM1YTVhNWEgLyp7YS1iZG93bi1iYWNrZ3JvdW5kLWVuZH0qLyk7IC8qIElFMTAgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgIC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICMzMzMgLyp7YS1iZG93bi1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjNWE1YTVhIC8qe2EtYmRvd24tYmFja2dyb3VuZC1lbmR9Ki8pOyAvKiBPcGVyYSAxMS4xMCsgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgICAgIGxpbmVhci1ncmFkaWVudCh0b3AsICMzMzMgLyp7YS1iZG93bi1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjNWE1YTVhIC8qe2EtYmRvd24tYmFja2dyb3VuZC1lbmR9Ki8pOw0KfQ0KLnVpLWJ0bi1kb3duLWEgYS51aS1saW5rLWluaGVyaXQgew0KCWNvbG9yOiAJCQkJCSNmZmYgLyp7YS1iZG93bi1jb2xvcn0qLzsNCn0NCi51aS1idG4tdXAtYSwNCi51aS1idG4taG92ZXItYSwNCi51aS1idG4tZG93bi1hIHsNCglmb250LWZhbWlseTogSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZiAvKnthLWJ1dHRvbi1mb250fSovOw0KCXRleHQtZGVjb3JhdGlvbjogbm9uZTsNCn0NCg0KDQovKiBCDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovDQoNCi51aS1iYXItYiB7DQoJYm9yZGVyOiAxcHggc29saWQgCQkjNDU2ZjlhIC8qe2ItYmFyLWJvcmRlcn0qLzsNCgliYWNrZ3JvdW5kOiAJCQkjNWU4N2IwIC8qe2ItYmFyLWJhY2tncm91bmQtY29sb3J9Ki87DQoJY29sb3I6IAkJCQkJI2ZmZiAvKntiLWJhci1jb2xvcn0qLzsNCglmb250LXdlaWdodDogYm9sZDsNCgl0ZXh0LXNoYWRvdzogMCAvKntiLWJhci1zaGFkb3cteH0qLyAtMXB4IC8qe2ItYmFyLXNoYWRvdy15fSovIDFweCAvKntiLWJhci1zaGFkb3ctcmFkaXVzfSovICMyNTRmN2EgLyp7Yi1iYXItc2hhZG93LWNvbG9yfSovOw0KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oIzgxYThjZSAvKntiLWJhci1iYWNrZ3JvdW5kLXN0YXJ0fSovKSwgdG8oIzVlODdiMCAvKntiLWJhci1iYWNrZ3JvdW5kLWVuZH0qLykpOyAvKiBTYWY0KywgQ2hyb21lICovDQoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjODFhOGNlIC8qe2ItYmFyLWJhY2tncm91bmQtc3RhcnR9Ki8sICM1ZTg3YjAgLyp7Yi1iYXItYmFja2dyb3VuZC1lbmR9Ki8pOyAvKiBDaHJvbWUgMTArLCBTYWY1LjErICovDQoJYmFja2dyb3VuZC1pbWFnZTogICAgLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjODFhOGNlIC8qe2ItYmFyLWJhY2tncm91bmQtc3RhcnR9Ki8sICM1ZTg3YjAgLyp7Yi1iYXItYmFja2dyb3VuZC1lbmR9Ki8pOyAvKiBGRjMuNiAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgIzgxYThjZSAvKntiLWJhci1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjNWU4N2IwIC8qe2ItYmFyLWJhY2tncm91bmQtZW5kfSovKTsgLyogSUUxMCAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgIzgxYThjZSAvKntiLWJhci1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjNWU4N2IwIC8qe2ItYmFyLWJhY2tncm91bmQtZW5kfSovKTsgLyogT3BlcmEgMTEuMTArICovDQoJYmFja2dyb3VuZC1pbWFnZTogICAgICAgICBsaW5lYXItZ3JhZGllbnQodG9wLCAjODFhOGNlIC8qe2ItYmFyLWJhY2tncm91bmQtc3RhcnR9Ki8sICM1ZTg3YjAgLyp7Yi1iYXItYmFja2dyb3VuZC1lbmR9Ki8pOw0KfQ0KLnVpLWJhci1iLA0KLnVpLWJhci1iIGlucHV0LA0KLnVpLWJhci1iIHNlbGVjdCwNCi51aS1iYXItYiB0ZXh0YXJlYSwNCi51aS1iYXItYiBidXR0b24gew0KCWZvbnQtZmFtaWx5OiBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmIC8qe2ItYmFyLWZvbnR9Ki87DQp9DQoudWktYmFyLWIgLnVpLWxpbmstaW5oZXJpdCB7DQoJY29sb3I6IAkjZmZmIC8qe2ItYmFyLWNvbG9yfSovOw0KfQ0KLnVpLWJhci1iIC51aS1saW5rIHsNCgljb2xvcjogI2RkZjBmOCAvKntiLWJhci1saW5rLWNvbG9yfSovOw0KCWZvbnQtd2VpZ2h0OiBib2xkOw0KfQ0KDQoudWktYmFyLWIgLnVpLWxpbms6aG92ZXIgew0KCWNvbG9yOiAjZGRmMGY4IC8qe2ItYmFyLWxpbmstaG92ZXJ9Ki87DQp9DQoNCi51aS1iYXItYiAudWktbGluazphY3RpdmUgew0KCWNvbG9yOiAjZGRmMGY4IC8qe2ItYmFyLWxpbmstYWN0aXZlfSovOw0KfQ0KDQoudWktYmFyLWIgLnVpLWxpbms6dmlzaXRlZCB7DQogICAgY29sb3I6ICNkZGYwZjggLyp7Yi1iYXItbGluay12aXNpdGVkfSovOw0KfQ0KLnVpLWJvZHktYiB7DQoJYm9yZGVyOiAxcHggc29saWQgCQkjQzZDNkM2IC8qe2ItYm9keS1ib3JkZXJ9Ki87DQoJYmFja2dyb3VuZDogCQkJI2NjY2NjYyAvKntiLWJvZHktYmFja2dyb3VuZC1jb2xvcn0qLzsNCgljb2xvcjogCQkJCQkjMzMzMzMzIC8qe2ItYm9keS1jb2xvcn0qLzsNCgl0ZXh0LXNoYWRvdzogMCAvKntiLWJvZHktc2hhZG93LXh9Ki8gMXB4IC8qe2ItYm9keS1zaGFkb3cteX0qLyAwIC8qe2ItYm9keS1zaGFkb3ctcmFkaXVzfSovICNmZmYgLyp7Yi1ib2R5LXNoYWRvdy1jb2xvcn0qLzsNCglmb250LXdlaWdodDogbm9ybWFsOw0KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI2U2ZTZlNiAvKntiLWJvZHktYmFja2dyb3VuZC1zdGFydH0qLyksIHRvKCNjY2MgLyp7Yi1ib2R5LWJhY2tncm91bmQtZW5kfSovKSk7IC8qIFNhZjQrLCBDaHJvbWUgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICNlNmU2ZTYgLyp7Yi1ib2R5LWJhY2tncm91bmQtc3RhcnR9Ki8sICNjY2MgLyp7Yi1ib2R5LWJhY2tncm91bmQtZW5kfSovKTsgLyogQ2hyb21lIDEwKywgU2FmNS4xKyAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgIC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgI2U2ZTZlNiAvKntiLWJvZHktYmFja2dyb3VuZC1zdGFydH0qLywgI2NjYyAvKntiLWJvZHktYmFja2dyb3VuZC1lbmR9Ki8pOyAvKiBGRjMuNiAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgI2U2ZTZlNiAvKntiLWJvZHktYmFja2dyb3VuZC1zdGFydH0qLywgI2NjYyAvKntiLWJvZHktYmFja2dyb3VuZC1lbmR9Ki8pOyAvKiBJRTEwICovDQoJYmFja2dyb3VuZC1pbWFnZTogICAgICAtby1saW5lYXItZ3JhZGllbnQodG9wLCAjZTZlNmU2IC8qe2ItYm9keS1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjY2NjIC8qe2ItYm9keS1iYWNrZ3JvdW5kLWVuZH0qLyk7IC8qIE9wZXJhIDExLjEwKyAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgICAgbGluZWFyLWdyYWRpZW50KHRvcCwgI2U2ZTZlNiAvKntiLWJvZHktYmFja2dyb3VuZC1zdGFydH0qLywgI2NjYyAvKntiLWJvZHktYmFja2dyb3VuZC1lbmR9Ki8pOw0KfQ0KLnVpLWJvZHktYiwNCi51aS1ib2R5LWIgaW5wdXQsDQoudWktYm9keS1iIHNlbGVjdCwNCi51aS1ib2R5LWIgdGV4dGFyZWEsDQoudWktYm9keS1iIGJ1dHRvbiB7DQoJZm9udC1mYW1pbHk6IEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWYgLyp7Yi1ib2R5LWZvbnR9Ki87DQp9DQoudWktYm9keS1iIC51aS1saW5rLWluaGVyaXQgew0KCWNvbG9yOiAJIzMzMzMzMyAvKntiLWJvZHktY29sb3J9Ki87DQp9DQoNCi51aS1ib2R5LWIgLnVpLWxpbmsgew0KCWNvbG9yOiAjMjQ4OUNFIC8qe2ItYm9keS1saW5rLWNvbG9yfSovOw0KCWZvbnQtd2VpZ2h0OiBib2xkOw0KfQ0KDQoudWktYm9keS1iIC51aS1saW5rOmhvdmVyIHsNCgljb2xvcjogIzI0ODlDRSAvKntiLWJvZHktbGluay1ob3Zlcn0qLzsNCn0NCg0KLnVpLWJvZHktYiAudWktbGluazphY3RpdmUgew0KCWNvbG9yOiAjMjQ4OUNFIC8qe2ItYm9keS1saW5rLWFjdGl2ZX0qLzsNCn0NCg0KLnVpLWJvZHktYiAudWktbGluazp2aXNpdGVkIHsNCiAgICBjb2xvcjogIzI0ODlDRSAvKntiLWJvZHktbGluay12aXNpdGVkfSovOw0KfQ0KDQoudWktYnRuLXVwLWIgew0KCWJvcmRlcjogMXB4IHNvbGlkIAkJIzE0NTA3MiAvKntiLWJ1cC1ib3JkZXJ9Ki87DQoJYmFja2dyb3VuZDogCQkJIzI1NjdhYiAvKntiLWJ1cC1iYWNrZ3JvdW5kLWNvbG9yfSovOw0KCWZvbnQtd2VpZ2h0OiBib2xkOw0KCWNvbG9yOiAJCQkJCSNmZmYgLyp7Yi1idXAtY29sb3J9Ki87DQoJdGV4dC1zaGFkb3c6IDAgLyp7Yi1idXAtc2hhZG93LXh9Ki8gLTFweCAvKntiLWJ1cC1zaGFkb3cteX0qLyAxcHggLyp7Yi1idXAtc2hhZG93LXJhZGl1c30qLyAjMTQ1MDcyIC8qe2ItYnVwLXNoYWRvdy1jb2xvcn0qLzsNCgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCB0b3AsIGxlZnQgYm90dG9tLCBmcm9tKCM1ZjljYzUgLyp7Yi1idXAtYmFja2dyb3VuZC1zdGFydH0qLyksIHRvKCMzOTZiOWUgLyp7Yi1idXAtYmFja2dyb3VuZC1lbmR9Ki8pKTsgLyogU2FmNCssIENocm9tZSAqLw0KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgIzVmOWNjNSAvKntiLWJ1cC1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjMzk2YjllIC8qe2ItYnVwLWJhY2tncm91bmQtZW5kfSovKTsgLyogQ2hyb21lIDEwKywgU2FmNS4xKyAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgIC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgIzVmOWNjNSAvKntiLWJ1cC1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjMzk2YjllIC8qe2ItYnVwLWJhY2tncm91bmQtZW5kfSovKTsgLyogRkYzLjYgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICM1ZjljYzUgLyp7Yi1idXAtYmFja2dyb3VuZC1zdGFydH0qLywgIzM5NmI5ZSAvKntiLWJ1cC1iYWNrZ3JvdW5kLWVuZH0qLyk7IC8qIElFMTAgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgIC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICM1ZjljYzUgLyp7Yi1idXAtYmFja2dyb3VuZC1zdGFydH0qLywgIzM5NmI5ZSAvKntiLWJ1cC1iYWNrZ3JvdW5kLWVuZH0qLyk7IC8qIE9wZXJhIDExLjEwKyAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgICAgbGluZWFyLWdyYWRpZW50KHRvcCwgIzVmOWNjNSAvKntiLWJ1cC1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjMzk2YjllIC8qe2ItYnVwLWJhY2tncm91bmQtZW5kfSovKTsNCn0NCi51aS1idG4tdXAtYiBhLnVpLWxpbmstaW5oZXJpdCB7DQoJY29sb3I6IAkJCQkJI2ZmZiAvKntiLWJ1cC1jb2xvcn0qLzsNCn0NCi51aS1idG4taG92ZXItYiB7DQoJYm9yZGVyOiAxcHggc29saWQgCQkjMDA1MTZlIC8qe2ItYmhvdmVyLWJvcmRlcn0qLzsNCgliYWNrZ3JvdW5kOiAJCQkjNGI4OGI2IC8qe2ItYmhvdmVyLWJhY2tncm91bmQtY29sb3J9Ki87DQoJZm9udC13ZWlnaHQ6IGJvbGQ7DQoJY29sb3I6IAkJCQkJI2ZmZiAvKntiLWJob3Zlci1jb2xvcn0qLzsNCgl0ZXh0LXNoYWRvdzogMCAvKntiLWJob3Zlci1zaGFkb3cteH0qLyAtMXB4IC8qe2ItYmhvdmVyLXNoYWRvdy15fSovIDFweCAvKntiLWJob3Zlci1zaGFkb3ctcmFkaXVzfSovICMwMTRENjggLyp7Yi1iaG92ZXItc2hhZG93LWNvbG9yfSovOw0KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oIzcyYjBkNCAvKntiLWJob3Zlci1iYWNrZ3JvdW5kLXN0YXJ0fSovKSwgdG8oIzRiODhiNiAvKntiLWJob3Zlci1iYWNrZ3JvdW5kLWVuZH0qLykpOyAvKiBTYWY0KywgQ2hyb21lICovDQoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjNzJiMGQ0IC8qe2ItYmhvdmVyLWJhY2tncm91bmQtc3RhcnR9Ki8sICM0Yjg4YjYgLyp7Yi1iaG92ZXItYmFja2dyb3VuZC1lbmR9Ki8pOyAvKiBDaHJvbWUgMTArLCBTYWY1LjErICovDQoJYmFja2dyb3VuZC1pbWFnZTogICAgLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjNzJiMGQ0IC8qe2ItYmhvdmVyLWJhY2tncm91bmQtc3RhcnR9Ki8sICM0Yjg4YjYgLyp7Yi1iaG92ZXItYmFja2dyb3VuZC1lbmR9Ki8pOyAvKiBGRjMuNiAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgIzcyYjBkNCAvKntiLWJob3Zlci1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjNGI4OGI2IC8qe2ItYmhvdmVyLWJhY2tncm91bmQtZW5kfSovKTsgLyogSUUxMCAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgIzcyYjBkNCAvKntiLWJob3Zlci1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjNGI4OGI2IC8qe2ItYmhvdmVyLWJhY2tncm91bmQtZW5kfSovKTsgLyogT3BlcmEgMTEuMTArICovDQoJYmFja2dyb3VuZC1pbWFnZTogICAgICAgICBsaW5lYXItZ3JhZGllbnQodG9wLCAjNzJiMGQ0IC8qe2ItYmhvdmVyLWJhY2tncm91bmQtc3RhcnR9Ki8sICM0Yjg4YjYgLyp7Yi1iaG92ZXItYmFja2dyb3VuZC1lbmR9Ki8pOw0KfQ0KLnVpLWJ0bi1ob3Zlci1iIGEudWktbGluay1pbmhlcml0IHsNCgljb2xvcjogCQkJCQkjZmZmIC8qe2ItYmhvdmVyLWNvbG9yfSovOw0KfQ0KLnVpLWJ0bi1kb3duLWIgew0KCWJvcmRlcjogMXB4IHNvbGlkIAkJIzIyNTM3NyAvKntiLWJkb3duLWJvcmRlcn0qLzsNCgliYWNrZ3JvdW5kOiAJCQkjNGU4OWM1IC8qe2ItYmRvd24tYmFja2dyb3VuZC1jb2xvcn0qLzsNCglmb250LXdlaWdodDogYm9sZDsNCgljb2xvcjogCQkJCQkjZmZmIC8qe2ItYmRvd24tY29sb3J9Ki87DQoJdGV4dC1zaGFkb3c6IDAgLyp7Yi1iZG93bi1zaGFkb3cteH0qLyAtMXB4IC8qe2ItYmRvd24tc2hhZG93LXl9Ki8gMXB4IC8qe2ItYmRvd24tc2hhZG93LXJhZGl1c30qLyAjMjI1Mzc3IC8qe2ItYmRvd24tc2hhZG93LWNvbG9yfSovOw0KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oIzM5NmI5ZSAvKntiLWJkb3duLWJhY2tncm91bmQtc3RhcnR9Ki8pLCB0bygjNGU4OWM1IC8qe2ItYmRvd24tYmFja2dyb3VuZC1lbmR9Ki8pKTsgLyogU2FmNCssIENocm9tZSAqLw0KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgIzM5NmI5ZSAvKntiLWJkb3duLWJhY2tncm91bmQtc3RhcnR9Ki8sICM0ZTg5YzUgLyp7Yi1iZG93bi1iYWNrZ3JvdW5kLWVuZH0qLyk7IC8qIENocm9tZSAxMCssIFNhZjUuMSsgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICMzOTZiOWUgLyp7Yi1iZG93bi1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjNGU4OWM1IC8qe2ItYmRvd24tYmFja2dyb3VuZC1lbmR9Ki8pOyAvKiBGRjMuNiAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgIzM5NmI5ZSAvKntiLWJkb3duLWJhY2tncm91bmQtc3RhcnR9Ki8sICM0ZTg5YzUgLyp7Yi1iZG93bi1iYWNrZ3JvdW5kLWVuZH0qLyk7IC8qIElFMTAgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgIC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICMzOTZiOWUgLyp7Yi1iZG93bi1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjNGU4OWM1IC8qe2ItYmRvd24tYmFja2dyb3VuZC1lbmR9Ki8pOyAvKiBPcGVyYSAxMS4xMCsgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgICAgIGxpbmVhci1ncmFkaWVudCh0b3AsICMzOTZiOWUgLyp7Yi1iZG93bi1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjNGU4OWM1IC8qe2ItYmRvd24tYmFja2dyb3VuZC1lbmR9Ki8pOw0KfQ0KLnVpLWJ0bi1kb3duLWIgYS51aS1saW5rLWluaGVyaXQgew0KCWNvbG9yOiAJCQkJCSNmZmYgLyp7Yi1iZG93bi1jb2xvcn0qLzsNCn0NCi51aS1idG4tdXAtYiwNCi51aS1idG4taG92ZXItYiwNCi51aS1idG4tZG93bi1iIHsNCglmb250LWZhbWlseTogSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZiAvKntiLWJ1dHRvbi1mb250fSovOw0KCXRleHQtZGVjb3JhdGlvbjogbm9uZTsNCn0NCg0KDQovKiBDDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovDQoNCi51aS1iYXItYyB7DQoJYm9yZGVyOiAxcHggc29saWQgCQkjQjNCM0IzIC8qe2MtYmFyLWJvcmRlcn0qLzsNCgliYWNrZ3JvdW5kOiAJCQkjZTllYWViIC8qe2MtYmFyLWJhY2tncm91bmQtY29sb3J9Ki87DQoJY29sb3I6IAkJCQkJIzNFM0UzRSAvKntjLWJhci1jb2xvcn0qLzsNCglmb250LXdlaWdodDogYm9sZDsNCgl0ZXh0LXNoYWRvdzogMCAvKntjLWJhci1zaGFkb3cteH0qLyAxcHggLyp7Yy1iYXItc2hhZG93LXl9Ki8gMXB4IC8qe2MtYmFyLXNoYWRvdy1yYWRpdXN9Ki8gCSNmZmYgLyp7Yy1iYXItc2hhZG93LWNvbG9yfSovOw0KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI2YwZjBmMCAvKntjLWJhci1iYWNrZ3JvdW5kLXN0YXJ0fSovKSwgdG8oI2U5ZWFlYiAvKntjLWJhci1iYWNrZ3JvdW5kLWVuZH0qLykpOyAvKiBTYWY0KywgQ2hyb21lICovDQoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjZjBmMGYwIC8qe2MtYmFyLWJhY2tncm91bmQtc3RhcnR9Ki8sICNlOWVhZWIgLyp7Yy1iYXItYmFja2dyb3VuZC1lbmR9Ki8pOyAvKiBDaHJvbWUgMTArLCBTYWY1LjErICovDQoJYmFja2dyb3VuZC1pbWFnZTogICAgLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjZjBmMGYwIC8qe2MtYmFyLWJhY2tncm91bmQtc3RhcnR9Ki8sICNlOWVhZWIgLyp7Yy1iYXItYmFja2dyb3VuZC1lbmR9Ki8pOyAvKiBGRjMuNiAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgI2YwZjBmMCAvKntjLWJhci1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjZTllYWViIC8qe2MtYmFyLWJhY2tncm91bmQtZW5kfSovKTsgLyogSUUxMCAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgI2YwZjBmMCAvKntjLWJhci1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjZTllYWViIC8qe2MtYmFyLWJhY2tncm91bmQtZW5kfSovKTsgLyogT3BlcmEgMTEuMTArICovDQoJYmFja2dyb3VuZC1pbWFnZTogICAgICAgICBsaW5lYXItZ3JhZGllbnQodG9wLCAjZjBmMGYwIC8qe2MtYmFyLWJhY2tncm91bmQtc3RhcnR9Ki8sICNlOWVhZWIgLyp7Yy1iYXItYmFja2dyb3VuZC1lbmR9Ki8pOw0KfQ0KDQoudWktYmFyLWMgLnVpLWxpbmstaW5oZXJpdCB7DQoJY29sb3I6IAkjM0UzRTNFIC8qe2MtYmFyLWNvbG9yfSovOw0KfQ0KLnVpLWJhci1jIC51aS1saW5rIHsNCgljb2xvcjogIzdjYzRlNyAvKntjLWJhci1saW5rLWNvbG9yfSovOw0KCWZvbnQtd2VpZ2h0OiBib2xkOw0KfQ0KDQoudWktYmFyLWMgLnVpLWxpbms6aG92ZXIgew0KCWNvbG9yOiAjMjQ4OUNFIC8qe2MtYmFyLWxpbmstaG92ZXJ9Ki87DQp9DQoNCi51aS1iYXItYyAudWktbGluazphY3RpdmUgew0KCWNvbG9yOiAjMjQ4OUNFIC8qe2MtYmFyLWxpbmstYWN0aXZlfSovOw0KfQ0KDQoudWktYmFyLWMgLnVpLWxpbms6dmlzaXRlZCB7DQogICAgY29sb3I6ICMyNDg5Q0UgLyp7Yy1iYXItbGluay12aXNpdGVkfSovOw0KfQ0KDQoudWktYmFyLWMsDQoudWktYmFyLWMgaW5wdXQsDQoudWktYmFyLWMgc2VsZWN0LA0KLnVpLWJhci1jIHRleHRhcmVhLA0KLnVpLWJhci1jIGJ1dHRvbiB7DQoJZm9udC1mYW1pbHk6IEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWYgLyp7Yy1iYXItZm9udH0qLzsNCn0NCi51aS1ib2R5LWMgew0KCWJvcmRlcjogMXB4IHNvbGlkIAkJI0IzQjNCMyAvKntjLWJvZHktYm9yZGVyfSovOw0KCWNvbG9yOiAJCQkJCSMzMzMzMzMgLyp7Yy1ib2R5LWNvbG9yfSovOw0KCXRleHQtc2hhZG93OiAwIC8qe2MtYm9keS1zaGFkb3cteH0qLyAxcHggLyp7Yy1ib2R5LXNoYWRvdy15fSovIDAgLyp7Yy1ib2R5LXNoYWRvdy1yYWRpdXN9Ki8gI2ZmZiAvKntjLWJvZHktc2hhZG93LWNvbG9yfSovOw0KCWJhY2tncm91bmQ6IAkJCSNmMGYwZjAgLyp7Yy1ib2R5LWJhY2tncm91bmQtY29sb3J9Ki87DQoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgZnJvbSgjZmZmIC8qe2MtYm9keS1iYWNrZ3JvdW5kLXN0YXJ0fSovKSwgdG8oI2ZmZiAvKntjLWJvZHktYmFja2dyb3VuZC1lbmR9Ki8pKTsgLyogU2FmNCssIENocm9tZSAqLw0KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZmZiAvKntjLWJvZHktYmFja2dyb3VuZC1zdGFydH0qLywgI2ZmZiAvKntjLWJvZHktYmFja2dyb3VuZC1lbmR9Ki8pOyAvKiBDaHJvbWUgMTArLCBTYWY1LjErICovDQoJYmFja2dyb3VuZC1pbWFnZTogICAgLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjZmZmIC8qe2MtYm9keS1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjZmZmIC8qe2MtYm9keS1iYWNrZ3JvdW5kLWVuZH0qLyk7IC8qIEZGMy42ICovDQoJYmFja2dyb3VuZC1pbWFnZTogICAgIC1tcy1saW5lYXItZ3JhZGllbnQodG9wLCAjZmZmIC8qe2MtYm9keS1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjZmZmIC8qe2MtYm9keS1iYWNrZ3JvdW5kLWVuZH0qLyk7IC8qIElFMTAgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgIC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICNmZmYgLyp7Yy1ib2R5LWJhY2tncm91bmQtc3RhcnR9Ki8sICNmZmYgLyp7Yy1ib2R5LWJhY2tncm91bmQtZW5kfSovKTsgLyogT3BlcmEgMTEuMTArICovDQoJYmFja2dyb3VuZC1pbWFnZTogICAgICAgICBsaW5lYXItZ3JhZGllbnQodG9wLCAjZmZmIC8qe2MtYm9keS1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjZmZmIC8qe2MtYm9keS1iYWNrZ3JvdW5kLWVuZH0qLyk7DQp9DQoudWktYm9keS1jLA0KLnVpLWJvZHktYyBpbnB1dCwNCi51aS1ib2R5LWMgc2VsZWN0LA0KLnVpLWJvZHktYyB0ZXh0YXJlYSwNCi51aS1ib2R5LWMgYnV0dG9uIHsNCglmb250LWZhbWlseTogSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZiAvKntjLWJvZHktZm9udH0qLzsNCn0NCg0KLnVpLWJvZHktYyAudWktbGluay1pbmhlcml0IHsNCgljb2xvcjogCSMzMzMzMzMgLyp7Yy1ib2R5LWNvbG9yfSovOw0KfQ0KDQoudWktYm9keS1jIC51aS1saW5rIHsNCgljb2xvcjogIzk5MzMwMCAvKntjLWJvZHktbGluay1jb2xvcn0qLzsNCglmb250LXdlaWdodDogYm9sZDsNCn0NCg0KLnVpLWJvZHktYyAudWktbGluazpob3ZlciB7DQoJY29sb3I6ICM5OTMzMDAgLyp7Yy1ib2R5LWxpbmstaG92ZXJ9Ki87DQp9DQoNCi51aS1ib2R5LWMgLnVpLWxpbms6YWN0aXZlIHsNCgljb2xvcjogIzk5MzMwMCAvKntjLWJvZHktbGluay1hY3RpdmV9Ki87DQp9DQoNCi51aS1ib2R5LWMgLnVpLWxpbms6dmlzaXRlZCB7DQogICAgY29sb3I6ICM5OTMzMDAgLyp7Yy1ib2R5LWxpbmstdmlzaXRlZH0qLzsNCn0NCg0KLnVpLWJ0bi11cC1jIHsNCglib3JkZXI6IDFweCBzb2xpZCAJCSNjY2MgLyp7Yy1idXAtYm9yZGVyfSovOw0KCWJhY2tncm91bmQ6IAkJCSNlZWUgLyp7Yy1idXAtYmFja2dyb3VuZC1jb2xvcn0qLzsNCglmb250LXdlaWdodDogYm9sZDsNCgljb2xvcjogCQkJCQkjNDQ0IC8qe2MtYnVwLWNvbG9yfSovOw0KCXRleHQtc2hhZG93OiAwIC8qe2MtYnVwLXNoYWRvdy14fSovIDFweCAvKntjLWJ1cC1zaGFkb3cteX0qLyAxcHggLyp7Yy1idXAtc2hhZG93LXJhZGl1c30qLyAjZjZmNmY2IC8qe2MtYnVwLXNoYWRvdy1jb2xvcn0qLzsNCgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCB0b3AsIGxlZnQgYm90dG9tLCBmcm9tKCNmZGZkZmQgLyp7Yy1idXAtYmFja2dyb3VuZC1zdGFydH0qLyksIHRvKCNlZWUgLyp7Yy1idXAtYmFja2dyb3VuZC1lbmR9Ki8pKTsgLyogU2FmNCssIENocm9tZSAqLw0KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZkZmRmZCAvKntjLWJ1cC1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjZWVlIC8qe2MtYnVwLWJhY2tncm91bmQtZW5kfSovKTsgLyogQ2hyb21lIDEwKywgU2FmNS4xKyAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgIC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZkZmRmZCAvKntjLWJ1cC1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjZWVlIC8qe2MtYnVwLWJhY2tncm91bmQtZW5kfSovKTsgLyogRkYzLjYgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICNmZGZkZmQgLyp7Yy1idXAtYmFja2dyb3VuZC1zdGFydH0qLywgI2VlZSAvKntjLWJ1cC1iYWNrZ3JvdW5kLWVuZH0qLyk7IC8qIElFMTAgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgIC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICNmZGZkZmQgLyp7Yy1idXAtYmFja2dyb3VuZC1zdGFydH0qLywgI2VlZSAvKntjLWJ1cC1iYWNrZ3JvdW5kLWVuZH0qLyk7IC8qIE9wZXJhIDExLjEwKyAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgICAgbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZkZmRmZCAvKntjLWJ1cC1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjZWVlIC8qe2MtYnVwLWJhY2tncm91bmQtZW5kfSovKTsNCn0NCi51aS1idG4tdXAtYyBhLnVpLWxpbmstaW5oZXJpdCB7DQoJY29sb3I6IAkJCQkJIzJGM0U0NiAvKntjLWJ1cC1jb2xvcn0qLzsNCn0NCg0KLnVpLWJ0bi1ob3Zlci1jIHsNCglib3JkZXI6IDFweCBzb2xpZCAJCSNiYmJiYmIgLyp7Yy1iaG92ZXItYm9yZGVyfSovOw0KCWJhY2tncm91bmQ6IAkJCSNkYWRhZGEgLyp7Yy1iaG92ZXItYmFja2dyb3VuZC1jb2xvcn0qLzsNCglmb250LXdlaWdodDogYm9sZDsNCgljb2xvcjogCQkJCQkjMTAxMDEwIC8qe2MtYmhvdmVyLWNvbG9yfSovOw0KCXRleHQtc2hhZG93OiAwIC8qe2MtYmhvdmVyLXNoYWRvdy14fSovIDFweCAvKntjLWJob3Zlci1zaGFkb3cteX0qLyAxcHggLyp7Yy1iaG92ZXItc2hhZG93LXJhZGl1c30qLyAjZmZmIC8qe2MtYmhvdmVyLXNoYWRvdy1jb2xvcn0qLzsNCgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCB0b3AsIGxlZnQgYm90dG9tLCBmcm9tKCNlZGVkZWQgLyp7Yy1iaG92ZXItYmFja2dyb3VuZC1zdGFydH0qLyksIHRvKCNkYWRhZGEgLyp7Yy1iaG92ZXItYmFja2dyb3VuZC1lbmR9Ki8pKTsgLyogU2FmNCssIENocm9tZSAqLw0KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgI2VkZWRlZCAvKntjLWJob3Zlci1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjZGFkYWRhIC8qe2MtYmhvdmVyLWJhY2tncm91bmQtZW5kfSovKTsgLyogQ2hyb21lIDEwKywgU2FmNS4xKyAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgIC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgI2VkZWRlZCAvKntjLWJob3Zlci1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjZGFkYWRhIC8qe2MtYmhvdmVyLWJhY2tncm91bmQtZW5kfSovKTsgLyogRkYzLjYgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICNlZGVkZWQgLyp7Yy1iaG92ZXItYmFja2dyb3VuZC1zdGFydH0qLywgI2RhZGFkYSAvKntjLWJob3Zlci1iYWNrZ3JvdW5kLWVuZH0qLyk7IC8qIElFMTAgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgIC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICNlZGVkZWQgLyp7Yy1iaG92ZXItYmFja2dyb3VuZC1zdGFydH0qLywgI2RhZGFkYSAvKntjLWJob3Zlci1iYWNrZ3JvdW5kLWVuZH0qLyk7IC8qIE9wZXJhIDExLjEwKyAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgICAgbGluZWFyLWdyYWRpZW50KHRvcCwgI2VkZWRlZCAvKntjLWJob3Zlci1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjZGFkYWRhIC8qe2MtYmhvdmVyLWJhY2tncm91bmQtZW5kfSovKTsNCn0NCi51aS1idG4taG92ZXItYyBhLnVpLWxpbmstaW5oZXJpdCB7DQoJY29sb3I6IAkJCQkJIzJGM0U0NiAvKntjLWJob3Zlci1jb2xvcn0qLzsNCn0NCi51aS1idG4tZG93bi1jIHsNCglib3JkZXI6IDFweCBzb2xpZCAJCSM4MDgwODAgLyp7Yy1iZG93bi1ib3JkZXJ9Ki87DQoJYmFja2dyb3VuZDogCQkJI2ZkZmRmZCAvKntjLWJkb3duLWJhY2tncm91bmQtY29sb3J9Ki87DQoJZm9udC13ZWlnaHQ6IGJvbGQ7DQoJY29sb3I6IAkJCQkJIzExMTExMSAvKntjLWJkb3duLWNvbG9yfSovOw0KCXRleHQtc2hhZG93OiAwIC8qe2MtYmRvd24tc2hhZG93LXh9Ki8gMXB4IC8qe2MtYmRvd24tc2hhZG93LXl9Ki8gMXB4IC8qe2MtYmRvd24tc2hhZG93LXJhZGl1c30qLyAjZmZmZmZmIC8qe2MtYmRvd24tc2hhZG93LWNvbG9yfSovOw0KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI2VlZSAvKntjLWJkb3duLWJhY2tncm91bmQtc3RhcnR9Ki8pLCB0bygjZmRmZGZkIC8qe2MtYmRvd24tYmFja2dyb3VuZC1lbmR9Ki8pKTsgLyogU2FmNCssIENocm9tZSAqLw0KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgI2VlZSAvKntjLWJkb3duLWJhY2tncm91bmQtc3RhcnR9Ki8sICNmZGZkZmQgLyp7Yy1iZG93bi1iYWNrZ3JvdW5kLWVuZH0qLyk7IC8qIENocm9tZSAxMCssIFNhZjUuMSsgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICNlZWUgLyp7Yy1iZG93bi1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjZmRmZGZkIC8qe2MtYmRvd24tYmFja2dyb3VuZC1lbmR9Ki8pOyAvKiBGRjMuNiAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgI2VlZSAvKntjLWJkb3duLWJhY2tncm91bmQtc3RhcnR9Ki8sICNmZGZkZmQgLyp7Yy1iZG93bi1iYWNrZ3JvdW5kLWVuZH0qLyk7IC8qIElFMTAgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgIC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICNlZWUgLyp7Yy1iZG93bi1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjZmRmZGZkIC8qe2MtYmRvd24tYmFja2dyb3VuZC1lbmR9Ki8pOyAvKiBPcGVyYSAxMS4xMCsgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgICAgIGxpbmVhci1ncmFkaWVudCh0b3AsICNlZWUgLyp7Yy1iZG93bi1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjZmRmZGZkIC8qe2MtYmRvd24tYmFja2dyb3VuZC1lbmR9Ki8pOw0KfQ0KLnVpLWJ0bi1kb3duLWMgYS51aS1saW5rLWluaGVyaXQgew0KCWNvbG9yOiAJCQkJCSMyRjNFNDYgLyp7Yy1iZG93bi1jb2xvcn0qLzsNCn0NCi51aS1idG4tdXAtYywNCi51aS1idG4taG92ZXItYywNCi51aS1idG4tZG93bi1jIHsNCglmb250LWZhbWlseTogSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZiAvKntjLWJ1dHRvbi1mb250fSovOw0KCXRleHQtZGVjb3JhdGlvbjogbm9uZTsNCn0NCg0KDQovKiBEDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovDQoNCi51aS1iYXItZCB7DQoJYm9yZGVyOiAxcHggc29saWQgCQkjY2NjIC8qe2QtYmFyLWJvcmRlcn0qLzsNCgliYWNrZ3JvdW5kOiAJCQkjYmJiIC8qe2QtYmFyLWJhY2tncm91bmQtY29sb3J9Ki87DQoJY29sb3I6IAkJCQkJIzMzMyAvKntkLWJhci1jb2xvcn0qLzsNCgl0ZXh0LXNoYWRvdzogMCAvKntkLWJhci1zaGFkb3cteH0qLyAxcHggLyp7ZC1iYXItc2hhZG93LXl9Ki8gMCAvKntkLWJhci1zaGFkb3ctcmFkaXVzfSovICNlZWUgLyp7ZC1iYXItc2hhZG93LWNvbG9yfSovOw0KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI2RkZCAvKntkLWJhci1iYWNrZ3JvdW5kLXN0YXJ0fSovKSwgdG8oI2JiYiAvKntkLWJhci1iYWNrZ3JvdW5kLWVuZH0qLykpOyAvKiBTYWY0KywgQ2hyb21lICovDQoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjZGRkIC8qe2QtYmFyLWJhY2tncm91bmQtc3RhcnR9Ki8sICNiYmIgLyp7ZC1iYXItYmFja2dyb3VuZC1lbmR9Ki8pOyAvKiBDaHJvbWUgMTArLCBTYWY1LjErICovDQoJYmFja2dyb3VuZC1pbWFnZTogICAgLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjZGRkIC8qe2QtYmFyLWJhY2tncm91bmQtc3RhcnR9Ki8sICNiYmIgLyp7ZC1iYXItYmFja2dyb3VuZC1lbmR9Ki8pOyAvKiBGRjMuNiAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgI2RkZCAvKntkLWJhci1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjYmJiIC8qe2QtYmFyLWJhY2tncm91bmQtZW5kfSovKTsgLyogSUUxMCAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgI2RkZCAvKntkLWJhci1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjYmJiIC8qe2QtYmFyLWJhY2tncm91bmQtZW5kfSovKTsgLyogT3BlcmEgMTEuMTArICovDQoJYmFja2dyb3VuZC1pbWFnZTogICAgICAgICBsaW5lYXItZ3JhZGllbnQodG9wLCAjZGRkIC8qe2QtYmFyLWJhY2tncm91bmQtc3RhcnR9Ki8sICNiYmIgLyp7ZC1iYXItYmFja2dyb3VuZC1lbmR9Ki8pOw0KfQ0KLnVpLWJhci1kLA0KLnVpLWJhci1kIGlucHV0LA0KLnVpLWJhci1kIHNlbGVjdCwNCi51aS1iYXItZCB0ZXh0YXJlYSwNCi51aS1iYXItZCBidXR0b24gew0KCWZvbnQtZmFtaWx5OiBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmIC8qe2QtYmFyLWZvbnR9Ki87DQp9DQoNCi51aS1iYXItZCAudWktbGluay1pbmhlcml0IHsNCgljb2xvcjogCSMzMzMzMzMgLyp7ZC1iYXItY29sb3J9Ki87DQp9DQoudWktYmFyLWQgLnVpLWxpbmsgew0KCWNvbG9yOiAjMjQ4OUNFIC8qe2QtYmFyLWxpbmstY29sb3J9Ki87DQoJZm9udC13ZWlnaHQ6IGJvbGQ7DQp9DQoNCi51aS1iYXItZCAudWktbGluazpob3ZlciB7DQoJY29sb3I6ICMyNDg5Q0UgLyp7ZC1iYXItbGluay1ob3Zlcn0qLzsNCn0NCg0KLnVpLWJhci1kIC51aS1saW5rOmFjdGl2ZSB7DQoJY29sb3I6ICMyNDg5Q0UgLyp7ZC1iYXItbGluay1hY3RpdmV9Ki87DQp9DQoNCi51aS1iYXItZCAudWktbGluazp2aXNpdGVkIHsNCiAgICBjb2xvcjogIzI0ODlDRSAvKntkLWJhci1saW5rLXZpc2l0ZWR9Ki87DQp9DQoNCi51aS1ib2R5LWQgew0KCWJvcmRlcjogMXB4IHNvbGlkIAkJI2NjYyAvKntkLWJvZHktYm9yZGVyfSovOw0KCWNvbG9yOiAJCQkJCSMzMzMzMzMgLyp7ZC1ib2R5LWNvbG9yfSovOw0KCXRleHQtc2hhZG93OiAwIC8qe2QtYm9keS1zaGFkb3cteH0qLyAxcHggLyp7ZC1ib2R5LXNoYWRvdy15fSovIDAgLyp7ZC1ib2R5LXNoYWRvdy1yYWRpdXN9Ki8gCSNmZmYgLyp7ZC1ib2R5LXNoYWRvdy1jb2xvcn0qLzsNCgl9DQoudWktYm9keS1kLA0KLnVpLWJvZHktZCBpbnB1dCwNCi51aS1ib2R5LWQgc2VsZWN0LA0KLnVpLWJvZHktZCB0ZXh0YXJlYSwNCi51aS1ib2R5LWQgYnV0dG9uIHsNCglmb250LWZhbWlseTogSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZiAvKntkLWJvZHktZm9udH0qLzsNCn0NCg0KLnVpLWJvZHktZCAudWktbGluay1pbmhlcml0IHsNCgljb2xvcjogCSMzMzMzMzMgLyp7ZC1ib2R5LWNvbG9yfSovOw0KfQ0KDQoudWktYm9keS1kIC51aS1saW5rIHsNCgljb2xvcjogIzI0ODlDRSAvKntkLWJvZHktbGluay1jb2xvcn0qLzsNCglmb250LXdlaWdodDogYm9sZDsNCn0NCg0KLnVpLWJvZHktZCAudWktbGluazpob3ZlciB7DQoJY29sb3I6ICMyNDg5Q0UgLyp7ZC1ib2R5LWxpbmstaG92ZXJ9Ki87DQp9DQoNCi51aS1ib2R5LWQgLnVpLWxpbms6YWN0aXZlIHsNCgljb2xvcjogIzI0ODlDRSAvKntkLWJvZHktbGluay1hY3RpdmV9Ki87DQp9DQoNCi51aS1ib2R5LWQgLnVpLWxpbms6dmlzaXRlZCB7DQogICAgY29sb3I6ICMyNDg5Q0UgLyp7ZC1ib2R5LWxpbmstdmlzaXRlZH0qLzsNCn0NCg0KLnVpLWJ0bi11cC1kIHsNCglib3JkZXI6IDFweCBzb2xpZCAJCSNjY2MgLyp7ZC1idXAtYm9yZGVyfSovOw0KCWJhY2tncm91bmQ6IAkJCSNmZmYgLyp7ZC1idXAtYmFja2dyb3VuZC1jb2xvcn0qLzsNCglmb250LXdlaWdodDogYm9sZDsNCgljb2xvcjogCQkJCQkjNDQ0IC8qe2QtYnVwLWNvbG9yfSovOw0KCXRleHQtc2hhZG93OiAwIC8qe2QtYnVwLXNoYWRvdy14fSovIDFweCAvKntkLWJ1cC1zaGFkb3cteX0qLyAxcHggLyp7ZC1idXAtc2hhZG93LXJhZGl1c30qLyAjZmZmIC8qe2QtYnVwLXNoYWRvdy1jb2xvcn0qLzsNCgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCB0b3AsIGxlZnQgYm90dG9tLCBmcm9tKCNmZmYpLCB0bygjZmZmIC8qe2QtYnVwLWJhY2tncm91bmQtZW5kfSovKSk7IC8qIFNhZjQrLCBDaHJvbWUgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICNmZmYgLyp7ZC1idXAtYmFja2dyb3VuZC1zdGFydH0qLywgI2ZmZiAvKntkLWJ1cC1iYWNrZ3JvdW5kLWVuZH0qLyk7IC8qIENocm9tZSAxMCssIFNhZjUuMSsgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICNmZmYgLyp7ZC1idXAtYmFja2dyb3VuZC1zdGFydH0qLywgI2ZmZiAvKntkLWJ1cC1iYWNrZ3JvdW5kLWVuZH0qLyk7IC8qIEZGMy42ICovDQoJYmFja2dyb3VuZC1pbWFnZTogICAgIC1tcy1saW5lYXItZ3JhZGllbnQodG9wLCAjZmZmIC8qe2QtYnVwLWJhY2tncm91bmQtc3RhcnR9Ki8sICNmZmYgLyp7ZC1idXAtYmFja2dyb3VuZC1lbmR9Ki8pOyAvKiBJRTEwICovDQoJYmFja2dyb3VuZC1pbWFnZTogICAgICAtby1saW5lYXItZ3JhZGllbnQodG9wLCAjZmZmIC8qe2QtYnVwLWJhY2tncm91bmQtc3RhcnR9Ki8sICNmZmYgLyp7ZC1idXAtYmFja2dyb3VuZC1lbmR9Ki8pOyAvKiBPcGVyYSAxMS4xMCsgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgICAgIGxpbmVhci1ncmFkaWVudCh0b3AsICNmZmYgLyp7ZC1idXAtYmFja2dyb3VuZC1zdGFydH0qLywgI2ZmZiAvKntkLWJ1cC1iYWNrZ3JvdW5kLWVuZH0qLyk7DQp9DQoNCi51aS1idG4tdXAtZDIgew0KCWJvcmRlcjogMXB4IHNvbGlkIAkJI2NjYyAvKntkLWJ1cC1ib3JkZXJ9Ki87DQoJYmFja2dyb3VuZDogCQkJbm9uZSByZXBlYXQgc2Nyb2xsIDAgMCAjRjBGMUYwIC8qe2QtYnVwLWJhY2tncm91bmQtY29sb3J9Ki87DQoJZm9udC13ZWlnaHQ6IGJvbGQ7DQoJY29sb3I6IAkJCQkJIzQ0NCAvKntkLWJ1cC1jb2xvcn0qLzsNCgl0ZXh0LXNoYWRvdzogMCAvKntkLWJ1cC1zaGFkb3cteH0qLyAxcHggLyp7ZC1idXAtc2hhZG93LXl9Ki8gMXB4IC8qe2QtYnVwLXNoYWRvdy1yYWRpdXN9Ki8gI2ZmZiAvKntkLWJ1cC1zaGFkb3ctY29sb3J9Ki87DQoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgZnJvbSgjRjBGMUYwKSwgdG8oI0YwRjFGMCAvKntkLWJ1cC1iYWNrZ3JvdW5kLWVuZH0qLykpOyAvKiBTYWY0KywgQ2hyb21lICovDQoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjRjBGMUYwIC8qe2QtYnVwLWJhY2tncm91bmQtc3RhcnR9Ki8sICNGMEYxRjAgLyp7ZC1idXAtYmFja2dyb3VuZC1lbmR9Ki8pOyAvKiBDaHJvbWUgMTArLCBTYWY1LjErICovDQoJYmFja2dyb3VuZC1pbWFnZTogICAgLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjRjBGMUYwIC8qe2QtYnVwLWJhY2tncm91bmQtc3RhcnR9Ki8sICNGMEYxRjAgLyp7ZC1idXAtYmFja2dyb3VuZC1lbmR9Ki8pOyAvKiBGRjMuNiAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgI0YwRjFGMCAvKntkLWJ1cC1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjRjBGMUYwIC8qe2QtYnVwLWJhY2tncm91bmQtZW5kfSovKTsgLyogSUUxMCAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgI0YwRjFGMCAvKntkLWJ1cC1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjRjBGMUYwIC8qe2QtYnVwLWJhY2tncm91bmQtZW5kfSovKTsgLyogT3BlcmEgMTEuMTArICovDQoJYmFja2dyb3VuZC1pbWFnZTogICAgICAgICBsaW5lYXItZ3JhZGllbnQodG9wLCAjRjBGMUYwIC8qe2QtYnVwLWJhY2tncm91bmQtc3RhcnR9Ki8sICNGMEYxRjAgLyp7ZC1idXAtYmFja2dyb3VuZC1lbmR9Ki8pOw0KfQ0KDQoudWktYnRuLXVwLWQgYS51aS1saW5rLWluaGVyaXQgew0KCWNvbG9yOiAJCQkJCSMzMzMgLyp7ZC1idXAtY29sb3J9Ki87DQp9DQoudWktYnRuLWhvdmVyLWQgew0KCWJvcmRlcjogMXB4IHNvbGlkIAkJI2FhYSAvKntkLWJob3Zlci1ib3JkZXJ9Ki87DQoJYmFja2dyb3VuZDogCQkJI2VlZWVlZSAvKntkLWJob3Zlci1iYWNrZ3JvdW5kLWNvbG9yfSovOw0KCWZvbnQtd2VpZ2h0OiBib2xkOw0KCWNvbG9yOiAJCQkJCSMyMjIgLyp7ZC1iaG92ZXItY29sb3J9Ki87DQoJY3Vyc29yOiBwb2ludGVyOw0KCXRleHQtc2hhZG93OiAwIC8qe2QtYmhvdmVyLXNoYWRvdy14fSovIDFweCAvKntkLWJob3Zlci1zaGFkb3cteX0qLyAxcHggLyp7ZC1iaG92ZXItc2hhZG93LXJhZGl1c30qLyAJI2ZmZiAvKntkLWJob3Zlci1zaGFkb3ctY29sb3J9Ki87DQoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgZnJvbSgjRjBGMUYwKSwgdG8oI2ZmZiAvKntkLWJob3Zlci1iYWNrZ3JvdW5kLWVuZH0qLykpOyAvKiBTYWY0KywgQ2hyb21lICovDQoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjRjBGMUYwIC8qe2QtYmhvdmVyLWJhY2tncm91bmQtc3RhcnR9Ki8sICNmZmYgLyp7ZC1iaG92ZXItYmFja2dyb3VuZC1lbmR9Ki8pOyAvKiBDaHJvbWUgMTArLCBTYWY1LjErICovDQoJYmFja2dyb3VuZC1pbWFnZTogICAgLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjRjBGMUYwIC8qe2QtYmhvdmVyLWJhY2tncm91bmQtc3RhcnR9Ki8sICNmZmYgLyp7ZC1iaG92ZXItYmFja2dyb3VuZC1lbmR9Ki8pOyAvKiBGRjMuNiAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgI0YwRjFGMCAvKntkLWJob3Zlci1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjZmZmIC8qe2QtYmhvdmVyLWJhY2tncm91bmQtZW5kfSovKTsgLyogSUUxMCAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgI0YwRjFGMCAvKntkLWJob3Zlci1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjZmZmIC8qe2QtYmhvdmVyLWJhY2tncm91bmQtZW5kfSovKTsgLyogT3BlcmEgMTEuMTArICovDQoJYmFja2dyb3VuZC1pbWFnZTogICAgICAgICBsaW5lYXItZ3JhZGllbnQodG9wLCAjRjBGMUYwIC8qe2QtYmhvdmVyLWJhY2tncm91bmQtc3RhcnR9Ki8sICNmZmYgLyp7ZC1iaG92ZXItYmFja2dyb3VuZC1lbmR9Ki8pOw0KfQ0KLnVpLWJ0bi1ob3Zlci1kIGEudWktbGluay1pbmhlcml0IHsNCgljb2xvcjogCQkJCQkjMjIyIC8qe2QtYmhvdmVyLWNvbG9yfSovOw0KfQ0KLnVpLWJ0bi1kb3duLWQgew0KCWJvcmRlcjogMXB4IHNvbGlkIAkJI2FhYWFhYSAvKntkLWJkb3duLWJvcmRlcn0qLzsNCgliYWNrZ3JvdW5kOiAJCQkjZmZmZmZmIC8qe2QtYmRvd24tYmFja2dyb3VuZC1jb2xvcn0qLzsNCglmb250LXdlaWdodDogYm9sZDsNCgljb2xvcjogCQkJCQkjMTExIC8qe2QtYmRvd24tY29sb3J9Ki87DQoJdGV4dC1zaGFkb3c6IDAgLyp7ZC1iZG93bi1zaGFkb3cteH0qLyAxcHggLyp7ZC1iZG93bi1zaGFkb3cteX0qLyAxcHggLyp7ZC1iZG93bi1zaGFkb3ctcmFkaXVzfSovIAkjZmZmZmZmIC8qe2QtYmRvd24tc2hhZG93LWNvbG9yfSovOw0KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI0YwRjFGMCAvKntkLWJkb3duLWJhY2tncm91bmQtc3RhcnR9Ki8pLCB0bygjZmZmIC8qe2QtYmRvd24tYmFja2dyb3VuZC1lbmR9Ki8pKTsgLyogU2FmNCssIENocm9tZSAqLw0KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgI0YwRjFGMCAvKntkLWJkb3duLWJhY2tncm91bmQtc3RhcnR9Ki8sICNmZmYgLyp7ZC1iZG93bi1iYWNrZ3JvdW5kLWVuZH0qLyk7IC8qIENocm9tZSAxMCssIFNhZjUuMSsgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICNGMEYxRjAgLyp7ZC1iZG93bi1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjZmZmIC8qe2QtYmRvd24tYmFja2dyb3VuZC1lbmR9Ki8pOyAvKiBGRjMuNiAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgI0YwRjFGMCAvKntkLWJkb3duLWJhY2tncm91bmQtc3RhcnR9Ki8sICNmZmYgLyp7ZC1iZG93bi1iYWNrZ3JvdW5kLWVuZH0qLyk7IC8qIElFMTAgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgIC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICNGMEYxRjAgLyp7ZC1iZG93bi1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjZmZmIC8qe2QtYmRvd24tYmFja2dyb3VuZC1lbmR9Ki8pOyAvKiBPcGVyYSAxMS4xMCsgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgICAgIGxpbmVhci1ncmFkaWVudCh0b3AsICNGMEYxRjAgLyp7ZC1iZG93bi1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjZmZmIC8qe2QtYmRvd24tYmFja2dyb3VuZC1lbmR9Ki8pOw0KfQ0KLnVpLWJ0bi1kb3duLWQgYS51aS1saW5rLWluaGVyaXQgew0KCWNvbG9yOiAJCQkJCSMxMTEgLyp7ZC1iZG93bi1jb2xvcn0qLzsNCn0NCi51aS1idG4tdXAtZCwNCi51aS1idG4taG92ZXItZCwNCi51aS1idG4tZG93bi1kIHsNCglmb250LWZhbWlseTogSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZiAvKntkLWJ1dHRvbi1mb250fSovOw0KCXRleHQtZGVjb3JhdGlvbjogbm9uZTsNCn0NCg0KDQovKiBFDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovDQoNCi51aS1iYXItZSB7DQoJYm9yZGVyOiAxcHggc29saWQgCQkjRjdDOTQyIC8qe2UtYmFyLWJvcmRlcn0qLzsNCgliYWNrZ3JvdW5kOiAJCQkjZmFkYjRlIC8qe2UtYmFyLWJhY2tncm91bmQtY29sb3J9Ki87DQoJY29sb3I6IAkJCQkJIzMzMyAvKntlLWJhci1jb2xvcn0qLzsNCgl0ZXh0LXNoYWRvdzogMCAvKntlLWJhci1zaGFkb3cteH0qLyAxcHggLyp7ZS1iYXItc2hhZG93LXl9Ki8gMCAvKntlLWJhci1zaGFkb3ctcmFkaXVzfSovIAkjZmZmIC8qe2UtYmFyLXNoYWRvdy1jb2xvcn0qLzsNCgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCB0b3AsIGxlZnQgYm90dG9tLCBmcm9tKCNmY2VkYTcgLyp7ZS1iYXItYmFja2dyb3VuZC1zdGFydH0qLyksIHRvKCNmYWRiNGUgLyp7ZS1iYXItYmFja2dyb3VuZC1lbmR9Ki8pKTsgLyogU2FmNCssIENocm9tZSAqLw0KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZjZWRhNyAvKntlLWJhci1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjZmFkYjRlIC8qe2UtYmFyLWJhY2tncm91bmQtZW5kfSovKTsgLyogQ2hyb21lIDEwKywgU2FmNS4xKyAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgIC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZjZWRhNyAvKntlLWJhci1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjZmFkYjRlIC8qe2UtYmFyLWJhY2tncm91bmQtZW5kfSovKTsgLyogRkYzLjYgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICNmY2VkYTcgLyp7ZS1iYXItYmFja2dyb3VuZC1zdGFydH0qLywgI2ZhZGI0ZSAvKntlLWJhci1iYWNrZ3JvdW5kLWVuZH0qLyk7IC8qIElFMTAgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgIC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICNmY2VkYTcgLyp7ZS1iYXItYmFja2dyb3VuZC1zdGFydH0qLywgI2ZhZGI0ZSAvKntlLWJhci1iYWNrZ3JvdW5kLWVuZH0qLyk7IC8qIE9wZXJhIDExLjEwKyAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgICAgbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZjZWRhNyAvKntlLWJhci1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjZmFkYjRlIC8qe2UtYmFyLWJhY2tncm91bmQtZW5kfSovKTsNCn0NCi51aS1iYXItZSwNCi51aS1iYXItZSBpbnB1dCwNCi51aS1iYXItZSBzZWxlY3QsDQoudWktYmFyLWUgdGV4dGFyZWEsDQoudWktYmFyLWUgYnV0dG9uIHsNCglmb250LWZhbWlseTogSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZiAvKntlLWJhci1mb250fSovOw0KfQ0KLnVpLWJhci1lIC51aS1saW5rLWluaGVyaXQgew0KCWNvbG9yOiAJIzMzMzMzMyAvKntlLWJhci1jb2xvcn0qLzsNCn0NCi51aS1iYXItZSAudWktbGluayB7DQoJY29sb3I6ICMyNDg5Q0UgLyp7ZS1iYXItbGluay1jb2xvcn0qLzsNCglmb250LXdlaWdodDogYm9sZDsNCn0NCg0KLnVpLWJhci1lIC51aS1saW5rOmhvdmVyIHsNCgljb2xvcjogIzI0ODlDRSAvKntlLWJhci1saW5rLWhvdmVyfSovOw0KfQ0KDQoudWktYmFyLWUgLnVpLWxpbms6YWN0aXZlIHsNCgljb2xvcjogIzI0ODlDRSAvKntlLWJhci1saW5rLWFjdGl2ZX0qLzsNCn0NCg0KLnVpLWJhci1lIC51aS1saW5rOnZpc2l0ZWQgew0KICAgIGNvbG9yOiAjMjQ4OUNFIC8qe2UtYmFyLWxpbmstdmlzaXRlZH0qLzsNCn0NCg0KLnVpLWJvZHktZSB7DQoJYm9yZGVyOiAxcHggc29saWQgCQkjRjdDOTQyIC8qe2UtYm9keS1ib3JkZXJ9Ki87DQoJY29sb3I6IAkJCQkJIzMzMzMzMyAvKntlLWJvZHktY29sb3J9Ki87DQoJdGV4dC1zaGFkb3c6IDAgLyp7ZS1ib2R5LXNoYWRvdy14fSovIDFweCAvKntlLWJvZHktc2hhZG93LXl9Ki8gMCAvKntlLWJvZHktc2hhZG93LXJhZGl1c30qLyAJI2ZmZiAvKntlLWJvZHktc2hhZG93LWNvbG9yfSovOw0KCWJhY2tncm91bmQ6IAkJCSNmYWViOWUgLyp7ZS1ib2R5LWJhY2tncm91bmQtY29sb3J9Ki87DQoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgZnJvbSgjZmZmIC8qe2UtYm9keS1iYWNrZ3JvdW5kLXN0YXJ0fSovKSwgdG8oI2ZhZWI5ZSAvKntlLWJvZHktYmFja2dyb3VuZC1lbmR9Ki8pKTsgLyogU2FmNCssIENocm9tZSAqLw0KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZmZiAvKntlLWJvZHktYmFja2dyb3VuZC1zdGFydH0qLywgI2ZhZWI5ZSAvKntlLWJvZHktYmFja2dyb3VuZC1lbmR9Ki8pOyAvKiBDaHJvbWUgMTArLCBTYWY1LjErICovDQoJYmFja2dyb3VuZC1pbWFnZTogICAgLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjZmZmIC8qe2UtYm9keS1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjZmFlYjllIC8qe2UtYm9keS1iYWNrZ3JvdW5kLWVuZH0qLyk7IC8qIEZGMy42ICovDQoJYmFja2dyb3VuZC1pbWFnZTogICAgIC1tcy1saW5lYXItZ3JhZGllbnQodG9wLCAjZmZmIC8qe2UtYm9keS1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjZmFlYjllIC8qe2UtYm9keS1iYWNrZ3JvdW5kLWVuZH0qLyk7IC8qIElFMTAgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgIC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICNmZmYgLyp7ZS1ib2R5LWJhY2tncm91bmQtc3RhcnR9Ki8sICNmYWViOWUgLyp7ZS1ib2R5LWJhY2tncm91bmQtZW5kfSovKTsgLyogT3BlcmEgMTEuMTArICovDQoJYmFja2dyb3VuZC1pbWFnZTogICAgICAgICBsaW5lYXItZ3JhZGllbnQodG9wLCAjZmZmIC8qe2UtYm9keS1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjZmFlYjllIC8qe2UtYm9keS1iYWNrZ3JvdW5kLWVuZH0qLyk7DQp9DQoudWktYm9keS1lLA0KLnVpLWJvZHktZSBpbnB1dCwNCi51aS1ib2R5LWUgc2VsZWN0LA0KLnVpLWJvZHktZSB0ZXh0YXJlYSwNCi51aS1ib2R5LWUgYnV0dG9uIHsNCglmb250LWZhbWlseTogSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZiAvKntlLWJvZHktZm9udH0qLzsNCn0NCi51aS1ib2R5LWUgLnVpLWxpbmstaW5oZXJpdCB7DQoJY29sb3I6IAkjMzMzMzMzIC8qe2UtYm9keS1jb2xvcn0qLzsNCn0NCg0KLnVpLWJvZHktZSAudWktbGluayB7DQoJY29sb3I6ICMyNDg5Q0UgLyp7ZS1ib2R5LWxpbmstY29sb3J9Ki87DQoJZm9udC13ZWlnaHQ6IGJvbGQ7DQp9DQoNCi51aS1ib2R5LWUgLnVpLWxpbms6aG92ZXIgew0KCWNvbG9yOiAjMjQ4OUNFIC8qe2UtYm9keS1saW5rLWhvdmVyfSovOw0KfQ0KDQoudWktYm9keS1lIC51aS1saW5rOmFjdGl2ZSB7DQoJY29sb3I6ICMyNDg5Q0UgLyp7ZS1ib2R5LWxpbmstYWN0aXZlfSovOw0KfQ0KDQoudWktYm9keS1lIC51aS1saW5rOnZpc2l0ZWQgew0KICAgIGNvbG9yOiAjMjQ4OUNFIC8qe2UtYm9keS1saW5rLXZpc2l0ZWR9Ki87DQp9DQoNCi51aS1idG4tdXAtZSB7DQoJYm9yZGVyOiAxcHggc29saWQgCQkjRjdDOTQyIC8qe2UtYnVwLWJvcmRlcn0qLzsNCgliYWNrZ3JvdW5kOiAJCQkjZmFkYjRlIC8qe2UtYnVwLWJhY2tncm91bmQtY29sb3J9Ki87DQoJZm9udC13ZWlnaHQ6IGJvbGQ7DQoJY29sb3I6IAkJCQkJIzMzMyAvKntlLWJ1cC1jb2xvcn0qLzsNCgl0ZXh0LXNoYWRvdzogMCAvKntlLWJ1cC1zaGFkb3cteH0qLyAxcHggLyp7ZS1idXAtc2hhZG93LXl9Ki8gMCAvKntlLWJ1cC1zaGFkb3ctcmFkaXVzfSovIAkjZmZmIC8qe2UtYnVwLXNoYWRvdy1jb2xvcn0qLzsNCgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCB0b3AsIGxlZnQgYm90dG9tLCBmcm9tKCNmY2VkYTcgLyp7ZS1idXAtYmFja2dyb3VuZC1zdGFydH0qLyksIHRvKCNmYWRiNGUgLyp7ZS1idXAtYmFja2dyb3VuZC1lbmR9Ki8pKTsgLyogU2FmNCssIENocm9tZSAqLw0KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZjZWRhNyAvKntlLWJ1cC1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjZmFkYjRlIC8qe2UtYnVwLWJhY2tncm91bmQtZW5kfSovKTsgLyogQ2hyb21lIDEwKywgU2FmNS4xKyAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgIC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZjZWRhNyAvKntlLWJ1cC1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjZmFkYjRlIC8qe2UtYnVwLWJhY2tncm91bmQtZW5kfSovKTsgLyogRkYzLjYgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICNmY2VkYTcgLyp7ZS1idXAtYmFja2dyb3VuZC1zdGFydH0qLywgI2ZhZGI0ZSAvKntlLWJ1cC1iYWNrZ3JvdW5kLWVuZH0qLyk7IC8qIElFMTAgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgIC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICNmY2VkYTcgLyp7ZS1idXAtYmFja2dyb3VuZC1zdGFydH0qLywgI2ZhZGI0ZSAvKntlLWJ1cC1iYWNrZ3JvdW5kLWVuZH0qLyk7IC8qIE9wZXJhIDExLjEwKyAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgICAgbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZjZWRhNyAvKntlLWJ1cC1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjZmFkYjRlIC8qe2UtYnVwLWJhY2tncm91bmQtZW5kfSovKTsNCn0NCi51aS1idG4tdXAtZSBhLnVpLWxpbmstaW5oZXJpdCB7DQoJY29sb3I6IAkJCQkJIzMzMyAvKntlLWJ1cC1jb2xvcn0qLzsNCn0NCi51aS1idG4taG92ZXItZSB7DQoJYm9yZGVyOiAxcHggc29saWQgCQkjZTc5OTUyIC8qe2UtYmhvdmVyLWJvcmRlcn0qLzsNCgliYWNrZ3JvdW5kOiAJCQkjZmJlMjZmIC8qe2UtYmhvdmVyLWJhY2tncm91bmQtY29sb3J9Ki87DQoJZm9udC13ZWlnaHQ6IGJvbGQ7DQoJY29sb3I6IAkJCQkJIzExMSAvKntlLWJob3Zlci1jb2xvcn0qLzsNCgl0ZXh0LXNoYWRvdzogMCAvKntlLWJob3Zlci1zaGFkb3cteH0qLyAxcHggLyp7ZS1iaG92ZXItc2hhZG93LXl9Ki8gMXB4IC8qe2UtYmhvdmVyLXNoYWRvdy1yYWRpdXN9Ki8gCSNmZmYgLyp7ZS1iaG92ZXItc2hhZG93LWNvbG9yfSovOw0KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI2ZjZjBiNSAvKntlLWJob3Zlci1iYWNrZ3JvdW5kLXN0YXJ0fSovKSwgdG8oI2ZiZTI2ZiAvKntlLWJob3Zlci1iYWNrZ3JvdW5kLWVuZH0qLykpOyAvKiBTYWY0KywgQ2hyb21lICovDQoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjZmNmMGI1IC8qe2UtYmhvdmVyLWJhY2tncm91bmQtc3RhcnR9Ki8sICNmYmUyNmYgLyp7ZS1iaG92ZXItYmFja2dyb3VuZC1lbmR9Ki8pOyAvKiBDaHJvbWUgMTArLCBTYWY1LjErICovDQoJYmFja2dyb3VuZC1pbWFnZTogICAgLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjZmNmMGI1IC8qe2UtYmhvdmVyLWJhY2tncm91bmQtc3RhcnR9Ki8sICNmYmUyNmYgLyp7ZS1iaG92ZXItYmFja2dyb3VuZC1lbmR9Ki8pOyAvKiBGRjMuNiAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZjZjBiNSAvKntlLWJob3Zlci1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjZmJlMjZmIC8qe2UtYmhvdmVyLWJhY2tncm91bmQtZW5kfSovKTsgLyogSUUxMCAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZjZjBiNSAvKntlLWJob3Zlci1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjZmJlMjZmIC8qe2UtYmhvdmVyLWJhY2tncm91bmQtZW5kfSovKTsgLyogT3BlcmEgMTEuMTArICovDQoJYmFja2dyb3VuZC1pbWFnZTogICAgICAgICBsaW5lYXItZ3JhZGllbnQodG9wLCAjZmNmMGI1IC8qe2UtYmhvdmVyLWJhY2tncm91bmQtc3RhcnR9Ki8sICNmYmUyNmYgLyp7ZS1iaG92ZXItYmFja2dyb3VuZC1lbmR9Ki8pOw0KfQ0KDQoudWktYnRuLWhvdmVyLWUgYS51aS1saW5rLWluaGVyaXQgew0KCWNvbG9yOiAJCQkJCSMzMzMgLyp7ZS1iaG92ZXItY29sb3J9Ki87DQp9DQoudWktYnRuLWRvd24tZSB7DQoJYm9yZGVyOiAxcHggc29saWQgCQkjRjdDOTQyIC8qe2UtYmRvd24tYm9yZGVyfSovOw0KCWJhY2tncm91bmQ6IAkJCSNmY2VkYTcgLyp7ZS1iZG93bi1iYWNrZ3JvdW5kLWNvbG9yfSovOw0KCWZvbnQtd2VpZ2h0OiBib2xkOw0KCWNvbG9yOiAJCQkJCSMxMTEgLyp7ZS1iZG93bi1jb2xvcn0qLzsNCgl0ZXh0LXNoYWRvdzogMCAvKntlLWJkb3duLXNoYWRvdy14fSovIDFweCAvKntlLWJkb3duLXNoYWRvdy15fSovIDFweCAvKntlLWJkb3duLXNoYWRvdy1yYWRpdXN9Ki8gCSNmZmZmZmYgLyp7ZS1iZG93bi1zaGFkb3ctY29sb3J9Ki87DQoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgZnJvbSgjZmFkYjRlIC8qe2UtYmRvd24tYmFja2dyb3VuZC1zdGFydH0qLyksIHRvKCNmY2VkYTcgLyp7ZS1iZG93bi1iYWNrZ3JvdW5kLWVuZH0qLykpOyAvKiBTYWY0KywgQ2hyb21lICovDQoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjZmFkYjRlIC8qe2UtYmRvd24tYmFja2dyb3VuZC1zdGFydH0qLywgI2ZjZWRhNyAvKntlLWJkb3duLWJhY2tncm91bmQtZW5kfSovKTsgLyogQ2hyb21lIDEwKywgU2FmNS4xKyAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgIC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZhZGI0ZSAvKntlLWJkb3duLWJhY2tncm91bmQtc3RhcnR9Ki8sICNmY2VkYTcgLyp7ZS1iZG93bi1iYWNrZ3JvdW5kLWVuZH0qLyk7IC8qIEZGMy42ICovDQoJYmFja2dyb3VuZC1pbWFnZTogICAgIC1tcy1saW5lYXItZ3JhZGllbnQodG9wLCAjZmFkYjRlIC8qe2UtYmRvd24tYmFja2dyb3VuZC1zdGFydH0qLywgI2ZjZWRhNyAvKntlLWJkb3duLWJhY2tncm91bmQtZW5kfSovKTsgLyogSUUxMCAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZhZGI0ZSAvKntlLWJkb3duLWJhY2tncm91bmQtc3RhcnR9Ki8sICNmY2VkYTcgLyp7ZS1iZG93bi1iYWNrZ3JvdW5kLWVuZH0qLyk7IC8qIE9wZXJhIDExLjEwKyAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgICAgbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZhZGI0ZSAvKntlLWJkb3duLWJhY2tncm91bmQtc3RhcnR9Ki8sICNmY2VkYTcgLyp7ZS1iZG93bi1iYWNrZ3JvdW5kLWVuZH0qLyk7DQp9DQoudWktYnRuLWRvd24tZSBhLnVpLWxpbmstaW5oZXJpdCB7DQoJY29sb3I6IAkJCQkJIzMzMyAvKntlLWJkb3duLWNvbG9yfSovOw0KfQ0KLnVpLWJ0bi11cC1lLA0KLnVpLWJ0bi1ob3Zlci1lLA0KLnVpLWJ0bi1kb3duLWUgew0KCWZvbnQtZmFtaWx5OiBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmIC8qe2UtYnV0dG9uLWZvbnR9Ki87DQoJdGV4dC1kZWNvcmF0aW9uOiBub25lOw0KfQ0KDQovKiBTdHJ1Y3R1cmUgKi8NCg0KLyogbGlua3Mgd2l0aGluICJidXR0b25zIiANCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8NCg0KYS51aS1saW5rLWluaGVyaXQgew0KCXRleHQtZGVjb3JhdGlvbjogbm9uZSAhaW1wb3J0YW50Ow0KfQ0KDQoNCi8qIEFjdGl2ZSBjbGFzcyB1c2VkIGFzIHRoZSAib24iIHN0YXRlIGFjcm9zcyBhbGwgdGhlbWVzDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovDQoNCi51aS1idG4tYWN0aXZlIHsNCglib3JkZXI6IDFweCBzb2xpZCAJCSNjY2MgLyp7Z2xvYmFsLWFjdGl2ZS1ib3JkZXJ9Ki87DQoJYmFja2dyb3VuZDogCQkJI0YwRjFGMCAvKntnbG9iYWwtYWN0aXZlLWJhY2tncm91bmQtY29sb3J9Ki87DQoJZm9udC13ZWlnaHQ6IGJvbGQ7DQoJY29sb3I6IAkJCQkJI2ZmZiAvKntnbG9iYWwtYWN0aXZlLWNvbG9yfSovOw0KCWN1cnNvcjogcG9pbnRlcjsNCgl0ZXh0LXNoYWRvdzogMCAvKntnbG9iYWwtYWN0aXZlLXNoYWRvdy14fSovIC0xcHggLyp7Z2xvYmFsLWFjdGl2ZS1zaGFkb3cteX0qLyAxcHggLyp7Z2xvYmFsLWFjdGl2ZS1zaGFkb3ctcmFkaXVzfSovICMxNDUwNzIgLyp7Z2xvYmFsLWFjdGl2ZS1zaGFkb3ctY29sb3J9Ki87DQoJdGV4dC1kZWNvcmF0aW9uOiBub25lOw0KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI0YwRjFGMCAvKntnbG9iYWwtYWN0aXZlLWJhY2tncm91bmQtc3RhcnR9Ki8pLCB0bygjZmZmIC8qe2dsb2JhbC1hY3RpdmUtYmFja2dyb3VuZC1lbmR9Ki8pKTsgLyogU2FmNCssIENocm9tZSAqLw0KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgI0YwRjFGMCAvKntnbG9iYWwtYWN0aXZlLWJhY2tncm91bmQtc3RhcnR9Ki8sICNmZmYgLyp7Z2xvYmFsLWFjdGl2ZS1iYWNrZ3JvdW5kLWVuZH0qLyk7IC8qIENocm9tZSAxMCssIFNhZjUuMSsgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICNGMEYxRjAgLyp7Z2xvYmFsLWFjdGl2ZS1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjZmZmIC8qe2dsb2JhbC1hY3RpdmUtYmFja2dyb3VuZC1lbmR9Ki8pOyAvKiBGRjMuNiAqLw0KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgI0YwRjFGMCAvKntnbG9iYWwtYWN0aXZlLWJhY2tncm91bmQtc3RhcnR9Ki8sICNmZmYgLyp7Z2xvYmFsLWFjdGl2ZS1iYWNrZ3JvdW5kLWVuZH0qLyk7IC8qIElFMTAgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgIC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICNGMEYxRjAgLyp7Z2xvYmFsLWFjdGl2ZS1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjZmZmIC8qe2dsb2JhbC1hY3RpdmUtYmFja2dyb3VuZC1lbmR9Ki8pOyAvKiBPcGVyYSAxMS4xMCsgKi8NCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgICAgIGxpbmVhci1ncmFkaWVudCh0b3AsICNGMEYxRjAgLyp7Z2xvYmFsLWFjdGl2ZS1iYWNrZ3JvdW5kLXN0YXJ0fSovLCAjZmZmIC8qe2dsb2JhbC1hY3RpdmUtYmFja2dyb3VuZC1lbmR9Ki8pOw0KCWZvbnQtZmFtaWx5OiBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmIC8qe2dsb2JhbC1hY3RpdmUtZm9udH0qLzsNCn0NCi51aS1idG4tYWN0aXZlIGEudWktbGluay1pbmhlcml0IHsNCgljb2xvcjogCQkJCQkjZmZmIC8qe2dsb2JhbC1hY3RpdmUtY29sb3J9Ki87DQp9DQoNCg0KLyogYnV0dG9uIGlubmVyIHRvcCBoaWdobGlnaHQNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8NCg0KLnVpLWJ0bi1pbm5lciB7DQoJYm9yZGVyLXRvcDogMXB4IHNvbGlkIAkjZmZmOw0KCWJvcmRlci1jb2xvcjogCQkJcmdiYSgyNTUsMjU1LDI1NSwuMCk7DQp9DQoNCg0KLyogY29ybmVyIHJvdW5kaW5nIGNsYXNzZXMNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8NCg0KLnVpLWNvcm5lci10bCB7DQoJLW1vei1ib3JkZXItcmFkaXVzLXRvcGxlZnQ6IAkJLjZlbSAvKntnbG9iYWwtcmFkaWktYmxvY2tzfSovOw0KCS13ZWJraXQtYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogCS42ZW0gLyp7Z2xvYmFsLXJhZGlpLWJsb2Nrc30qLzsNCglib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAJCQkuNmVtIC8qe2dsb2JhbC1yYWRpaS1ibG9ja3N9Ki87DQp9DQoudWktY29ybmVyLXRyIHsNCgktbW96LWJvcmRlci1yYWRpdXMtdG9wcmlnaHQ6IAkJLjZlbSAvKntnbG9iYWwtcmFkaWktYmxvY2tzfSovOw0KCS13ZWJraXQtYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IAkuNmVtIC8qe2dsb2JhbC1yYWRpaS1ibG9ja3N9Ki87DQoJYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IAkJCS42ZW0gLyp7Z2xvYmFsLXJhZGlpLWJsb2Nrc30qLzsNCn0NCi51aS1jb3JuZXItYmwgew0KCS1tb3otYm9yZGVyLXJhZGl1cy1ib3R0b21sZWZ0OiAJCS42ZW0gLyp7Z2xvYmFsLXJhZGlpLWJsb2Nrc30qLzsNCgktd2Via2l0LWJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IAkuNmVtIC8qe2dsb2JhbC1yYWRpaS1ibG9ja3N9Ki87DQoJYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogCQkJLjZlbSAvKntnbG9iYWwtcmFkaWktYmxvY2tzfSovOw0KfQ0KLnVpLWNvcm5lci1iciB7DQoJLW1vei1ib3JkZXItcmFkaXVzLWJvdHRvbXJpZ2h0OiAJLjZlbSAvKntnbG9iYWwtcmFkaWktYmxvY2tzfSovOw0KCS13ZWJraXQtYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IC42ZW0gLyp7Z2xvYmFsLXJhZGlpLWJsb2Nrc30qLzsNCglib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogCQkuNmVtIC8qe2dsb2JhbC1yYWRpaS1ibG9ja3N9Ki87DQp9DQoudWktY29ybmVyLXRvcCB7DQoJLW1vei1ib3JkZXItcmFkaXVzLXRvcGxlZnQ6IAkJLjZlbSAvKntnbG9iYWwtcmFkaWktYmxvY2tzfSovOw0KCS13ZWJraXQtYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogCS42ZW0gLyp7Z2xvYmFsLXJhZGlpLWJsb2Nrc30qLzsNCglib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAJCQkuNmVtIC8qe2dsb2JhbC1yYWRpaS1ibG9ja3N9Ki87DQoJLW1vei1ib3JkZXItcmFkaXVzLXRvcHJpZ2h0OiAJCS42ZW0gLyp7Z2xvYmFsLXJhZGlpLWJsb2Nrc30qLzsNCgktd2Via2l0LWJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAJLjZlbSAvKntnbG9iYWwtcmFkaWktYmxvY2tzfSovOw0KCWJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAJCQkuNmVtIC8qe2dsb2JhbC1yYWRpaS1ibG9ja3N9Ki87DQp9DQoudWktY29ybmVyLWJvdHRvbSB7DQoJLW1vei1ib3JkZXItcmFkaXVzLWJvdHRvbWxlZnQ6IAkJLjZlbSAvKntnbG9iYWwtcmFkaWktYmxvY2tzfSovOw0KCS13ZWJraXQtYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogCS42ZW0gLyp7Z2xvYmFsLXJhZGlpLWJsb2Nrc30qLzsNCglib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAJCQkuNmVtIC8qe2dsb2JhbC1yYWRpaS1ibG9ja3N9Ki87DQoJLW1vei1ib3JkZXItcmFkaXVzLWJvdHRvbXJpZ2h0OiAJLjZlbSAvKntnbG9iYWwtcmFkaWktYmxvY2tzfSovOw0KCS13ZWJraXQtYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IC42ZW0gLyp7Z2xvYmFsLXJhZGlpLWJsb2Nrc30qLzsNCglib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogCQkuNmVtIC8qe2dsb2JhbC1yYWRpaS1ibG9ja3N9Ki87DQoJfQ0KLnVpLWNvcm5lci1yaWdodCB7DQoJLW1vei1ib3JkZXItcmFkaXVzLXRvcHJpZ2h0OiAJCS42ZW0gLyp7Z2xvYmFsLXJhZGlpLWJsb2Nrc30qLzsNCgktd2Via2l0LWJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAJLjZlbSAvKntnbG9iYWwtcmFkaWktYmxvY2tzfSovOw0KCWJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAJCQkuNmVtIC8qe2dsb2JhbC1yYWRpaS1ibG9ja3N9Ki87DQoJLW1vei1ib3JkZXItcmFkaXVzLWJvdHRvbXJpZ2h0OiAJLjZlbSAvKntnbG9iYWwtcmFkaWktYmxvY2tzfSovOw0KCS13ZWJraXQtYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IC42ZW0gLyp7Z2xvYmFsLXJhZGlpLWJsb2Nrc30qLzsNCglib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogCQkuNmVtIC8qe2dsb2JhbC1yYWRpaS1ibG9ja3N9Ki87DQp9DQoudWktY29ybmVyLWxlZnQgew0KCS1tb3otYm9yZGVyLXJhZGl1cy10b3BsZWZ0OiAJCS42ZW0gLyp7Z2xvYmFsLXJhZGlpLWJsb2Nrc30qLzsNCgktd2Via2l0LWJvcmRlci10b3AtbGVmdC1yYWRpdXM6IAkuNmVtIC8qe2dsb2JhbC1yYWRpaS1ibG9ja3N9Ki87DQoJYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogCQkJLjZlbSAvKntnbG9iYWwtcmFkaWktYmxvY2tzfSovOw0KCS1tb3otYm9yZGVyLXJhZGl1cy1ib3R0b21sZWZ0OiAJCS42ZW0gLyp7Z2xvYmFsLXJhZGlpLWJsb2Nrc30qLzsNCgktd2Via2l0LWJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IAkuNmVtIC8qe2dsb2JhbC1yYWRpaS1ibG9ja3N9Ki87DQoJYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogCQkJLjZlbSAvKntnbG9iYWwtcmFkaWktYmxvY2tzfSovOw0KfQ0KLnVpLWNvcm5lci1hbGwgew0KCS1tb3otYm9yZGVyLXJhZGl1czogCQkJCS42ZW0gLyp7Z2xvYmFsLXJhZGlpLWJsb2Nrc30qLzsNCgktd2Via2l0LWJvcmRlci1yYWRpdXM6IAkJCQkuNmVtIC8qe2dsb2JhbC1yYWRpaS1ibG9ja3N9Ki87DQoJYm9yZGVyLXJhZGl1czogCQkJCQkJLjZlbSAvKntnbG9iYWwtcmFkaWktYmxvY2tzfSovOw0KfQ0KLnVpLWNvcm5lci1ub25lIHsNCgktbW96LWJvcmRlci1yYWRpdXM6IAkJCQkgICAwOw0KCS13ZWJraXQtYm9yZGVyLXJhZGl1czogCQkJCSAgIDA7DQoJYm9yZGVyLXJhZGl1czogCQkJCQkJICAgMDsNCn0NCg0KLyogSW50ZXJhY3Rpb24gY3Vlcw0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLw0KLnVpLWRpc2FibGVkIHsNCglvcGFjaXR5OiAJCQkJCQkJLjM7DQp9DQoudWktZGlzYWJsZWQsDQoudWktZGlzYWJsZWQgYSB7DQoJcG9pbnRlci1ldmVudHM6IG5vbmU7DQoJY3Vyc29yOiBkZWZhdWx0Ow0KfQ0KDQovKiBJY29ucw0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLw0KDQoudWktaWNvbiwNCi51aS1pY29uLXNlYXJjaGZpZWxkOmFmdGVyIHsNCgliYWNrZ3JvdW5kOiAJCQkJCQkjNjY2IC8qe2dsb2JhbC1pY29uLWNvbG9yfSovOw0KCWJhY2tncm91bmQ6IAkJCQkJCXJnYmEoMCwwLDAsLjQpIC8qe2dsb2JhbC1pY29uLWRpc2N9Ki87DQoJYmFja2dyb3VuZC1pbWFnZTogdXJsKC9wdWJsaXNoZWRjb250ZW50L2ltYWdlcy9pbWFnZXMvaWNvbnMtMTgtd2hpdGUucG5nKSAvKntnbG9iYWwtaWNvbi1zZXR9Ki87DQoJYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDsNCgktbW96LWJvcmRlci1yYWRpdXM6IAkJCQk5cHg7DQoJLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAJCQkJOXB4Ow0KCWJvcmRlci1yYWRpdXM6IAkJCQkJCTlweDsNCn0NCg0KDQovKiBBbHQgaWNvbiBjb2xvcg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLw0KDQoudWktaWNvbi1hbHQgew0KCWJhY2tncm91bmQ6IAkJCQkJCSNmZmY7DQoJYmFja2dyb3VuZDogCQkJCQkJcmdiYSgyNTUsMjU1LDI1NSwuMyk7DQoJYmFja2dyb3VuZC1pbWFnZTogdXJsKC9wdWJsaXNoZWRjb250ZW50L2ltYWdlcy9pbWFnZXMvaWNvbnMtMTgtYmxhY2sucG5nKTsNCgliYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0Ow0KfQ0KDQovKiBIRC8icmV0aW5hIiBzcHJpdGUNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8NCg0KQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAoLXdlYmtpdC1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOiAxLjUpLA0KICAgICAgIG9ubHkgc2NyZWVuIGFuZCAobWluLS1tb3otZGV2aWNlLXBpeGVsLXJhdGlvOiAxLjUpLA0KICAgICAgIG9ubHkgc2NyZWVuIGFuZCAobWluLXJlc29sdXRpb246IDI0MGRwaSkgew0KCQ0KCS51aS1pY29uLXBsdXMsIC51aS1pY29uLW1pbnVzLCAudWktaWNvbi1kZWxldGUsIC51aS1pY29uLWFycm93LXIsDQoJLnVpLWljb24tYXJyb3ctbCwgLnVpLWljb24tYXJyb3ctdSwgLnVpLWljb24tYXJyb3ctZCwgLnVpLWljb24tY2hlY2ssDQoJLnVpLWljb24tZ2VhciwgLnVpLWljb24tcmVmcmVzaCwgLnVpLWljb24tZm9yd2FyZCwgLnVpLWljb24tYmFjaywNCgkudWktaWNvbi1ncmlkLCAudWktaWNvbi1zdGFyLCAudWktaWNvbi1hbGVydCwgLnVpLWljb24taW5mbywgLnVpLWljb24taG9tZSwgLnVpLWljb24tc2VhcmNoLCAudWktaWNvbi1zZWFyY2hmaWVsZDphZnRlciwgDQoJLnVpLWljb24tY2hlY2tib3gtb2ZmLCAudWktaWNvbi1jaGVja2JveC1vbiwgLnVpLWljb24tcmFkaW8tb2ZmLCAudWktaWNvbi1yYWRpby1vbiB7DQoJCWJhY2tncm91bmQtaW1hZ2U6IHVybCgvcHVibGlzaGVkY29udGVudC9pbWFnZXMvaW1hZ2VzL2ljb25zLTM2LXdoaXRlLnBuZyk7DQoJCS1tb3otYmFja2dyb3VuZC1zaXplOiA3NzZweCAxOHB4Ow0KCQktby1iYWNrZ3JvdW5kLXNpemU6IDc3NnB4IDE4cHg7DQoJCS13ZWJraXQtYmFja2dyb3VuZC1zaXplOiA3NzZweCAxOHB4Ow0KCQliYWNrZ3JvdW5kLXNpemU6IDc3NnB4IDE4cHg7DQoJfQ0KCS51aS1pY29uLWFsdCB7DQoJCWJhY2tncm91bmQtaW1hZ2U6IHVybCgvcHVibGlzaGVkY29udGVudC9pbWFnZXMvaW1hZ2VzL2ljb25zLTM2LWJsYWNrLnBuZyk7DQoJfQ0KfQ0KDQovKiBwbHVzIG1pbnVzICovDQoudWktaWNvbi1wbHVzIHsNCgliYWNrZ3JvdW5kLXBvc2l0aW9uOiAJLTAgNTAlOw0KfQ0KLnVpLWljb24tbWludXMgew0KCWJhY2tncm91bmQtcG9zaXRpb246IAktMzZweCA1MCU7DQp9DQoNCi8qIGRlbGV0ZS9jbG9zZSAqLw0KLnVpLWljb24tZGVsZXRlIHsNCgliYWNrZ3JvdW5kLXBvc2l0aW9uOiAJLTcycHggNTAlOw0KfQ0KDQovKiBhcnJvd3MgKi8NCi51aS1pY29uLWFycm93LXIgew0KCWJhY2tncm91bmQtcG9zaXRpb246IAktMTA4cHggNTAlOw0KfQ0KLnVpLWljb24tYXJyb3ctbCB7DQoJYmFja2dyb3VuZC1wb3NpdGlvbjogCS0xNDRweCA1MCU7DQp9DQoudWktaWNvbi1hcnJvdy11IHsNCgliYWNrZ3JvdW5kLXBvc2l0aW9uOiAJLTE4MHB4IDUwJTsNCn0NCi51aS1pY29uLWFycm93LWQgew0KCWJhY2tncm91bmQtcG9zaXRpb246IAktMjE2cHggNTAlOw0KfQ0KDQovKiBtaXNjICovDQoudWktaWNvbi1jaGVjayB7DQoJYmFja2dyb3VuZC1wb3NpdGlvbjogCS0yNTJweCA1MCU7DQp9DQoudWktaWNvbi1nZWFyIHsNCgliYWNrZ3JvdW5kLXBvc2l0aW9uOiAJLTI4OHB4IDUwJTsNCn0NCi51aS1pY29uLXJlZnJlc2ggew0KCWJhY2tncm91bmQtcG9zaXRpb246IAktMzI0cHggNTAlOw0KfQ0KLnVpLWljb24tZm9yd2FyZCB7DQoJYmFja2dyb3VuZC1wb3NpdGlvbjogCS0zNjBweCA1MCU7DQp9DQoudWktaWNvbi1iYWNrIHsNCgliYWNrZ3JvdW5kLXBvc2l0aW9uOiAJLTM5NnB4IDUwJTsNCn0NCi51aS1pY29uLWdyaWQgew0KCWJhY2tncm91bmQtcG9zaXRpb246IAktNDMycHggNTAlOw0KfQ0KLnVpLWljb24tc3RhciB7DQoJYmFja2dyb3VuZC1wb3NpdGlvbjogCS00NjhweCA1MCU7DQp9DQoudWktaWNvbi1hbGVydCB7DQoJYmFja2dyb3VuZC1wb3NpdGlvbjogCS01MDRweCA1MCU7DQp9DQoudWktaWNvbi1pbmZvIHsNCgliYWNrZ3JvdW5kLXBvc2l0aW9uOiAJLTU0MHB4IDUwJTsNCn0NCi51aS1pY29uLWhvbWUgew0KCWJhY2tncm91bmQtcG9zaXRpb246IAktNTc2cHggNTAlOw0KfQ0KLnVpLWljb24tc2VhcmNoLA0KLnVpLWljb24tc2VhcmNoZmllbGQ6YWZ0ZXIgew0KCWJhY2tncm91bmQtcG9zaXRpb246IAktNjEycHggNTAlOw0KfQ0KLnVpLWljb24tY2hlY2tib3gtb2ZmIHsNCgliYWNrZ3JvdW5kLXBvc2l0aW9uOiAJLTY4NHB4IDUwJTsNCn0NCi51aS1pY29uLWNoZWNrYm94LW9uIHsNCgliYWNrZ3JvdW5kLXBvc2l0aW9uOiAJLTY0OHB4IDUwJTsNCn0NCi51aS1pY29uLXJhZGlvLW9mZiB7DQoJYmFja2dyb3VuZC1wb3NpdGlvbjogCS03NTZweCA1MCU7DQp9DQoudWktaWNvbi1yYWRpby1vbiB7DQoJYmFja2dyb3VuZC1wb3NpdGlvbjogCS03MjBweCA1MCU7DQp9DQoNCg0KLyogY2hlY2tzLHJhZGlvcyAqLw0KLnVpLWNoZWNrYm94IC51aS1pY29uIHsNCgktbW96LWJvcmRlci1yYWRpdXM6IDNweDsNCgktd2Via2l0LWJvcmRlci1yYWRpdXM6IDNweDsNCglib3JkZXItcmFkaXVzOiAzcHg7DQp9DQoudWktaWNvbi1jaGVja2JveC1vZmYsDQoudWktaWNvbi1yYWRpby1vZmYgew0KCWJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OwkNCn0NCi51aS1jaGVja2JveC1vbiAudWktaWNvbiwNCi51aS1yYWRpby1vbiAudWktaWNvbiB7DQoJYmFja2dyb3VuZC1jb2xvcjogIzQ1OTZjZSAvKntnbG9iYWwtYWN0aXZlLWJhY2tncm91bmQtY29sb3J9Ki87IC8qIE5PVEU6IHRoaXMgaGV4IHNob3VsZCBtYXRjaCB0aGUgYWN0aXZlIHN0YXRlIGNvbG9yLiBJdCdzIHJlcGVhdGVkIGhlcmUgZm9yIGNhc2NhZGUgKi8NCn0NCg0KLyogbG9hZGluZyBpY29uICovDQoudWktaWNvbi1sb2FkaW5nIHsNCgliYWNrZ3JvdW5kLWltYWdlOiB1cmwoL3B1Ymxpc2hlZGNvbnRlbnQvaW1hZ2VzL2ltYWdlcy9hamF4LWxvYWRlci5wbmcpOw0KCXdpZHRoOiA0MHB4Ow0KCWhlaWdodDogNDBweDsNCgktbW96LWJvcmRlci1yYWRpdXM6IDIwcHg7DQoJLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAyMHB4Ow0KCWJvcmRlci1yYWRpdXM6IDIwcHg7DQoJYmFja2dyb3VuZC1zaXplOiAzNXB4IDM1cHg7DQp9DQoNCg0KLyogQnV0dG9uIGNvcm5lciBjbGFzc2VzDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovDQoNCi51aS1idG4tY29ybmVyLXRsIHsNCgktbW96LWJvcmRlci1yYWRpdXMtdG9wbGVmdDogCQkxZW0gLyp7Z2xvYmFsLXJhZGlpLWJ1dHRvbnN9Ki87DQoJLXdlYmtpdC1ib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAJMWVtIC8qe2dsb2JhbC1yYWRpaS1idXR0b25zfSovOw0KCWJvcmRlci10b3AtbGVmdC1yYWRpdXM6IAkJCTFlbSAvKntnbG9iYWwtcmFkaWktYnV0dG9uc30qLzsNCn0NCi51aS1idG4tY29ybmVyLXRyIHsNCgktbW96LWJvcmRlci1yYWRpdXMtdG9wcmlnaHQ6IAkJMWVtIC8qe2dsb2JhbC1yYWRpaS1idXR0b25zfSovOw0KCS13ZWJraXQtYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IAkxZW0gLyp7Z2xvYmFsLXJhZGlpLWJ1dHRvbnN9Ki87DQoJYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IAkJCTFlbSAvKntnbG9iYWwtcmFkaWktYnV0dG9uc30qLzsNCn0NCi51aS1idG4tY29ybmVyLWJsIHsNCgktbW96LWJvcmRlci1yYWRpdXMtYm90dG9tbGVmdDogCQkxZW0gLyp7Z2xvYmFsLXJhZGlpLWJ1dHRvbnN9Ki87DQoJLXdlYmtpdC1ib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAJMWVtIC8qe2dsb2JhbC1yYWRpaS1idXR0b25zfSovOw0KCWJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IAkJCTFlbSAvKntnbG9iYWwtcmFkaWktYnV0dG9uc30qLzsNCn0NCi51aS1idG4tY29ybmVyLWJyIHsNCgktbW96LWJvcmRlci1yYWRpdXMtYm90dG9tcmlnaHQ6IAkxZW0gLyp7Z2xvYmFsLXJhZGlpLWJ1dHRvbnN9Ki87DQoJLXdlYmtpdC1ib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMWVtIC8qe2dsb2JhbC1yYWRpaS1idXR0b25zfSovOw0KCWJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAJCTFlbSAvKntnbG9iYWwtcmFkaWktYnV0dG9uc30qLzsNCn0NCi51aS1idG4tY29ybmVyLXRvcCB7DQoJLW1vei1ib3JkZXItcmFkaXVzLXRvcGxlZnQ6IAkJMWVtIC8qe2dsb2JhbC1yYWRpaS1idXR0b25zfSovOw0KCS13ZWJraXQtYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogCTFlbSAvKntnbG9iYWwtcmFkaWktYnV0dG9uc30qLzsNCglib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAJCQkxZW0gLyp7Z2xvYmFsLXJhZGlpLWJ1dHRvbnN9Ki87DQoJLW1vei1ib3JkZXItcmFkaXVzLXRvcHJpZ2h0OiAJCTFlbSAvKntnbG9iYWwtcmFkaWktYnV0dG9uc30qLzsNCgktd2Via2l0LWJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAJMWVtIC8qe2dsb2JhbC1yYWRpaS1idXR0b25zfSovOw0KCWJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAJCQkxZW0gLyp7Z2xvYmFsLXJhZGlpLWJ1dHRvbnN9Ki87DQp9DQoudWktYnRuLWNvcm5lci1ib3R0b20gew0KCS1tb3otYm9yZGVyLXJhZGl1cy1ib3R0b21sZWZ0OiAJCTFlbSAvKntnbG9iYWwtcmFkaWktYnV0dG9uc30qLzsNCgktd2Via2l0LWJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IAkxZW0gLyp7Z2xvYmFsLXJhZGlpLWJ1dHRvbnN9Ki87DQoJYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogCQkJMWVtIC8qe2dsb2JhbC1yYWRpaS1idXR0b25zfSovOw0KCS1tb3otYm9yZGVyLXJhZGl1cy1ib3R0b21yaWdodDogCTFlbSAvKntnbG9iYWwtcmFkaWktYnV0dG9uc30qLzsNCgktd2Via2l0LWJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAxZW0gLyp7Z2xvYmFsLXJhZGlpLWJ1dHRvbnN9Ki87DQoJYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IAkJMWVtIC8qe2dsb2JhbC1yYWRpaS1idXR0b25zfSovOw0KfQ0KLnVpLWJ0bi1jb3JuZXItcmlnaHQgew0KCSAtbW96LWJvcmRlci1yYWRpdXMtdG9wcmlnaHQ6IAkJMWVtIC8qe2dsb2JhbC1yYWRpaS1idXR0b25zfSovOw0KCS13ZWJraXQtYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IAkxZW0gLyp7Z2xvYmFsLXJhZGlpLWJ1dHRvbnN9Ki87DQoJYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IAkJCTFlbSAvKntnbG9iYWwtcmFkaWktYnV0dG9uc30qLzsNCgktbW96LWJvcmRlci1yYWRpdXMtYm90dG9tcmlnaHQ6IAkxZW0gLyp7Z2xvYmFsLXJhZGlpLWJ1dHRvbnN9Ki87DQoJLXdlYmtpdC1ib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMWVtIC8qe2dsb2JhbC1yYWRpaS1idXR0b25zfSovOw0KCWJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAJCTFlbSAvKntnbG9iYWwtcmFkaWktYnV0dG9uc30qLzsNCn0NCi51aS1idG4tY29ybmVyLWxlZnQgew0KCS1tb3otYm9yZGVyLXJhZGl1cy10b3BsZWZ0OiAJCTFlbSAvKntnbG9iYWwtcmFkaWktYnV0dG9uc30qLzsNCgktd2Via2l0LWJvcmRlci10b3AtbGVmdC1yYWRpdXM6IAkxZW0gLyp7Z2xvYmFsLXJhZGlpLWJ1dHRvbnN9Ki87DQoJYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogCQkJMWVtIC8qe2dsb2JhbC1yYWRpaS1idXR0b25zfSovOw0KCS1tb3otYm9yZGVyLXJhZGl1cy1ib3R0b21sZWZ0OiAJCTFlbSAvKntnbG9iYWwtcmFkaWktYnV0dG9uc30qLzsNCgktd2Via2l0LWJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IAkxZW0gLyp7Z2xvYmFsLXJhZGlpLWJ1dHRvbnN9Ki87DQoJYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogCQkJMWVtIC8qe2dsb2JhbC1yYWRpaS1idXR0b25zfSovOw0KfQ0KLnVpLWJ0bi1jb3JuZXItYWxsIHsNCgktbW96LWJvcmRlci1yYWRpdXM6IAkJCQkuNzVlbSAvKntnbG9iYWwtcmFkaWktYnV0dG9uc30qLzsNCgktd2Via2l0LWJvcmRlci1yYWRpdXM6IAkJCQkuNzVlbSAvKntnbG9iYWwtcmFkaWktYnV0dG9uc30qLzsNCglib3JkZXItcmFkaXVzOiAJCQkJCQkuNzVlbSAvKntnbG9iYWwtcmFkaWktYnV0dG9uc30qLzsNCn0NCg0KLyogcmFkaXVzIGNsaXAgd29ya2Fyb3VuZCBmb3IgY2xlYW5pbmcgdXAgY29ybmVyIHRyYXBwaW5nICovDQoudWktY29ybmVyLXRsLA0KLnVpLWNvcm5lci10ciwNCi51aS1jb3JuZXItYmwsIA0KLnVpLWNvcm5lci1iciwNCi51aS1jb3JuZXItdG9wLA0KLnVpLWNvcm5lci1ib3R0b20sIA0KLnVpLWNvcm5lci1yaWdodCwNCi51aS1jb3JuZXItbGVmdCwNCi51aS1jb3JuZXItYWxsLA0KLnVpLWJ0bi1jb3JuZXItdGwsDQoudWktYnRuLWNvcm5lci10ciwNCi51aS1idG4tY29ybmVyLWJsLCANCi51aS1idG4tY29ybmVyLWJyLA0KLnVpLWJ0bi1jb3JuZXItdG9wLA0KLnVpLWJ0bi1jb3JuZXItYm90dG9tLCANCi51aS1idG4tY29ybmVyLXJpZ2h0LA0KLnVpLWJ0bi1jb3JuZXItbGVmdCwNCi51aS1idG4tY29ybmVyLWFsbCB7DQogIC13ZWJraXQtYmFja2dyb3VuZC1jbGlwOiBwYWRkaW5nLWJveDsNCiAgICAgLW1vei1iYWNrZ3JvdW5kLWNsaXA6IHBhZGRpbmc7DQogICAgICAgICAgYmFja2dyb3VuZC1jbGlwOiBwYWRkaW5nLWJveDsNCn0NCg0KLyogT3ZlcmxheSAvIG1vZGFsDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovDQoNCi51aS1vdmVybGF5IHsNCgliYWNrZ3JvdW5kOiAjNjY2Ow0KCW9wYWNpdHk6IC41Ow0KCWZpbHRlcjogQWxwaGEoT3BhY2l0eT01MCk7DQoJcG9zaXRpb246IGFic29sdXRlOw0KCXdpZHRoOiAxMDAlOw0KCWhlaWdodDogMTAwJTsNCn0NCi51aS1vdmVybGF5LXNoYWRvdyB7DQoJLW1vei1ib3gtc2hhZG93OiAwcHggMHB4IDEycHggCQkJcmdiYSgwLDAsMCwuNik7DQoJLXdlYmtpdC1ib3gtc2hhZG93OiAwcHggMHB4IDEycHggCQlyZ2JhKDAsMCwwLC42KTsNCglib3gtc2hhZG93OiAwcHggMHB4IDEycHggCQkJCXJnYmEoMCwwLDAsLjYpOw0KfQ0KLnVpLXNoYWRvdyB7DQoJLW1vei1ib3gtc2hhZG93OiAwcHggMXB4IDRweCAvKntnbG9iYWwtYm94LXNoYWRvdy1zaXplfSovIAkJCXJnYmEoMCwwLDAsLjMpIC8qe2dsb2JhbC1ib3gtc2hhZG93LWNvbG9yfSovOw0KCS13ZWJraXQtYm94LXNoYWRvdzogMHB4IDFweCA0cHggLyp7Z2xvYmFsLWJveC1zaGFkb3ctc2l6ZX0qLyAJCXJnYmEoMCwwLDAsLjMpIC8qe2dsb2JhbC1ib3gtc2hhZG93LWNvbG9yfSovOw0KCWJveC1zaGFkb3c6IDBweCAxcHggNHB4IC8qe2dsb2JhbC1ib3gtc2hhZG93LXNpemV9Ki8gCQkJCXJnYmEoMCwwLDAsLjMpIC8qe2dsb2JhbC1ib3gtc2hhZG93LWNvbG9yfSovOw0KfQ0KLnVpLWJhci1hIC51aS1zaGFkb3csDQoudWktYmFyLWIgLnVpLXNoYWRvdyAsDQoudWktYmFyLWMgLnVpLXNoYWRvdyAgew0KCS1tb3otYm94LXNoYWRvdzogMHB4IDFweCAwIAkJCQlyZ2JhKDI1NSwyNTUsMjU1LC4zKTsNCgktd2Via2l0LWJveC1zaGFkb3c6IDBweCAxcHggMCAJCQlyZ2JhKDI1NSwyNTUsMjU1LC4zKTsNCglib3gtc2hhZG93OiAwcHggMXB4IDAgCQkJCQlyZ2JhKDI1NSwyNTUsMjU1LC4zKTsNCn0NCi51aS1zaGFkb3ctaW5zZXQgew0KCS1tb3otYm94LXNoYWRvdzogaW5zZXQgMHB4IDFweCA0cHggCQlyZ2JhKDAsMCwwLC4yKTsNCgktd2Via2l0LWJveC1zaGFkb3c6IGluc2V0IDBweCAxcHggNHB4IAlyZ2JhKDAsMCwwLC4yKTsNCglib3gtc2hhZG93OiBpbnNldCAwcHggMXB4IDRweCAJCQlyZ2JhKDAsMCwwLC4yKTsNCn0NCi51aS1pY29uLXNoYWRvdyB7DQoJLW1vei1ib3gtc2hhZG93OiAwcHggMXB4IDAgCQkJCXJnYmEoMjU1LDI1NSwyNTUsLjQpOw0KCS13ZWJraXQtYm94LXNoYWRvdzogMHB4IDFweCAwIAkJCXJnYmEoMjU1LDI1NSwyNTUsLjQpOw0KCWJveC1zaGFkb3c6IDBweCAxcHggMCAJCQkJCXJnYmEoMjU1LDI1NSwyNTUsLjQpOw0KfQ0KDQovKiBGb2N1cyBzdGF0ZSAtIHNldCBoZXJlIGZvciBzcGVjaWZpY2l0eQ0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLw0KDQoudWktZm9jdXMgew0KCS1tb3otYm94LXNoYWRvdzogMHB4IDBweCAxMnB4IAkJIzM4N2JiZSAvKntnbG9iYWwtYWN0aXZlLWJhY2tncm91bmQtY29sb3J9Ki87DQoJLXdlYmtpdC1ib3gtc2hhZG93OiAwcHggMHB4IDEycHggCSMzODdiYmUgLyp7Z2xvYmFsLWFjdGl2ZS1iYWNrZ3JvdW5kLWNvbG9yfSovOw0KCWJveC1zaGFkb3c6IDBweCAwcHggMTJweCAJCQkjMzg3YmJlIC8qe2dsb2JhbC1hY3RpdmUtYmFja2dyb3VuZC1jb2xvcn0qLzsNCn0NCg0KLyogdW5zZXQgYm94IHNoYWRvdyBpbiBicm93c2VycyB0aGF0IGRvbid0IGRvIGl0IHJpZ2h0DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovDQoNCi51aS1tb2JpbGUtbm9zdXBwb3J0LWJveHNoYWRvdyAqIHsNCgktbW96LWJveC1zaGFkb3c6IG5vbmUgIWltcG9ydGFudDsNCgktd2Via2l0LWJveC1zaGFkb3c6IG5vbmUgIWltcG9ydGFudDsNCglib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7DQp9DQoNCi8qIC4uLmFuZCBicmluZyBiYWNrIGZvY3VzICovDQoudWktbW9iaWxlLW5vc3VwcG9ydC1ib3hzaGFkb3cgLnVpLWZvY3VzIHsNCglvdXRsaW5lLXdpZHRoOiAycHg7DQp9LyoNCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsNCiogQ29weXJpZ2h0IChjKSBqUXVlcnkgUHJvamVjdA0KKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgKE1JVC1MSUNFTlNFLnR4dCkgYW5kIEdQTCAoR1BMLUxJQ0VOU0UudHh0KSBsaWNlbnNlcy4NCiovDQoNCi8qIHNvbWUgdW5zZXRzIC0gbW9yZSBwcm9iYWJseSBuZWVkZWQgKi8NCi51aS1tb2JpbGUsIC51aS1tb2JpbGUgYm9keSB7IGhlaWdodDogMTAwJTsgfQ0KLnVpLW1vYmlsZSBmaWVsZHNldCwgLnVpLXBhZ2UgeyBwYWRkaW5nOiAwOyBtYXJnaW46IDA7IH0NCi51aS1tb2JpbGUgYSBpbWcsIC51aS1tb2JpbGUgZmllbGRzZXQgeyBib3JkZXI6IDA7IH0NCg0KLyogcmVzcG9uc2l2ZSBwYWdlIHdpZHRocyAqLw0KLnVpLW1vYmlsZS12aWV3cG9ydCB7ICBtYXJnaW46IDA7IG92ZXJmbG93LXg6IGhpZGRlbjsgLXdlYmtpdC10ZXh0LXNpemUtYWRqdXN0OiBub25lOyAtbXMtdGV4dC1zaXplLWFkanVzdDpub25lOyAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMCk7IH0NCg0KLyogInBhZ2UiIGNvbnRhaW5lcnMgLSBmdWxsLXNjcmVlbiB2aWV3cywgb25lIHNob3VsZCBhbHdheXMgYmUgaW4gdmlldyBwb3N0LXBhZ2Vsb2FkICovDQoudWktbW9iaWxlIFtkYXRhLXJvbGU9cGFnZV0sIC51aS1tb2JpbGUgW2RhdGEtcm9sZT1kaWFsb2ddLCAudWktcGFnZSB7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDEwMCU7IG1pbi1oZWlnaHQ6IDEwMCU7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgZGlzcGxheTogbm9uZTsgYm9yZGVyOiAwOyB9IA0KLnVpLW1vYmlsZSAudWktcGFnZS1hY3RpdmUgeyBkaXNwbGF5OiBibG9jazsgb3ZlcmZsb3c6IHZpc2libGU7IH0NCg0KLyogb24gaW9zNCwgc2V0dGluZyBmb2N1cyBvbiB0aGUgcGFnZSBlbGVtZW50IGNhdXNlcyBmbGFzaGluZyBkdXJpbmcgdHJhbnNpdGlvbnMgd2hlbiB0aGVyZSBpcyBhbiBvdXRsaW5lLCBzbyB3ZSB0dXJuIG9mZiBvdXRsaW5lcyAqLw0KLnVpLXBhZ2UgeyBvdXRsaW5lOiBub25lOyB9DQoNCi8qb3JpZW50YXRpb25zIGZyb20ganMgYXJlIGF2YWlsYWJsZSAqLw0KQG1lZGlhIHNjcmVlbiBhbmQgKG9yaWVudGF0aW9uOiBwb3J0cmFpdCl7DQoudWktbW9iaWxlLCAudWktbW9iaWxlIC51aS1wYWdlIHsgbWluLWhlaWdodDogNDIwcHg7IH0NCn0NCkBtZWRpYSBzY3JlZW4gYW5kIChvcmllbnRhdGlvbjogbGFuZHNjYXBlKXsNCi51aS1tb2JpbGUsIC51aS1tb2JpbGUgLnVpLXBhZ2UgeyBtaW4taGVpZ2h0OiAzMDBweDsgfQ0KfQ0KDQovKiBuYXRpdmUgb3ZlcmZsb3cgc2Nyb2xsaW5nICovDQoudWktcGFnZS51aS1tb2JpbGUtdG91Y2gtb3ZlcmZsb3csDQoudWktbW9iaWxlLXRvdWNoLW92ZXJmbG93LnVpLW5hdGl2ZS1maXhlZCAudWktY29udGVudCB7DQoJb3ZlcmZsb3c6IGF1dG87DQoJaGVpZ2h0OiAxMDAlOw0KCS13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOiB0b3VjaDsNCgktbW96LW92ZXJmbG93LXNjcm9sbGluZzogdG91Y2g7DQoJLW8tb3ZlcmZsb3ctc2Nyb2xsaW5nOiB0b3VjaDsNCgktbXMtb3ZlcmZsb3ctc2Nyb2xsaW5nOiB0b3VjaDsNCglvdmVyZmxvdy1zY3JvbGxpbmc6IHRvdWNoOw0KfQ0KLnVpLXBhZ2UudWktbW9iaWxlLXRvdWNoLW92ZXJmbG93LA0KLnVpLXBhZ2UudWktbW9iaWxlLXRvdWNoLW92ZXJmbG93ICogew0KCS8qIHNvbWUgbGV2ZWwgb2YgdHJhbnNmb3JtIGtlZXBzIGVsZW1lbnRzIGZyb20gYmxpbmtpbmcgb3V0IG9mIHZpc2liaWxpdHkgb24gaU9TICovDQoJLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZVkoMCk7DQp9DQoudWktcGFnZS51aS1tb2JpbGUtcHJlLXRyYW5zaXRpb24gew0KCWRpc3BsYXk6IGJsb2NrOw0KfQ0KDQovKiBsb2FkaW5nIHNjcmVlbiAqLw0KLnVpLWxvYWRpbmcgLnVpLW1vYmlsZS12aWV3cG9ydCB7IG92ZXJmbG93OiBoaWRkZW4gIWltcG9ydGFudDsgfQ0KLnVpLWxvYWRpbmcgLnVpLWxvYWRlciB7IGRpc3BsYXk6IGJsb2NrOyB9DQoudWktbG9hZGluZyAudWktcGFnZSB7IG92ZXJmbG93OiBoaWRkZW47ICB9DQoudWktbG9hZGVyIHsgZGlzcGxheTogbm9uZTsgcG9zaXRpb246IGFic29sdXRlOyBvcGFjaXR5OiAuODU7IHotaW5kZXg6IDEwMDsgbGVmdDogNTAlOyB3aWR0aDogMjAwcHg7IG1hcmdpbi1sZWZ0OiAtMTMwcHg7IG1hcmdpbi10b3A6IC0zNXB4OyBwYWRkaW5nOiAxMHB4IDMwcHg7IH0NCi51aS1sb2FkZXIgaDEgeyBmb250LXNpemU6IDE1cHg7IHRleHQtYWxpZ246IGNlbnRlcjsgfQ0KLnVpLWxvYWRlciAudWktaWNvbiB7IHBvc2l0aW9uOiBzdGF0aWM7IGRpc3BsYXk6IGJsb2NrOyBvcGFjaXR5OiAuOTsgbWFyZ2luOiAwIGF1dG87IHdpZHRoOiAzNXB4OyBoZWlnaHQ6IDM1cHg7IGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OyB9DQoNCi8qZm91YyovDQoudWktbW9iaWxlLXJlbmRlcmluZyA+ICogeyB2aXNpYmlsaXR5OiBoaWRkZW47IH0NCg0KLypoZWFkZXJzLCBjb250ZW50IHBhbmVscyovDQoudWktYmFyLCAudWktYm9keSB7IHBvc2l0aW9uOiByZWxhdGl2ZTsgcGFkZGluZzogLjRlbSAxNXB4OyAgb3ZlcmZsb3c6IGhpZGRlbjsgZGlzcGxheTogYmxvY2s7ICBjbGVhcjpib3RoOyAgfQ0KLnVpLWJhciB7IGZvbnQtc2l6ZTogMTZweDsgbWFyZ2luOiAwOyB9DQoudWktYmFyIGgxLCAudWktYmFyIGgyLCAudWktYmFyIGgzLCAudWktYmFyIGg0LCAudWktYmFyIGg1LCAudWktYmFyIGg2IHsgbWFyZ2luOiAwOyBwYWRkaW5nOiAwOyBmb250LXNpemU6IDE2cHg7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgfQ0KDQoudWktaGVhZGVyLCAudWktZm9vdGVyIHsgZGlzcGxheTogYmxvY2s7IH0NCi51aS1wYWdlIC51aS1oZWFkZXIsIC51aS1wYWdlIC51aS1mb290ZXIgeyBwb3NpdGlvbjogcmVsYXRpdmU7IH0NCi51aS1oZWFkZXIgLnVpLWJ0bi1sZWZ0IHsgcG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiAxMHB4OyB0b3A6IC40ZW07ICB9DQoudWktaGVhZGVyIC51aS1idG4tcmlnaHQgeyBwb3NpdGlvbjogYWJzb2x1dGU7IHJpZ2h0OiAxMHB4OyB0b3A6IC40ZW07IH0NCi51aS1oZWFkZXIgLnVpLXRpdGxlLCAudWktZm9vdGVyIC51aS10aXRsZSB7IG1pbi1oZWlnaHQ6IDEuMWVtOyB0ZXh0LWFsaWduOiBjZW50ZXI7IGZvbnQtc2l6ZTogMTZweDsgZGlzcGxheTogYmxvY2s7IG1hcmdpbjogLjZlbSA5MHB4IC44ZW07ICBwYWRkaW5nOiAwOyAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7IG92ZXJmbG93OiBoaWRkZW47IHdoaXRlLXNwYWNlOiBub3dyYXA7IG91dGxpbmU6IDAgIWltcG9ydGFudDsgfQ0KLnVpLWZvb3RlciAudWktdGl0bGUgeyBtYXJnaW46IC42ZW0gMTVweCAuOGVtOyAgfQ0KDQovKmNvbnRlbnQgYXJlYSovDQoudWktY29udGVudCB7IGJvcmRlci13aWR0aDogMDsgb3ZlcmZsb3c6IHZpc2libGU7IG92ZXJmbG93LXg6IGhpZGRlbjsgcGFkZGluZzogMTVweDsgfQ0KLnVpLXBhZ2UtZnVsbHNjcmVlbiAudWktY29udGVudCB7IHBhZGRpbmc6MDsgfQ0KDQovKiBuYXRpdmUgZml4ZWQgaGVhZGVycyBhbmQgZm9vdGVycyAqLw0KLnVpLW1vYmlsZS10b3VjaC1vdmVyZmxvdy51aS1wYWdlLnVpLW5hdGl2ZS1maXhlZCwNCi51aS1tb2JpbGUtdG91Y2gtb3ZlcmZsb3cudWktcGFnZS51aS1uYXRpdmUtZnVsbHNjcmVlbiB7DQoJb3ZlcmZsb3c6IHZpc2libGU7DQp9DQoudWktbW9iaWxlLXRvdWNoLW92ZXJmbG93LnVpLW5hdGl2ZS1maXhlZCAudWktaGVhZGVyLA0KLnVpLW1vYmlsZS10b3VjaC1vdmVyZmxvdy51aS1uYXRpdmUtZml4ZWQgLnVpLWZvb3RlciB7DQoJcG9zaXRpb246IGZpeGVkOw0KCWxlZnQ6IDA7DQoJcmlnaHQ6IDA7DQoJdG9wOiAwOw0KCXotaW5kZXg6IDIwMDsNCn0NCi51aS1tb2JpbGUtdG91Y2gtb3ZlcmZsb3cudWktcGFnZS51aS1uYXRpdmUtZml4ZWQgLnVpLWZvb3RlciB7DQoJdG9wOiBhdXRvOw0KCWJvdHRvbTogMDsNCn0NCi51aS1tb2JpbGUtdG91Y2gtb3ZlcmZsb3cudWktbmF0aXZlLWZpeGVkIC51aS1jb250ZW50IHsNCglwYWRkaW5nLXRvcDogMi41ZW07DQoJcGFkZGluZy1ib3R0b206IDNlbTsNCgl0b3A6IDA7DQoJYm90dG9tOiAwOw0KCWhlaWdodDogYXV0bzsNCglwb3NpdGlvbjogYWJzb2x1dGU7DQp9DQoudWktbW9iaWxlLXRvdWNoLW92ZXJmbG93LnVpLW5hdGl2ZS1mdWxsc2NyZWVuIC51aS1jb250ZW50IHsNCglwYWRkaW5nLXRvcDogMDsNCglwYWRkaW5nLWJvdHRvbTogMDsNCn0NCi51aS1tb2JpbGUtdG91Y2gtb3ZlcmZsb3cudWktbmF0aXZlLWZ1bGxzY3JlZW4gLnVpLWhlYWRlciwNCi51aS1tb2JpbGUtdG91Y2gtb3ZlcmZsb3cudWktbmF0aXZlLWZ1bGxzY3JlZW4gLnVpLWZvb3RlciB7DQoJb3BhY2l0eTogLjk7DQp9DQoudWktbmF0aXZlLWJhcnMtaGlkZGVuIHsNCglkaXNwbGF5OiBub25lOw0KfQ0KDQovKiBpY29ucyBzaXppbmcgKi8NCi51aS1pY29uIHsgd2lkdGg6IDE4cHg7IGhlaWdodDogMThweDsgfQ0KDQovKiBmdWxsc2NyZWVuIGNsYXNzIG9uIHVpLWNvbnRlbnQgZGl2ICovDQoudWktZnVsbHNjcmVlbiB7ICB9DQoudWktZnVsbHNjcmVlbiBpbWcgeyBtYXgtd2lkdGg6IDEwMCU7IH0NCg0KLyogbm9uLWpzIGNvbnRlbnQgaGlkaW5nICovDQoudWktbm9qcyB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogLTk5OTlweDsgfQ0KDQovKiBhY2Nlc3NpYmxlIGNvbnRlbnQgaGlkaW5nICovDQoudWktaGlkZS1sYWJlbCBsYWJlbCwNCi51aS1oaWRkZW4tYWNjZXNzaWJsZSB7IHBvc2l0aW9uOiBhYnNvbHV0ZSAhaW1wb3J0YW50OyBsZWZ0OiAtOTk5OXB4OyBjbGlwOiByZWN0KDFweCAxcHggMXB4IDFweCk7IGNsaXA6IHJlY3QoMXB4LDFweCwxcHgsMXB4KTsgfQ0KLyoNCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsNCiogQ29weXJpZ2h0IChjKSBqUXVlcnkgUHJvamVjdA0KKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgKE1JVC1MSUNFTlNFLnR4dCkgb3IgR1BMIChHUEwtTElDRU5TRS50eHQpIGxpY2Vuc2VzLg0KKi8NCi5zcGluICB7DQoJLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOw0KCS13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IHNwaW47DQoJLXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb246IDFzOw0KCS13ZWJraXQtYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogIGluZmluaXRlOw0KCS13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogbGluZWFyOw0KfQ0KQC13ZWJraXQta2V5ZnJhbWVzIHNwaW4gew0KCWZyb20gey13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7fQ0KICAJdG8gey13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTt9DQp9DQoNCi8qIFRyYW5zaXRpb25zIGZyb20galF0b3VjaCAod2l0aCBzbWFsbCBtb2RpZmljYXRpb25zKTogaHR0cDovL3d3dy5qcXRvdWNoLmNvbS8NCkJ1aWx0IGJ5IERhdmlkIEthbmVkYSBhbmQgbWFpbnRhaW5lZCBieSBKb25hdGhhbiBTdGFyay4NCiovDQouaW4sIC5vdXQgew0KCS13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbi1vdXQ7DQoJLXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb246IDM1MG1zOw0KfQ0KDQoNCi5zbGlkZS5vdXQgew0KCS13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0xMDAlKTsNCgktd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBzbGlkZW91dHRvbGVmdDsNCn0NCg0KLnNsaWRlLmluIHsNCgktd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsNCgktd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBzbGlkZWluZnJvbXJpZ2h0Ow0KfQ0KDQouc2xpZGUub3V0LnJldmVyc2Ugew0KCS13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDEwMCUpOw0KCS13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IHNsaWRlb3V0dG9yaWdodDsNCn0NCg0KLnNsaWRlLmluLnJldmVyc2Ugew0KCS13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOw0KCS13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IHNsaWRlaW5mcm9tbGVmdDsNCn0NCg0KLnNsaWRldXAub3V0IHsNCgktd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBkb250bW92ZTsNCgl6LWluZGV4OiAwOw0KfQ0KDQouc2xpZGV1cC5pbiB7DQoJLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7DQoJLXdlYmtpdC1hbmltYXRpb24tbmFtZTogc2xpZGVpbmZyb21ib3R0b207DQoJei1pbmRleDogMTA7DQp9DQoNCi5zbGlkZXVwLmluLnJldmVyc2Ugew0KCXotaW5kZXg6IDA7DQoJLXdlYmtpdC1hbmltYXRpb24tbmFtZTogZG9udG1vdmU7DQp9DQoNCi5zbGlkZXVwLm91dC5yZXZlcnNlIHsNCgktd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWSgxMDAlKTsNCgl6LWluZGV4OiAxMDsNCgktd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBzbGlkZW91dHRvYm90dG9tOw0KfQ0KDQouc2xpZGVkb3duLm91dCB7DQoJLXdlYmtpdC1hbmltYXRpb24tbmFtZTogZG9udG1vdmU7DQoJei1pbmRleDogMDsNCn0NCg0KLnNsaWRlZG93bi5pbiB7DQoJLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7DQoJLXdlYmtpdC1hbmltYXRpb24tbmFtZTogc2xpZGVpbmZyb210b3A7DQoJei1pbmRleDogMTA7DQp9DQoNCi5zbGlkZWRvd24uaW4ucmV2ZXJzZSB7DQoJei1pbmRleDogMDsNCgktd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBkb250bW92ZTsNCn0NCg0KLnNsaWRlZG93bi5vdXQucmV2ZXJzZSB7DQoJLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTEwMCUpOw0KCXotaW5kZXg6IDEwOw0KCS13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IHNsaWRlb3V0dG90b3A7DQp9DQoNCkAtd2Via2l0LWtleWZyYW1lcyBzbGlkZWluZnJvbXJpZ2h0IHsNCiAgICBmcm9tIHsgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTAwJSk7IH0NCiAgICB0byB7IC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOyB9DQp9DQoNCkAtd2Via2l0LWtleWZyYW1lcyBzbGlkZWluZnJvbWxlZnQgew0KICAgIGZyb20geyAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMTAwJSk7IH0NCiAgICB0byB7IC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOyB9DQp9DQoNCkAtd2Via2l0LWtleWZyYW1lcyBzbGlkZW91dHRvbGVmdCB7DQogICAgZnJvbSB7IC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOyB9DQogICAgdG8geyAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMTAwJSk7IH0NCn0NCg0KQC13ZWJraXQta2V5ZnJhbWVzIHNsaWRlb3V0dG9yaWdodCB7DQogICAgZnJvbSB7IC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOyB9DQogICAgdG8geyAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgxMDAlKTsgfQ0KfQ0KDQpALXdlYmtpdC1rZXlmcmFtZXMgc2xpZGVpbmZyb210b3Agew0KICAgIGZyb20geyAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMTAwJSk7IH0NCiAgICB0byB7IC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOyB9DQp9DQoNCkAtd2Via2l0LWtleWZyYW1lcyBzbGlkZWluZnJvbWJvdHRvbSB7DQogICAgZnJvbSB7IC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDEwMCUpOyB9DQogICAgdG8geyAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsgfQ0KfQ0KDQpALXdlYmtpdC1rZXlmcmFtZXMgc2xpZGVvdXR0b2JvdHRvbSB7DQogICAgZnJvbSB7IC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOyB9DQogICAgdG8geyAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWSgxMDAlKTsgfQ0KfQ0KDQpALXdlYmtpdC1rZXlmcmFtZXMgc2xpZGVvdXR0b3RvcCB7DQogICAgZnJvbSB7IC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOyB9DQogICAgdG8geyAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMTAwJSk7IH0NCn0NCkAtd2Via2l0LWtleWZyYW1lcyBmYWRlaW4gew0KICAgIGZyb20geyBvcGFjaXR5OiAwOyB9DQogICAgdG8geyBvcGFjaXR5OiAxOyB9DQp9DQoNCkAtd2Via2l0LWtleWZyYW1lcyBmYWRlb3V0IHsNCiAgICBmcm9tIHsgb3BhY2l0eTogMTsgfQ0KICAgIHRvIHsgb3BhY2l0eTogMDsgfQ0KfQ0KDQouZmFkZS5vdXQgew0KCXotaW5kZXg6IDA7DQoJLXdlYmtpdC1hbmltYXRpb24tbmFtZTogZmFkZW91dDsNCn0NCg0KLmZhZGUuaW4gew0KCW9wYWNpdHk6IDE7DQoJei1pbmRleDogMTA7DQoJLXdlYmtpdC1hbmltYXRpb24tbmFtZTogZmFkZWluOw0KfQ0KDQovKiBUaGUgcHJvcGVydGllcyBpbiB0aGlzIHJ1bGUgYXJlIG9ubHkgbmVjZXNzYXJ5IGZvciB0aGUgJ2ZsaXAnIHRyYW5zaXRpb24uDQogKiBXZSBuZWVkIHNwZWNpZnkgdGhlIHBlcnNwZWN0aXZlIHRvIGNyZWF0ZSBhIHByb2plY3Rpb24gbWF0cml4LiBUaGlzIHdpbGwgYWRkDQogKiBzb21lIGRlcHRoIGFzIHRoZSBlbGVtZW50IGZsaXBzLiBUaGUgZGVwdGggbnVtYmVyIHJlcHJlc2VudHMgdGhlIGRpc3RhbmNlIG9mDQogKiB0aGUgdmlld2VyIGZyb20gdGhlIHotcGxhbmUuIEFjY29yZGluZyB0byB0aGUgQ1NTMyBzcGVjLCAxMDAwIGlzIGEgbW9kZXJhdGUNCiAqIHZhbHVlLg0KICovDQoudmlld3BvcnQtZmxpcCB7DQoJLXdlYmtpdC1wZXJzcGVjdGl2ZTogMTAwMDsNCglwb3NpdGlvbjogYWJzb2x1dGU7DQp9DQoNCi51aS1tb2JpbGUtdmlld3BvcnQtdHJhbnNpdGlvbmluZywNCi51aS1tb2JpbGUtdmlld3BvcnQtdHJhbnNpdGlvbmluZyAudWktcGFnZSB7DQoJd2lkdGg6IDEwMCU7DQoJaGVpZ2h0OiAxMDAlOw0KCW92ZXJmbG93OiBoaWRkZW47DQp9DQoNCi5mbGlwIHsNCgktd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjogLjY1czsNCgktd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHk6aGlkZGVuOw0KCS13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCk7IC8qIE5lZWRlZCB0byB3b3JrIGFyb3VuZCBhbiBpT1MgMy4xIGJ1ZyB0aGF0IGNhdXNlcyBsaXN0dmlldyB0aHVtYnMgdG8gZGlzYXBwZWFyIHdoZW4gLXdlYmtpdC12aXNpYmlsaXR5OmhpZGRlbiBpcyB1c2VkLiAqLw0KfQ0KDQouZmxpcC5vdXQgew0KCS13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGVZKC0xODBkZWcpIHNjYWxlKC44KTsNCgktd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBmbGlwb3V0dG9sZWZ0Ow0KfQ0KDQouZmxpcC5pbiB7DQoJLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZVkoMCkgc2NhbGUoMSk7DQoJLXdlYmtpdC1hbmltYXRpb24tbmFtZTogZmxpcGluZnJvbWxlZnQ7DQp9DQoNCi8qIFNoYWtlIGl0IGFsbCBhYm91dCAqLw0KDQouZmxpcC5vdXQucmV2ZXJzZSB7DQoJLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZVkoMTgwZGVnKSBzY2FsZSguOCk7DQoJLXdlYmtpdC1hbmltYXRpb24tbmFtZTogZmxpcG91dHRvcmlnaHQ7DQp9DQoNCi5mbGlwLmluLnJldmVyc2Ugew0KCS13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGVZKDApIHNjYWxlKDEpOw0KCS13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IGZsaXBpbmZyb21yaWdodDsNCn0NCg0KQC13ZWJraXQta2V5ZnJhbWVzIGZsaXBpbmZyb21yaWdodCB7DQogICAgZnJvbSB7IC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGVZKC0xODBkZWcpIHNjYWxlKC44KTsgfQ0KICAgIHRvIHsgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZVkoMCkgc2NhbGUoMSk7IH0NCn0NCg0KQC13ZWJraXQta2V5ZnJhbWVzIGZsaXBpbmZyb21sZWZ0IHsNCiAgICBmcm9tIHsgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZVkoMTgwZGVnKSBzY2FsZSguOCk7IH0NCiAgICB0byB7IC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGVZKDApIHNjYWxlKDEpOyB9DQp9DQoNCkAtd2Via2l0LWtleWZyYW1lcyBmbGlwb3V0dG9sZWZ0IHsNCiAgICBmcm9tIHsgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZVkoMCkgc2NhbGUoMSk7IH0NCiAgICB0byB7IC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGVZKC0xODBkZWcpIHNjYWxlKC44KTsgfQ0KfQ0KDQpALXdlYmtpdC1rZXlmcmFtZXMgZmxpcG91dHRvcmlnaHQgew0KICAgIGZyb20geyAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlWSgwKSBzY2FsZSgxKTsgfQ0KICAgIHRvIHsgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZVkoMTgwZGVnKSBzY2FsZSguOCk7IH0NCn0NCg0KDQovKiBIYWNraXNoLCBidXQgcmVsaWFibGUuICovDQoNCkAtd2Via2l0LWtleWZyYW1lcyBkb250bW92ZSB7DQogICAgZnJvbSB7IG9wYWNpdHk6IDE7IH0NCiAgICB0byB7IG9wYWNpdHk6IDE7IH0NCn0NCg0KLnBvcCB7DQoJLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOiA1MCUgNTAlOw0KfQ0KDQoucG9wLmluIHsNCgktd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMSk7DQogICAgb3BhY2l0eTogMTsNCgktd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBwb3BpbjsNCgl6LWluZGV4OiAxMDsNCn0NCg0KLnBvcC5pbi5yZXZlcnNlIHsNCgl6LWluZGV4OiAwOw0KCS13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IGRvbnRtb3ZlOw0KfQ0KDQoucG9wLm91dC5yZXZlcnNlIHsNCgktd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoLjIpOw0KCW9wYWNpdHk6IDA7DQoJLXdlYmtpdC1hbmltYXRpb24tbmFtZTogcG9wb3V0Ow0KCXotaW5kZXg6IDEwOw0KfQ0KDQpALXdlYmtpdC1rZXlmcmFtZXMgcG9waW4gew0KICAgIGZyb20gew0KICAgICAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoLjIpOw0KICAgICAgICBvcGFjaXR5OiAwOw0KICAgIH0NCiAgICB0byB7DQogICAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSgxKTsNCiAgICAgICAgb3BhY2l0eTogMTsNCiAgICB9DQp9DQoNCkAtd2Via2l0LWtleWZyYW1lcyBwb3BvdXQgew0KICAgIGZyb20gew0KICAgICAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMSk7DQogICAgICAgIG9wYWNpdHk6IDE7DQogICAgfQ0KICAgIHRvIHsNCiAgICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKC4yKTsNCiAgICAgICAgb3BhY2l0eTogMDsNCiAgICB9DQp9LyoNCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsNCiogQ29weXJpZ2h0IChjKSBqUXVlcnkgUHJvamVjdA0KKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgKE1JVC1MSUNFTlNFLnR4dCkgb3IgR1BMIChHUEwtTElDRU5TRS50eHQpIGxpY2Vuc2VzLg0KKi8NCg0KLyogY29udGVudCBjb25maWd1cmF0aW9ucy4gKi8NCi51aS1ncmlkLWEsIC51aS1ncmlkLWIsIC51aS1ncmlkLWMsIC51aS1ncmlkLWQgeyBvdmVyZmxvdzogaGlkZGVuOyB9DQoudWktYmxvY2stYSwgLnVpLWJsb2NrLWIsIC51aS1ibG9jay1jLCAudWktYmxvY2stZCwgLnVpLWJsb2NrLWUgeyBtYXJnaW46IDA7IHBhZGRpbmc6IDA7IGJvcmRlcjogMDsgZmxvYXQ6IGxlZnQ7IG1pbi1oZWlnaHQ6MXB4O30NCg0KLyogZ3JpZCBzb2xvOiAxMDAgLSBzaW5nbGUgaXRlbSBmYWxsYmFjayAqLw0KLnVpLWdyaWQtc29sbyAudWktYmxvY2stYSB7IHdpZHRoOiAxMDAlOyBmbG9hdDogbm9uZTsgfQ0KDQovKiBncmlkIGE6IDUwLzUwICovDQoudWktZ3JpZC1hIC51aS1ibG9jay1hLCAudWktZ3JpZC1hIC51aS1ibG9jay1iIHsgd2lkdGg6IDUwJTsgfQ0KLnVpLWdyaWQtYSAudWktYmxvY2stYSB7IGNsZWFyOiBsZWZ0OyB9DQoNCi8qIGdyaWQgYjogMzMvMzMvMzMgKi8NCi51aS1ncmlkLWIgLnVpLWJsb2NrLWEsIC51aS1ncmlkLWIgLnVpLWJsb2NrLWIsIC51aS1ncmlkLWIgLnVpLWJsb2NrLWMgeyB3aWR0aDogMzMuMzMzJTsgfQ0KLnVpLWdyaWQtYiAudWktYmxvY2stYSB7IGNsZWFyOiBsZWZ0OyB9DQoNCi8qIGdyaWQgYzogMjUvMjUvMjUvMjUgKi8NCi51aS1ncmlkLWMgLnVpLWJsb2NrLWEsIC51aS1ncmlkLWMgLnVpLWJsb2NrLWIsIC51aS1ncmlkLWMgLnVpLWJsb2NrLWMsIC51aS1ncmlkLWMgLnVpLWJsb2NrLWQgeyB3aWR0aDogMjUlOyB9DQoudWktZ3JpZC1jIC51aS1ibG9jay1hIHsgY2xlYXI6IGxlZnQ7IH0NCg0KLyogZ3JpZCBkOiAyMC8yMC8yMC8yMC8yMCAqLw0KLnVpLWdyaWQtZCAudWktYmxvY2stYSwgLnVpLWdyaWQtZCAudWktYmxvY2stYiwgLnVpLWdyaWQtZCAudWktYmxvY2stYywgLnVpLWdyaWQtZCAudWktYmxvY2stZCwgLnVpLWdyaWQtZCAudWktYmxvY2stZSB7IHdpZHRoOiAyMCU7IH0NCi51aS1ncmlkLWQgLnVpLWJsb2NrLWEgeyBjbGVhcjogbGVmdDsgfQ0KLyoNCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsNCiogQ29weXJpZ2h0IChjKSBqUXVlcnkgUHJvamVjdA0KKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgKE1JVC1MSUNFTlNFLnR4dCkgb3IgR1BMIChHUEwtTElDRU5TRS50eHQpIGxpY2Vuc2VzLg0KKi8NCi8qIGZpeGVkIHBhZ2UgaGVhZGVyICYgZm9vdGVyIGNvbmZpZ3VyYXRpb24gKi8NCi51aS1oZWFkZXIsIC51aS1mb290ZXIsIC51aS1wYWdlLWZ1bGxzY3JlZW4gLnVpLWhlYWRlciwgLnVpLXBhZ2UtZnVsbHNjcmVlbiAudWktZm9vdGVyICB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgIG92ZXJmbG93OiBoaWRkZW47IHdpZHRoOiAxMDAlOyBib3JkZXItbGVmdC13aWR0aDogMDsgYm9yZGVyLXJpZ2h0LXdpZHRoOiAwOyB9DQoudWktaGVhZGVyLWZpeGVkLCAudWktZm9vdGVyLWZpeGVkIHsNCgl6LWluZGV4OiAxMDAwOw0KCS13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVaKDApOyAvKiBGb3JjZSBoZWFkZXIvZm9vdGVyIHJlbmRlcmluZyB0byBnbyB0aHJvdWdoIHRoZSBzYW1lIHJlbmRlcmluZyBwaXBlbGluZSBhcyBuYXRpdmUgcGFnZSBzY3JvbGxpbmcuICovDQp9DQoudWktZm9vdGVyLWR1cGxpY2F0ZSwgLnVpLXBhZ2UtZnVsbHNjcmVlbiAudWktZml4ZWQtaW5saW5lIHsgZGlzcGxheTogbm9uZTsgfQ0KLnVpLXBhZ2UtZnVsbHNjcmVlbiAudWktaGVhZGVyLCAudWktcGFnZS1mdWxsc2NyZWVuIC51aS1mb290ZXIgeyBvcGFjaXR5OiAuOTsgfQ0KLyoNCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsNCiogQ29weXJpZ2h0IChjKSBqUXVlcnkgUHJvamVjdA0KKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgKE1JVC1MSUNFTlNFLnR4dCkgb3IgR1BMIChHUEwtTElDRU5TRS50eHQpIGxpY2Vuc2VzLg0KKi8NCi51aS1uYXZiYXIgeyBvdmVyZmxvdzogaGlkZGVuOyAgfQ0KLnVpLW5hdmJhciB1bCwgLnVpLW5hdmJhci1leHBhbmRlZCB1bCB7IGxpc3Qtc3R5bGU6bm9uZTsgcGFkZGluZzogMDsgbWFyZ2luOiAwOyBwb3NpdGlvbjogcmVsYXRpdmU7IGRpc3BsYXk6IGJsb2NrOyBib3JkZXI6IDA7fQ0KLnVpLW5hdmJhci1jb2xsYXBzZWQgdWwgeyBmbG9hdDogbGVmdDsgd2lkdGg6IDc1JTsgbWFyZ2luLXJpZ2h0OiAtMnB4OyB9DQoudWktbmF2YmFyLWNvbGxhcHNlZCAudWktbmF2YmFyLXRvZ2dsZSB7IGZsb2F0OiBsZWZ0OyB3aWR0aDogMjUlOyB9DQoudWktbmF2YmFyIGxpLnVpLW5hdmJhci10cnVuY2F0ZSB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogLTk5OTlweDsgdG9wOiAtOTk5OXB4OyB9DQoudWktbmF2YmFyIGxpIC51aS1idG4sIC51aS1uYXZiYXIgLnVpLW5hdmJhci10b2dnbGUgLnVpLWJ0biB7IGRpc3BsYXk6IGJsb2NrOyBmb250LXNpemU6IDEycHg7IHRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luOiAwOyBib3JkZXItcmlnaHQtd2lkdGg6IDA7IH0NCi51aS1uYXZiYXIgbGkgLnVpLWJ0biB7ICBtYXJnaW4tcmlnaHQ6IC0xcHg7IH0NCi51aS1uYXZiYXIgbGkgLnVpLWJ0bjpsYXN0LWNoaWxkIHsgbWFyZ2luLXJpZ2h0OiAwOyB9DQoudWktaGVhZGVyIC51aS1uYXZiYXIgbGkgLnVpLWJ0biwgLnVpLWhlYWRlciAudWktbmF2YmFyIC51aS1uYXZiYXItdG9nZ2xlIC51aS1idG4sDQoudWktZm9vdGVyIC51aS1uYXZiYXIgbGkgLnVpLWJ0biwgLnVpLWZvb3RlciAudWktbmF2YmFyIC51aS1uYXZiYXItdG9nZ2xlIC51aS1idG4geyBib3JkZXItdG9wLXdpZHRoOiAwOyBib3JkZXItYm90dG9tLXdpZHRoOiAwOyB9DQoudWktbmF2YmFyIC51aS1idG4taW5uZXIgeyBwYWRkaW5nLWxlZnQ6IDJweDsgcGFkZGluZy1yaWdodDogMnB4OyB9DQoudWktbmF2YmFyLW5vaWNvbnMgbGkgLnVpLWJ0biAudWktYnRuLWlubmVyLCAudWktbmF2YmFyLW5vaWNvbnMgLnVpLW5hdmJhci10b2dnbGUgLnVpLWJ0bi1pbm5lciB7IHBhZGRpbmctdG9wOiAuOGVtOyBwYWRkaW5nLWJvdHRvbTogLjllbTsgfQ0KLypleHBhbmRlZCBwYWdlIHN0eWxlcyovDQoudWktbmF2YmFyLWV4cGFuZGVkIC51aS1idG4geyBtYXJnaW46IDA7IGZvbnQtc2l6ZTogMTRweDsgfQ0KLnVpLW5hdmJhci1leHBhbmRlZCAudWktYnRuLWlubmVyIHsgcGFkZGluZy1sZWZ0OiA1cHg7IHBhZGRpbmctcmlnaHQ6IDVweDsgIH0NCi51aS1uYXZiYXItZXhwYW5kZWQgLnVpLWJ0bi1pY29uLXRvcCAudWktYnRuLWlubmVyIHsgcGFkZGluZzogNDVweCA1cHggMTVweDsgdGV4dC1hbGlnbjogY2VudGVyOyB9DQoudWktbmF2YmFyLWV4cGFuZGVkIC51aS1idG4taWNvbi10b3AgLnVpLWljb24geyB0b3A6IDE1cHg7IH0NCi51aS1uYXZiYXItZXhwYW5kZWQgLnVpLWJ0bi1pY29uLWJvdHRvbSAudWktYnRuLWlubmVyIHsgcGFkZGluZzogMTVweCA1cHggNDVweDsgdGV4dC1hbGlnbjogY2VudGVyOyB9DQoudWktbmF2YmFyLWV4cGFuZGVkIC51aS1idG4taWNvbi1ib3R0b20gLnVpLWljb24geyBib3R0b206IDE1cHg7IH0NCi51aS1uYXZiYXItZXhwYW5kZWQgbGkgLnVpLWJ0biAudWktYnRuLWlubmVyIHsgbWluLWhlaWdodDogMi41ZW07IH0NCi51aS1uYXZiYXItZXhwYW5kZWQgLnVpLW5hdmJhci1ub2ljb25zIC51aS1idG4gLnVpLWJ0bi1pbm5lciB7IHBhZGRpbmctdG9wOiAxLjhlbTsgcGFkZGluZy1ib3R0b206IDEuOWVtOyB9DQovKg0KKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yaw0KKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0DQoqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCAoTUlULUxJQ0VOU0UudHh0KSBvciBHUEwgKEdQTC1MSUNFTlNFLnR4dCkgbGljZW5zZXMuDQoqLw0KLnVpLWJ0biB7IGRpc3BsYXk6IGJsb2NrOyB0ZXh0LWFsaWduOiBjZW50ZXI7IGN1cnNvcjpwb2ludGVyOyAgcG9zaXRpb246IHJlbGF0aXZlOyBtYXJnaW46IC41ZW0gNXB4OyBwYWRkaW5nOiAwOyB9DQoudWktaGVhZGVyIC51aS1idG4sIC51aS1mb290ZXIgLnVpLWJ0biwgLnVpLWJhciAudWktYnRuIHsgZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEzcHg7IG1hcmdpbjogMDsgfQ0KLnVpLWJ0bi1pbmxpbmUgeyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IH0NCi51aS1idG4taW5uZXIgeyBwYWRkaW5nOiAuNDVlbSAxMHB4OyBkaXNwbGF5OiBibG9jazsgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7IG92ZXJmbG93OiBoaWRkZW47IHdoaXRlLXNwYWNlOiBub3JtYWw7IHBvc2l0aW9uOiByZWxhdGl2ZTsgem9vbTogMTsgfQ0KLnVpLWJ0biBpbnB1dCwgLnVpLWJ0biBidXR0b24geyB6LWluZGV4OiAyOyB9DQoudWktaGVhZGVyIC51aS1idG4taW5uZXIsIC51aS1mb290ZXIgLnVpLWJ0bi1pbm5lciwgLnVpLWJhciAudWktYnRuLWlubmVyIHsgcGFkZGluZzogLjRlbSA4cHggLjVlbTsgfQ0KLnVpLWJ0bi1pY29uLW5vdGV4dCB7IHdpZHRoOiAyNHB4OyBoZWlnaHQ6IDI0cHg7IH0NCi51aS1idG4taWNvbi1ub3RleHQgLnVpLWJ0bi1pbm5lciB7IHBhZGRpbmc6IDJweCAxcHggMnB4IDNweDsgfQ0KLnVpLWJ0bi10ZXh0IHsgcG9zaXRpb246IHJlbGF0aXZlOyB6LWluZGV4OiAxOyB9DQoudWktYnRuLWljb24tbm90ZXh0IC51aS1idG4tdGV4dCB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogLTk5OTlweDsgfQ0KLnVpLWJ0bi1pY29uLWxlZnQgLnVpLWJ0bi1pbm5lciB7IHBhZGRpbmctbGVmdDogMzNweDsgfQ0KLnVpLWhlYWRlciAudWktYnRuLWljb24tbGVmdCAudWktYnRuLWlubmVyLA0KLnVpLWZvb3RlciAudWktYnRuLWljb24tbGVmdCAudWktYnRuLWlubmVyLA0KLnVpLWJhciAudWktYnRuLWljb24tbGVmdCAudWktYnRuLWlubmVyIHsgcGFkZGluZy1sZWZ0OiAyN3B4OyB9DQoudWktYnRuLWljb24tcmlnaHQgLnVpLWJ0bi1pbm5lciB7IHBhZGRpbmctcmlnaHQ6IDMzcHg7IH0NCi51aS1oZWFkZXIgLnVpLWJ0bi1pY29uLXJpZ2h0IC51aS1idG4taW5uZXIsDQoudWktZm9vdGVyIC51aS1idG4taWNvbi1yaWdodCAudWktYnRuLWlubmVyLA0KLnVpLWJhciAudWktYnRuLWljb24tcmlnaHQgLnVpLWJ0bi1pbm5lciB7IHBhZGRpbmctcmlnaHQ6IDI3cHg7IH0NCi51aS1idG4taWNvbi10b3AgLnVpLWJ0bi1pbm5lciB7IHBhZGRpbmctdG9wOiAzM3B4OyB9DQoudWktaGVhZGVyIC51aS1idG4taWNvbi10b3AgLnVpLWJ0bi1pbm5lciwNCi51aS1mb290ZXIgLnVpLWJ0bi1pY29uLXRvcCAudWktYnRuLWlubmVyLA0KLnVpLWJhciAudWktYnRuLWljb24tdG9wIC51aS1idG4taW5uZXIgeyBwYWRkaW5nLXRvcDogMjdweDsgfQ0KLnVpLWJ0bi1pY29uLWJvdHRvbSAudWktYnRuLWlubmVyIHsgcGFkZGluZy1ib3R0b206IDMzcHg7IH0NCi51aS1oZWFkZXIgLnVpLWJ0bi1pY29uLWJvdHRvbSAudWktYnRuLWlubmVyLA0KLnVpLWZvb3RlciAudWktYnRuLWljb24tYm90dG9tIC51aS1idG4taW5uZXIsDQoudWktYmFyIC51aS1idG4taWNvbi1ib3R0b20gLnVpLWJ0bi1pbm5lciB7IHBhZGRpbmctYm90dG9tOiAyN3B4OyB9DQoNCi8qYnRuIGljb24gcG9zaXRpb25pbmcqLw0KLnVpLWJ0bi1pY29uLW5vdGV4dCAudWktaWNvbiB7IGRpc3BsYXk6IGJsb2NrOyB6LWluZGV4OiAwO30NCi51aS1idG4taWNvbi1sZWZ0IC51aS1pY29uLCAudWktYnRuLWljb24tcmlnaHQgLnVpLWljb24geyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogNTAlOyBtYXJnaW4tdG9wOiAtOXB4OyB9DQoudWktYnRuLWljb24tdG9wIC51aS1pY29uLCAudWktYnRuLWljb24tYm90dG9tIC51aS1pY29uIHsgcG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiA1MCU7ICBtYXJnaW4tbGVmdDogLTlweDsgfQ0KLnVpLWJ0bi1pY29uLWxlZnQgLnVpLWljb24geyBsZWZ0OiAxMHB4OyB9DQoudWktYnRuLWljb24tcmlnaHQgLnVpLWljb24geyByaWdodDogMTBweDsgfQ0KLnVpLWJ0bi1pY29uLXRvcCAudWktaWNvbiB7IHRvcDogMTBweDsgfQ0KLnVpLWJ0bi1pY29uLWJvdHRvbSAudWktaWNvbiB7IGJvdHRvbTogMTBweDsgfQ0KLnVpLWhlYWRlciAudWktYnRuLWljb24tbGVmdCAudWktaWNvbiwNCi51aS1mb290ZXIgLnVpLWJ0bi1pY29uLWxlZnQgLnVpLWljb24sDQoudWktYmFyIC51aS1idG4taWNvbi1sZWZ0IC51aS1pY29uIHsgbGVmdDogNHB4OyB9DQoudWktaGVhZGVyIC51aS1idG4taWNvbi1yaWdodCAudWktaWNvbiwNCi51aS1mb290ZXIgLnVpLWJ0bi1pY29uLXJpZ2h0IC51aS1pY29uLA0KLnVpLWJhciAudWktYnRuLWljb24tcmlnaHQgLnVpLWljb24geyByaWdodDogNHB4OyB9DQoudWktaGVhZGVyIC51aS1idG4taWNvbi10b3AgLnVpLWljb24sDQoudWktZm9vdGVyIC51aS1idG4taWNvbi10b3AgLnVpLWljb24sDQoudWktYmFyIC51aS1idG4taWNvbi10b3AgLnVpLWljb24geyB0b3A6IDRweDsgfQ0KLnVpLWhlYWRlciAudWktYnRuLWljb24tYm90dG9tIC51aS1pY29uLA0KLnVpLWZvb3RlciAudWktYnRuLWljb24tYm90dG9tIC51aS1pY29uLA0KLnVpLWJhciAudWktYnRuLWljb24tYm90dG9tIC51aS1pY29uIHsgYm90dG9tOiA0cHg7IH0NCg0KLypoaWRpbmcgbmF0aXZlIGJ1dHRvbixpbnB1dHMgKi8NCi51aS1idG4taGlkZGVuIHsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IC13ZWJraXQtYXBwZWFyYW5jZTogYnV0dG9uOyBvcGFjaXR5OiAuMTsgY3Vyc29yOiBwb2ludGVyOyBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsgZm9udC1zaXplOiAxcHg7IGJvcmRlcjogbm9uZTsgbGluZS1oZWlnaHQ6IDk5OXB4OyB9DQovKg0KKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yaw0KKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0DQoqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCAoTUlULUxJQ0VOU0UudHh0KSBvciBHUEwgKEdQTC1MSUNFTlNFLnR4dCkgbGljZW5zZXMuDQoqLw0KLnVpLWNvbGxhcHNpYmxlIHsgbWFyZ2luOiAuNWVtIDA7IH0NCi51aS1jb2xsYXBzaWJsZS1oZWFkaW5nIHsgZm9udC1zaXplOiAxNnB4OyBkaXNwbGF5OiBibG9jazsgbWFyZ2luOiAwIC04cHg7IHBhZGRpbmc6IDA7IGJvcmRlci13aWR0aDogMCAwIDFweCAwOyBwb3NpdGlvbjogcmVsYXRpdmU7IH0NCi51aS1jb2xsYXBzaWJsZS1oZWFkaW5nIGEgeyB0ZXh0LWFsaWduOiBsZWZ0OyBtYXJnaW46IDA7ICB9DQoudWktY29sbGFwc2libGUtaGVhZGluZyBhIC51aS1idG4taW5uZXIgeyBwYWRkaW5nLWxlZnQ6IDQwcHg7IH0NCi51aS1jb2xsYXBzaWJsZS1oZWFkaW5nIGEgc3Bhbi51aS1idG4geyBwb3NpdGlvbjogYWJzb2x1dGU7IGxlZnQ6IDZweDsgdG9wOiA1MCU7IG1hcmdpbjogLTEycHggMCAwIDA7IHdpZHRoOiAyMHB4OyBoZWlnaHQ6IDIwcHg7IHBhZGRpbmc6IDFweCAwcHggMXB4IDJweDsgdGV4dC1pbmRlbnQ6IC05OTk5cHg7IH0NCi51aS1jb2xsYXBzaWJsZS1oZWFkaW5nIGEgc3Bhbi51aS1idG4gLnVpLWJ0bi1pbm5lciB7IHBhZGRpbmc6IDEwcHggMDsgfQ0KLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmcgYSBzcGFuLnVpLWJ0biAudWktaWNvbiB7IGxlZnQ6IDA7IG1hcmdpbi10b3A6IC0xMHB4OyB9DQoudWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXMgeyBwb3NpdGlvbjpmaXhlZDsgbGVmdDotOTk5OXB4OyB9DQoudWktY29sbGFwc2libGUtY29udGVudCB7DQoJZGlzcGxheTogYmxvY2s7DQoJbWFyZ2luOiAgMCAtOHB4Ow0KCXBhZGRpbmc6IDEwcHggMTZweDsNCglib3JkZXItdG9wOiAgbm9uZTsgICAgICAvKiBPdmVycmlkZXMgdWktYnRuLXVwLSogKi8NCgliYWNrZ3JvdW5kLWltYWdlOiBub25lOyAvKiBPdmVycmlkZXMgdWktYnRuLXVwLSogKi8NCglmb250LXdlaWdodDogbm9ybWFsOyAgICAvKiBPdmVycmlkZXMgdWktYnRuLXVwLSogKi8NCn0NCi51aS1jb2xsYXBzaWJsZS1jb250ZW50LWNvbGxhcHNlZCB7IGRpc3BsYXk6IG5vbmU7IH0NCg0KLnVpLWNvbGxhcHNpYmxlLXNldCB7IG1hcmdpbjogLjVlbSAwOyB9DQoudWktY29sbGFwc2libGUtc2V0IC51aS1jb2xsYXBzaWJsZSB7IG1hcmdpbjogLTFweCAwIDA7IH0NCi8qDQoqIGpRdWVyeSBNb2JpbGUgRnJhbWV3b3JrDQoqIENvcHlyaWdodCAoYykgalF1ZXJ5IFByb2plY3QNCiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIChNSVQtTElDRU5TRS50eHQpIG9yIEdQTCAoR1BMLUxJQ0VOU0UudHh0KSBsaWNlbnNlcy4NCiovDQoudWktY29udHJvbGdyb3VwLCBmaWVsZHNldC51aS1jb250cm9sZ3JvdXAgeyBwYWRkaW5nOiAwOyBtYXJnaW46IC41ZW0gMCAxZW07IH0NCi51aS1iYXIgLnVpLWNvbnRyb2xncm91cCB7IG1hcmdpbjogMCAuM2VtOyB9DQoudWktY29udHJvbGdyb3VwLWxhYmVsIHsgZm9udC1zaXplOiAxNnB4OyBsaW5lLWhlaWdodDogMS40OyBmb250LXdlaWdodDogbm9ybWFsOyBtYXJnaW46IDAgMCAuM2VtOyB9DQoudWktY29udHJvbGdyb3VwLWNvbnRyb2xzIHsgZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMDAlO30NCi51aS1jb250cm9sZ3JvdXAgbGkgeyBsaXN0LXN0eWxlOiBub25lOyB9DQoudWktY29udHJvbGdyb3VwLXZlcnRpY2FsIC51aS1idG4sDQoudWktY29udHJvbGdyb3VwLXZlcnRpY2FsIC51aS1jaGVja2JveCwgLnVpLWNvbnRyb2xncm91cC12ZXJ0aWNhbCAudWktcmFkaW8geyBtYXJnaW46IDA7IGJvcmRlci1ib3R0b20td2lkdGg6IDA7ICB9DQoudWktY29udHJvbGdyb3VwLWNvbnRyb2xzIGxhYmVsLnVpLXNlbGVjdCB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogLTk5OTlweDsgfQ0KDQoudWktY29udHJvbGdyb3VwLXZlcnRpY2FsIC51aS1jb250cm9sZ3JvdXAtbGFzdCB7IGJvcmRlci1ib3R0b20td2lkdGg6IDFweDsgfQ0KLnVpLWNvbnRyb2xncm91cC1ob3Jpem9udGFsIHsgcGFkZGluZzogMDsgfQ0KLnVpLWNvbnRyb2xncm91cC1ob3Jpem9udGFsIC51aS1idG4sIC51aS1jb250cm9sZ3JvdXAtaG9yaXpvbnRhbCAudWktc2VsZWN0IHsgZGlzcGxheTogaW5saW5lLWJsb2NrOyBtYXJnaW46IDAgLTVweCAwIDA7IH0NCi51aS1jb250cm9sZ3JvdXAtaG9yaXpvbnRhbCAudWktY2hlY2tib3gsIC51aS1jb250cm9sZ3JvdXAtaG9yaXpvbnRhbCAudWktcmFkaW8geyBmbG9hdDogbGVmdDsgbWFyZ2luOiAwIC0xcHggMCAwOyB9DQoudWktY29udHJvbGdyb3VwLWhvcml6b250YWwgLnVpLWNoZWNrYm94IC51aS1idG4sIC51aS1jb250cm9sZ3JvdXAtaG9yaXpvbnRhbCAudWktcmFkaW8gLnVpLWJ0biwNCi51aS1jb250cm9sZ3JvdXAtaG9yaXpvbnRhbCAudWktY2hlY2tib3g6bGFzdC1jaGlsZCwgLnVpLWNvbnRyb2xncm91cC1ob3Jpem9udGFsIC51aS1yYWRpbzpsYXN0LWNoaWxkIHsgbWFyZ2luLXJpZ2h0OiAwOyB9DQoudWktY29udHJvbGdyb3VwLWhvcml6b250YWwgLnVpLWNvbnRyb2xncm91cC1sYXN0IHsgbWFyZ2luLXJpZ2h0OiAwOyB9DQoudWktY29udHJvbGdyb3VwIC51aS1jaGVja2JveCBsYWJlbCwgLnVpLWNvbnRyb2xncm91cCAudWktcmFkaW8gbGFiZWwgeyBmb250LXNpemU6IDE2cHg7ICB9DQovKiBjb25mbGljdHMgd2l0aCBsaXN0dmlldy4uDQoudWktY29udHJvbGdyb3VwIC51aS1idG4taWNvbi1ub3RleHQgeyB3aWR0aDogMzBweDsgaGVpZ2h0OiAzMHB4OyB0ZXh0LWluZGVudDogLTk5OTlweDsgfQ0KLnVpLWNvbnRyb2xncm91cCAudWktYnRuLWljb24tbm90ZXh0IC51aS1idG4taW5uZXIgeyAgcGFkZGluZzogNXB4IDZweCA1cHggNXB4OyB9DQoqLw0KDQpAbWVkaWEgYWxsIGFuZCAobWluLXdpZHRoOiA0NTBweCl7DQoJLnVpLWZpZWxkLWNvbnRhaW4gLnVpLWNvbnRyb2xncm91cC1sYWJlbCB7IHZlcnRpY2FsLWFsaWduOiB0b3A7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgIHdpZHRoOiAyMCU7ICBtYXJnaW46IDAgMiUgMCAwOyAgfQ0KCS51aS1maWVsZC1jb250YWluIC51aS1jb250cm9sZ3JvdXAtY29udHJvbHMgeyB3aWR0aDogNjAlOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IH0NCgkudWktZmllbGQtY29udGFpbiAudWktY29udHJvbGdyb3VwIC51aS1zZWxlY3QgeyB3aWR0aDogMTAwJTsgfSANCgkudWktZmllbGQtY29udGFpbiAudWktY29udHJvbGdyb3VwLWhvcml6b250YWwgLnVpLXNlbGVjdCB7IHdpZHRoOiBhdXRvOyB9DQp9CS8qDQoqIGpRdWVyeSBNb2JpbGUgRnJhbWV3b3JrDQoqIENvcHlyaWdodCAoYykgalF1ZXJ5IFByb2plY3QNCiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIChNSVQtTElDRU5TRS50eHQpIG9yIEdQTCAoR1BMLUxJQ0VOU0UudHh0KSBsaWNlbnNlcy4NCiovDQoudWktZGlhbG9nIHsgbWluLWhlaWdodDogNDgwcHg7IH0NCi51aS1kaWFsb2cgLnVpLWhlYWRlciwgLnVpLWRpYWxvZyAudWktY29udGVudCwgIC51aS1kaWFsb2cgLnVpLWZvb3RlciB7IG1heC13aWR0aDogNTAwcHg7IG1hcmdpbjogMTAlIGF1dG8gMCBhdXRvOyBwYWRkaW5nOiAxNXB4OyB3aWR0aDogODUlOyBwb3NpdGlvbjogcmVsYXRpdmU7IH0NCi51aS1kaWFsb2cgLnVpLWhlYWRlciB7IHBhZGRpbmc6IDAgMTVweDsgfQ0KLnVpLWRpYWxvZyAudWktaGVhZGVyLCAudWktZGlhbG9nIC51aS1mb290ZXIgeyB6LWluZGV4OiAxMDsgfQ0KLnVpLWRpYWxvZyAudWktY29udGVudCwgLnVpLWRpYWxvZyAudWktZm9vdGVyIHsgbWFyZ2luLXRvcDogLTE1cHg7ICB9LyoNCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsNCiogQ29weXJpZ2h0IChjKSBqUXVlcnkgUHJvamVjdA0KKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgKE1JVC1MSUNFTlNFLnR4dCkgb3IgR1BMIChHUEwtTElDRU5TRS50eHQpIGxpY2Vuc2VzLg0KKi8NCi51aS1jaGVja2JveCwgLnVpLXJhZGlvIHsgcG9zaXRpb246cmVsYXRpdmU7ICBtYXJnaW46IC4yZW0gMCAuNWVtOyB6LWluZGV4OiAxOyAgfQ0KLnVpLWNoZWNrYm94IC51aS1idG4sIC51aS1yYWRpbyAudWktYnRuIHsgbWFyZ2luOiAwOyB0ZXh0LWFsaWduOiBsZWZ0OyB6LWluZGV4OiAyOyB9DQoudWktY2hlY2tib3ggLnVpLWJ0bi1pbm5lciwgLnVpLXJhZGlvIC51aS1idG4taW5uZXIgeyB3aGl0ZS1zcGFjZTogbm9ybWFsOyB9DQoudWktY2hlY2tib3ggLnVpLWJ0bi1pY29uLWxlZnQgLnVpLWJ0bi1pbm5lciwudWktcmFkaW8gLnVpLWJ0bi1pY29uLWxlZnQgLnVpLWJ0bi1pbm5lciB7IHBhZGRpbmctbGVmdDogNDVweDsgfQ0KLnVpLWNoZWNrYm94IC51aS1idG4taWNvbi1yaWdodCAudWktYnRuLWlubmVyLCAudWktcmFkaW8gLnVpLWJ0bi1pY29uLXJpZ2h0IC51aS1idG4taW5uZXIgeyBwYWRkaW5nLXJpZ2h0OiA0NXB4OyB9DQoudWktY2hlY2tib3ggLnVpLWljb24sIC51aS1yYWRpbyAudWktaWNvbiB7IHRvcDogMS4xZW07IH0NCi51aS1jaGVja2JveCAudWktYnRuLWljb24tbGVmdCAudWktaWNvbiwgLnVpLXJhZGlvIC51aS1idG4taWNvbi1sZWZ0IC51aS1pY29uIHtsZWZ0OiAxNXB4OyB9DQoudWktY2hlY2tib3ggLnVpLWJ0bi1pY29uLXJpZ2h0IC51aS1pY29uLCAudWktcmFkaW8gLnVpLWJ0bi1pY29uLXJpZ2h0IC51aS1pY29uIHtyaWdodDogMTVweDsgfQ0KLyogaW5wdXQsIGxhYmVsIHBvc2l0aW9uaW5nICovDQoudWktY2hlY2tib3ggaW5wdXQsLnVpLXJhZGlvIGlucHV0IHsgcG9zaXRpb246YWJzb2x1dGU7IGxlZnQ6MjBweDsgdG9wOjUwJTsgd2lkdGg6IDEwcHg7IGhlaWdodDogMTBweDsgIG1hcmdpbjotNXB4IDAgMCAwOyBvdXRsaW5lOiAwICFpbXBvcnRhbnQ7IHotaW5kZXg6IDE7IH0vKg0KKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yaw0KKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0DQoqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCAoTUlULUxJQ0VOU0UudHh0KSBvciBHUEwgKEdQTC1MSUNFTlNFLnR4dCkgbGljZW5zZXMuDQoqLw0KLnVpLWZpZWxkLWNvbnRhaW4geyBwYWRkaW5nOiAxLjVlbSAwOyBtYXJnaW46IDA7IGJvcmRlci1ib3R0b20td2lkdGg6IDFweDsgb3ZlcmZsb3c6IHZpc2libGU7IH0NCi51aS1maWVsZC1jb250YWluOmZpcnN0LWNoaWxkIHsgYm9yZGVyLXRvcC13aWR0aDogMDsgfQ0KQG1lZGlhIGFsbCBhbmQgKG1pbi13aWR0aDogNDUwcHgpew0KCS51aS1maWVsZC1jb250YWluIHsgYm9yZGVyLXdpZHRoOiAwOyBwYWRkaW5nOiAwOyBtYXJnaW46IDFlbSAwOyB9DQp9CS8qDQoqIGpRdWVyeSBNb2JpbGUgRnJhbWV3b3JrDQoqIENvcHlyaWdodCAoYykgalF1ZXJ5IFByb2plY3QNCiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIChNSVQtTElDRU5TRS50eHQpIG9yIEdQTCAoR1BMLUxJQ0VOU0UudHh0KSBsaWNlbnNlcy4NCiovDQoudWktc2VsZWN0IHsgZGlzcGxheTogYmxvY2s7IHBvc2l0aW9uOiByZWxhdGl2ZTsgfQ0KLnVpLXNlbGVjdCBzZWxlY3QgeyBwb3NpdGlvbjogYWJzb2x1dGU7IGxlZnQ6IC05OTk5cHg7IHRvcDogLTk5OTlweDsgfQ0KLnVpLXNlbGVjdCAudWktYnRuIHsgb3ZlcmZsb3c6IGhpZGRlbjsgfQ0KLnVpLXNlbGVjdCAudWktYnRuIHNlbGVjdCB7IGN1cnNvcjogcG9pbnRlcjsgLXdlYmtpdC1hcHBlYXJhbmNlOiBidXR0b247IGxlZnQ6IDA7IHRvcDowOyB3aWR0aDogMTAwJTsgIG1pbi1oZWlnaHQ6IDEuNWVtOyBtaW4taGVpZ2h0OiAxMDAlOyBoZWlnaHQ6IDNlbTsgbWF4LWhlaWdodDogMTAwJTsgb3BhY2l0eTogMDsgLW1zLWZpbHRlcjogInByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYShPcGFjaXR5PTApIjsgZmlsdGVyOiBhbHBoYShvcGFjaXR5PTApOyB6LWluZGV4OiAyOyB9DQpALW1vei1kb2N1bWVudCB1cmwtcHJlZml4KCkgey51aS1zZWxlY3QgLnVpLWJ0biBzZWxlY3QgeyBvcGFjaXR5OiAwLjAwMDE7IH19DQoudWktc2VsZWN0IC51aS1idG4gc2VsZWN0LnVpLXNlbGVjdC1uYXRpdmVvbmx5IHsgb3BhY2l0eTogMTsgdGV4dC1pbmRlbnQ6IDA7IH0NCg0KLnVpLXNlbGVjdCAudWktYnRuLWljb24tcmlnaHQgLnVpLWJ0bi1pbm5lciB7IHBhZGRpbmctcmlnaHQ6IDQ1cHg7IH0gDQoudWktc2VsZWN0IC51aS1idG4taWNvbi1yaWdodCAudWktaWNvbiB7IHJpZ2h0OiAxNXB4OyAgfQ0KDQovKiBsYWJlbHMgKi8NCmxhYmVsLnVpLXNlbGVjdCB7IGZvbnQtc2l6ZTogMTZweDsgbGluZS1oZWlnaHQ6IDEuNDsgIGZvbnQtd2VpZ2h0OiBub3JtYWw7IG1hcmdpbjogMCAwIC4zZW07IGRpc3BsYXk6IGJsb2NrOyB9DQoNCi8qbGlzdGJveCovDQoudWktc2VsZWN0IC51aS1idG4tdGV4dCwgLnVpLXNlbGVjdG1lbnUgLnVpLWJ0bi10ZXh0IHsgZGlzcGxheTogYmxvY2s7IG1pbi1oZWlnaHQ6IDFlbTsgb3ZlcmZsb3c6IGhpZGRlbjsgfQ0KLnVpLXNlbGVjdCAudWktYnRuLXRleHQgeyB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsgfQ0KDQoudWktc2VsZWN0bWVudSB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgcGFkZGluZzogMDsgei1pbmRleDogMTAwICFpbXBvcnRhbnQ7IHdpZHRoOiA4MCU7IG1heC13aWR0aDogMzUwcHg7IHBhZGRpbmc6IDZweDsgfQ0KLnVpLXNlbGVjdG1lbnUgLnVpLWxpc3R2aWV3IHsgbWFyZ2luOiAwOyB9DQoudWktc2VsZWN0bWVudSAudWktYnRuLnVpLWxpLWRpdmlkZXIgeyBjdXJzb3I6IGRlZmF1bHQ7IH0NCi51aS1zZWxlY3RtZW51LWhpZGRlbiB7IHRvcDogLTk5OTlweDsgbGVmdDogLTk5OTlweDsgfQ0KLnVpLXNlbGVjdG1lbnUtc2NyZWVuIHsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7ICB6LWluZGV4OiA5OTsgfQ0KLnVpLXNjcmVlbi1oaWRkZW4sIC51aS1zZWxlY3RtZW51LWxpc3QgLnVpLWxpIC51aS1pY29uIHsgZGlzcGxheTogbm9uZTsgfQ0KLnVpLXNlbGVjdG1lbnUtbGlzdCAudWktbGkgLnVpLWljb24geyBkaXNwbGF5OiBibG9jazsgfQ0KLnVpLWxpLnVpLXNlbGVjdG1lbnUtcGxhY2Vob2xkZXIgeyBkaXNwbGF5OiBub25lOyB9DQoudWktc2VsZWN0bWVudSAudWktaGVhZGVyIC51aS10aXRsZSB7IG1hcmdpbjogMC42ZW0gNDZweCAwLjhlbTsgfQ0KDQpAbWVkaWEgYWxsIGFuZCAobWluLXdpZHRoOiA0NTBweCl7CQ0KCS51aS1maWVsZC1jb250YWluIGxhYmVsLnVpLXNlbGVjdCB7IHZlcnRpY2FsLWFsaWduOiB0b3A7ICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7ICB3aWR0aDogMjAlOyAgbWFyZ2luOiAwIDIlIDAgMDsgfQ0KCS51aS1maWVsZC1jb250YWluIC51aS1zZWxlY3QgeyB3aWR0aDogNjAlOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IH0NCn0JDQoNCi8qIHdoZW4gbm8gcGxhY2Vob2xkZXIgaXMgZGVmaW5lZCBpbiBhIG11bHRpcGxlIHNlbGVjdCwgdGhlIGhlYWRlciBoZWlnaHQgZG9lc24ndCBldmVuIGV4dGVuZCBwYXN0IHRoZSBjbG9zZSBidXR0b24uICB0aGlzIHNoaW0ncyBjb250ZW50IGluIHRoZXJlICovDQoudWktc2VsZWN0bWVudSAudWktaGVhZGVyIGgxOmFmdGVyIHsgY29udGVudDogJy4nOyB2aXNpYmlsaXR5OiBoaWRkZW47IH0vKg0KKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yaw0KKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0DQoqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCAoTUlULUxJQ0VOU0UudHh0KSBvciBHUEwgKEdQTC1MSUNFTlNFLnR4dCkgbGljZW5zZXMuDQoqLw0KbGFiZWwudWktaW5wdXQtdGV4dCB7IGZvbnQtc2l6ZTogMTZweDsgbGluZS1oZWlnaHQ6IDEuNDsgZGlzcGxheTogYmxvY2s7IGZvbnQtd2VpZ2h0OiBub3JtYWw7IG1hcmdpbjogMCAwIC4zZW07IH0NCmlucHV0LnVpLWlucHV0LXRleHQsIHRleHRhcmVhLnVpLWlucHV0LXRleHQgeyBiYWNrZ3JvdW5kLWltYWdlOiBub25lOyBwYWRkaW5nOiAuNGVtIDEuNSU7IGxpbmUtaGVpZ2h0OiAxLjQ7IGZvbnQtc2l6ZTogMTZweDsgZGlzcGxheTogYmxvY2s7IHdpZHRoOiA5NSU7IGZsb2F0OmxlZnQ7IH0NCmlucHV0LnVpLWlucHV0LXRleHQgeyAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7IH0NCnRleHRhcmVhLnVpLWlucHV0LXRleHQgeyBoZWlnaHQ6IDUwcHg7IC13ZWJraXQtdHJhbnNpdGlvbjogaGVpZ2h0IDIwMG1zIGxpbmVhcjsgLW1vei10cmFuc2l0aW9uOiBoZWlnaHQgMjAwbXMgbGluZWFyOyAtby10cmFuc2l0aW9uOiBoZWlnaHQgMjAwbXMgbGluZWFyOyB0cmFuc2l0aW9uOiBoZWlnaHQgMjAwbXMgbGluZWFyOyB9DQoudWktaW5wdXQtc2VhcmNoIHsgcGFkZGluZzogMCAzMHB4OyBiYWNrZ3JvdW5kLWltYWdlOiBub25lOyBwb3NpdGlvbjogcmVsYXRpdmU7IH0NCi51aS1pY29uLXNlYXJjaGZpZWxkOmFmdGVyIHsgcG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiA3cHg7IHRvcDogNTAlOyBtYXJnaW4tdG9wOiAtOXB4OyBjb250ZW50OiAiIjsgd2lkdGg6IDE4cHg7IGhlaWdodDogMThweDsgb3BhY2l0eTogLjU7IH0NCi51aS1pbnB1dC1zZWFyY2ggaW5wdXQudWktaW5wdXQtdGV4dCB7IGJvcmRlcjogbm9uZTsgd2lkdGg6IDk4JTsgcGFkZGluZzogLjRlbSAwOyBtYXJnaW46IDA7IGRpc3BsYXk6IGJsb2NrOyBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudCBub25lOyBvdXRsaW5lOiAwICFpbXBvcnRhbnQ7IH0NCi51aS1pbnB1dC1zZWFyY2ggLnVpLWlucHV0LWNsZWFyIHsgcG9zaXRpb246IGFic29sdXRlOyByaWdodDogMDsgdG9wOiA1MCU7IG1hcmdpbi10b3A6IC0xM3B4OyB9DQoudWktaW5wdXQtc2VhcmNoIC51aS1pbnB1dC1jbGVhci1oaWRkZW4geyBkaXNwbGF5OiBub25lOyB9DQoNCi8qIG9yaWVudGF0aW9uIGFkanVzdG1lbnRzIC0gaW5jb21wbGV0ZSEqLw0KQG1lZGlhIGFsbCBhbmQgKG1pbi13aWR0aDogNDUwcHgpew0KCS51aS1maWVsZC1jb250YWluIGxhYmVsLnVpLWlucHV0LXRleHQgIHsgdmVydGljYWwtYWxpZ246IHRvcDsgZGlzcGxheTogaW5saW5lLWJsb2NrOyAgd2lkdGg6IDIwJTsgIG1hcmdpbjogMCAyJSAwIDAgfQ0KCS51aS1maWVsZC1jb250YWluIGlucHV0LnVpLWlucHV0LXRleHQsIA0KCS51aS1maWVsZC1jb250YWluIHRleHRhcmVhLnVpLWlucHV0LXRleHQsIA0KCS51aS1maWVsZC1jb250YWluIC51aS1pbnB1dC1zZWFyY2ggeyB3aWR0aDogNjAlOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IH0gDQoJLnVpLWZpZWxkLWNvbnRhaW4gLnVpLWlucHV0LXNlYXJjaCB7IHdpZHRoOiA1MCU7IH0NCgkudWktaGlkZS1sYWJlbCBpbnB1dC51aS1pbnB1dC10ZXh0LCANCgkudWktaGlkZS1sYWJlbCB0ZXh0YXJlYS51aS1pbnB1dC10ZXh0LCANCgkudWktaGlkZS1sYWJlbCAudWktaW5wdXQtc2VhcmNoIHsgcGFkZGluZzogLjRlbSAxLjUlOyB3aWR0aDogOTclOyB9IA0KCS51aS1pbnB1dC1zZWFyY2ggaW5wdXQudWktaW5wdXQtdGV4dCB7IHdpZHRoOiA5OCU7IC8qZWNob3MgcnVsZSBmcm9tIGFib3ZlKi8gfQ0KfS8qDQoqIGpRdWVyeSBNb2JpbGUgRnJhbWV3b3JrDQoqIENvcHlyaWdodCAoYykgalF1ZXJ5IFByb2plY3QNCiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIChNSVQtTElDRU5TRS50eHQpIG9yIEdQTCAoR1BMLUxJQ0VOU0UudHh0KSBsaWNlbnNlcy4NCiovDQoudWktbGlzdHZpZXcgeyBtYXJnaW46IDA7IGNvdW50ZXItcmVzZXQ6IGxpc3RudW1iZXJpbmc7IH0NCi51aS1jb250ZW50IC51aS1saXN0dmlldyB7IG1hcmdpbjogLTE1cHg7IH0NCi51aS1jb250ZW50IC51aS1saXN0dmlldy1pbnNldCB7IG1hcmdpbjogMWVtIDA7ICB9DQoudWktbGlzdHZpZXcsIC51aS1saSB7IGxpc3Qtc3R5bGU6bm9uZTsgcGFkZGluZzowOyB9DQoudWktbGksIC51aS1saS51aS1maWVsZC1jb250YWluIHsgZGlzcGxheTogYmxvY2s7IG1hcmdpbjowOyBwb3NpdGlvbjogcmVsYXRpdmU7IG92ZXJmbG93OiB2aXNpYmxlOyB0ZXh0LWFsaWduOiBsZWZ0OyBib3JkZXItd2lkdGg6IDA7IGJvcmRlci10b3Atd2lkdGg6IDFweDsgfQ0KLnVpLWxpIC51aS1idG4tdGV4dCBhLnVpLWxpbmstaW5oZXJpdCB7IHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOyBvdmVyZmxvdzogaGlkZGVuOyB3aGl0ZS1zcGFjZTogbm9ybWFsOyAgfQ0KLnVpLWxpLWRpdmlkZXIsIC51aS1saS1zdGF0aWMgeyBwYWRkaW5nOiAuNWVtIDE1cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyAgfQ0KLnVpLWxpLWRpdmlkZXIgeyBjb3VudGVyLXJlc2V0OiBsaXN0bnVtYmVyaW5nOyAgfQ0Kb2wudWktbGlzdHZpZXcgLnVpLWxpbmstaW5oZXJpdDpiZWZvcmUsIG9sLnVpLWxpc3R2aWV3IC51aS1saS1zdGF0aWM6YmVmb3JlLCAudWktbGktZGVjIHsgZm9udC1zaXplOiAuOGVtOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHBhZGRpbmctcmlnaHQ6IC4zZW07IGZvbnQtd2VpZ2h0OiBub3JtYWw7Y291bnRlci1pbmNyZW1lbnQ6IGxpc3RudW1iZXJpbmc7IGNvbnRlbnQ6IGNvdW50ZXIobGlzdG51bWJlcmluZykgIi4gIjsgfQ0Kb2wudWktbGlzdHZpZXcgLnVpLWxpLWpzbnVtYmVyaW5nOmJlZm9yZSB7IGNvbnRlbnQ6ICIiICFpbXBvcnRhbnQ7IH0gLyogdG8gYXZvaWQgY2hhbmNlIG9mIGR1cGxpY2F0aW9uICovDQoudWktbGlzdHZpZXctaW5zZXQgLnVpLWxpIHsgYm9yZGVyLXJpZ2h0LXdpZHRoOiAxcHg7IGJvcmRlci1sZWZ0LXdpZHRoOiAxcHg7IH0NCi51aS1saTpsYXN0LWNoaWxkLCAudWktbGkudWktZmllbGQtY29udGFpbjpsYXN0LWNoaWxkIHsgYm9yZGVyLWJvdHRvbS13aWR0aDogMXB4OyB9DQoudWktbGk+LnVpLWJ0bi1pbm5lciB7IGRpc3BsYXk6IGJsb2NrOyBwb3NpdGlvbjogcmVsYXRpdmU7IHBhZGRpbmc6IDA7IH0NCi51aS1saSAudWktYnRuLWlubmVyIGEudWktbGluay1pbmhlcml0LCAudWktbGktc3RhdGljLnVpLWxpIHsgcGFkZGluZzogLjNlbSAxZW0gLjNlbSAuM2VtOyBkaXNwbGF5OiBibG9jazsgfQ0KLnVpLWxpLWhhcy10aHVtYiAudWktYnRuLWlubmVyIGEudWktbGluay1pbmhlcml0LCAudWktbGktc3RhdGljLnVpLWxpLWhhcy10aHVtYiAgeyBtaW4taGVpZ2h0OiA2MHB4OyBwYWRkaW5nLWxlZnQ6IDEwMHB4OyB9DQoudWktbGktaGFzLWljb24gLnVpLWJ0bi1pbm5lciBhLnVpLWxpbmstaW5oZXJpdCwgLnVpLWxpLXN0YXRpYy51aS1saS1oYXMtaWNvbiB7ICBtaW4taGVpZ2h0OiAyMHB4OyBwYWRkaW5nLWxlZnQ6IDQwcHg7IH0NCi51aS1saS1oYXMtY291bnQgLnVpLWJ0bi1pbm5lciBhLnVpLWxpbmstaW5oZXJpdCwgLnVpLWxpLXN0YXRpYy51aS1saS1oYXMtY291bnQgeyBwYWRkaW5nLXJpZ2h0OiA0NXB4OyB9DQoudWktbGktaGFzLWFycm93IC51aS1idG4taW5uZXIgYS51aS1saW5rLWluaGVyaXQsIC51aS1saS1zdGF0aWMudWktbGktaGFzLWFycm93IHsgcGFkZGluZy1yaWdodDogMzBweDsgfQ0KLnVpLWxpLWhhcy1hcnJvdy51aS1saS1oYXMtY291bnQgLnVpLWJ0bi1pbm5lciBhLnVpLWxpbmstaW5oZXJpdCwgLnVpLWxpLXN0YXRpYy51aS1saS1oYXMtYXJyb3cudWktbGktaGFzLWNvdW50IHsgcGFkZGluZy1yaWdodDogNzVweDsgfQ0KLnVpLWxpLWhhcy1jb3VudCAudWktYnRuLXRleHQgeyBwYWRkaW5nLXJpZ2h0OiAxNXB4OyB9DQoudWktbGktaGVhZGluZyB7IGZvbnQtc2l6ZTogMTZweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGRpc3BsYXk6IGJsb2NrOyBtYXJnaW46IC42ZW0gMDsgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7IG92ZXJmbG93OiBoaWRkZW47IHdoaXRlLXNwYWNlOiBub3dyYXA7ICB9DQoudWktbGktZGVzYyB7ICBmb250LXNpemU6IDEycHg7IGZvbnQtd2VpZ2h0OiBub3JtYWw7IGRpc3BsYXk6IGJsb2NrOyBtYXJnaW46IC0uNWVtIDAgLjZlbTsgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7IG92ZXJmbG93OiBoaWRkZW47IHdoaXRlLXNwYWNlOiBub3dyYXA7IH0NCi51aS1saS10aHVtYiwgLnVpLWxpLWljb24geyBwb3NpdGlvbjogYWJzb2x1dGU7IGxlZnQ6IDFweDsgdG9wOiAwOyBtYXgtaGVpZ2h0OiA4MHB4OyBtYXgtd2lkdGg6IDgwcHg7IH0NCi51aS1saS1pY29uIHsgbWF4LWhlaWdodDogNDBweDsgbWF4LXdpZHRoOiA0MHB4OyBsZWZ0OiAxMHB4OyB0b3A6IC45ZW07IH0NCi51aS1saS10aHVtYiwgLnVpLWxpLWljb24sIC51aS1saS1jb250ZW50IHsgZmxvYXQ6IGxlZnQ7IG1hcmdpbi1yaWdodDogMTBweDsgfQ0KDQoudWktbGktYXNpZGUgeyBmbG9hdDogcmlnaHQ7IHdpZHRoOiA1MCU7IHRleHQtYWxpZ246IHJpZ2h0OyBtYXJnaW46IC4zZW0gMDsgfQ0KQG1lZGlhIGFsbCBhbmQgKG1pbi13aWR0aDogNDgwcHgpew0KCSAudWktbGktYXNpZGUgeyB3aWR0aDogNDUlOyB9DQp9CSANCi51aS1saS1kaXZpZGVyIHsgY3Vyc29yOiBkZWZhdWx0OyB9DQoudWktbGktaGFzLWFsdCAudWktYnRuLWlubmVyIGEudWktbGluay1pbmhlcml0LCAudWktbGktc3RhdGljLnVpLWxpLWhhcy1hbHQgeyBwYWRkaW5nLXJpZ2h0OiA5NXB4OyB9DQoudWktbGktaGFzLWNvdW50IC51aS1saS1jb3VudCB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgZm9udC1zaXplOiAxMXB4OyBmb250LXdlaWdodDogYm9sZDsgcGFkZGluZzogLjJlbSAuNWVtOyB0b3A6IDUwJTsgbWFyZ2luLXRvcDogLS45ZW07IHJpZ2h0OiAzOHB4OyB9DQoudWktbGktZGl2aWRlciAudWktbGktY291bnQsIC51aS1saS1zdGF0aWMgLnVpLWxpLWNvdW50IHsgcmlnaHQ6IDEwcHg7IH0NCi51aS1saS1oYXMtYWx0IC51aS1saS1jb3VudCB7IHJpZ2h0OiA1NXB4OyB9DQoudWktbGktbGluay1hbHQgeyBwb3NpdGlvbjogYWJzb2x1dGU7IHdpZHRoOiA0MHB4OyBoZWlnaHQ6IDEwMCU7IGJvcmRlci13aWR0aDogMDsgYm9yZGVyLWxlZnQtd2lkdGg6IDFweDsgdG9wOiAwOyByaWdodDogMDsgbWFyZ2luOiAwOyBwYWRkaW5nOiAwOyB6LWluZGV4OiAyOyB9DQoudWktbGktbGluay1hbHQgLnVpLWJ0biB7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiBhYnNvbHV0ZTsgcmlnaHQ6IDhweDsgdG9wOiA1MCU7IG1hcmdpbjogLTExcHggMCAwIDA7IGJvcmRlci1ib3R0b20td2lkdGg6IDFweDsgei1pbmRleDogLTE7fQ0KLnVpLWxpLWxpbmstYWx0IC51aS1idG4taW5uZXIgeyBwYWRkaW5nOiAwOyBoZWlnaHQ6IDEwMCU7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgd2lkdGg6IDEwMCU7IHRvcDogMDsgbGVmdDogMDt9DQoudWktbGktbGluay1hbHQgLnVpLWJ0biAudWktaWNvbiB7IHJpZ2h0OiA1MCU7IG1hcmdpbi1yaWdodDogLTlweDsgIH0NCg0KLnVpLWxpc3R2aWV3ICogLnVpLWJ0bi1pbm5lciA+IC51aS1idG4gPiAudWktYnRuLWlubmVyIHsgYm9yZGVyLXRvcDogMHB4OyB9DQoNCi51aS1saXN0dmlldy1maWx0ZXIgeyBib3JkZXItd2lkdGg6IDA7IG92ZXJmbG93OiBoaWRkZW47IG1hcmdpbjogLTE1cHggLTE1cHggMTVweCAtMTVweCB9DQoudWktbGlzdHZpZXctZmlsdGVyIC51aS1pbnB1dC1zZWFyY2ggeyBtYXJnaW46IDVweDsgd2lkdGg6IGF1dG87IGRpc3BsYXk6IGJsb2NrOyB9DQoNCi51aS1saXN0dmlldy1maWx0ZXItaW5zZXQgeyBtYXJnaW46IC0xNXB4IC01cHggLTE1cHggLTVweDsgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7IH0NCi51aS1saS51aS1zY3JlZW4taGlkZGVue2Rpc3BsYXk6bm9uZTt9DQovKiBPZGQgaVBhZCBwb3NpdGlvbmluZyBpc3N1ZS4gKi8NCkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi1kZXZpY2Utd2lkdGg6IDc2OHB4KSBhbmQgKG1heC1kZXZpY2Utd2lkdGg6IDEwMjRweCkgew0KICAgIC51aS1saSAudWktYnRuLXRleHQgeyBvdmVyZmxvdzogIHZpc2libGU7IH0NCn0vKg0KKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yaw0KKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0DQoqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCAoTUlULUxJQ0VOU0UudHh0KSBvciBHUEwgKEdQTC1MSUNFTlNFLnR4dCkgbGljZW5zZXMuDQoqLw0KbGFiZWwudWktc2xpZGVyIHsgZm9udC1zaXplOiAxNnB4OyBsaW5lLWhlaWdodDogMS40OyAgZm9udC13ZWlnaHQ6IG5vcm1hbDsgbWFyZ2luOiAwIDAgLjNlbTsgZGlzcGxheTogYmxvY2s7IH0NCmlucHV0LnVpLXNsaWRlci1pbnB1dCwNCi51aS1maWVsZC1jb250YWluIGlucHV0LnVpLXNsaWRlci1pbnB1dCB7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgd2lkdGg6IDUwcHg7IH0NCnNlbGVjdC51aS1zbGlkZXItc3dpdGNoIHsgZGlzcGxheTogbm9uZTsgfQ0KZGl2LnVpLXNsaWRlciB7IHBvc2l0aW9uOiByZWxhdGl2ZTsgZGlzcGxheTogaW5saW5lLWJsb2NrOyBvdmVyZmxvdzogdmlzaWJsZTsgaGVpZ2h0OiAxNXB4OyBwYWRkaW5nOiAwOyBtYXJnaW46IDAgMiUgMCAyMHB4OyB0b3A6IDRweDsgd2lkdGg6IDY2JTsgfQ0KZGl2LnVpLXNsaWRlci1zd2l0Y2ggeyB3aWR0aDogOTkuOCU7IH0NCmEudWktc2xpZGVyLWhhbmRsZSB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgei1pbmRleDogMTA7ICB0b3A6IDUwJTsgd2lkdGg6IDI4cHg7IGhlaWdodDogMjhweDsgbWFyZ2luLXRvcDogLTE1cHg7IG1hcmdpbi1sZWZ0OiAtMTVweDsgfQ0KYS51aS1zbGlkZXItaGFuZGxlIC51aS1idG4taW5uZXIgeyBwYWRkaW5nLWxlZnQ6IDA7IHBhZGRpbmctcmlnaHQ6IDA7IH0NCkBtZWRpYSBhbGwgYW5kIChtaW4td2lkdGg6IDQ4MHB4KXsNCgkudWktZmllbGQtY29udGFpbiBsYWJlbC51aS1zbGlkZXIgeyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyAgZGlzcGxheTogaW5saW5lLWJsb2NrOyAgd2lkdGg6IDIwJTsgIG1hcmdpbjogMCAyJSAwIDA7IH0NCgkudWktZmllbGQtY29udGFpbiBkaXYudWktc2xpZGVyIHsgd2lkdGg6IDQzJTsgfQ0KfQkNCg0KZGl2LnVpLXNsaWRlci1zd2l0Y2ggeyBoZWlnaHQ6IDMycHg7ICBvdmVyZmxvdzogaGlkZGVuOyBtYXJnaW4tbGVmdDogMDsgfQ0KZGl2LnVpLXNsaWRlci1pbm5lcm9mZnNldCB7IG1hcmdpbi1sZWZ0OiA1MCU7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAxcHg7IGhlaWdodDogMTAwJTsgd2lkdGg6IDUwJTsgfQ0KYS51aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nIHsgLXdlYmtpdC10cmFuc2l0aW9uOiBsZWZ0IDEwMG1zIGxpbmVhcjsgfQ0KZGl2LnVpLXNsaWRlci1sYWJlbGJnIHsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6MDsgbWFyZ2luOiAwOyBib3JkZXItd2lkdGg6IDA7IH0NCmRpdi51aS1zbGlkZXItc3dpdGNoIGRpdi51aS1zbGlkZXItbGFiZWxiZy1hIHsgd2lkdGg6IDYwJTsgaGVpZ2h0OiAxMDAlOyBsZWZ0OiAwOyB9DQpkaXYudWktc2xpZGVyLXN3aXRjaCBkaXYudWktc2xpZGVyLWxhYmVsYmctYiB7IHdpZHRoOiA2MCU7IGhlaWdodDogMTAwJTsgcmlnaHQ6IDA7IH0NCi51aS1zbGlkZXItc3dpdGNoLWEgZGl2LnVpLXNsaWRlci1sYWJlbGJnLWEsIC51aS1zbGlkZXItc3dpdGNoLWIgZGl2LnVpLXNsaWRlci1sYWJlbGJnLWIgeyB6LWluZGV4OiAtMTsgfQ0KLnVpLXNsaWRlci1zd2l0Y2gtYSBkaXYudWktc2xpZGVyLWxhYmVsYmctYiwgLnVpLXNsaWRlci1zd2l0Y2gtYiBkaXYudWktc2xpZGVyLWxhYmVsYmctYSB7IHotaW5kZXg6IDA7IH0NCg0KZGl2LnVpLXNsaWRlci1zd2l0Y2ggYS51aS1zbGlkZXItaGFuZGxlIHsgei1pbmRleDogMjA7ICB3aWR0aDogMTAxJTsgaGVpZ2h0OiAzMnB4OyBtYXJnaW4tdG9wOiAtMThweDsgbWFyZ2luLWxlZnQ6IC0xMDElOyB9DQpzcGFuLnVpLXNsaWRlci1sYWJlbCB7IHdpZHRoOiAxMDAlOyBwb3NpdGlvbjogYWJzb2x1dGU7aGVpZ2h0OiAzMnB4OyAgZm9udC1zaXplOiAxNnB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IGxpbmUtaGVpZ2h0OiAyOyBiYWNrZ3JvdW5kOiBub25lOyBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50OyB9DQpzcGFuLnVpLXNsaWRlci1sYWJlbC1hIHsgbGVmdDogLTEwMCU7ICBtYXJnaW4tcmlnaHQ6IC0xcHggfQ0Kc3Bhbi51aS1zbGlkZXItbGFiZWwtYiB7IHJpZ2h0OiAtMTAwJTsgIG1hcmdpbi1sZWZ0OiAtMXB4IH0NCg==]]></item_file_attachment>
    <item_file_attachment_ext><![CDATA[.css]]></item_file_attachment_ext>
    <item_file_attachment_filename><![CDATA[jquery.mobile-1.0rc2.css]]></item_file_attachment_filename>
    <item_file_attachment_size><![CDATA[86977]]></item_file_attachment_size>
    <item_file_attachment_type><![CDATA[text/css]]></item_file_attachment_type>
  </item>
  <item>
    <mig_id>search</mig_id>
    <community>siteAdmin</community>
    <contenttype>nciJavaScriptInternalInfo</contenttype>
    <folder>/configuration/js</folder>
    <long_title><![CDATA[search]]></long_title>
    <pretty_url_name><![CDATA[search]]></pretty_url_name>
    <item_file_attachment><![CDATA[alF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigkKSB7DQoJCQ0KCQl2YXIgdXJsUGFyYW1zID0ge307DQoJCShmdW5jdGlvbiAoKSB7DQogCQkgICB2YXIgZSwNCiAgICAgIAkJICBhID0gL1wrL2csICAvLyBSZWdleCBmb3IgcmVwbGFjaW5nIGFkZGl0aW9uIHN5bWJvbCB3aXRoIGEgc3BhY2UNCiAgICAgIAkJICByID0gLyhbXiY9XSspPT8oW14mXSopL2csDQogICAgICAJCSAgZCA9IGZ1bmN0aW9uIChzKSB7IHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocy5yZXBsYWNlKGEsICIgIikpOyB9LA0KICAgIAkJICBxID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHJpbmcoMSk7DQoNCiAgICAJCXdoaWxlIChlID0gci5leGVjKHEpKQ0KICAgIAkJICAgdXJsUGFyYW1zW2QoZVsxXSldID0gZChlWzJdKTsNCgkJfSkoKTsNCgkJDQoJCWlmKCJzd0tleXdvcmQiIGluIHVybFBhcmFtcyl7DQoJCQkNCgkJCSQoIiNzd0tleXdvcmQiKS52YWwodXJsUGFyYW1zWyJzd0tleXdvcmQiXSk7ICAgCQkNCgkJfQ0KCQkNCgkJZWxzZSB7DQoJCQ0KCQkkKCIjdG9nZ2xlVGV4dCIpLnRvZ2dsZSgpOw0KCQkNCgkJfQ0KCQkNCgkJJCgiI2Rpc3BsYXlUZXh0IikuY2xpY2soZnVuY3Rpb24oKXsNCgkJCSQoIiN0b2dnbGVUZXh0IikudG9nZ2xlKCk7DQoJCX0pOw0KCQkNCn0pOw==]]></item_file_attachment>
    <item_file_attachment_ext><![CDATA[.js]]></item_file_attachment_ext>
    <item_file_attachment_filename><![CDATA[search.js]]></item_file_attachment_filename>
    <item_file_attachment_size><![CDATA[664]]></item_file_attachment_size>
    <item_file_attachment_type><![CDATA[application/unknown]]></item_file_attachment_type>
    <name><![CDATA[search]]></name>
  </item>
  <item>
    <mig_id>sw-autocomplete</mig_id>
    <community>siteAdmin</community>
    <contenttype>nciJavaScriptInternalInfo</contenttype>
    <folder>/configuration/js</folder>
    <long_title><![CDATA[sw-autocomplete]]></long_title>
    <pretty_url_name><![CDATA[sw-autocomplete]]></pretty_url_name>
    <item_file_attachment><![CDATA[Ly8gSmF2YVNjcmlwdCBEb2N1bWVudA0KDQpqUXVlcnkoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCQpIHsNCg0KICAgIC8vZnVuY3Rpb24gbG9nKCBtZXNzYWdlICkgew0KICAgIC8vCSQoICI8ZGl2Lz4iICkudGV4dCggbWVzc2FnZSApLnByZXBlbmRUbyggIiNsb2ciICk7DQogICAgLy8JJCggIiNsb2ciICkuYXR0ciggInNjcm9sbFRvcCIsIDAgKTsNCiAgICAvL30NCg0KICAgIHZhciBsYW5ndWFnZSA9ICJFbmdsaXNoIjsNCg0KICAgIGlmICgkKCdtZXRhW25hbWU9ImNvbnRlbnQtbGFuZ3VhZ2UiXScpLmF0dHIoImNvbnRlbnQiKSA9PSAiZXMiKSB7DQogICAgICAgIGxhbmd1YWdlID0gIlNwYW5pc2giDQogICAgfQ0KDQogICAgdmFyICRrZXl3b3JkRWxlbSA9ICQoIiNzd0tleXdvcmQiKQ0KDQogICAgaWYgKCRrZXl3b3JkRWxlbS5sZW5ndGggPT0gMCkNCiAgICAgICAgcmV0dXJuOw0KDQoJJGtleXdvcmRFbGVtLmF1dG9jb21wbGV0ZSh7DQoJICAgIHNvdXJjZTogIi9BdXRvU3VnZ2VzdFNlYXJjaC5zdmMvU2VhcmNoSlNPTi8iICsgbGFuZ3VhZ2UsDQoJCQ0KCQkvL3NvdXJjZTogIi9QdWJsaXNoZWRDb250ZW50L2pzL2RhdGEuaHRtbCIgLA0KCQkNCgkgICAgbWluTGVuZ3RoOiAzLA0KCSAgICBmb2N1czogZnVuY3Rpb24oZXZlbnQsIHVpKSB7DQoJCSQoIiNzd0tleXdvcmQiKS52YWwodWkuaXRlbS5pdGVtKTsNCgkJcmV0dXJuIGZhbHNlOw0KCSAgICB9LA0KCSAgICBzZWxlY3Q6IGZ1bmN0aW9uKGV2ZW50LCB1aSkgew0KCQkkKCIjc3dLZXl3b3JkIikudmFsKHVpLml0ZW0uaXRlbSk7DQoJCXJldHVybiBmYWxzZTsNCgkgICAgfQ0KCX0pLmRhdGEoImF1dG9jb21wbGV0ZSIpLl9yZW5kZXJJdGVtID0gZnVuY3Rpb24odWwsIGl0ZW0pIHsNCgkgICAgLy9Fc2NhcGUgYmFkIGNoYXJhY3RlcnMNCgkgICAgdmFyIGx0ZXJtID0gdGhpcy50ZXJtLnJlcGxhY2UoL1stW1xde30oKSorPy4sXFxeJHwjXHNdL2csICJcXCQmIik7DQoNCgkgICAgLy9UaGlzIHNob3VsZCBmaW5kIGFueSB3b3JkcyB3aGljaCBiZWdpbiB3aXRoIHRoZSB0ZXh0IGZyb20gaXRlbS4JCQkNCgkgICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cCgiKF4iICsgbHRlcm0gKyAifFxccysiICsgbHRlcm0gKyAiKSIpOw0KDQoJICAgIHZhciB3b3JkID0gaXRlbS5pdGVtLnJlcGxhY2UocmVnZXgsICI8c3Ryb25nPiQmPC9zdHJvbmc+Iik7DQoNCgkgICAgcmV0dXJuICQoIjxsaT48L2xpPiIpDQoJCQkJLmRhdGEoIml0ZW0uYXV0b2NvbXBsZXRlIiwgaXRlbSkNCgkJCQkuYXBwZW5kKCI8YT4iICsgd29yZCArICI8L2E+IikNCgkJCQkuYXBwZW5kVG8odWwpOw0KCX07DQoJDQogICAgJGtleXdvcmRFbGVtLmtleXVwKGZ1bmN0aW9uKGV2ZW50KSB7CQ0KICAgICAgIGlmICggZXZlbnQud2hpY2ggPT0gMTMgKSB7DQogICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsJICANCgkgICQodGhpcykuY2xvc2VzdCgiZm9ybSIpLnRyaWdnZXIoJ3N1Ym1pdCcpOw0KICAgICAgIH0gICAgICAgDQogICAgfSk7DQoNCg0KfQ0KCSk7DQoNCg0KCQ0KCQ0KCS8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLw0KCQ0KCQ0KLyokKCcjc2VhcmNoUGFnZScpLmxpdmUoJ3BhZ2VjcmVhdGUnLCBmdW5jdGlvbiAoZXZlbnQpIHsNCiAgIA0KICAgdmFyICRrZXl3b3JkRWxlbSA9ICQoIiNzd0tleXdvcmQiKQ0KICAgdmFyIGxhbmd1YWdlID0gIkVuZ2xpc2giOw0KICAgDQogICAka2V5d29yZEVsZW0uYXV0b2NvbXBsZXRlKHsNCgkgICAgc291cmNlOiAiL0F1dG9TdWdnZXN0U2VhcmNoLnN2Yy9TZWFyY2hKU09OLyIgKyBsYW5ndWFnZSwNCgkgICAgbWluTGVuZ3RoOiAzLA0KCSAgICAvL2ZvY3VzOiBmdW5jdGlvbihldmVudCwgdWkpIHsNCgkJLy8kKCIjc3dLZXl3b3JkIikudmFsKHVpLml0ZW0uaXRlbSk7DQoJCS8vcmV0dXJuIGZhbHNlOw0KCSAgICAvL30sDQoJICAgIHNlbGVjdDogZnVuY3Rpb24oZXZlbnQsIHVpKSB7DQoJCSQoIiNzd0tleXdvcmQiKS52YWwodWkuaXRlbS5pdGVtKTsNCgkJcmV0dXJuIGZhbHNlOw0KCSAgICB9DQoJfSk7Ki8NCgkNCgkvKi5kYXRhKCJhdXRvY29tcGxldGUiKS5fcmVuZGVySXRlbSA9IGZ1bmN0aW9uKHVsLCBpdGVtKSB7DQoJICAgIC8vRXNjYXBlIGJhZCBjaGFyYWN0ZXJzDQoJICAgIHZhciBsdGVybSA9IHRoaXMudGVybS5yZXBsYWNlKC9bLVtcXXt9KCkqKz8uLFxcXiR8I1xzXS9nLCAiXFwkJiIpOw0KDQoJICAgIC8vVGhpcyBzaG91bGQgZmluZCBhbnkgd29yZHMgd2hpY2ggYmVnaW4gd2l0aCB0aGUgdGV4dCBmcm9tIGl0ZW0uCQkJDQoJICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoIiheIiArIGx0ZXJtICsgInxcXHMrIiArIGx0ZXJtICsgIikiKTsNCg0KCSAgICB2YXIgd29yZCA9IGl0ZW0uaXRlbS5yZXBsYWNlKHJlZ2V4LCAiPHN0cm9uZz4kJjwvc3Ryb25nPiIpOw0KDQoJICAgIHJldHVybiAkKCI8bGk+PC9saT4iKQ0KCQkJCS5kYXRhKCJpdGVtLmF1dG9jb21wbGV0ZSIsIGl0ZW0pDQoJCQkJLmFwcGVuZCgiPGE+IiArIHdvcmQgKyAiPC9hPiIpDQoJCQkJLmFwcGVuZFRvKHVsKTsNCgl9Ow0KCQ0KICAgICRrZXl3b3JkRWxlbS5rZXl1cChmdW5jdGlvbihldmVudCkgewkNCiAgICAgICBpZiAoIGV2ZW50LndoaWNoID09IDEzICkgew0KICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CSAgDQoJICAkKHRoaXMpLmNsb3Nlc3QoImZvcm0iKS50cmlnZ2VyKCdzdWJtaXQnKTsNCiAgICAgICB9ICAgICAgIA0KICAgIH0pOw0KCQ0KCQ0KfQ0KKTsqLw==]]></item_file_attachment>
    <item_file_attachment_ext><![CDATA[.js]]></item_file_attachment_ext>
    <item_file_attachment_filename><![CDATA[sw-autocomplete.js]]></item_file_attachment_filename>
    <item_file_attachment_size><![CDATA[2803]]></item_file_attachment_size>
    <item_file_attachment_type><![CDATA[application/unknown]]></item_file_attachment_type>
    <name><![CDATA[sw-autocomplete]]></name>
  </item>
  <item>
    <mig_id>NCIGeneralJS.js</mig_id>
    <community>siteAdmin</community>
    <contenttype>nciJavaScriptInternalInfo</contenttype>
    <folder>/configuration/js</folder>
    <long_title><![CDATA[NCIGeneralJS.js]]></long_title>
    <pretty_url_name><![CDATA[NCIGeneralJS.js]]></pretty_url_name>
    <item_file_attachment><![CDATA[LyogRklMRSA6IE5DSUdlbmVyYWxKUy5qcyANCg0KCVBVUlBPU0U6IFNjcmlwdHMgaW4gdGhpcyBmaWxlIHNob3VsZCBiZSBmb3IgdXNlIG9uIGFsbCBzaXRlcyBob3N0ZWQgYnkgdGhlIFBlcmN1c3Npb24gQ01TDQoqLw0KDQoNCg0KLy8gRXhpdCBEaXNjbGFpbWVyIEFkZGVyDQovLyAgVGhpcyBzY3JpcHQgbG9va3MgZm9yIHVybHMgd2hlcmUgdGhlIGhyZWYgcG9pbnRzIHRvIHdlYnNpdGVzIG5vdCBpbiB0aGUgZmVkZXJhbCBkb21haW4gKC5nb3YpIGFuZCBpZiBpdCBmaW5kcyBvbmUsIGl0IGFwcGVuZHMgYW4gaW1hZ2UgdG8gdGhlIGxpbmsuICBUaGUgaW1hZ2UgaXRzZWxmIGxpbmtzIHRvIHRoZSBleGl0IGRpc2NsYWltZXIgcGFnZS4NCg0KLy9UaGUgdGhyZWUgdGVzdHMgaW4gdGhlIGZpbHRlciBmdWN0aW9uIHRlc3QgZm9yIHRoZSBmb2xsb3dpbmcgY3JpdGVyaWENCi8vICEvaHR0cHM/XDpcL1wvKFthLXpBLVowLTlcLV0rXC4pK2dvdi8udGVzdCh0aGlzLmhyZWYpIDogVGhlIGhyZWYgaXMgYSB2YWxpZCB1cmwgdGhhdCBkb2VzIG5vdCBlbmQgaW4gLmdvdg0KalF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigkKSB7DQovL2RvY3VtZW50LndyaXRlKCQoJ21ldGEnKS5uYW1lKTsNCnZhciBwYXRoOw0KdmFyIGFsdFRleHQ7DQp2YXIgbGFuZyA9ICQoJ21ldGFbbmFtZT0iY29udGVudC1sYW5ndWFnZSJdJykuYXR0cignY29udGVudCcpOw0KaWYgKCFwYXRoKXsNCglpZiggbGFuZyA9PSAiZW4iKXsNCgkJcGF0aCA9ICQoJ21ldGFbbmFtZT0iZW5nbGlzaC1saW5raW5nLXBvbGljeSJdJykuYXR0cignY29udGVudCcpOw0KCQlhbHRUZXh0ID0nRXhpdCBEaXNjbGFpbWVyJzsNCgkJfQ0KCWVsc2V7IA0KCQlwYXRoID0gJCgnbWV0YVtuYW1lPSJlc3Bhbm9sLWxpbmtpbmctcG9saWN5Il0nKS5hdHRyKCdjb250ZW50Jyk7DQoJCWFsdFRleHQgPSdOb3RpZmljYWNpXHUwMEYzbiBkZSBzYWxpZGEnOw0KCQl9DQp9DQokKCJhIikuZmlsdGVyKGZ1bmN0aW9uICgpIHsgIHJldHVybiAvXmh0dHBzP1w6XC9cLyhbYS16QS1aMC05XC1dK1wuKSsvLnRlc3QodGhpcy5ocmVmKSAmJiAhL15odHRwcz9cOlwvXC8oW2EtekEtWjAtOVwtXStcLikrZ292Ly50ZXN0KHRoaXMuaHJlZikgJiYgdGhpcy5ocmVmICE9ICIiICYmIHRoaXMuaHJlZi5pbmRleE9mKGxvY2F0aW9uLnByb3RvY29sICsiLy8iICtsb2NhdGlvbi5ob3N0bmFtZSkgIT0gMCAmJiAhJCh0aGlzKS5oYXNDbGFzcygibm8tZXhpdC1ub3RpZmljYXRpb24iKSB9KS5hZnRlcignIDxhIGNsYXNzPSJleGl0Tm90aWZpY2F0aW9uIiBocmVmPScgKyBwYXRoICsgJz48aW1nIHRpdGxlPScrICciJyArIGFsdFRleHQgKyciJyArJyAgYWx0PScrICciJyArIGFsdFRleHQgKyciJyArICcgc3JjPSIvcHVibGlzaGVkY29udGVudC9pbWFnZXMvaW1hZ2VzL2V4aXRfc21hbGwucG5nIiAvPjwvYT4nKTsNCn0pOw0K]]></item_file_attachment>
    <item_file_attachment_ext><![CDATA[.js]]></item_file_attachment_ext>
    <item_file_attachment_filename><![CDATA[NCIGeneralJS.js]]></item_file_attachment_filename>
    <item_file_attachment_size><![CDATA[1449]]></item_file_attachment_size>
    <item_file_attachment_type><![CDATA[application/unknown]]></item_file_attachment_type>
    <name><![CDATA[NCIGeneralJS.js]]></name>
  </item>
  <item>
    <mig_id>jquery.ui.widget</mig_id>
    <community>siteAdmin</community>
    <contenttype>nciJavaScriptInternalInfo</contenttype>
    <folder>/configuration/js</folder>
    <long_title><![CDATA[jquery.ui.widget]]></long_title>
    <pretty_url_name><![CDATA[jquery.ui.widget]]></pretty_url_name>
    <item_file_attachment><![CDATA[LyohCiAqIGpRdWVyeSBVSSBXaWRnZXQgMS44LjE2CiAqCiAqIENvcHlyaWdodCAyMDExLCBBVVRIT1JTLnR4dCAoaHR0cDovL2pxdWVyeXVpLmNvbS9hYm91dCkKICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKICoKICogaHR0cDovL2RvY3MuanF1ZXJ5LmNvbS9VSS9XaWRnZXQKICovCihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkgewoKLy8galF1ZXJ5IDEuNCsKaWYgKCAkLmNsZWFuRGF0YSApIHsKCXZhciBfY2xlYW5EYXRhID0gJC5jbGVhbkRhdGE7CgkkLmNsZWFuRGF0YSA9IGZ1bmN0aW9uKCBlbGVtcyApIHsKCQlmb3IgKCB2YXIgaSA9IDAsIGVsZW07IChlbGVtID0gZWxlbXNbaV0pICE9IG51bGw7IGkrKyApIHsKCQkJdHJ5IHsKCQkJCSQoIGVsZW0gKS50cmlnZ2VySGFuZGxlciggInJlbW92ZSIgKTsKCQkJLy8gaHR0cDovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvODIzNQoJCQl9IGNhdGNoKCBlICkge30KCQl9CgkJX2NsZWFuRGF0YSggZWxlbXMgKTsKCX07Cn0gZWxzZSB7Cgl2YXIgX3JlbW92ZSA9ICQuZm4ucmVtb3ZlOwoJJC5mbi5yZW1vdmUgPSBmdW5jdGlvbiggc2VsZWN0b3IsIGtlZXBEYXRhICkgewoJCXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7CgkJCWlmICggIWtlZXBEYXRhICkgewoJCQkJaWYgKCAhc2VsZWN0b3IgfHwgJC5maWx0ZXIoIHNlbGVjdG9yLCBbIHRoaXMgXSApLmxlbmd0aCApIHsKCQkJCQkkKCAiKiIsIHRoaXMgKS5hZGQoIFsgdGhpcyBdICkuZWFjaChmdW5jdGlvbigpIHsKCQkJCQkJdHJ5IHsKCQkJCQkJCSQoIHRoaXMgKS50cmlnZ2VySGFuZGxlciggInJlbW92ZSIgKTsKCQkJCQkJLy8gaHR0cDovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvODIzNQoJCQkJCQl9IGNhdGNoKCBlICkge30KCQkJCQl9KTsKCQkJCX0KCQkJfQoJCQlyZXR1cm4gX3JlbW92ZS5jYWxsKCAkKHRoaXMpLCBzZWxlY3Rvciwga2VlcERhdGEgKTsKCQl9KTsKCX07Cn0KCiQud2lkZ2V0ID0gZnVuY3Rpb24oIG5hbWUsIGJhc2UsIHByb3RvdHlwZSApIHsKCXZhciBuYW1lc3BhY2UgPSBuYW1lLnNwbGl0KCAiLiIgKVsgMCBdLAoJCWZ1bGxOYW1lOwoJbmFtZSA9IG5hbWUuc3BsaXQoICIuIiApWyAxIF07CglmdWxsTmFtZSA9IG5hbWVzcGFjZSArICItIiArIG5hbWU7CgoJaWYgKCAhcHJvdG90eXBlICkgewoJCXByb3RvdHlwZSA9IGJhc2U7CgkJYmFzZSA9ICQuV2lkZ2V0OwoJfQoKCS8vIGNyZWF0ZSBzZWxlY3RvciBmb3IgcGx1Z2luCgkkLmV4cHJbICI6IiBdWyBmdWxsTmFtZSBdID0gZnVuY3Rpb24oIGVsZW0gKSB7CgkJcmV0dXJuICEhJC5kYXRhKCBlbGVtLCBuYW1lICk7Cgl9OwoKCSRbIG5hbWVzcGFjZSBdID0gJFsgbmFtZXNwYWNlIF0gfHwge307CgkkWyBuYW1lc3BhY2UgXVsgbmFtZSBdID0gZnVuY3Rpb24oIG9wdGlvbnMsIGVsZW1lbnQgKSB7CgkJLy8gYWxsb3cgaW5zdGFudGlhdGlvbiB3aXRob3V0IGluaXRpYWxpemluZyBmb3Igc2ltcGxlIGluaGVyaXRhbmNlCgkJaWYgKCBhcmd1bWVudHMubGVuZ3RoICkgewoJCQl0aGlzLl9jcmVhdGVXaWRnZXQoIG9wdGlvbnMsIGVsZW1lbnQgKTsKCQl9Cgl9OwoKCXZhciBiYXNlUHJvdG90eXBlID0gbmV3IGJhc2UoKTsKCS8vIHdlIG5lZWQgdG8gbWFrZSB0aGUgb3B0aW9ucyBoYXNoIGEgcHJvcGVydHkgZGlyZWN0bHkgb24gdGhlIG5ldyBpbnN0YW5jZQoJLy8gb3RoZXJ3aXNlIHdlJ2xsIG1vZGlmeSB0aGUgb3B0aW9ucyBoYXNoIG9uIHRoZSBwcm90b3R5cGUgdGhhdCB3ZSdyZQoJLy8gaW5oZXJpdGluZyBmcm9tCi8vCSQuZWFjaCggYmFzZVByb3RvdHlwZSwgZnVuY3Rpb24oIGtleSwgdmFsICkgewovLwkJaWYgKCAkLmlzUGxhaW5PYmplY3QodmFsKSApIHsKLy8JCQliYXNlUHJvdG90eXBlWyBrZXkgXSA9ICQuZXh0ZW5kKCB7fSwgdmFsICk7Ci8vCQl9Ci8vCX0pOwoJYmFzZVByb3RvdHlwZS5vcHRpb25zID0gJC5leHRlbmQoIHRydWUsIHt9LCBiYXNlUHJvdG90eXBlLm9wdGlvbnMgKTsKCSRbIG5hbWVzcGFjZSBdWyBuYW1lIF0ucHJvdG90eXBlID0gJC5leHRlbmQoIHRydWUsIGJhc2VQcm90b3R5cGUsIHsKCQluYW1lc3BhY2U6IG5hbWVzcGFjZSwKCQl3aWRnZXROYW1lOiBuYW1lLAoJCXdpZGdldEV2ZW50UHJlZml4OiAkWyBuYW1lc3BhY2UgXVsgbmFtZSBdLnByb3RvdHlwZS53aWRnZXRFdmVudFByZWZpeCB8fCBuYW1lLAoJCXdpZGdldEJhc2VDbGFzczogZnVsbE5hbWUKCX0sIHByb3RvdHlwZSApOwoKCSQud2lkZ2V0LmJyaWRnZSggbmFtZSwgJFsgbmFtZXNwYWNlIF1bIG5hbWUgXSApOwp9OwoKJC53aWRnZXQuYnJpZGdlID0gZnVuY3Rpb24oIG5hbWUsIG9iamVjdCApIHsKCSQuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBvcHRpb25zICkgewoJCXZhciBpc01ldGhvZENhbGwgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gInN0cmluZyIsCgkJCWFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCggYXJndW1lbnRzLCAxICksCgkJCXJldHVyblZhbHVlID0gdGhpczsKCgkJLy8gYWxsb3cgbXVsdGlwbGUgaGFzaGVzIHRvIGJlIHBhc3NlZCBvbiBpbml0CgkJb3B0aW9ucyA9ICFpc01ldGhvZENhbGwgJiYgYXJncy5sZW5ndGggPwoJCQkkLmV4dGVuZC5hcHBseSggbnVsbCwgWyB0cnVlLCBvcHRpb25zIF0uY29uY2F0KGFyZ3MpICkgOgoJCQlvcHRpb25zOwoKCQkvLyBwcmV2ZW50IGNhbGxzIHRvIGludGVybmFsIG1ldGhvZHMKCQlpZiAoIGlzTWV0aG9kQ2FsbCAmJiBvcHRpb25zLmNoYXJBdCggMCApID09PSAiXyIgKSB7CgkJCXJldHVybiByZXR1cm5WYWx1ZTsKCQl9CgoJCWlmICggaXNNZXRob2RDYWxsICkgewoJCQl0aGlzLmVhY2goZnVuY3Rpb24oKSB7CgkJCQl2YXIgaW5zdGFuY2UgPSAkLmRhdGEoIHRoaXMsIG5hbWUgKSwKCQkJCQltZXRob2RWYWx1ZSA9IGluc3RhbmNlICYmICQuaXNGdW5jdGlvbiggaW5zdGFuY2Vbb3B0aW9uc10gKSA/CgkJCQkJCWluc3RhbmNlWyBvcHRpb25zIF0uYXBwbHkoIGluc3RhbmNlLCBhcmdzICkgOgoJCQkJCQlpbnN0YW5jZTsKCQkJCS8vIFRPRE86IGFkZCB0aGlzIGJhY2sgaW4gMS45IGFuZCB1c2UgJC5lcnJvcigpIChzZWUgIzU5NzIpCi8vCQkJCWlmICggIWluc3RhbmNlICkgewovLwkJCQkJdGhyb3cgImNhbm5vdCBjYWxsIG1ldGhvZHMgb24gIiArIG5hbWUgKyAiIHByaW9yIHRvIGluaXRpYWxpemF0aW9uOyAiICsKLy8JCQkJCQkiYXR0ZW1wdGVkIHRvIGNhbGwgbWV0aG9kICciICsgb3B0aW9ucyArICInIjsKLy8JCQkJfQovLwkJCQlpZiAoICEkLmlzRnVuY3Rpb24oIGluc3RhbmNlW29wdGlvbnNdICkgKSB7Ci8vCQkJCQl0aHJvdyAibm8gc3VjaCBtZXRob2QgJyIgKyBvcHRpb25zICsgIicgZm9yICIgKyBuYW1lICsgIiB3aWRnZXQgaW5zdGFuY2UiOwovLwkJCQl9Ci8vCQkJCXZhciBtZXRob2RWYWx1ZSA9IGluc3RhbmNlWyBvcHRpb25zIF0uYXBwbHkoIGluc3RhbmNlLCBhcmdzICk7CgkJCQlpZiAoIG1ldGhvZFZhbHVlICE9PSBpbnN0YW5jZSAmJiBtZXRob2RWYWx1ZSAhPT0gdW5kZWZpbmVkICkgewoJCQkJCXJldHVyblZhbHVlID0gbWV0aG9kVmFsdWU7CgkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJfQoJCQl9KTsKCQl9IGVsc2UgewoJCQl0aGlzLmVhY2goZnVuY3Rpb24oKSB7CgkJCQl2YXIgaW5zdGFuY2UgPSAkLmRhdGEoIHRoaXMsIG5hbWUgKTsKCQkJCWlmICggaW5zdGFuY2UgKSB7CgkJCQkJaW5zdGFuY2Uub3B0aW9uKCBvcHRpb25zIHx8IHt9ICkuX2luaXQoKTsKCQkJCX0gZWxzZSB7CgkJCQkJJC5kYXRhKCB0aGlzLCBuYW1lLCBuZXcgb2JqZWN0KCBvcHRpb25zLCB0aGlzICkgKTsKCQkJCX0KCQkJfSk7CgkJfQoKCQlyZXR1cm4gcmV0dXJuVmFsdWU7Cgl9Owp9OwoKJC5XaWRnZXQgPSBmdW5jdGlvbiggb3B0aW9ucywgZWxlbWVudCApIHsKCS8vIGFsbG93IGluc3RhbnRpYXRpb24gd2l0aG91dCBpbml0aWFsaXppbmcgZm9yIHNpbXBsZSBpbmhlcml0YW5jZQoJaWYgKCBhcmd1bWVudHMubGVuZ3RoICkgewoJCXRoaXMuX2NyZWF0ZVdpZGdldCggb3B0aW9ucywgZWxlbWVudCApOwoJfQp9OwoKJC5XaWRnZXQucHJvdG90eXBlID0gewoJd2lkZ2V0TmFtZTogIndpZGdldCIsCgl3aWRnZXRFdmVudFByZWZpeDogIiIsCglvcHRpb25zOiB7CgkJZGlzYWJsZWQ6IGZhbHNlCgl9LAoJX2NyZWF0ZVdpZGdldDogZnVuY3Rpb24oIG9wdGlvbnMsIGVsZW1lbnQgKSB7CgkJLy8gJC53aWRnZXQuYnJpZGdlIHN0b3JlcyB0aGUgcGx1Z2luIGluc3RhbmNlLCBidXQgd2UgZG8gaXQgYW55d2F5CgkJLy8gc28gdGhhdCBpdCdzIHN0b3JlZCBldmVuIGJlZm9yZSB0aGUgX2NyZWF0ZSBmdW5jdGlvbiBydW5zCgkJJC5kYXRhKCBlbGVtZW50LCB0aGlzLndpZGdldE5hbWUsIHRoaXMgKTsKCQl0aGlzLmVsZW1lbnQgPSAkKCBlbGVtZW50ICk7CgkJdGhpcy5vcHRpb25zID0gJC5leHRlbmQoIHRydWUsIHt9LAoJCQl0aGlzLm9wdGlvbnMsCgkJCXRoaXMuX2dldENyZWF0ZU9wdGlvbnMoKSwKCQkJb3B0aW9ucyApOwoKCQl2YXIgc2VsZiA9IHRoaXM7CgkJdGhpcy5lbGVtZW50LmJpbmQoICJyZW1vdmUuIiArIHRoaXMud2lkZ2V0TmFtZSwgZnVuY3Rpb24oKSB7CgkJCXNlbGYuZGVzdHJveSgpOwoJCX0pOwoKCQl0aGlzLl9jcmVhdGUoKTsKCQl0aGlzLl90cmlnZ2VyKCAiY3JlYXRlIiApOwoJCXRoaXMuX2luaXQoKTsKCX0sCglfZ2V0Q3JlYXRlT3B0aW9uczogZnVuY3Rpb24oKSB7CgkJcmV0dXJuICQubWV0YWRhdGEgJiYgJC5tZXRhZGF0YS5nZXQoIHRoaXMuZWxlbWVudFswXSApWyB0aGlzLndpZGdldE5hbWUgXTsKCX0sCglfY3JlYXRlOiBmdW5jdGlvbigpIHt9LAoJX2luaXQ6IGZ1bmN0aW9uKCkge30sCgoJZGVzdHJveTogZnVuY3Rpb24oKSB7CgkJdGhpcy5lbGVtZW50CgkJCS51bmJpbmQoICIuIiArIHRoaXMud2lkZ2V0TmFtZSApCgkJCS5yZW1vdmVEYXRhKCB0aGlzLndpZGdldE5hbWUgKTsKCQl0aGlzLndpZGdldCgpCgkJCS51bmJpbmQoICIuIiArIHRoaXMud2lkZ2V0TmFtZSApCgkJCS5yZW1vdmVBdHRyKCAiYXJpYS1kaXNhYmxlZCIgKQoJCQkucmVtb3ZlQ2xhc3MoCgkJCQl0aGlzLndpZGdldEJhc2VDbGFzcyArICItZGlzYWJsZWQgIiArCgkJCQkidWktc3RhdGUtZGlzYWJsZWQiICk7Cgl9LAoKCXdpZGdldDogZnVuY3Rpb24oKSB7CgkJcmV0dXJuIHRoaXMuZWxlbWVudDsKCX0sCgoJb3B0aW9uOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHsKCQl2YXIgb3B0aW9ucyA9IGtleTsKCgkJaWYgKCBhcmd1bWVudHMubGVuZ3RoID09PSAwICkgewoJCQkvLyBkb24ndCByZXR1cm4gYSByZWZlcmVuY2UgdG8gdGhlIGludGVybmFsIGhhc2gKCQkJcmV0dXJuICQuZXh0ZW5kKCB7fSwgdGhpcy5vcHRpb25zICk7CgkJfQoKCQlpZiAgKHR5cGVvZiBrZXkgPT09ICJzdHJpbmciICkgewoJCQlpZiAoIHZhbHVlID09PSB1bmRlZmluZWQgKSB7CgkJCQlyZXR1cm4gdGhpcy5vcHRpb25zWyBrZXkgXTsKCQkJfQoJCQlvcHRpb25zID0ge307CgkJCW9wdGlvbnNbIGtleSBdID0gdmFsdWU7CgkJfQoKCQl0aGlzLl9zZXRPcHRpb25zKCBvcHRpb25zICk7CgoJCXJldHVybiB0aGlzOwoJfSwKCV9zZXRPcHRpb25zOiBmdW5jdGlvbiggb3B0aW9ucyApIHsKCQl2YXIgc2VsZiA9IHRoaXM7CgkJJC5lYWNoKCBvcHRpb25zLCBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHsKCQkJc2VsZi5fc2V0T3B0aW9uKCBrZXksIHZhbHVlICk7CgkJfSk7CgoJCXJldHVybiB0aGlzOwoJfSwKCV9zZXRPcHRpb246IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkgewoJCXRoaXMub3B0aW9uc1sga2V5IF0gPSB2YWx1ZTsKCgkJaWYgKCBrZXkgPT09ICJkaXNhYmxlZCIgKSB7CgkJCXRoaXMud2lkZ2V0KCkKCQkJCVsgdmFsdWUgPyAiYWRkQ2xhc3MiIDogInJlbW92ZUNsYXNzIl0oCgkJCQkJdGhpcy53aWRnZXRCYXNlQ2xhc3MgKyAiLWRpc2FibGVkIiArICIgIiArCgkJCQkJInVpLXN0YXRlLWRpc2FibGVkIiApCgkJCQkuYXR0ciggImFyaWEtZGlzYWJsZWQiLCB2YWx1ZSApOwoJCX0KCgkJcmV0dXJuIHRoaXM7Cgl9LAoKCWVuYWJsZTogZnVuY3Rpb24oKSB7CgkJcmV0dXJuIHRoaXMuX3NldE9wdGlvbiggImRpc2FibGVkIiwgZmFsc2UgKTsKCX0sCglkaXNhYmxlOiBmdW5jdGlvbigpIHsKCQlyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCAiZGlzYWJsZWQiLCB0cnVlICk7Cgl9LAoKCV90cmlnZ2VyOiBmdW5jdGlvbiggdHlwZSwgZXZlbnQsIGRhdGEgKSB7CgkJdmFyIGNhbGxiYWNrID0gdGhpcy5vcHRpb25zWyB0eXBlIF07CgoJCWV2ZW50ID0gJC5FdmVudCggZXZlbnQgKTsKCQlldmVudC50eXBlID0gKCB0eXBlID09PSB0aGlzLndpZGdldEV2ZW50UHJlZml4ID8KCQkJdHlwZSA6CgkJCXRoaXMud2lkZ2V0RXZlbnRQcmVmaXggKyB0eXBlICkudG9Mb3dlckNhc2UoKTsKCQlkYXRhID0gZGF0YSB8fCB7fTsKCgkJLy8gY29weSBvcmlnaW5hbCBldmVudCBwcm9wZXJ0aWVzIG92ZXIgdG8gdGhlIG5ldyBldmVudAoJCS8vIHRoaXMgd291bGQgaGFwcGVuIGlmIHdlIGNvdWxkIGNhbGwgJC5ldmVudC5maXggaW5zdGVhZCBvZiAkLkV2ZW50CgkJLy8gYnV0IHdlIGRvbid0IGhhdmUgYSB3YXkgdG8gZm9yY2UgYW4gZXZlbnQgdG8gYmUgZml4ZWQgbXVsdGlwbGUgdGltZXMKCQlpZiAoIGV2ZW50Lm9yaWdpbmFsRXZlbnQgKSB7CgkJCWZvciAoIHZhciBpID0gJC5ldmVudC5wcm9wcy5sZW5ndGgsIHByb3A7IGk7ICkgewoJCQkJcHJvcCA9ICQuZXZlbnQucHJvcHNbIC0taSBdOwoJCQkJZXZlbnRbIHByb3AgXSA9IGV2ZW50Lm9yaWdpbmFsRXZlbnRbIHByb3AgXTsKCQkJfQoJCX0KCgkJdGhpcy5lbGVtZW50LnRyaWdnZXIoIGV2ZW50LCBkYXRhICk7CgoJCXJldHVybiAhKCAkLmlzRnVuY3Rpb24oY2FsbGJhY2spICYmCgkJCWNhbGxiYWNrLmNhbGwoIHRoaXMuZWxlbWVudFswXSwgZXZlbnQsIGRhdGEgKSA9PT0gZmFsc2UgfHwKCQkJZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgKTsKCX0KfTsKCn0pKCBqUXVlcnkgKTsK]]></item_file_attachment>
    <item_file_attachment_ext><![CDATA[.js]]></item_file_attachment_ext>
    <item_file_attachment_filename><![CDATA[jquery.ui.widget.js]]></item_file_attachment_filename>
    <item_file_attachment_size><![CDATA[7014]]></item_file_attachment_size>
    <item_file_attachment_type><![CDATA[application/unknown]]></item_file_attachment_type>
    <name><![CDATA[jquery.ui.widget]]></name>
  </item>
  <item>
    <mig_id>jquery.ui.position</mig_id>
    <community>siteAdmin</community>
    <contenttype>nciJavaScriptInternalInfo</contenttype>
    <folder>/configuration/js</folder>
    <long_title><![CDATA[jquery.ui.position]]></long_title>
    <pretty_url_name><![CDATA[jquery.ui.position]]></pretty_url_name>
    <item_file_attachment><![CDATA[LyoKICogalF1ZXJ5IFVJIFBvc2l0aW9uIDEuOC4xNgogKgogKiBDb3B5cmlnaHQgMjAxMSwgQVVUSE9SUy50eHQgKGh0dHA6Ly9qcXVlcnl1aS5jb20vYWJvdXQpCiAqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLgogKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiAqCiAqIGh0dHA6Ly9kb2NzLmpxdWVyeS5jb20vVUkvUG9zaXRpb24KICovCihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkgewoKJC51aSA9ICQudWkgfHwge307Cgp2YXIgaG9yaXpvbnRhbFBvc2l0aW9ucyA9IC9sZWZ0fGNlbnRlcnxyaWdodC8sCgl2ZXJ0aWNhbFBvc2l0aW9ucyA9IC90b3B8Y2VudGVyfGJvdHRvbS8sCgljZW50ZXIgPSAiY2VudGVyIiwKCV9wb3NpdGlvbiA9ICQuZm4ucG9zaXRpb24sCglfb2Zmc2V0ID0gJC5mbi5vZmZzZXQ7CgokLmZuLnBvc2l0aW9uID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7CglpZiAoICFvcHRpb25zIHx8ICFvcHRpb25zLm9mICkgewoJCXJldHVybiBfcG9zaXRpb24uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApOwoJfQoKCS8vIG1ha2UgYSBjb3B5LCB3ZSBkb24ndCB3YW50IHRvIG1vZGlmeSBhcmd1bWVudHMKCW9wdGlvbnMgPSAkLmV4dGVuZCgge30sIG9wdGlvbnMgKTsKCgl2YXIgdGFyZ2V0ID0gJCggb3B0aW9ucy5vZiApLAoJCXRhcmdldEVsZW0gPSB0YXJnZXRbMF0sCgkJY29sbGlzaW9uID0gKCBvcHRpb25zLmNvbGxpc2lvbiB8fCAiZmxpcCIgKS5zcGxpdCggIiAiICksCgkJb2Zmc2V0ID0gb3B0aW9ucy5vZmZzZXQgPyBvcHRpb25zLm9mZnNldC5zcGxpdCggIiAiICkgOiBbIDAsIDAgXSwKCQl0YXJnZXRXaWR0aCwKCQl0YXJnZXRIZWlnaHQsCgkJYmFzZVBvc2l0aW9uOwoKCWlmICggdGFyZ2V0RWxlbS5ub2RlVHlwZSA9PT0gOSApIHsKCQl0YXJnZXRXaWR0aCA9IHRhcmdldC53aWR0aCgpOwoJCXRhcmdldEhlaWdodCA9IHRhcmdldC5oZWlnaHQoKTsKCQliYXNlUG9zaXRpb24gPSB7IHRvcDogMCwgbGVmdDogMCB9OwoJLy8gVE9ETzogdXNlICQuaXNXaW5kb3coKSBpbiAxLjkKCX0gZWxzZSBpZiAoIHRhcmdldEVsZW0uc2V0VGltZW91dCApIHsKCQl0YXJnZXRXaWR0aCA9IHRhcmdldC53aWR0aCgpOwoJCXRhcmdldEhlaWdodCA9IHRhcmdldC5oZWlnaHQoKTsKCQliYXNlUG9zaXRpb24gPSB7IHRvcDogdGFyZ2V0LnNjcm9sbFRvcCgpLCBsZWZ0OiB0YXJnZXQuc2Nyb2xsTGVmdCgpIH07Cgl9IGVsc2UgaWYgKCB0YXJnZXRFbGVtLnByZXZlbnREZWZhdWx0ICkgewoJCS8vIGZvcmNlIGxlZnQgdG9wIHRvIGFsbG93IGZsaXBwaW5nCgkJb3B0aW9ucy5hdCA9ICJsZWZ0IHRvcCI7CgkJdGFyZ2V0V2lkdGggPSB0YXJnZXRIZWlnaHQgPSAwOwoJCWJhc2VQb3NpdGlvbiA9IHsgdG9wOiBvcHRpb25zLm9mLnBhZ2VZLCBsZWZ0OiBvcHRpb25zLm9mLnBhZ2VYIH07Cgl9IGVsc2UgewoJCXRhcmdldFdpZHRoID0gdGFyZ2V0Lm91dGVyV2lkdGgoKTsKCQl0YXJnZXRIZWlnaHQgPSB0YXJnZXQub3V0ZXJIZWlnaHQoKTsKCQliYXNlUG9zaXRpb24gPSB0YXJnZXQub2Zmc2V0KCk7Cgl9CgoJLy8gZm9yY2UgbXkgYW5kIGF0IHRvIGhhdmUgdmFsaWQgaG9yaXpvbnRhbCBhbmQgdmVyaXRjYWwgcG9zaXRpb25zCgkvLyBpZiBhIHZhbHVlIGlzIG1pc3Npbmcgb3IgaW52YWxpZCwgaXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gY2VudGVyIAoJJC5lYWNoKCBbICJteSIsICJhdCIgXSwgZnVuY3Rpb24oKSB7CgkJdmFyIHBvcyA9ICggb3B0aW9uc1t0aGlzXSB8fCAiIiApLnNwbGl0KCAiICIgKTsKCQlpZiAoIHBvcy5sZW5ndGggPT09IDEpIHsKCQkJcG9zID0gaG9yaXpvbnRhbFBvc2l0aW9ucy50ZXN0KCBwb3NbMF0gKSA/CgkJCQlwb3MuY29uY2F0KCBbY2VudGVyXSApIDoKCQkJCXZlcnRpY2FsUG9zaXRpb25zLnRlc3QoIHBvc1swXSApID8KCQkJCQlbIGNlbnRlciBdLmNvbmNhdCggcG9zICkgOgoJCQkJCVsgY2VudGVyLCBjZW50ZXIgXTsKCQl9CgkJcG9zWyAwIF0gPSBob3Jpem9udGFsUG9zaXRpb25zLnRlc3QoIHBvc1swXSApID8gcG9zWyAwIF0gOiBjZW50ZXI7CgkJcG9zWyAxIF0gPSB2ZXJ0aWNhbFBvc2l0aW9ucy50ZXN0KCBwb3NbMV0gKSA/IHBvc1sgMSBdIDogY2VudGVyOwoJCW9wdGlvbnNbIHRoaXMgXSA9IHBvczsKCX0pOwoKCS8vIG5vcm1hbGl6ZSBjb2xsaXNpb24gb3B0aW9uCglpZiAoIGNvbGxpc2lvbi5sZW5ndGggPT09IDEgKSB7CgkJY29sbGlzaW9uWyAxIF0gPSBjb2xsaXNpb25bIDAgXTsKCX0KCgkvLyBub3JtYWxpemUgb2Zmc2V0IG9wdGlvbgoJb2Zmc2V0WyAwIF0gPSBwYXJzZUludCggb2Zmc2V0WzBdLCAxMCApIHx8IDA7CglpZiAoIG9mZnNldC5sZW5ndGggPT09IDEgKSB7CgkJb2Zmc2V0WyAxIF0gPSBvZmZzZXRbIDAgXTsKCX0KCW9mZnNldFsgMSBdID0gcGFyc2VJbnQoIG9mZnNldFsxXSwgMTAgKSB8fCAwOwoKCWlmICggb3B0aW9ucy5hdFswXSA9PT0gInJpZ2h0IiApIHsKCQliYXNlUG9zaXRpb24ubGVmdCArPSB0YXJnZXRXaWR0aDsKCX0gZWxzZSBpZiAoIG9wdGlvbnMuYXRbMF0gPT09IGNlbnRlciApIHsKCQliYXNlUG9zaXRpb24ubGVmdCArPSB0YXJnZXRXaWR0aCAvIDI7Cgl9CgoJaWYgKCBvcHRpb25zLmF0WzFdID09PSAiYm90dG9tIiApIHsKCQliYXNlUG9zaXRpb24udG9wICs9IHRhcmdldEhlaWdodDsKCX0gZWxzZSBpZiAoIG9wdGlvbnMuYXRbMV0gPT09IGNlbnRlciApIHsKCQliYXNlUG9zaXRpb24udG9wICs9IHRhcmdldEhlaWdodCAvIDI7Cgl9CgoJYmFzZVBvc2l0aW9uLmxlZnQgKz0gb2Zmc2V0WyAwIF07CgliYXNlUG9zaXRpb24udG9wICs9IG9mZnNldFsgMSBdOwoKCXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7CgkJdmFyIGVsZW0gPSAkKCB0aGlzICksCgkJCWVsZW1XaWR0aCA9IGVsZW0ub3V0ZXJXaWR0aCgpLAoJCQllbGVtSGVpZ2h0ID0gZWxlbS5vdXRlckhlaWdodCgpLAoJCQltYXJnaW5MZWZ0ID0gcGFyc2VJbnQoICQuY3VyQ1NTKCB0aGlzLCAibWFyZ2luTGVmdCIsIHRydWUgKSApIHx8IDAsCgkJCW1hcmdpblRvcCA9IHBhcnNlSW50KCAkLmN1ckNTUyggdGhpcywgIm1hcmdpblRvcCIsIHRydWUgKSApIHx8IDAsCgkJCWNvbGxpc2lvbldpZHRoID0gZWxlbVdpZHRoICsgbWFyZ2luTGVmdCArCgkJCQkoIHBhcnNlSW50KCAkLmN1ckNTUyggdGhpcywgIm1hcmdpblJpZ2h0IiwgdHJ1ZSApICkgfHwgMCApLAoJCQljb2xsaXNpb25IZWlnaHQgPSBlbGVtSGVpZ2h0ICsgbWFyZ2luVG9wICsKCQkJCSggcGFyc2VJbnQoICQuY3VyQ1NTKCB0aGlzLCAibWFyZ2luQm90dG9tIiwgdHJ1ZSApICkgfHwgMCApLAoJCQlwb3NpdGlvbiA9ICQuZXh0ZW5kKCB7fSwgYmFzZVBvc2l0aW9uICksCgkJCWNvbGxpc2lvblBvc2l0aW9uOwoKCQlpZiAoIG9wdGlvbnMubXlbMF0gPT09ICJyaWdodCIgKSB7CgkJCXBvc2l0aW9uLmxlZnQgLT0gZWxlbVdpZHRoOwoJCX0gZWxzZSBpZiAoIG9wdGlvbnMubXlbMF0gPT09IGNlbnRlciApIHsKCQkJcG9zaXRpb24ubGVmdCAtPSBlbGVtV2lkdGggLyAyOwoJCX0KCgkJaWYgKCBvcHRpb25zLm15WzFdID09PSAiYm90dG9tIiApIHsKCQkJcG9zaXRpb24udG9wIC09IGVsZW1IZWlnaHQ7CgkJfSBlbHNlIGlmICggb3B0aW9ucy5teVsxXSA9PT0gY2VudGVyICkgewoJCQlwb3NpdGlvbi50b3AgLT0gZWxlbUhlaWdodCAvIDI7CgkJfQoKCQkvLyBwcmV2ZW50IGZyYWN0aW9ucyAoc2VlICM1MjgwKQoJCXBvc2l0aW9uLmxlZnQgPSBNYXRoLnJvdW5kKCBwb3NpdGlvbi5sZWZ0ICk7CgkJcG9zaXRpb24udG9wID0gTWF0aC5yb3VuZCggcG9zaXRpb24udG9wICk7CgoJCWNvbGxpc2lvblBvc2l0aW9uID0gewoJCQlsZWZ0OiBwb3NpdGlvbi5sZWZ0IC0gbWFyZ2luTGVmdCwKCQkJdG9wOiBwb3NpdGlvbi50b3AgLSBtYXJnaW5Ub3AKCQl9OwoKCQkkLmVhY2goIFsgImxlZnQiLCAidG9wIiBdLCBmdW5jdGlvbiggaSwgZGlyICkgewoJCQlpZiAoICQudWkucG9zaXRpb25bIGNvbGxpc2lvbltpXSBdICkgewoJCQkJJC51aS5wb3NpdGlvblsgY29sbGlzaW9uW2ldIF1bIGRpciBdKCBwb3NpdGlvbiwgewoJCQkJCXRhcmdldFdpZHRoOiB0YXJnZXRXaWR0aCwKCQkJCQl0YXJnZXRIZWlnaHQ6IHRhcmdldEhlaWdodCwKCQkJCQllbGVtV2lkdGg6IGVsZW1XaWR0aCwKCQkJCQllbGVtSGVpZ2h0OiBlbGVtSGVpZ2h0LAoJCQkJCWNvbGxpc2lvblBvc2l0aW9uOiBjb2xsaXNpb25Qb3NpdGlvbiwKCQkJCQljb2xsaXNpb25XaWR0aDogY29sbGlzaW9uV2lkdGgsCgkJCQkJY29sbGlzaW9uSGVpZ2h0OiBjb2xsaXNpb25IZWlnaHQsCgkJCQkJb2Zmc2V0OiBvZmZzZXQsCgkJCQkJbXk6IG9wdGlvbnMubXksCgkJCQkJYXQ6IG9wdGlvbnMuYXQKCQkJCX0pOwoJCQl9CgkJfSk7CgoJCWlmICggJC5mbi5iZ2lmcmFtZSApIHsKCQkJZWxlbS5iZ2lmcmFtZSgpOwoJCX0KCQllbGVtLm9mZnNldCggJC5leHRlbmQoIHBvc2l0aW9uLCB7IHVzaW5nOiBvcHRpb25zLnVzaW5nIH0gKSApOwoJfSk7Cn07CgokLnVpLnBvc2l0aW9uID0gewoJZml0OiB7CgkJbGVmdDogZnVuY3Rpb24oIHBvc2l0aW9uLCBkYXRhICkgewoJCQl2YXIgd2luID0gJCggd2luZG93ICksCgkJCQlvdmVyID0gZGF0YS5jb2xsaXNpb25Qb3NpdGlvbi5sZWZ0ICsgZGF0YS5jb2xsaXNpb25XaWR0aCAtIHdpbi53aWR0aCgpIC0gd2luLnNjcm9sbExlZnQoKTsKCQkJcG9zaXRpb24ubGVmdCA9IG92ZXIgPiAwID8gcG9zaXRpb24ubGVmdCAtIG92ZXIgOiBNYXRoLm1heCggcG9zaXRpb24ubGVmdCAtIGRhdGEuY29sbGlzaW9uUG9zaXRpb24ubGVmdCwgcG9zaXRpb24ubGVmdCApOwoJCX0sCgkJdG9wOiBmdW5jdGlvbiggcG9zaXRpb24sIGRhdGEgKSB7CgkJCXZhciB3aW4gPSAkKCB3aW5kb3cgKSwKCQkJCW92ZXIgPSBkYXRhLmNvbGxpc2lvblBvc2l0aW9uLnRvcCArIGRhdGEuY29sbGlzaW9uSGVpZ2h0IC0gd2luLmhlaWdodCgpIC0gd2luLnNjcm9sbFRvcCgpOwoJCQlwb3NpdGlvbi50b3AgPSBvdmVyID4gMCA/IHBvc2l0aW9uLnRvcCAtIG92ZXIgOiBNYXRoLm1heCggcG9zaXRpb24udG9wIC0gZGF0YS5jb2xsaXNpb25Qb3NpdGlvbi50b3AsIHBvc2l0aW9uLnRvcCApOwoJCX0KCX0sCgoJZmxpcDogewoJCWxlZnQ6IGZ1bmN0aW9uKCBwb3NpdGlvbiwgZGF0YSApIHsKCQkJaWYgKCBkYXRhLmF0WzBdID09PSBjZW50ZXIgKSB7CgkJCQlyZXR1cm47CgkJCX0KCQkJdmFyIHdpbiA9ICQoIHdpbmRvdyApLAoJCQkJb3ZlciA9IGRhdGEuY29sbGlzaW9uUG9zaXRpb24ubGVmdCArIGRhdGEuY29sbGlzaW9uV2lkdGggLSB3aW4ud2lkdGgoKSAtIHdpbi5zY3JvbGxMZWZ0KCksCgkJCQlteU9mZnNldCA9IGRhdGEubXlbIDAgXSA9PT0gImxlZnQiID8KCQkJCQktZGF0YS5lbGVtV2lkdGggOgoJCQkJCWRhdGEubXlbIDAgXSA9PT0gInJpZ2h0IiA/CgkJCQkJCWRhdGEuZWxlbVdpZHRoIDoKCQkJCQkJMCwKCQkJCWF0T2Zmc2V0ID0gZGF0YS5hdFsgMCBdID09PSAibGVmdCIgPwoJCQkJCWRhdGEudGFyZ2V0V2lkdGggOgoJCQkJCS1kYXRhLnRhcmdldFdpZHRoLAoJCQkJb2Zmc2V0ID0gLTIgKiBkYXRhLm9mZnNldFsgMCBdOwoJCQlwb3NpdGlvbi5sZWZ0ICs9IGRhdGEuY29sbGlzaW9uUG9zaXRpb24ubGVmdCA8IDAgPwoJCQkJbXlPZmZzZXQgKyBhdE9mZnNldCArIG9mZnNldCA6CgkJCQlvdmVyID4gMCA/CgkJCQkJbXlPZmZzZXQgKyBhdE9mZnNldCArIG9mZnNldCA6CgkJCQkJMDsKCQl9LAoJCXRvcDogZnVuY3Rpb24oIHBvc2l0aW9uLCBkYXRhICkgewoJCQlpZiAoIGRhdGEuYXRbMV0gPT09IGNlbnRlciApIHsKCQkJCXJldHVybjsKCQkJfQoJCQl2YXIgd2luID0gJCggd2luZG93ICksCgkJCQlvdmVyID0gZGF0YS5jb2xsaXNpb25Qb3NpdGlvbi50b3AgKyBkYXRhLmNvbGxpc2lvbkhlaWdodCAtIHdpbi5oZWlnaHQoKSAtIHdpbi5zY3JvbGxUb3AoKSwKCQkJCW15T2Zmc2V0ID0gZGF0YS5teVsgMSBdID09PSAidG9wIiA/CgkJCQkJLWRhdGEuZWxlbUhlaWdodCA6CgkJCQkJZGF0YS5teVsgMSBdID09PSAiYm90dG9tIiA/CgkJCQkJCWRhdGEuZWxlbUhlaWdodCA6CgkJCQkJCTAsCgkJCQlhdE9mZnNldCA9IGRhdGEuYXRbIDEgXSA9PT0gInRvcCIgPwoJCQkJCWRhdGEudGFyZ2V0SGVpZ2h0IDoKCQkJCQktZGF0YS50YXJnZXRIZWlnaHQsCgkJCQlvZmZzZXQgPSAtMiAqIGRhdGEub2Zmc2V0WyAxIF07CgkJCXBvc2l0aW9uLnRvcCArPSBkYXRhLmNvbGxpc2lvblBvc2l0aW9uLnRvcCA8IDAgPwoJCQkJbXlPZmZzZXQgKyBhdE9mZnNldCArIG9mZnNldCA6CgkJCQlvdmVyID4gMCA/CgkJCQkJbXlPZmZzZXQgKyBhdE9mZnNldCArIG9mZnNldCA6CgkJCQkJMDsKCQl9Cgl9Cn07CgovLyBvZmZzZXQgc2V0dGVyIGZyb20galF1ZXJ5IDEuNAppZiAoICEkLm9mZnNldC5zZXRPZmZzZXQgKSB7CgkkLm9mZnNldC5zZXRPZmZzZXQgPSBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucyApIHsKCQkvLyBzZXQgcG9zaXRpb24gZmlyc3QsIGluLWNhc2UgdG9wL2xlZnQgYXJlIHNldCBldmVuIG9uIHN0YXRpYyBlbGVtCgkJaWYgKCAvc3RhdGljLy50ZXN0KCAkLmN1ckNTUyggZWxlbSwgInBvc2l0aW9uIiApICkgKSB7CgkJCWVsZW0uc3R5bGUucG9zaXRpb24gPSAicmVsYXRpdmUiOwoJCX0KCQl2YXIgY3VyRWxlbSAgID0gJCggZWxlbSApLAoJCQljdXJPZmZzZXQgPSBjdXJFbGVtLm9mZnNldCgpLAoJCQljdXJUb3AgICAgPSBwYXJzZUludCggJC5jdXJDU1MoIGVsZW0sICJ0b3AiLCAgdHJ1ZSApLCAxMCApIHx8IDAsCgkJCWN1ckxlZnQgICA9IHBhcnNlSW50KCAkLmN1ckNTUyggZWxlbSwgImxlZnQiLCB0cnVlICksIDEwKSAgfHwgMCwKCQkJcHJvcHMgICAgID0gewoJCQkJdG9wOiAgKG9wdGlvbnMudG9wICAtIGN1ck9mZnNldC50b3ApICArIGN1clRvcCwKCQkJCWxlZnQ6IChvcHRpb25zLmxlZnQgLSBjdXJPZmZzZXQubGVmdCkgKyBjdXJMZWZ0CgkJCX07CgkJCgkJaWYgKCAndXNpbmcnIGluIG9wdGlvbnMgKSB7CgkJCW9wdGlvbnMudXNpbmcuY2FsbCggZWxlbSwgcHJvcHMgKTsKCQl9IGVsc2UgewoJCQljdXJFbGVtLmNzcyggcHJvcHMgKTsKCQl9Cgl9OwoKCSQuZm4ub2Zmc2V0ID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7CgkJdmFyIGVsZW0gPSB0aGlzWyAwIF07CgkJaWYgKCAhZWxlbSB8fCAhZWxlbS5vd25lckRvY3VtZW50ICkgeyByZXR1cm4gbnVsbDsgfQoJCWlmICggb3B0aW9ucyApIHsgCgkJCXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7CgkJCQkkLm9mZnNldC5zZXRPZmZzZXQoIHRoaXMsIG9wdGlvbnMgKTsKCQkJfSk7CgkJfQoJCXJldHVybiBfb2Zmc2V0LmNhbGwoIHRoaXMgKTsKCX07Cn0KCn0oIGpRdWVyeSApKTsK]]></item_file_attachment>
    <item_file_attachment_ext><![CDATA[.js]]></item_file_attachment_ext>
    <item_file_attachment_filename><![CDATA[jquery.ui.position.js]]></item_file_attachment_filename>
    <item_file_attachment_size><![CDATA[7347]]></item_file_attachment_size>
    <item_file_attachment_type><![CDATA[application/unknown]]></item_file_attachment_type>
    <name><![CDATA[jquery.ui.position]]></name>
  </item>
  <item>
    <mig_id>jquery.ui.autocomplete</mig_id>
    <community>siteAdmin</community>
    <contenttype>nciJavaScriptInternalInfo</contenttype>
    <folder>/configuration/js</folder>
    <long_title><![CDATA[jquery.ui.autocomplete]]></long_title>
    <pretty_url_name><![CDATA[jquery.ui.autocomplete]]></pretty_url_name>
    <item_file_attachment><![CDATA[LyoKICogalF1ZXJ5IFVJIEF1dG9jb21wbGV0ZSAxLjguNQogKgogKiBDb3B5cmlnaHQgMjAxMCwgQVVUSE9SUy50eHQgKGh0dHA6Ly9qcXVlcnl1aS5jb20vYWJvdXQpCiAqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLgogKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiAqCiAqIGh0dHA6Ly9kb2NzLmpxdWVyeS5jb20vVUkvQXV0b2NvbXBsZXRlCiAqCiAqIERlcGVuZHM6CiAqCWpxdWVyeS51aS5jb3JlLmpzCiAqCWpxdWVyeS51aS53aWRnZXQuanMKICoJanF1ZXJ5LnVpLnBvc2l0aW9uLmpzCiAqLwooZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHsKCiQud2lkZ2V0KCAidWkuYXV0b2NvbXBsZXRlIiwgewoJb3B0aW9uczogewoJCWFwcGVuZFRvOiAiYm9keSIsCgkJZGVsYXk6IDMwMCwKCQltaW5MZW5ndGg6IDEsCgkJcG9zaXRpb246IHsKCQkJbXk6ICJsZWZ0IHRvcCIsCgkJCWF0OiAibGVmdCBib3R0b20iLAoJCQljb2xsaXNpb246ICJub25lIgoJCX0sCgkJc291cmNlOiBudWxsCgl9LAoJX2NyZWF0ZTogZnVuY3Rpb24oKSB7CgkJdmFyIHNlbGYgPSB0aGlzLAoJCQlkb2MgPSB0aGlzLmVsZW1lbnRbIDAgXS5vd25lckRvY3VtZW50OwoJCXRoaXMuZWxlbWVudAoJCQkuYWRkQ2xhc3MoICJ1aS1hdXRvY29tcGxldGUtaW5wdXQiICkKCQkJLmF0dHIoICJhdXRvY29tcGxldGUiLCAib2ZmIiApCgkJCS8vIFRPRE8gdmVyaWZ5IHRoZXNlIGFjdHVhbGx5IHdvcmsgYXMgaW50ZW5kZWQKCQkJLmF0dHIoewoJCQkJcm9sZTogInRleHRib3giLAoJCQkJImFyaWEtYXV0b2NvbXBsZXRlIjogImxpc3QiLAoJCQkJImFyaWEtaGFzcG9wdXAiOiAidHJ1ZSIKCQkJfSkKCQkJLmJpbmQoICJrZXlkb3duLmF1dG9jb21wbGV0ZSIsIGZ1bmN0aW9uKCBldmVudCApIHsKCQkJCWlmICggc2VsZi5vcHRpb25zLmRpc2FibGVkICkgewoJCQkJCXJldHVybjsKCQkJCX0KCgkJCQl2YXIga2V5Q29kZSA9ICQudWkua2V5Q29kZTsKCQkJCXN3aXRjaCggZXZlbnQua2V5Q29kZSApIHsKCQkJCWNhc2Uga2V5Q29kZS5QQUdFX1VQOgoJCQkJCXNlbGYuX21vdmUoICJwcmV2aW91c1BhZ2UiLCBldmVudCApOwoJCQkJCWJyZWFrOwoJCQkJY2FzZSBrZXlDb2RlLlBBR0VfRE9XTjoKCQkJCQlzZWxmLl9tb3ZlKCAibmV4dFBhZ2UiLCBldmVudCApOwoJCQkJCWJyZWFrOwoJCQkJY2FzZSBrZXlDb2RlLlVQOgoJCQkJCXNlbGYuX21vdmUoICJwcmV2aW91cyIsIGV2ZW50ICk7CgkJCQkJLy8gcHJldmVudCBtb3ZpbmcgY3Vyc29yIHRvIGJlZ2lubmluZyBvZiB0ZXh0IGZpZWxkIGluIHNvbWUgYnJvd3NlcnMKCQkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJCWJyZWFrOwoJCQkJY2FzZSBrZXlDb2RlLkRPV046CgkJCQkJc2VsZi5fbW92ZSggIm5leHQiLCBldmVudCApOwoJCQkJCS8vIHByZXZlbnQgbW92aW5nIGN1cnNvciB0byBlbmQgb2YgdGV4dCBmaWVsZCBpbiBzb21lIGJyb3dzZXJzCgkJCQkJZXZlbnQucHJldmVudERlZmF1bHQoKTsKCQkJCQlicmVhazsKCQkJCWNhc2Uga2V5Q29kZS5FTlRFUjoKCQkJCWNhc2Uga2V5Q29kZS5OVU1QQURfRU5URVI6CgkJCQkJLy8gd2hlbiBtZW51IGlzIG9wZW4gb3IgaGFzIGZvY3VzCgkJCQkJaWYgKCBzZWxmLm1lbnUuZWxlbWVudC5pcyggIjp2aXNpYmxlIiApICkgewoJCQkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJCX0KCQkJCQkvL3Bhc3N0aHJvdWdoIC0gRU5URVIgYW5kIFRBQiBib3RoIHNlbGVjdCB0aGUgY3VycmVudCBlbGVtZW50CgkJCQljYXNlIGtleUNvZGUuVEFCOgoJCQkJCWlmICggIXNlbGYubWVudS5hY3RpdmUgKSB7CgkJCQkJCXJldHVybjsKCQkJCQl9CgkJCQkJc2VsZi5tZW51LnNlbGVjdCggZXZlbnQgKTsKCQkJCQlicmVhazsKCQkJCWNhc2Uga2V5Q29kZS5FU0NBUEU6CgkJCQkJc2VsZi5lbGVtZW50LnZhbCggc2VsZi50ZXJtICk7CgkJCQkJc2VsZi5jbG9zZSggZXZlbnQgKTsKCQkJCQlicmVhazsKCQkJCWRlZmF1bHQ6CgkJCQkJLy8ga2V5cHJlc3MgaXMgdHJpZ2dlcmVkIGJlZm9yZSB0aGUgaW5wdXQgdmFsdWUgaXMgY2hhbmdlZAoJCQkJCWNsZWFyVGltZW91dCggc2VsZi5zZWFyY2hpbmcgKTsKCQkJCQlzZWxmLnNlYXJjaGluZyA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCS8vIG9ubHkgc2VhcmNoIGlmIHRoZSB2YWx1ZSBoYXMgY2hhbmdlZAoJCQkJCQlpZiAoIHNlbGYudGVybSAhPSBzZWxmLmVsZW1lbnQudmFsKCkgKSB7CgkJCQkJCQlzZWxmLnNlbGVjdGVkSXRlbSA9IG51bGw7CgkJCQkJCQlzZWxmLnNlYXJjaCggbnVsbCwgZXZlbnQgKTsKCQkJCQkJfQoJCQkJCX0sIHNlbGYub3B0aW9ucy5kZWxheSApOwoJCQkJCWJyZWFrOwoJCQkJfQoJCQl9KQoJCQkuYmluZCggImZvY3VzLmF1dG9jb21wbGV0ZSIsIGZ1bmN0aW9uKCkgewoJCQkJaWYgKCBzZWxmLm9wdGlvbnMuZGlzYWJsZWQgKSB7CgkJCQkJcmV0dXJuOwoJCQkJfQoKCQkJCXNlbGYuc2VsZWN0ZWRJdGVtID0gbnVsbDsKCQkJCXNlbGYucHJldmlvdXMgPSBzZWxmLmVsZW1lbnQudmFsKCk7CgkJCX0pCgkJCS5iaW5kKCAiYmx1ci5hdXRvY29tcGxldGUiLCBmdW5jdGlvbiggZXZlbnQgKSB7CgkJCQlpZiAoIHNlbGYub3B0aW9ucy5kaXNhYmxlZCApIHsKCQkJCQlyZXR1cm47CgkJCQl9CgoJCQkJY2xlYXJUaW1lb3V0KCBzZWxmLnNlYXJjaGluZyApOwoJCQkJLy8gY2xpY2tzIG9uIHRoZSBtZW51IChvciBhIGJ1dHRvbiB0byB0cmlnZ2VyIGEgc2VhcmNoKSB3aWxsIGNhdXNlIGEgYmx1ciBldmVudAoJCQkJc2VsZi5jbG9zaW5nID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQlzZWxmLmNsb3NlKCBldmVudCApOwoJCQkJCXNlbGYuX2NoYW5nZSggZXZlbnQgKTsKCQkJCX0sIDE1MCApOwoJCQl9KTsKCQl0aGlzLl9pbml0U291cmNlKCk7CgkJdGhpcy5yZXNwb25zZSA9IGZ1bmN0aW9uKCkgewoJCQlyZXR1cm4gc2VsZi5fcmVzcG9uc2UuYXBwbHkoIHNlbGYsIGFyZ3VtZW50cyApOwoJCX07CgkJdGhpcy5tZW51ID0gJCggIjx1bD48L3VsPiIgKQoJCQkuYWRkQ2xhc3MoICJ1aS1hdXRvY29tcGxldGUiICkKCQkJLmFwcGVuZFRvKCAkKCB0aGlzLm9wdGlvbnMuYXBwZW5kVG8gfHwgImJvZHkiLCBkb2MgKVswXSApCgkJCS8vIHByZXZlbnQgdGhlIGNsb3NlLW9uLWJsdXIgaW4gY2FzZSBvZiBhICJzbG93IiBjbGljayBvbiB0aGUgbWVudSAobG9uZyBtb3VzZWRvd24pCgkJCS5tb3VzZWRvd24oZnVuY3Rpb24oIGV2ZW50ICkgewoJCQkJLy8gY2xpY2tpbmcgb24gdGhlIHNjcm9sbGJhciBjYXVzZXMgZm9jdXMgdG8gc2hpZnQgdG8gdGhlIGJvZHkKCQkJCS8vIGJ1dCB3ZSBjYW4ndCBkZXRlY3QgYSBtb3VzZXVwIG9yIGEgY2xpY2sgaW1tZWRpYXRlbHkgYWZ0ZXJ3YXJkCgkJCQkvLyBzbyB3ZSBoYXZlIHRvIHRyYWNrIHRoZSBuZXh0IG1vdXNlZG93biBhbmQgY2xvc2UgdGhlIG1lbnUgaWYKCQkJCS8vIHRoZSB1c2VyIGNsaWNrcyBzb21ld2hlcmUgb3V0c2lkZSBvZiB0aGUgYXV0b2NvbXBsZXRlCgkJCQl2YXIgbWVudUVsZW1lbnQgPSBzZWxmLm1lbnUuZWxlbWVudFsgMCBdOwoJCQkJaWYgKCBldmVudC50YXJnZXQgPT09IG1lbnVFbGVtZW50ICkgewoJCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJCSQoIGRvY3VtZW50ICkub25lKCAnbW91c2Vkb3duJywgZnVuY3Rpb24oIGV2ZW50ICkgewoJCQkJCQkJaWYgKCBldmVudC50YXJnZXQgIT09IHNlbGYuZWxlbWVudFsgMCBdICYmCgkJCQkJCQkJZXZlbnQudGFyZ2V0ICE9PSBtZW51RWxlbWVudCAmJgoJCQkJCQkJCSEkLnVpLmNvbnRhaW5zKCBtZW51RWxlbWVudCwgZXZlbnQudGFyZ2V0ICkgKSB7CgkJCQkJCQkJc2VsZi5jbG9zZSgpOwoJCQkJCQkJfQoJCQkJCQl9KTsKCQkJCQl9LCAxICk7CgkJCQl9CgoJCQkJLy8gdXNlIGFub3RoZXIgdGltZW91dCB0byBtYWtlIHN1cmUgdGhlIGJsdXItZXZlbnQtaGFuZGxlciBvbiB0aGUgaW5wdXQgd2FzIGFscmVhZHkgdHJpZ2dlcmVkCgkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCWNsZWFyVGltZW91dCggc2VsZi5jbG9zaW5nICk7CgkJCQl9LCAxMyk7CgkJCX0pCgkJCS5tZW51KHsKCQkJCWZvY3VzOiBmdW5jdGlvbiggZXZlbnQsIHVpICkgewoJCQkJCXZhciBpdGVtID0gdWkuaXRlbS5kYXRhKCAiaXRlbS5hdXRvY29tcGxldGUiICk7CgkJCQkJaWYgKCBmYWxzZSAhPT0gc2VsZi5fdHJpZ2dlciggImZvY3VzIiwgbnVsbCwgeyBpdGVtOiBpdGVtIH0gKSApIHsKCQkJCQkJLy8gdXNlIHZhbHVlIHRvIG1hdGNoIHdoYXQgd2lsbCBlbmQgdXAgaW4gdGhlIGlucHV0LCBpZiBpdCB3YXMgYSBrZXkgZXZlbnQKCQkJCQkJaWYgKCAvXmtleS8udGVzdChldmVudC5vcmlnaW5hbEV2ZW50LnR5cGUpICkgewoJCQkJCQkJc2VsZi5lbGVtZW50LnZhbCggaXRlbS52YWx1ZSApOwoJCQkJCQl9CgkJCQkJfQoJCQkJfSwKCQkJCXNlbGVjdGVkOiBmdW5jdGlvbiggZXZlbnQsIHVpICkgewoJCQkJCXZhciBpdGVtID0gdWkuaXRlbS5kYXRhKCAiaXRlbS5hdXRvY29tcGxldGUiICksCgkJCQkJCXByZXZpb3VzID0gc2VsZi5wcmV2aW91czsKCgkJCQkJLy8gb25seSB0cmlnZ2VyIHdoZW4gZm9jdXMgd2FzIGxvc3QgKGNsaWNrIG9uIG1lbnUpCgkJCQkJaWYgKCBzZWxmLmVsZW1lbnRbMF0gIT09IGRvYy5hY3RpdmVFbGVtZW50ICkgewoJCQkJCQlzZWxmLmVsZW1lbnQuZm9jdXMoKTsKCQkJCQkJc2VsZi5wcmV2aW91cyA9IHByZXZpb3VzOwoJCQkJCX0KCgkJCQkJaWYgKCBmYWxzZSAhPT0gc2VsZi5fdHJpZ2dlciggInNlbGVjdCIsIGV2ZW50LCB7IGl0ZW06IGl0ZW0gfSApICkgewoJCQkJCQlzZWxmLnRlcm0gPSBpdGVtLnZhbHVlOwoJCQkJCQlzZWxmLmVsZW1lbnQudmFsKCBpdGVtLnZhbHVlICk7CgkJCQkJfQoKCQkJCQlzZWxmLmNsb3NlKCBldmVudCApOwoJCQkJCXNlbGYuc2VsZWN0ZWRJdGVtID0gaXRlbTsKCQkJCX0sCgkJCQlibHVyOiBmdW5jdGlvbiggZXZlbnQsIHVpICkgewoJCQkJCS8vIGRvbid0IHNldCB0aGUgdmFsdWUgb2YgdGhlIHRleHQgZmllbGQgaWYgaXQncyBhbHJlYWR5IGNvcnJlY3QKCQkJCQkvLyB0aGlzIHByZXZlbnRzIG1vdmluZyB0aGUgY3Vyc29yIHVubmVjZXNzYXJpbHkKCQkJCQlpZiAoIHNlbGYubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpICYmCgkJCQkJCSggc2VsZi5lbGVtZW50LnZhbCgpICE9PSBzZWxmLnRlcm0gKSApIHsKCQkJCQkJc2VsZi5lbGVtZW50LnZhbCggc2VsZi50ZXJtICk7CgkJCQkJfQoJCQkJfQoJCQl9KQoJCQkuekluZGV4KCB0aGlzLmVsZW1lbnQuekluZGV4KCkgKyAxICkKCQkJLy8gd29ya2Fyb3VuZCBmb3IgalF1ZXJ5IGJ1ZyAjNTc4MSBodHRwOi8vZGV2LmpxdWVyeS5jb20vdGlja2V0LzU3ODEKCQkJLmNzcyh7IHRvcDogMCwgbGVmdDogMCB9KQoJCQkuaGlkZSgpCgkJCS5kYXRhKCAibWVudSIgKTsKCQlpZiAoICQuZm4uYmdpZnJhbWUgKSB7CgkJCSB0aGlzLm1lbnUuZWxlbWVudC5iZ2lmcmFtZSgpOwoJCX0KCX0sCgoJZGVzdHJveTogZnVuY3Rpb24oKSB7CgkJdGhpcy5lbGVtZW50CgkJCS5yZW1vdmVDbGFzcyggInVpLWF1dG9jb21wbGV0ZS1pbnB1dCIgKQoJCQkucmVtb3ZlQXR0ciggImF1dG9jb21wbGV0ZSIgKQoJCQkucmVtb3ZlQXR0ciggInJvbGUiICkKCQkJLnJlbW92ZUF0dHIoICJhcmlhLWF1dG9jb21wbGV0ZSIgKQoJCQkucmVtb3ZlQXR0ciggImFyaWEtaGFzcG9wdXAiICk7CgkJdGhpcy5tZW51LmVsZW1lbnQucmVtb3ZlKCk7CgkJJC5XaWRnZXQucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCggdGhpcyApOwoJfSwKCglfc2V0T3B0aW9uOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHsKCQkkLldpZGdldC5wcm90b3R5cGUuX3NldE9wdGlvbi5hcHBseSggdGhpcywgYXJndW1lbnRzICk7CgkJaWYgKCBrZXkgPT09ICJzb3VyY2UiICkgewoJCQl0aGlzLl9pbml0U291cmNlKCk7CgkJfQoJCWlmICgga2V5ID09PSAiYXBwZW5kVG8iICkgewoJCQl0aGlzLm1lbnUuZWxlbWVudC5hcHBlbmRUbyggJCggdmFsdWUgfHwgImJvZHkiLCB0aGlzLmVsZW1lbnRbMF0ub3duZXJEb2N1bWVudCApWzBdICkKCQl9Cgl9LAoKCV9pbml0U291cmNlOiBmdW5jdGlvbigpIHsKCQl2YXIgc2VsZiA9IHRoaXMsCgkJCWFycmF5LAoJCQl1cmw7CgkJaWYgKCAkLmlzQXJyYXkodGhpcy5vcHRpb25zLnNvdXJjZSkgKSB7CgkJCWFycmF5ID0gdGhpcy5vcHRpb25zLnNvdXJjZTsKCQkJdGhpcy5zb3VyY2UgPSBmdW5jdGlvbiggcmVxdWVzdCwgcmVzcG9uc2UgKSB7CgkJCQlyZXNwb25zZSggJC51aS5hdXRvY29tcGxldGUuZmlsdGVyKGFycmF5LCByZXF1ZXN0LnRlcm0pICk7CgkJCX07CgkJfSBlbHNlIGlmICggdHlwZW9mIHRoaXMub3B0aW9ucy5zb3VyY2UgPT09ICJzdHJpbmciICkgewoJCQl1cmwgPSB0aGlzLm9wdGlvbnMuc291cmNlOwoJCQl0aGlzLnNvdXJjZSA9IGZ1bmN0aW9uKCByZXF1ZXN0LCByZXNwb25zZSApIHsKCQkJCWlmIChzZWxmLnhocikgewoJCQkJCXNlbGYueGhyLmFib3J0KCk7CgkJCQl9CgkJCQlzZWxmLnhociA9ICQuZ2V0SlNPTiggdXJsLCByZXF1ZXN0LCBmdW5jdGlvbiggZGF0YSwgc3RhdHVzLCB4aHIgKSB7CgkJCQkJaWYgKCB4aHIgPT09IHNlbGYueGhyICkgewoJCQkJCQlyZXNwb25zZSggZGF0YSApOwoJCQkJCX0KCQkJCQlzZWxmLnhociA9IG51bGw7CgkJCQl9KTsKCQkJfTsKCQl9IGVsc2UgewoJCQl0aGlzLnNvdXJjZSA9IHRoaXMub3B0aW9ucy5zb3VyY2U7CgkJfQoJfSwKCglzZWFyY2g6IGZ1bmN0aW9uKCB2YWx1ZSwgZXZlbnQgKSB7CgkJdmFsdWUgPSB2YWx1ZSAhPSBudWxsID8gdmFsdWUgOiB0aGlzLmVsZW1lbnQudmFsKCk7CgoJCS8vIGFsd2F5cyBzYXZlIHRoZSBhY3R1YWwgdmFsdWUsIG5vdCB0aGUgb25lIHBhc3NlZCBhcyBhbiBhcmd1bWVudAoJCXRoaXMudGVybSA9IHRoaXMuZWxlbWVudC52YWwoKTsKCgkJaWYgKCB2YWx1ZS5sZW5ndGggPCB0aGlzLm9wdGlvbnMubWluTGVuZ3RoICkgewoJCQlyZXR1cm4gdGhpcy5jbG9zZSggZXZlbnQgKTsKCQl9CgoJCWNsZWFyVGltZW91dCggdGhpcy5jbG9zaW5nICk7CgkJaWYgKCB0aGlzLl90cmlnZ2VyKCJzZWFyY2giKSA9PT0gZmFsc2UgKSB7CgkJCXJldHVybjsKCQl9CgoJCXJldHVybiB0aGlzLl9zZWFyY2goIHZhbHVlICk7Cgl9LAoKCV9zZWFyY2g6IGZ1bmN0aW9uKCB2YWx1ZSApIHsKCQl0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoICJ1aS1hdXRvY29tcGxldGUtbG9hZGluZyIgKTsKCgkJdGhpcy5zb3VyY2UoIHsgdGVybTogdmFsdWUgfSwgdGhpcy5yZXNwb25zZSApOwoJfSwKCglfcmVzcG9uc2U6IGZ1bmN0aW9uKCBjb250ZW50ICkgewoJCWlmICggY29udGVudC5sZW5ndGggKSB7CgkJCWNvbnRlbnQgPSB0aGlzLl9ub3JtYWxpemUoIGNvbnRlbnQgKTsKCQkJdGhpcy5fc3VnZ2VzdCggY29udGVudCApOwoJCQl0aGlzLl90cmlnZ2VyKCAib3BlbiIgKTsKCQl9IGVsc2UgewoJCQl0aGlzLmNsb3NlKCk7CgkJfQoJCXRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyggInVpLWF1dG9jb21wbGV0ZS1sb2FkaW5nIiApOwoJfSwKCgljbG9zZTogZnVuY3Rpb24oIGV2ZW50ICkgewoJCWNsZWFyVGltZW91dCggdGhpcy5jbG9zaW5nICk7CgkJaWYgKCB0aGlzLm1lbnUuZWxlbWVudC5pcygiOnZpc2libGUiKSApIHsKCQkJdGhpcy5fdHJpZ2dlciggImNsb3NlIiwgZXZlbnQgKTsKCQkJdGhpcy5tZW51LmVsZW1lbnQuaGlkZSgpOwoJCQl0aGlzLm1lbnUuZGVhY3RpdmF0ZSgpOwoJCX0KCX0sCgkKCV9jaGFuZ2U6IGZ1bmN0aW9uKCBldmVudCApIHsKCQlpZiAoIHRoaXMucHJldmlvdXMgIT09IHRoaXMuZWxlbWVudC52YWwoKSApIHsKCQkJdGhpcy5fdHJpZ2dlciggImNoYW5nZSIsIGV2ZW50LCB7IGl0ZW06IHRoaXMuc2VsZWN0ZWRJdGVtIH0gKTsKCQl9Cgl9LAoKCV9ub3JtYWxpemU6IGZ1bmN0aW9uKCBpdGVtcyApIHsKCQkvLyBhc3N1bWUgYWxsIGl0ZW1zIGhhdmUgdGhlIHJpZ2h0IGZvcm1hdCB3aGVuIHRoZSBmaXJzdCBpdGVtIGlzIGNvbXBsZXRlCgkJaWYgKCBpdGVtcy5sZW5ndGggJiYgaXRlbXNbMF0ubGFiZWwgJiYgaXRlbXNbMF0udmFsdWUgKSB7CgkJCXJldHVybiBpdGVtczsKCQl9CgkJcmV0dXJuICQubWFwKCBpdGVtcywgZnVuY3Rpb24oaXRlbSkgewoJCQlpZiAoIHR5cGVvZiBpdGVtID09PSAic3RyaW5nIiApIHsKCQkJCXJldHVybiB7CgkJCQkJbGFiZWw6IGl0ZW0sCgkJCQkJdmFsdWU6IGl0ZW0KCQkJCX07CgkJCX0KCQkJcmV0dXJuICQuZXh0ZW5kKHsKCQkJCWxhYmVsOiBpdGVtLmxhYmVsIHx8IGl0ZW0udmFsdWUsCgkJCQl2YWx1ZTogaXRlbS52YWx1ZSB8fCBpdGVtLmxhYmVsCgkJCX0sIGl0ZW0gKTsKCQl9KTsKCX0sCgoJX3N1Z2dlc3Q6IGZ1bmN0aW9uKCBpdGVtcyApIHsKCQl2YXIgdWwgPSB0aGlzLm1lbnUuZWxlbWVudAoJCQkJLmVtcHR5KCkKCQkJCS56SW5kZXgoIHRoaXMuZWxlbWVudC56SW5kZXgoKSArIDEgKSwKCQkJbWVudVdpZHRoLAoJCQl0ZXh0V2lkdGg7CgkJdGhpcy5fcmVuZGVyTWVudSggdWwsIGl0ZW1zICk7CgkJLy8gVE9ETyByZWZyZXNoIHNob3VsZCBjaGVjayBpZiB0aGUgYWN0aXZlIGl0ZW0gaXMgc3RpbGwgaW4gdGhlIGRvbSwgcmVtb3ZpbmcgdGhlIG5lZWQgZm9yIGEgbWFudWFsIGRlYWN0aXZhdGUKCQl0aGlzLm1lbnUuZGVhY3RpdmF0ZSgpOwoJCXRoaXMubWVudS5yZWZyZXNoKCk7CgkJdGhpcy5tZW51LmVsZW1lbnQuc2hvdygpLnBvc2l0aW9uKCAkLmV4dGVuZCh7CgkJCW9mOiB0aGlzLmVsZW1lbnQKCQl9LCB0aGlzLm9wdGlvbnMucG9zaXRpb24gKSk7CgoJCW1lbnVXaWR0aCA9IHVsLndpZHRoKCAiIiApLm91dGVyV2lkdGgoKTsKCQl0ZXh0V2lkdGggPSB0aGlzLmVsZW1lbnQub3V0ZXJXaWR0aCgpOwoJCXVsLm91dGVyV2lkdGgoIE1hdGgubWF4KCBtZW51V2lkdGgsIHRleHRXaWR0aCApICk7Cgl9LAoKCV9yZW5kZXJNZW51OiBmdW5jdGlvbiggdWwsIGl0ZW1zICkgewoJCXZhciBzZWxmID0gdGhpczsKCQkkLmVhY2goIGl0ZW1zLCBmdW5jdGlvbiggaW5kZXgsIGl0ZW0gKSB7CgkJCXNlbGYuX3JlbmRlckl0ZW0oIHVsLCBpdGVtICk7CgkJfSk7Cgl9LAoKCV9yZW5kZXJJdGVtOiBmdW5jdGlvbiggdWwsIGl0ZW0pIHsKCQlyZXR1cm4gJCggIjxsaT48L2xpPiIgKQoJCQkuZGF0YSggIml0ZW0uYXV0b2NvbXBsZXRlIiwgaXRlbSApCgkJCS5hcHBlbmQoICQoICI8YT48L2E+IiApLnRleHQoIGl0ZW0ubGFiZWwgKSApCgkJCS5hcHBlbmRUbyggdWwgKTsKCX0sCgoJX21vdmU6IGZ1bmN0aW9uKCBkaXJlY3Rpb24sIGV2ZW50ICkgewoJCWlmICggIXRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpICkgewoJCQl0aGlzLnNlYXJjaCggbnVsbCwgZXZlbnQgKTsKCQkJcmV0dXJuOwoJCX0KCQlpZiAoIHRoaXMubWVudS5maXJzdCgpICYmIC9ecHJldmlvdXMvLnRlc3QoZGlyZWN0aW9uKSB8fAoJCQkJdGhpcy5tZW51Lmxhc3QoKSAmJiAvXm5leHQvLnRlc3QoZGlyZWN0aW9uKSApIHsKCQkJdGhpcy5lbGVtZW50LnZhbCggdGhpcy50ZXJtICk7CgkJCXRoaXMubWVudS5kZWFjdGl2YXRlKCk7CgkJCXJldHVybjsKCQl9CgkJdGhpcy5tZW51WyBkaXJlY3Rpb24gXSggZXZlbnQgKTsKCX0sCgoJd2lkZ2V0OiBmdW5jdGlvbigpIHsKCQlyZXR1cm4gdGhpcy5tZW51LmVsZW1lbnQ7Cgl9Cn0pOwoKJC5leHRlbmQoICQudWkuYXV0b2NvbXBsZXRlLCB7Cgllc2NhcGVSZWdleDogZnVuY3Rpb24oIHZhbHVlICkgewoJCXJldHVybiB2YWx1ZS5yZXBsYWNlKC9bLVtcXXt9KCkqKz8uLFxcXiR8I1xzXS9nLCAiXFwkJiIpOwoJfSwKCWZpbHRlcjogZnVuY3Rpb24oYXJyYXksIHRlcm0pIHsKCQl2YXIgbWF0Y2hlciA9IG5ldyBSZWdFeHAoICQudWkuYXV0b2NvbXBsZXRlLmVzY2FwZVJlZ2V4KHRlcm0pLCAiaSIgKTsKCQlyZXR1cm4gJC5ncmVwKCBhcnJheSwgZnVuY3Rpb24odmFsdWUpIHsKCQkJcmV0dXJuIG1hdGNoZXIudGVzdCggdmFsdWUubGFiZWwgfHwgdmFsdWUudmFsdWUgfHwgdmFsdWUgKTsKCQl9KTsKCX0KfSk7Cgp9KCBqUXVlcnkgKSk7CgovKgogKiBqUXVlcnkgVUkgTWVudSAobm90IG9mZmljaWFsbHkgcmVsZWFzZWQpCiAqIAogKiBUaGlzIHdpZGdldCBpc24ndCB5ZXQgZmluaXNoZWQgYW5kIHRoZSBBUEkgaXMgc3ViamVjdCB0byBjaGFuZ2UuIFdlIHBsYW4gdG8gZmluaXNoCiAqIGl0IGZvciB0aGUgbmV4dCByZWxlYXNlLiBZb3UncmUgd2VsY29tZSB0byBnaXZlIGl0IGEgdHJ5IGFueXdheSBhbmQgZ2l2ZSB1cyBmZWVkYmFjaywKICogYXMgbG9uZyBhcyB5b3UncmUgb2theSB3aXRoIG1pZ3JhdGluZyB5b3VyIGNvZGUgbGF0ZXIgb24uIFdlIGNhbiBoZWxwIHdpdGggdGhhdCwgdG9vLgogKgogKiBDb3B5cmlnaHQgMjAxMCwgQVVUSE9SUy50eHQgKGh0dHA6Ly9qcXVlcnl1aS5jb20vYWJvdXQpCiAqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLgogKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiAqCiAqIGh0dHA6Ly9kb2NzLmpxdWVyeS5jb20vVUkvTWVudQogKgogKiBEZXBlbmRzOgogKglqcXVlcnkudWkuY29yZS5qcwogKiAganF1ZXJ5LnVpLndpZGdldC5qcwogKi8KKGZ1bmN0aW9uKCQpIHsKCiQud2lkZ2V0KCJ1aS5tZW51IiwgewoJX2NyZWF0ZTogZnVuY3Rpb24oKSB7CgkJdmFyIHNlbGYgPSB0aGlzOwoJCXRoaXMuZWxlbWVudAoJCQkuYWRkQ2xhc3MoInVpLW1lbnUgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1hbGwiKQoJCQkuYXR0cih7CgkJCQlyb2xlOiAibGlzdGJveCIsCgkJCQkiYXJpYS1hY3RpdmVkZXNjZW5kYW50IjogInVpLWFjdGl2ZS1tZW51aXRlbSIKCQkJfSkKCQkJLmNsaWNrKGZ1bmN0aW9uKCBldmVudCApIHsKCQkJCWlmICggISQoIGV2ZW50LnRhcmdldCApLmNsb3Nlc3QoICIudWktbWVudS1pdGVtIGEiICkubGVuZ3RoICkgewoJCQkJCXJldHVybjsKCQkJCX0KCQkJCS8vIHRlbXBvcmFyeQoJCQkJZXZlbnQucHJldmVudERlZmF1bHQoKTsKCQkJCXNlbGYuc2VsZWN0KCBldmVudCApOwoJCQl9KTsKCQl0aGlzLnJlZnJlc2goKTsKCX0sCgkKCXJlZnJlc2g6IGZ1bmN0aW9uKCkgewoJCXZhciBzZWxmID0gdGhpczsKCgkJLy8gZG9uJ3QgcmVmcmVzaCBsaXN0IGl0ZW1zIHRoYXQgYXJlIGFscmVhZHkgYWRhcHRlZAoJCXZhciBpdGVtcyA9IHRoaXMuZWxlbWVudC5jaGlsZHJlbigibGk6bm90KC51aS1tZW51LWl0ZW0pOmhhcyhhKSIpCgkJCS5hZGRDbGFzcygidWktbWVudS1pdGVtIikKCQkJLmF0dHIoInJvbGUiLCAibWVudWl0ZW0iKTsKCQkKCQlpdGVtcy5jaGlsZHJlbigiYSIpCgkJCS5hZGRDbGFzcygidWktY29ybmVyLWFsbCIpCgkJCS5hdHRyKCJ0YWJpbmRleCIsIC0xKQoJCQkvLyBtb3VzZWVudGVyIGRvZXNuJ3Qgd29yayB3aXRoIGV2ZW50IGRlbGVnYXRpb24KCQkJLm1vdXNlZW50ZXIoZnVuY3Rpb24oIGV2ZW50ICkgewoJCQkJc2VsZi5hY3RpdmF0ZSggZXZlbnQsICQodGhpcykucGFyZW50KCkgKTsKCQkJfSkKCQkJLm1vdXNlbGVhdmUoZnVuY3Rpb24oKSB7CgkJCQlzZWxmLmRlYWN0aXZhdGUoKTsKCQkJfSk7Cgl9LAoKCWFjdGl2YXRlOiBmdW5jdGlvbiggZXZlbnQsIGl0ZW0gKSB7CgkJdGhpcy5kZWFjdGl2YXRlKCk7CgkJaWYgKHRoaXMuaGFzU2Nyb2xsKCkpIHsKCQkJdmFyIG9mZnNldCA9IGl0ZW0ub2Zmc2V0KCkudG9wIC0gdGhpcy5lbGVtZW50Lm9mZnNldCgpLnRvcCwKCQkJCXNjcm9sbCA9IHRoaXMuZWxlbWVudC5hdHRyKCJzY3JvbGxUb3AiKSwKCQkJCWVsZW1lbnRIZWlnaHQgPSB0aGlzLmVsZW1lbnQuaGVpZ2h0KCk7CgkJCWlmIChvZmZzZXQgPCAwKSB7CgkJCQl0aGlzLmVsZW1lbnQuYXR0cigic2Nyb2xsVG9wIiwgc2Nyb2xsICsgb2Zmc2V0KTsKCQkJfSBlbHNlIGlmIChvZmZzZXQgPj0gZWxlbWVudEhlaWdodCkgewoJCQkJdGhpcy5lbGVtZW50LmF0dHIoInNjcm9sbFRvcCIsIHNjcm9sbCArIG9mZnNldCAtIGVsZW1lbnRIZWlnaHQgKyBpdGVtLmhlaWdodCgpKTsKCQkJfQoJCX0KCQl0aGlzLmFjdGl2ZSA9IGl0ZW0uZXEoMCkKCQkJLmNoaWxkcmVuKCJhIikKCQkJCS5hZGRDbGFzcygidWktc3RhdGUtaG92ZXIiKQoJCQkJLmF0dHIoImlkIiwgInVpLWFjdGl2ZS1tZW51aXRlbSIpCgkJCS5lbmQoKTsKCQl0aGlzLl90cmlnZ2VyKCJmb2N1cyIsIGV2ZW50LCB7IGl0ZW06IGl0ZW0gfSk7Cgl9LAoKCWRlYWN0aXZhdGU6IGZ1bmN0aW9uKCkgewoJCWlmICghdGhpcy5hY3RpdmUpIHsgcmV0dXJuOyB9CgoJCXRoaXMuYWN0aXZlLmNoaWxkcmVuKCJhIikKCQkJLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpCgkJCS5yZW1vdmVBdHRyKCJpZCIpOwoJCXRoaXMuX3RyaWdnZXIoImJsdXIiKTsKCQl0aGlzLmFjdGl2ZSA9IG51bGw7Cgl9LAoKCW5leHQ6IGZ1bmN0aW9uKGV2ZW50KSB7CgkJdGhpcy5tb3ZlKCJuZXh0IiwgIi51aS1tZW51LWl0ZW06Zmlyc3QiLCBldmVudCk7Cgl9LAoKCXByZXZpb3VzOiBmdW5jdGlvbihldmVudCkgewoJCXRoaXMubW92ZSgicHJldiIsICIudWktbWVudS1pdGVtOmxhc3QiLCBldmVudCk7Cgl9LAoKCWZpcnN0OiBmdW5jdGlvbigpIHsKCQlyZXR1cm4gdGhpcy5hY3RpdmUgJiYgIXRoaXMuYWN0aXZlLnByZXZBbGwoIi51aS1tZW51LWl0ZW0iKS5sZW5ndGg7Cgl9LAoKCWxhc3Q6IGZ1bmN0aW9uKCkgewoJCXJldHVybiB0aGlzLmFjdGl2ZSAmJiAhdGhpcy5hY3RpdmUubmV4dEFsbCgiLnVpLW1lbnUtaXRlbSIpLmxlbmd0aDsKCX0sCgoJbW92ZTogZnVuY3Rpb24oZGlyZWN0aW9uLCBlZGdlLCBldmVudCkgewoJCWlmICghdGhpcy5hY3RpdmUpIHsKCQkJdGhpcy5hY3RpdmF0ZShldmVudCwgdGhpcy5lbGVtZW50LmNoaWxkcmVuKGVkZ2UpKTsKCQkJcmV0dXJuOwoJCX0KCQl2YXIgbmV4dCA9IHRoaXMuYWN0aXZlW2RpcmVjdGlvbiArICJBbGwiXSgiLnVpLW1lbnUtaXRlbSIpLmVxKDApOwoJCWlmIChuZXh0Lmxlbmd0aCkgewoJCQl0aGlzLmFjdGl2YXRlKGV2ZW50LCBuZXh0KTsKCQl9IGVsc2UgewoJCQl0aGlzLmFjdGl2YXRlKGV2ZW50LCB0aGlzLmVsZW1lbnQuY2hpbGRyZW4oZWRnZSkpOwoJCX0KCX0sCgoJLy8gVE9ETyBtZXJnZSB3aXRoIHByZXZpb3VzUGFnZQoJbmV4dFBhZ2U6IGZ1bmN0aW9uKGV2ZW50KSB7CgkJaWYgKHRoaXMuaGFzU2Nyb2xsKCkpIHsKCQkJLy8gVE9ETyBtZXJnZSB3aXRoIG5vLXNjcm9sbC1lbHNlCgkJCWlmICghdGhpcy5hY3RpdmUgfHwgdGhpcy5sYXN0KCkpIHsKCQkJCXRoaXMuYWN0aXZhdGUoZXZlbnQsIHRoaXMuZWxlbWVudC5jaGlsZHJlbigiOmZpcnN0IikpOwoJCQkJcmV0dXJuOwoJCQl9CgkJCXZhciBiYXNlID0gdGhpcy5hY3RpdmUub2Zmc2V0KCkudG9wLAoJCQkJaGVpZ2h0ID0gdGhpcy5lbGVtZW50LmhlaWdodCgpLAoJCQkJcmVzdWx0ID0gdGhpcy5lbGVtZW50LmNoaWxkcmVuKCJsaSIpLmZpbHRlcihmdW5jdGlvbigpIHsKCQkJCQl2YXIgY2xvc2UgPSAkKHRoaXMpLm9mZnNldCgpLnRvcCAtIGJhc2UgLSBoZWlnaHQgKyAkKHRoaXMpLmhlaWdodCgpOwoJCQkJCS8vIFRPRE8gaW1wcm92ZSBhcHByb3hpbWF0aW9uCgkJCQkJcmV0dXJuIGNsb3NlIDwgMTAgJiYgY2xvc2UgPiAtMTA7CgkJCQl9KTsKCgkJCS8vIFRPRE8gdHJ5IHRvIGNhdGNoIHRoaXMgZWFybGllciB3aGVuIHNjcm9sbFRvcCBpbmRpY2F0ZXMgdGhlIGxhc3QgcGFnZSBhbnl3YXkKCQkJaWYgKCFyZXN1bHQubGVuZ3RoKSB7CgkJCQlyZXN1bHQgPSB0aGlzLmVsZW1lbnQuY2hpbGRyZW4oIjpsYXN0Iik7CgkJCX0KCQkJdGhpcy5hY3RpdmF0ZShldmVudCwgcmVzdWx0KTsKCQl9IGVsc2UgewoJCQl0aGlzLmFjdGl2YXRlKGV2ZW50LCB0aGlzLmVsZW1lbnQuY2hpbGRyZW4oIXRoaXMuYWN0aXZlIHx8IHRoaXMubGFzdCgpID8gIjpmaXJzdCIgOiAiOmxhc3QiKSk7CgkJfQoJfSwKCgkvLyBUT0RPIG1lcmdlIHdpdGggbmV4dFBhZ2UKCXByZXZpb3VzUGFnZTogZnVuY3Rpb24oZXZlbnQpIHsKCQlpZiAodGhpcy5oYXNTY3JvbGwoKSkgewoJCQkvLyBUT0RPIG1lcmdlIHdpdGggbm8tc2Nyb2xsLWVsc2UKCQkJaWYgKCF0aGlzLmFjdGl2ZSB8fCB0aGlzLmZpcnN0KCkpIHsKCQkJCXRoaXMuYWN0aXZhdGUoZXZlbnQsIHRoaXMuZWxlbWVudC5jaGlsZHJlbigiOmxhc3QiKSk7CgkJCQlyZXR1cm47CgkJCX0KCgkJCXZhciBiYXNlID0gdGhpcy5hY3RpdmUub2Zmc2V0KCkudG9wLAoJCQkJaGVpZ2h0ID0gdGhpcy5lbGVtZW50LmhlaWdodCgpOwoJCQkJcmVzdWx0ID0gdGhpcy5lbGVtZW50LmNoaWxkcmVuKCJsaSIpLmZpbHRlcihmdW5jdGlvbigpIHsKCQkJCQl2YXIgY2xvc2UgPSAkKHRoaXMpLm9mZnNldCgpLnRvcCAtIGJhc2UgKyBoZWlnaHQgLSAkKHRoaXMpLmhlaWdodCgpOwoJCQkJCS8vIFRPRE8gaW1wcm92ZSBhcHByb3hpbWF0aW9uCgkJCQkJcmV0dXJuIGNsb3NlIDwgMTAgJiYgY2xvc2UgPiAtMTA7CgkJCQl9KTsKCgkJCS8vIFRPRE8gdHJ5IHRvIGNhdGNoIHRoaXMgZWFybGllciB3aGVuIHNjcm9sbFRvcCBpbmRpY2F0ZXMgdGhlIGxhc3QgcGFnZSBhbnl3YXkKCQkJaWYgKCFyZXN1bHQubGVuZ3RoKSB7CgkJCQlyZXN1bHQgPSB0aGlzLmVsZW1lbnQuY2hpbGRyZW4oIjpmaXJzdCIpOwoJCQl9CgkJCXRoaXMuYWN0aXZhdGUoZXZlbnQsIHJlc3VsdCk7CgkJfSBlbHNlIHsKCQkJdGhpcy5hY3RpdmF0ZShldmVudCwgdGhpcy5lbGVtZW50LmNoaWxkcmVuKCF0aGlzLmFjdGl2ZSB8fCB0aGlzLmZpcnN0KCkgPyAiOmxhc3QiIDogIjpmaXJzdCIpKTsKCQl9Cgl9LAoKCWhhc1Njcm9sbDogZnVuY3Rpb24oKSB7CgkJcmV0dXJuIHRoaXMuZWxlbWVudC5oZWlnaHQoKSA8IHRoaXMuZWxlbWVudC5hdHRyKCJzY3JvbGxIZWlnaHQiKTsKCX0sCgoJc2VsZWN0OiBmdW5jdGlvbiggZXZlbnQgKSB7CgkJdGhpcy5fdHJpZ2dlcigic2VsZWN0ZWQiLCBldmVudCwgeyBpdGVtOiB0aGlzLmFjdGl2ZSB9KTsKCX0KfSk7Cgp9KGpRdWVyeSkpOwo=]]></item_file_attachment>
    <item_file_attachment_ext><![CDATA[.js]]></item_file_attachment_ext>
    <item_file_attachment_filename><![CDATA[jquery.ui.autocomplete.js]]></item_file_attachment_filename>
    <item_file_attachment_size><![CDATA[14966]]></item_file_attachment_size>
    <item_file_attachment_type><![CDATA[application/unknown]]></item_file_attachment_type>
    <name><![CDATA[jquery.ui.autocomplete]]></name>
  </item>
  <item>
    <mig_id>jquery.mobile-1.0rc2js</mig_id>
    <community>siteAdmin</community>
    <contenttype>nciJavaScriptInternalInfo</contenttype>
    <folder>/configuration/js</folder>
    <long_title><![CDATA[jquery.mobile-1.0rc2]]></long_title>
    <pretty_url_name><![CDATA[jquery.mobile-1.0rc2]]></pretty_url_name>
    <item_file_attachment><![CDATA[LyoNCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsgMS4wDQoqIGh0dHA6Ly9qcXVlcnltb2JpbGUuY29tDQoqDQoqIENvcHlyaWdodCAyMDExIChjKSBqUXVlcnkgUHJvamVjdA0KKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgb3IgR1BMIFZlcnNpb24gMiBsaWNlbnNlcy4NCiogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQ0KKg0KKi8NCi8qIQ0KICogalF1ZXJ5IFVJIFdpZGdldCBAVkVSU0lPTg0KICoNCiAqIENvcHlyaWdodCAyMDEwLCBBVVRIT1JTLnR4dCAoaHR0cDovL2pxdWVyeXVpLmNvbS9hYm91dCkNCiAqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLg0KICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQ0KICoNCiAqIGh0dHA6Ly9kb2NzLmpxdWVyeS5jb20vVUkvV2lkZ2V0DQogKi8NCg0KKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7DQoNCi8vIGpRdWVyeSAxLjQrDQppZiAoICQuY2xlYW5EYXRhICkgew0KCXZhciBfY2xlYW5EYXRhID0gJC5jbGVhbkRhdGE7DQoJJC5jbGVhbkRhdGEgPSBmdW5jdGlvbiggZWxlbXMgKSB7DQoJCWZvciAoIHZhciBpID0gMCwgZWxlbTsgKGVsZW0gPSBlbGVtc1tpXSkgIT0gbnVsbDsgaSsrICkgew0KCQkJJCggZWxlbSApLnRyaWdnZXJIYW5kbGVyKCAicmVtb3ZlIiApOw0KCQl9DQoJCV9jbGVhbkRhdGEoIGVsZW1zICk7DQoJfTsNCn0gZWxzZSB7DQoJdmFyIF9yZW1vdmUgPSAkLmZuLnJlbW92ZTsNCgkkLmZuLnJlbW92ZSA9IGZ1bmN0aW9uKCBzZWxlY3Rvciwga2VlcERhdGEgKSB7DQoJCXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7DQoJCQlpZiAoICFrZWVwRGF0YSApIHsNCgkJCQlpZiAoICFzZWxlY3RvciB8fCAkLmZpbHRlciggc2VsZWN0b3IsIFsgdGhpcyBdICkubGVuZ3RoICkgew0KCQkJCQkkKCAiKiIsIHRoaXMgKS5hZGQoIFsgdGhpcyBdICkuZWFjaChmdW5jdGlvbigpIHsNCgkJCQkJCSQoIHRoaXMgKS50cmlnZ2VySGFuZGxlciggInJlbW92ZSIgKTsNCgkJCQkJfSk7DQoJCQkJfQ0KCQkJfQ0KCQkJcmV0dXJuIF9yZW1vdmUuY2FsbCggJCh0aGlzKSwgc2VsZWN0b3IsIGtlZXBEYXRhICk7DQoJCX0pOw0KCX07DQp9DQoNCiQud2lkZ2V0ID0gZnVuY3Rpb24oIG5hbWUsIGJhc2UsIHByb3RvdHlwZSApIHsNCgl2YXIgbmFtZXNwYWNlID0gbmFtZS5zcGxpdCggIi4iIClbIDAgXSwNCgkJZnVsbE5hbWU7DQoJbmFtZSA9IG5hbWUuc3BsaXQoICIuIiApWyAxIF07DQoJZnVsbE5hbWUgPSBuYW1lc3BhY2UgKyAiLSIgKyBuYW1lOw0KDQoJaWYgKCAhcHJvdG90eXBlICkgew0KCQlwcm90b3R5cGUgPSBiYXNlOw0KCQliYXNlID0gJC5XaWRnZXQ7DQoJfQ0KDQoJLy8gY3JlYXRlIHNlbGVjdG9yIGZvciBwbHVnaW4NCgkkLmV4cHJbICI6IiBdWyBmdWxsTmFtZSBdID0gZnVuY3Rpb24oIGVsZW0gKSB7DQoJCXJldHVybiAhISQuZGF0YSggZWxlbSwgbmFtZSApOw0KCX07DQoNCgkkWyBuYW1lc3BhY2UgXSA9ICRbIG5hbWVzcGFjZSBdIHx8IHt9Ow0KCSRbIG5hbWVzcGFjZSBdWyBuYW1lIF0gPSBmdW5jdGlvbiggb3B0aW9ucywgZWxlbWVudCApIHsNCgkJLy8gYWxsb3cgaW5zdGFudGlhdGlvbiB3aXRob3V0IGluaXRpYWxpemluZyBmb3Igc2ltcGxlIGluaGVyaXRhbmNlDQoJCWlmICggYXJndW1lbnRzLmxlbmd0aCApIHsNCgkJCXRoaXMuX2NyZWF0ZVdpZGdldCggb3B0aW9ucywgZWxlbWVudCApOw0KCQl9DQoJfTsNCg0KCXZhciBiYXNlUHJvdG90eXBlID0gbmV3IGJhc2UoKTsNCgkvLyB3ZSBuZWVkIHRvIG1ha2UgdGhlIG9wdGlvbnMgaGFzaCBhIHByb3BlcnR5IGRpcmVjdGx5IG9uIHRoZSBuZXcgaW5zdGFuY2UNCgkvLyBvdGhlcndpc2Ugd2UnbGwgbW9kaWZ5IHRoZSBvcHRpb25zIGhhc2ggb24gdGhlIHByb3RvdHlwZSB0aGF0IHdlJ3JlDQoJLy8gaW5oZXJpdGluZyBmcm9tDQovLwkkLmVhY2goIGJhc2VQcm90b3R5cGUsIGZ1bmN0aW9uKCBrZXksIHZhbCApIHsNCi8vCQlpZiAoICQuaXNQbGFpbk9iamVjdCh2YWwpICkgew0KLy8JCQliYXNlUHJvdG90eXBlWyBrZXkgXSA9ICQuZXh0ZW5kKCB7fSwgdmFsICk7DQovLwkJfQ0KLy8JfSk7DQoJYmFzZVByb3RvdHlwZS5vcHRpb25zID0gJC5leHRlbmQoIHRydWUsIHt9LCBiYXNlUHJvdG90eXBlLm9wdGlvbnMgKTsNCgkkWyBuYW1lc3BhY2UgXVsgbmFtZSBdLnByb3RvdHlwZSA9ICQuZXh0ZW5kKCB0cnVlLCBiYXNlUHJvdG90eXBlLCB7DQoJCW5hbWVzcGFjZTogbmFtZXNwYWNlLA0KCQl3aWRnZXROYW1lOiBuYW1lLA0KCQl3aWRnZXRFdmVudFByZWZpeDogJFsgbmFtZXNwYWNlIF1bIG5hbWUgXS5wcm90b3R5cGUud2lkZ2V0RXZlbnRQcmVmaXggfHwgbmFtZSwNCgkJd2lkZ2V0QmFzZUNsYXNzOiBmdWxsTmFtZQ0KCX0sIHByb3RvdHlwZSApOw0KDQoJJC53aWRnZXQuYnJpZGdlKCBuYW1lLCAkWyBuYW1lc3BhY2UgXVsgbmFtZSBdICk7DQp9Ow0KDQokLndpZGdldC5icmlkZ2UgPSBmdW5jdGlvbiggbmFtZSwgb2JqZWN0ICkgew0KCSQuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBvcHRpb25zICkgew0KCQl2YXIgaXNNZXRob2RDYWxsID0gdHlwZW9mIG9wdGlvbnMgPT09ICJzdHJpbmciLA0KCQkJYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKCBhcmd1bWVudHMsIDEgKSwNCgkJCXJldHVyblZhbHVlID0gdGhpczsNCg0KCQkvLyBhbGxvdyBtdWx0aXBsZSBoYXNoZXMgdG8gYmUgcGFzc2VkIG9uIGluaXQNCgkJb3B0aW9ucyA9ICFpc01ldGhvZENhbGwgJiYgYXJncy5sZW5ndGggPw0KCQkJJC5leHRlbmQuYXBwbHkoIG51bGwsIFsgdHJ1ZSwgb3B0aW9ucyBdLmNvbmNhdChhcmdzKSApIDoNCgkJCW9wdGlvbnM7DQoNCgkJLy8gcHJldmVudCBjYWxscyB0byBpbnRlcm5hbCBtZXRob2RzDQoJCWlmICggaXNNZXRob2RDYWxsICYmIG9wdGlvbnMuY2hhckF0KCAwICkgPT09ICJfIiApIHsNCgkJCXJldHVybiByZXR1cm5WYWx1ZTsNCgkJfQ0KDQoJCWlmICggaXNNZXRob2RDYWxsICkgew0KCQkJdGhpcy5lYWNoKGZ1bmN0aW9uKCkgew0KCQkJCXZhciBpbnN0YW5jZSA9ICQuZGF0YSggdGhpcywgbmFtZSApOw0KCQkJCWlmICggIWluc3RhbmNlICkgew0KCQkJCQl0aHJvdyAiY2Fubm90IGNhbGwgbWV0aG9kcyBvbiAiICsgbmFtZSArICIgcHJpb3IgdG8gaW5pdGlhbGl6YXRpb247ICIgKw0KCQkJCQkJImF0dGVtcHRlZCB0byBjYWxsIG1ldGhvZCAnIiArIG9wdGlvbnMgKyAiJyI7DQoJCQkJfQ0KCQkJCWlmICggISQuaXNGdW5jdGlvbiggaW5zdGFuY2Vbb3B0aW9uc10gKSApIHsNCgkJCQkJdGhyb3cgIm5vIHN1Y2ggbWV0aG9kICciICsgb3B0aW9ucyArICInIGZvciAiICsgbmFtZSArICIgd2lkZ2V0IGluc3RhbmNlIjsNCgkJCQl9DQoJCQkJdmFyIG1ldGhvZFZhbHVlID0gaW5zdGFuY2VbIG9wdGlvbnMgXS5hcHBseSggaW5zdGFuY2UsIGFyZ3MgKTsNCgkJCQlpZiAoIG1ldGhvZFZhbHVlICE9PSBpbnN0YW5jZSAmJiBtZXRob2RWYWx1ZSAhPT0gdW5kZWZpbmVkICkgew0KCQkJCQlyZXR1cm5WYWx1ZSA9IG1ldGhvZFZhbHVlOw0KCQkJCQlyZXR1cm4gZmFsc2U7DQoJCQkJfQ0KCQkJfSk7DQoJCX0gZWxzZSB7DQoJCQl0aGlzLmVhY2goZnVuY3Rpb24oKSB7DQoJCQkJdmFyIGluc3RhbmNlID0gJC5kYXRhKCB0aGlzLCBuYW1lICk7DQoJCQkJaWYgKCBpbnN0YW5jZSApIHsNCgkJCQkJaW5zdGFuY2Uub3B0aW9uKCBvcHRpb25zIHx8IHt9ICkuX2luaXQoKTsNCgkJCQl9IGVsc2Ugew0KCQkJCQkkLmRhdGEoIHRoaXMsIG5hbWUsIG5ldyBvYmplY3QoIG9wdGlvbnMsIHRoaXMgKSApOw0KCQkJCX0NCgkJCX0pOw0KCQl9DQoNCgkJcmV0dXJuIHJldHVyblZhbHVlOw0KCX07DQp9Ow0KDQokLldpZGdldCA9IGZ1bmN0aW9uKCBvcHRpb25zLCBlbGVtZW50ICkgew0KCS8vIGFsbG93IGluc3RhbnRpYXRpb24gd2l0aG91dCBpbml0aWFsaXppbmcgZm9yIHNpbXBsZSBpbmhlcml0YW5jZQ0KCWlmICggYXJndW1lbnRzLmxlbmd0aCApIHsNCgkJdGhpcy5fY3JlYXRlV2lkZ2V0KCBvcHRpb25zLCBlbGVtZW50ICk7DQoJfQ0KfTsNCg0KJC5XaWRnZXQucHJvdG90eXBlID0gew0KCXdpZGdldE5hbWU6ICJ3aWRnZXQiLA0KCXdpZGdldEV2ZW50UHJlZml4OiAiIiwNCglvcHRpb25zOiB7DQoJCWRpc2FibGVkOiBmYWxzZQ0KCX0sDQoJX2NyZWF0ZVdpZGdldDogZnVuY3Rpb24oIG9wdGlvbnMsIGVsZW1lbnQgKSB7DQoJCS8vICQud2lkZ2V0LmJyaWRnZSBzdG9yZXMgdGhlIHBsdWdpbiBpbnN0YW5jZSwgYnV0IHdlIGRvIGl0IGFueXdheQ0KCQkvLyBzbyB0aGF0IGl0J3Mgc3RvcmVkIGV2ZW4gYmVmb3JlIHRoZSBfY3JlYXRlIGZ1bmN0aW9uIHJ1bnMNCgkJJC5kYXRhKCBlbGVtZW50LCB0aGlzLndpZGdldE5hbWUsIHRoaXMgKTsNCgkJdGhpcy5lbGVtZW50ID0gJCggZWxlbWVudCApOw0KCQl0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCggdHJ1ZSwge30sDQoJCQl0aGlzLm9wdGlvbnMsDQoJCQl0aGlzLl9nZXRDcmVhdGVPcHRpb25zKCksDQoJCQlvcHRpb25zICk7DQoNCgkJdmFyIHNlbGYgPSB0aGlzOw0KCQl0aGlzLmVsZW1lbnQuYmluZCggInJlbW92ZS4iICsgdGhpcy53aWRnZXROYW1lLCBmdW5jdGlvbigpIHsNCgkJCXNlbGYuZGVzdHJveSgpOw0KCQl9KTsNCg0KCQl0aGlzLl9jcmVhdGUoKTsNCgkJdGhpcy5fdHJpZ2dlciggImNyZWF0ZSIgKTsNCgkJdGhpcy5faW5pdCgpOw0KCX0sDQoJX2dldENyZWF0ZU9wdGlvbnM6IGZ1bmN0aW9uKCkgew0KCQl2YXIgb3B0aW9ucyA9IHt9Ow0KCQlpZiAoICQubWV0YWRhdGEgKSB7DQoJCQlvcHRpb25zID0gJC5tZXRhZGF0YS5nZXQoIGVsZW1lbnQgKVsgdGhpcy53aWRnZXROYW1lIF07DQoJCX0NCgkJcmV0dXJuIG9wdGlvbnM7DQoJfSwNCglfY3JlYXRlOiBmdW5jdGlvbigpIHt9LA0KCV9pbml0OiBmdW5jdGlvbigpIHt9LA0KDQoJZGVzdHJveTogZnVuY3Rpb24oKSB7DQoJCXRoaXMuZWxlbWVudA0KCQkJLnVuYmluZCggIi4iICsgdGhpcy53aWRnZXROYW1lICkNCgkJCS5yZW1vdmVEYXRhKCB0aGlzLndpZGdldE5hbWUgKTsNCgkJdGhpcy53aWRnZXQoKQ0KCQkJLnVuYmluZCggIi4iICsgdGhpcy53aWRnZXROYW1lICkNCgkJCS5yZW1vdmVBdHRyKCAiYXJpYS1kaXNhYmxlZCIgKQ0KCQkJLnJlbW92ZUNsYXNzKA0KCQkJCXRoaXMud2lkZ2V0QmFzZUNsYXNzICsgIi1kaXNhYmxlZCAiICsNCgkJCQkidWktc3RhdGUtZGlzYWJsZWQiICk7DQoJfSwNCg0KCXdpZGdldDogZnVuY3Rpb24oKSB7DQoJCXJldHVybiB0aGlzLmVsZW1lbnQ7DQoJfSwNCg0KCW9wdGlvbjogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7DQoJCXZhciBvcHRpb25zID0ga2V5Ow0KDQoJCWlmICggYXJndW1lbnRzLmxlbmd0aCA9PT0gMCApIHsNCgkJCS8vIGRvbid0IHJldHVybiBhIHJlZmVyZW5jZSB0byB0aGUgaW50ZXJuYWwgaGFzaA0KCQkJcmV0dXJuICQuZXh0ZW5kKCB7fSwgdGhpcy5vcHRpb25zICk7DQoJCX0NCg0KCQlpZiAgKHR5cGVvZiBrZXkgPT09ICJzdHJpbmciICkgew0KCQkJaWYgKCB2YWx1ZSA9PT0gdW5kZWZpbmVkICkgew0KCQkJCXJldHVybiB0aGlzLm9wdGlvbnNbIGtleSBdOw0KCQkJfQ0KCQkJb3B0aW9ucyA9IHt9Ow0KCQkJb3B0aW9uc1sga2V5IF0gPSB2YWx1ZTsNCgkJfQ0KDQoJCXRoaXMuX3NldE9wdGlvbnMoIG9wdGlvbnMgKTsNCg0KCQlyZXR1cm4gdGhpczsNCgl9LA0KCV9zZXRPcHRpb25zOiBmdW5jdGlvbiggb3B0aW9ucyApIHsNCgkJdmFyIHNlbGYgPSB0aGlzOw0KCQkkLmVhY2goIG9wdGlvbnMsIGZ1bmN0aW9uKCBrZXksIHZhbHVlICkgew0KCQkJc2VsZi5fc2V0T3B0aW9uKCBrZXksIHZhbHVlICk7DQoJCX0pOw0KDQoJCXJldHVybiB0aGlzOw0KCX0sDQoJX3NldE9wdGlvbjogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7DQoJCXRoaXMub3B0aW9uc1sga2V5IF0gPSB2YWx1ZTsNCg0KCQlpZiAoIGtleSA9PT0gImRpc2FibGVkIiApIHsNCgkJCXRoaXMud2lkZ2V0KCkNCgkJCQlbIHZhbHVlID8gImFkZENsYXNzIiA6ICJyZW1vdmVDbGFzcyJdKA0KCQkJCQl0aGlzLndpZGdldEJhc2VDbGFzcyArICItZGlzYWJsZWQiICsgIiAiICsNCgkJCQkJInVpLXN0YXRlLWRpc2FibGVkIiApDQoJCQkJLmF0dHIoICJhcmlhLWRpc2FibGVkIiwgdmFsdWUgKTsNCgkJfQ0KDQoJCXJldHVybiB0aGlzOw0KCX0sDQoNCgllbmFibGU6IGZ1bmN0aW9uKCkgew0KCQlyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCAiZGlzYWJsZWQiLCBmYWxzZSApOw0KCX0sDQoJZGlzYWJsZTogZnVuY3Rpb24oKSB7DQoJCXJldHVybiB0aGlzLl9zZXRPcHRpb24oICJkaXNhYmxlZCIsIHRydWUgKTsNCgl9LA0KDQoJX3RyaWdnZXI6IGZ1bmN0aW9uKCB0eXBlLCBldmVudCwgZGF0YSApIHsNCgkJdmFyIGNhbGxiYWNrID0gdGhpcy5vcHRpb25zWyB0eXBlIF07DQoNCgkJZXZlbnQgPSAkLkV2ZW50KCBldmVudCApOw0KCQlldmVudC50eXBlID0gKCB0eXBlID09PSB0aGlzLndpZGdldEV2ZW50UHJlZml4ID8NCgkJCXR5cGUgOg0KCQkJdGhpcy53aWRnZXRFdmVudFByZWZpeCArIHR5cGUgKS50b0xvd2VyQ2FzZSgpOw0KCQlkYXRhID0gZGF0YSB8fCB7fTsNCg0KCQkvLyBjb3B5IG9yaWdpbmFsIGV2ZW50IHByb3BlcnRpZXMgb3ZlciB0byB0aGUgbmV3IGV2ZW50DQoJCS8vIHRoaXMgd291bGQgaGFwcGVuIGlmIHdlIGNvdWxkIGNhbGwgJC5ldmVudC5maXggaW5zdGVhZCBvZiAkLkV2ZW50DQoJCS8vIGJ1dCB3ZSBkb24ndCBoYXZlIGEgd2F5IHRvIGZvcmNlIGFuIGV2ZW50IHRvIGJlIGZpeGVkIG11bHRpcGxlIHRpbWVzDQoJCWlmICggZXZlbnQub3JpZ2luYWxFdmVudCApIHsNCgkJCWZvciAoIHZhciBpID0gJC5ldmVudC5wcm9wcy5sZW5ndGgsIHByb3A7IGk7ICkgew0KCQkJCXByb3AgPSAkLmV2ZW50LnByb3BzWyAtLWkgXTsNCgkJCQlldmVudFsgcHJvcCBdID0gZXZlbnQub3JpZ2luYWxFdmVudFsgcHJvcCBdOw0KCQkJfQ0KCQl9DQoNCgkJdGhpcy5lbGVtZW50LnRyaWdnZXIoIGV2ZW50LCBkYXRhICk7DQoNCgkJcmV0dXJuICEoICQuaXNGdW5jdGlvbihjYWxsYmFjaykgJiYNCgkJCWNhbGxiYWNrLmNhbGwoIHRoaXMuZWxlbWVudFswXSwgZXZlbnQsIGRhdGEgKSA9PT0gZmFsc2UgfHwNCgkJCWV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpICk7DQoJfQ0KfTsNCg0KfSkoIGpRdWVyeSApOw0KLyoNCiogd2lkZ2V0IGZhY3RvcnkgZXh0ZW50aW9ucyBmb3IgbW9iaWxlDQoqLw0KDQooZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHsNCg0KJC53aWRnZXQoICJtb2JpbGUud2lkZ2V0Iiwgew0KCS8vIGRlY29yYXRlIHRoZSBwYXJlbnQgX2NyZWF0ZVdpZGdldCB0byB0cmlnZ2VyIGB3aWRnZXRpbml0YCBmb3IgdXNlcnMNCgkvLyB3aG8gd2lzaCB0byBkbyBwb3N0IHBvc3QgYHdpZGdldGNyZWF0ZWAgYWx0ZXJhdGlvbnMvYWRkaXRpb25zDQoJLy8NCgkvLyBUT0RPIGNyZWF0ZSBhIHB1bGwgcmVxdWVzdCBmb3IganF1ZXJ5IHVpIHRvIHRyaWdnZXIgdGhpcyBldmVudA0KCS8vIGluIHRoZSBvcmlnaW5hbCBfY3JlYXRlV2lkZ2V0DQoJX2NyZWF0ZVdpZGdldDogZnVuY3Rpb24oKSB7DQoJCSQuV2lkZ2V0LnByb3RvdHlwZS5fY3JlYXRlV2lkZ2V0LmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTsNCgkJdGhpcy5fdHJpZ2dlciggJ2luaXQnICk7DQoJfSwNCg0KCV9nZXRDcmVhdGVPcHRpb25zOiBmdW5jdGlvbigpIHsNCg0KCQl2YXIgZWxlbSA9IHRoaXMuZWxlbWVudCwNCgkJCW9wdGlvbnMgPSB7fTsNCg0KCQkkLmVhY2goIHRoaXMub3B0aW9ucywgZnVuY3Rpb24oIG9wdGlvbiApIHsNCg0KCQkJdmFyIHZhbHVlID0gZWxlbS5qcW1EYXRhKCBvcHRpb24ucmVwbGFjZSggL1tBLVpdL2csIGZ1bmN0aW9uKCBjICkgew0KCQkJCQkJCXJldHVybiAiLSIgKyBjLnRvTG93ZXJDYXNlKCk7DQoJCQkJCQl9KQ0KCQkJCQkpOw0KDQoJCQlpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7DQoJCQkJb3B0aW9uc1sgb3B0aW9uIF0gPSB2YWx1ZTsNCgkJCX0NCgkJfSk7DQoNCgkJcmV0dXJuIG9wdGlvbnM7DQoJfSwNCg0KCWVuaGFuY2VXaXRoaW46IGZ1bmN0aW9uKCB0YXJnZXQgKSB7DQoJCS8vIFRPRE8gcmVtb3ZlIGRlcGVuZGVuY3kgb24gdGhlIHBhZ2Ugd2lkZ2V0IGZvciB0aGUga2VlcE5hdGl2ZS4NCgkJLy8gQ3VycmVudGx5IHRoZSBrZWVwTmF0aXZlIHZhbHVlIGlzIGRlZmluZWQgb24gdGhlIHBhZ2UgcHJvdG90eXBlIHNvDQoJCS8vIHRoZSBtZXRob2QgaXMgYXMgd2VsbA0KCQl2YXIgcGFnZSA9ICQodGFyZ2V0KS5jbG9zZXN0KCI6anFtRGF0YShyb2xlPSdwYWdlJykiKS5kYXRhKCAicGFnZSIgKSwNCgkJCWtlZXBOYXRpdmUgPSAocGFnZSAmJiBwYWdlLmtlZXBOYXRpdmVTZWxlY3RvcigpKSB8fCAiIjsNCg0KCQkkKCB0aGlzLm9wdGlvbnMuaW5pdFNlbGVjdG9yLCB0YXJnZXQgKS5ub3QoIGtlZXBOYXRpdmUgKVsgdGhpcy53aWRnZXROYW1lIF0oKTsNCgl9DQp9KTsNCg0KfSkoIGpRdWVyeSApOw0KLyoNCiogYSB3b3JrYXJvdW5kIGZvciB3aW5kb3cubWF0Y2hNZWRpYQ0KKi8NCg0KKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7DQoNCnZhciAkd2luZG93ID0gJCggd2luZG93ICksDQoJJGh0bWwgPSAkKCAiaHRtbCIgKTsNCg0KLyogJC5tb2JpbGUubWVkaWEgbWV0aG9kOiBwYXNzIGEgQ1NTIG1lZGlhIHR5cGUgb3IgcXVlcnkgYW5kIGdldCBhIGJvb2wgcmV0dXJuDQoJbm90ZTogdGhpcyBmZWF0dXJlIHJlbGllcyBvbiBhY3R1YWwgbWVkaWEgcXVlcnkgc3VwcG9ydCBmb3IgbWVkaWEgcXVlcmllcywgdGhvdWdoIHR5cGVzIHdpbGwgd29yayBtb3N0IGFueXdoZXJlDQoJZXhhbXBsZXM6DQoJCSQubW9iaWxlLm1lZGlhKCdzY3JlZW4nKSAvLz4+IHRlc3RzIGZvciBzY3JlZW4gbWVkaWEgdHlwZQ0KCQkkLm1vYmlsZS5tZWRpYSgnc2NyZWVuIGFuZCAobWluLXdpZHRoOiA0ODBweCknKSAvLz4+IHRlc3RzIGZvciBzY3JlZW4gbWVkaWEgdHlwZSB3aXRoIHdpbmRvdyB3aWR0aCA+IDQ4MHB4DQoJCSQubW9iaWxlLm1lZGlhKCdAbWVkaWEgc2NyZWVuIGFuZCAoLXdlYmtpdC1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOiAyKScpIC8vPj4gdGVzdHMgZm9yIHdlYmtpdCAyeCBwaXhlbCByYXRpbyAoaVBob25lIDQpDQoqLw0KJC5tb2JpbGUubWVkaWEgPSAoZnVuY3Rpb24oKSB7DQoJLy8gVE9ETzogdXNlIHdpbmRvdy5tYXRjaE1lZGlhIG9uY2UgYXQgbGVhc3Qgb25lIFVBIGltcGxlbWVudHMgaXQNCgl2YXIgY2FjaGUgPSB7fSwNCgkJdGVzdERpdiA9ICQoICI8ZGl2IGlkPSdqcXVlcnktbWVkaWF0ZXN0Jz4iICksDQoJCWZha2VCb2R5ID0gJCggIjxib2R5PiIgKS5hcHBlbmQoIHRlc3REaXYgKTsNCg0KCXJldHVybiBmdW5jdGlvbiggcXVlcnkgKSB7DQoJCWlmICggISggcXVlcnkgaW4gY2FjaGUgKSApIHsNCgkJCXZhciBzdHlsZUJsb2NrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggInN0eWxlIiApLA0KCQkJCWNzc3J1bGUgPSAiQG1lZGlhICIgKyBxdWVyeSArICIgeyAjanF1ZXJ5LW1lZGlhdGVzdCB7IHBvc2l0aW9uOmFic29sdXRlOyB9IH0iOw0KDQoJCQkvL211c3Qgc2V0IHR5cGUgZm9yIElFIQ0KCQkJc3R5bGVCbG9jay50eXBlID0gInRleHQvY3NzIjsNCg0KCQkJaWYgKCBzdHlsZUJsb2NrLnN0eWxlU2hlZXQgICl7DQoJCQkJc3R5bGVCbG9jay5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3NydWxlOw0KCQkJfSBlbHNlIHsNCgkJCQlzdHlsZUJsb2NrLmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3NydWxlKSApOw0KCQkJfQ0KDQoJCQkkaHRtbC5wcmVwZW5kKCBmYWtlQm9keSApLnByZXBlbmQoIHN0eWxlQmxvY2sgKTsNCgkJCWNhY2hlWyBxdWVyeSBdID0gdGVzdERpdi5jc3MoICJwb3NpdGlvbiIgKSA9PT0gImFic29sdXRlIjsNCgkJCWZha2VCb2R5LmFkZCggc3R5bGVCbG9jayApLnJlbW92ZSgpOw0KCQl9DQoJCXJldHVybiBjYWNoZVsgcXVlcnkgXTsNCgl9Ow0KfSkoKTsNCg0KfSkoalF1ZXJ5KTsNCi8qDQoqIHN1cHBvcnQgdGVzdHMNCiovDQoNCihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkgew0KDQp2YXIgZmFrZUJvZHkgPSAkKCAiPGJvZHk+IiApLnByZXBlbmRUbyggImh0bWwiICksDQoJZmJDU1MgPSBmYWtlQm9keVsgMCBdLnN0eWxlLA0KCXZlbmRvcnMgPSBbICJXZWJraXQiLCAiTW96IiwgIk8iIF0sDQoJd2Vib3MgPSAicGFsbUdldFJlc291cmNlIiBpbiB3aW5kb3csIC8vb25seSB1c2VkIHRvIHJ1bGUgb3V0IHNjcm9sbFRvcA0KCW9wZXJhbWluaSA9IHdpbmRvdy5vcGVyYW1pbmkgJiYgKHt9KS50b1N0cmluZy5jYWxsKCB3aW5kb3cub3BlcmFtaW5pICkgPT09ICJbb2JqZWN0IE9wZXJhTWluaV0iLA0KCWJiID0gd2luZG93LmJsYWNrYmVycnk7IC8vb25seSB1c2VkIHRvIHJ1bGUgb3V0IGJveCBzaGFkb3csIGFzIGl0J3MgZmlsbGVkIG9wYXF1ZSBvbiBCQg0KDQovLyB0aHggTW9kZXJuaXpyDQpmdW5jdGlvbiBwcm9wRXhpc3RzKCBwcm9wICkgew0KCXZhciB1Y19wcm9wID0gcHJvcC5jaGFyQXQoIDAgKS50b1VwcGVyQ2FzZSgpICsgcHJvcC5zdWJzdHIoIDEgKSwNCgkJcHJvcHMgPSAoIHByb3AgKyAiICIgKyB2ZW5kb3JzLmpvaW4oIHVjX3Byb3AgKyAiICIgKSArIHVjX3Byb3AgKS5zcGxpdCggIiAiICk7DQoNCglmb3IgKCB2YXIgdiBpbiBwcm9wcyApew0KCQlpZiAoIGZiQ1NTWyBwcm9wc1sgdiBdIF0gIT09IHVuZGVmaW5lZCApIHsNCgkJCXJldHVybiB0cnVlOw0KCQl9DQoJfQ0KfQ0KDQovLyBUZXN0IGZvciBkeW5hbWljLXVwZGF0aW5nIGJhc2UgdGFnIHN1cHBvcnQgKCBhbGxvd3MgdXMgdG8gYXZvaWQgaHJlZixzcmMgYXR0ciByZXdyaXRpbmcgKQ0KZnVuY3Rpb24gYmFzZVRhZ1Rlc3QoKSB7DQoJdmFyIGZhdXhCYXNlID0gbG9jYXRpb24ucHJvdG9jb2wgKyAiLy8iICsgbG9jYXRpb24uaG9zdCArIGxvY2F0aW9uLnBhdGhuYW1lICsgInVpLWRpci8iLA0KCQliYXNlID0gJCggImhlYWQgYmFzZSIgKSwNCgkJZmF1eEVsZSA9IG51bGwsDQoJCWhyZWYgPSAiIiwNCgkJbGluaywgcmViYXNlOw0KDQoJaWYgKCAhYmFzZS5sZW5ndGggKSB7DQoJCWJhc2UgPSBmYXV4RWxlID0gJCggIjxiYXNlPiIsIHsgImhyZWYiOiBmYXV4QmFzZSB9KS5hcHBlbmRUbyggImhlYWQiICk7DQoJfSBlbHNlIHsNCgkJaHJlZiA9IGJhc2UuYXR0ciggImhyZWYiICk7DQoJfQ0KDQoJbGluayA9ICQoICI8YSBocmVmPSd0ZXN0dXJsJyAvPiIgKS5wcmVwZW5kVG8oIGZha2VCb2R5ICk7DQoJcmViYXNlID0gbGlua1sgMCBdLmhyZWY7DQoJYmFzZVsgMCBdLmhyZWYgPSBocmVmIHx8IGxvY2F0aW9uLnBhdGhuYW1lOw0KDQoJaWYgKCBmYXV4RWxlICkgew0KCQlmYXV4RWxlLnJlbW92ZSgpOw0KCX0NCglyZXR1cm4gcmViYXNlLmluZGV4T2YoIGZhdXhCYXNlICkgPT09IDA7DQp9DQoNCg0KLy8gbm9uLVVBLWJhc2VkIElFIHZlcnNpb24gY2hlY2sgYnkgSmFtZXMgUGFkb2xzZXksIG1vZGlmaWVkIGJ5IGpkYWx0b24gLSBmcm9tIGh0dHA6Ly9naXN0LmdpdGh1Yi5jb20vNTI3NjgzDQovLyBhbGxvd3MgZm9yIGluY2x1c2lvbiBvZiBJRSA2KywgaW5jbHVkaW5nIFdpbmRvd3MgTW9iaWxlIDcNCiQubW9iaWxlLmJyb3dzZXIgPSB7fTsNCiQubW9iaWxlLmJyb3dzZXIuaWUgPSAoZnVuY3Rpb24oKSB7DQoJdmFyIHYgPSAzLA0KCWRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICJkaXYiICksDQoJYSA9IGRpdi5hbGwgfHwgW107DQoNCgl3aGlsZSAoIGRpdi5pbm5lckhUTUwgPSAiPCEtLVtpZiBndCBJRSAiICsgKCArK3YgKSArICJdPjxicj48IVtlbmRpZl0tLT4iLCBhWyAwIF0gKTsNCg0KCXJldHVybiB2ID4gNCA/IHYgOiAhdjsNCn0pKCk7DQoNCg0KJC5leHRlbmQoICQuc3VwcG9ydCwgew0KCW9yaWVudGF0aW9uOiAib3JpZW50YXRpb24iIGluIHdpbmRvdyAmJiAib25vcmllbnRhdGlvbmNoYW5nZSIgaW4gd2luZG93LA0KCXRvdWNoOiAib250b3VjaGVuZCIgaW4gZG9jdW1lbnQsDQoJY3NzVHJhbnNpdGlvbnM6ICJXZWJLaXRUcmFuc2l0aW9uRXZlbnQiIGluIHdpbmRvdywNCglwdXNoU3RhdGU6ICJwdXNoU3RhdGUiIGluIGhpc3RvcnkgJiYgInJlcGxhY2VTdGF0ZSIgaW4gaGlzdG9yeSwNCgltZWRpYXF1ZXJ5OiAkLm1vYmlsZS5tZWRpYSggIm9ubHkgYWxsIiApLA0KCWNzc1BzZXVkb0VsZW1lbnQ6ICEhcHJvcEV4aXN0cyggImNvbnRlbnQiICksDQoJdG91Y2hPdmVyZmxvdzogISFwcm9wRXhpc3RzKCAib3ZlcmZsb3dTY3JvbGxpbmciICksDQoJYm94U2hhZG93OiAhIXByb3BFeGlzdHMoICJib3hTaGFkb3ciICkgJiYgIWJiLA0KCXNjcm9sbFRvcDogKCAicGFnZVhPZmZzZXQiIGluIHdpbmRvdyB8fCAic2Nyb2xsVG9wIiBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgfHwgInNjcm9sbFRvcCIgaW4gZmFrZUJvZHlbIDAgXSApICYmICF3ZWJvcyAmJiAhb3BlcmFtaW5pLA0KCWR5bmFtaWNCYXNlVGFnOiBiYXNlVGFnVGVzdCgpDQp9KTsNCg0KZmFrZUJvZHkucmVtb3ZlKCk7DQoNCg0KLy8gJC5tb2JpbGUuYWpheEJsYWNrbGlzdCBpcyB1c2VkIHRvIG92ZXJyaWRlIGFqYXhFbmFibGVkIG9uIHBsYXRmb3JtcyB0aGF0IGhhdmUga25vd24gY29uZmxpY3RzIHdpdGggaGFzaCBoaXN0b3J5IHVwZGF0ZXMgKEJCNSwgU3ltYmlhbikNCi8vIG9yIHRoYXQgZ2VuZXJhbGx5IHdvcmsgYmV0dGVyIGJyb3dzaW5nIGluIHJlZ3VsYXIgaHR0cCBmb3IgZnVsbCBwYWdlIHJlZnJlc2hlcyAoT3BlcmEgTWluaSkNCi8vIE5vdGU6IFRoaXMgZGV0ZWN0aW9uIGJlbG93IGlzIHVzZWQgYXMgYSBsYXN0IHJlc29ydC4NCi8vIFdlIHJlY29tbWVuZCBvbmx5IHVzaW5nIHRoZXNlIGRldGVjdGlvbiBtZXRob2RzIHdoZW4gYWxsIG90aGVyIG1vcmUgcmVsaWFibGUvZm9yd2FyZC1sb29raW5nIGFwcHJvYWNoZXMgYXJlIG5vdCBwb3NzaWJsZQ0KdmFyIG5va2lhTFRFN18zID0gKGZ1bmN0aW9uKCl7DQoNCgl2YXIgdWEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDsNCg0KCS8vVGhlIGZvbGxvd2luZyBpcyBhbiBhdHRlbXB0IHRvIG1hdGNoIE5va2lhIGJyb3dzZXJzIHRoYXQgYXJlIHJ1bm5pbmcgU3ltYmlhbi9zNjAsIHdpdGggd2Via2l0LCB2ZXJzaW9uIDcuMyBvciBvbGRlcg0KCXJldHVybiB1YS5pbmRleE9mKCAiTm9raWEiICkgPiAtMSAmJg0KCQkJKCB1YS5pbmRleE9mKCAiU3ltYmlhbi8zIiApID4gLTEgfHwgdWEuaW5kZXhPZiggIlNlcmllczYwLzUiICkgPiAtMSApICYmDQoJCQl1YS5pbmRleE9mKCAiQXBwbGVXZWJLaXQiICkgPiAtMSAmJg0KCQkJdWEubWF0Y2goIC8oQnJvd3Nlck5HfE5va2lhQnJvd3NlcilcLzdcLlswLTNdLyApOw0KfSkoKTsNCg0KJC5tb2JpbGUuYWpheEJsYWNrbGlzdCA9DQoJCQkvLyBCbGFja0JlcnJ5IGJyb3dzZXJzLCBwcmUtd2Via2l0DQoJCQl3aW5kb3cuYmxhY2tiZXJyeSAmJiAhd2luZG93LldlYktpdFBvaW50IHx8DQoJCQkvLyBPcGVyYSBNaW5pDQoJCQlvcGVyYW1pbmkgfHwNCgkJCS8vIFN5bWJpYW4gd2Via2l0cyBwcmUgNy4zDQoJCQlub2tpYUxURTdfMzsNCg0KLy8gTGFzdGx5LCB0aGlzIHdvcmthcm91bmQgaXMgdGhlIG9ubHkgd2F5IHdlJ3ZlIGZvdW5kIHNvIGZhciB0byBnZXQgcHJlIDcuMyBTeW1iaWFuIHdlYmtpdCBkZXZpY2VzDQovLyB0byByZW5kZXIgdGhlIHN0eWxlc2hlZXRzIHdoZW4gdGhleSdyZSByZWZlcmVuY2VkIGJlZm9yZSB0aGlzIHNjcmlwdCwgYXMgd2UnZCByZWNvbW1lbmQgZG9pbmcuDQovLyBUaGlzIHNpbXBseSByZWFwcGVuZHMgdGhlIENTUyBpbiBwbGFjZSwgd2hpY2ggZm9yIHNvbWUgcmVhc29uIG1ha2VzIGl0IGFwcGx5DQppZiAoIG5va2lhTFRFN18zICkgew0KCSQoZnVuY3Rpb24oKSB7DQoJCSQoICJoZWFkIGxpbmtbcmVsPSdzdHlsZXNoZWV0J10iICkuYXR0ciggInJlbCIsICJhbHRlcm5hdGUgc3R5bGVzaGVldCIgKS5hdHRyKCAicmVsIiwgInN0eWxlc2hlZXQiICk7DQoJfSk7DQp9DQoNCi8vIEZvciBydWxpbmcgb3V0IHNoYWRvd3MgdmlhIGNzcw0KaWYgKCAhJC5zdXBwb3J0LmJveFNoYWRvdyApIHsNCgkkKCAiaHRtbCIgKS5hZGRDbGFzcyggInVpLW1vYmlsZS1ub3N1cHBvcnQtYm94c2hhZG93IiApOw0KfQ0KDQp9KSggalF1ZXJ5ICk7DQovKg0KKiAibW91c2UiIHBsdWdpbg0KKi8NCg0KLy8gVGhpcyBwbHVnaW4gaXMgYW4gZXhwZXJpbWVudCBmb3IgYWJzdHJhY3RpbmcgYXdheSB0aGUgdG91Y2ggYW5kIG1vdXNlDQovLyBldmVudHMgc28gdGhhdCBkZXZlbG9wZXJzIGRvbid0IGhhdmUgdG8gd29ycnkgYWJvdXQgd2hpY2ggbWV0aG9kIG9mIGlucHV0DQovLyB0aGUgZGV2aWNlIHRoZWlyIGRvY3VtZW50IGlzIGxvYWRlZCBvbiBzdXBwb3J0cy4NCi8vDQovLyBUaGUgaWRlYSBoZXJlIGlzIHRvIGFsbG93IHRoZSBkZXZlbG9wZXIgdG8gcmVnaXN0ZXIgbGlzdGVuZXJzIGZvciB0aGUNCi8vIGJhc2ljIG1vdXNlIGV2ZW50cywgc3VjaCBhcyBtb3VzZWRvd24sIG1vdXNlbW92ZSwgbW91c2V1cCwgYW5kIGNsaWNrLA0KLy8gYW5kIHRoZSBwbHVnaW4gd2lsbCB0YWtlIGNhcmUgb2YgcmVnaXN0ZXJpbmcgdGhlIGNvcnJlY3QgbGlzdGVuZXJzDQovLyBiZWhpbmQgdGhlIHNjZW5lcyB0byBpbnZva2UgdGhlIGxpc3RlbmVyIGF0IHRoZSBmYXN0ZXN0IHBvc3NpYmxlIHRpbWUNCi8vIGZvciB0aGF0IGRldmljZSwgd2hpbGUgc3RpbGwgcmV0YWluaW5nIHRoZSBvcmRlciBvZiBldmVudCBmaXJpbmcgaW4NCi8vIHRoZSB0cmFkaXRpb25hbCBtb3VzZSBlbnZpcm9ubWVudCwgc2hvdWxkIG11bHRpcGxlIGhhbmRsZXJzIGJlIHJlZ2lzdGVyZWQNCi8vIG9uIHRoZSBzYW1lIGVsZW1lbnQgZm9yIGRpZmZlcmVudCBldmVudHMuDQovLw0KLy8gVGhlIGN1cnJlbnQgdmVyc2lvbiBleHBvc2VzIHRoZSBmb2xsb3dpbmcgdmlydHVhbCBldmVudHMgdG8galF1ZXJ5IGJpbmQgbWV0aG9kczoNCi8vICJ2bW91c2VvdmVyIHZtb3VzZWRvd24gdm1vdXNlbW92ZSB2bW91c2V1cCB2Y2xpY2sgdm1vdXNlb3V0IHZtb3VzZWNhbmNlbCINCg0KKGZ1bmN0aW9uKCAkLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7DQoNCnZhciBkYXRhUHJvcGVydHlOYW1lID0gInZpcnR1YWxNb3VzZUJpbmRpbmdzIiwNCgl0b3VjaFRhcmdldFByb3BlcnR5TmFtZSA9ICJ2aXJ0dWFsVG91Y2hJRCIsDQoJdmlydHVhbEV2ZW50TmFtZXMgPSAidm1vdXNlb3ZlciB2bW91c2Vkb3duIHZtb3VzZW1vdmUgdm1vdXNldXAgdmNsaWNrIHZtb3VzZW91dCB2bW91c2VjYW5jZWwiLnNwbGl0KCAiICIgKSwNCgl0b3VjaEV2ZW50UHJvcHMgPSAiY2xpZW50WCBjbGllbnRZIHBhZ2VYIHBhZ2VZIHNjcmVlblggc2NyZWVuWSIuc3BsaXQoICIgIiApLA0KCWFjdGl2ZURvY0hhbmRsZXJzID0ge30sDQoJcmVzZXRUaW1lcklEID0gMCwNCglzdGFydFggPSAwLA0KCXN0YXJ0WSA9IDAsDQoJZGlkU2Nyb2xsID0gZmFsc2UsDQoJY2xpY2tCbG9ja0xpc3QgPSBbXSwNCglibG9ja01vdXNlVHJpZ2dlcnMgPSBmYWxzZSwNCglibG9ja1RvdWNoVHJpZ2dlcnMgPSBmYWxzZSwNCglldmVudENhcHR1cmVTdXBwb3J0ZWQgPSAiYWRkRXZlbnRMaXN0ZW5lciIgaW4gZG9jdW1lbnQsDQoJJGRvY3VtZW50ID0gJCggZG9jdW1lbnQgKSwNCgluZXh0VG91Y2hJRCA9IDEsDQoJbGFzdFRvdWNoSUQgPSAwOw0KDQokLnZtb3VzZSA9IHsNCgltb3ZlRGlzdGFuY2VUaHJlc2hvbGQ6IDEwLA0KCWNsaWNrRGlzdGFuY2VUaHJlc2hvbGQ6IDEwLA0KCXJlc2V0VGltZXJEdXJhdGlvbjogMTUwMA0KfTsNCg0KZnVuY3Rpb24gZ2V0TmF0aXZlRXZlbnQoIGV2ZW50ICkgew0KDQoJd2hpbGUgKCBldmVudCAmJiB0eXBlb2YgZXZlbnQub3JpZ2luYWxFdmVudCAhPT0gInVuZGVmaW5lZCIgKSB7DQoJCWV2ZW50ID0gZXZlbnQub3JpZ2luYWxFdmVudDsNCgl9DQoJcmV0dXJuIGV2ZW50Ow0KfQ0KDQpmdW5jdGlvbiBjcmVhdGVWaXJ0dWFsRXZlbnQoIGV2ZW50LCBldmVudFR5cGUgKSB7DQoNCgl2YXIgdCA9IGV2ZW50LnR5cGUsDQoJCW9lLCBwcm9wcywgbmUsIHByb3AsIGN0LCB0b3VjaCwgaSwgajsNCg0KCWV2ZW50ID0gJC5FdmVudChldmVudCk7DQoJZXZlbnQudHlwZSA9IGV2ZW50VHlwZTsNCg0KCW9lID0gZXZlbnQub3JpZ2luYWxFdmVudDsNCglwcm9wcyA9ICQuZXZlbnQucHJvcHM7DQoNCgkvLyBjb3B5IG9yaWdpbmFsIGV2ZW50IHByb3BlcnRpZXMgb3ZlciB0byB0aGUgbmV3IGV2ZW50DQoJLy8gdGhpcyB3b3VsZCBoYXBwZW4gaWYgd2UgY291bGQgY2FsbCAkLmV2ZW50LmZpeCBpbnN0ZWFkIG9mICQuRXZlbnQNCgkvLyBidXQgd2UgZG9uJ3QgaGF2ZSBhIHdheSB0byBmb3JjZSBhbiBldmVudCB0byBiZSBmaXhlZCBtdWx0aXBsZSB0aW1lcw0KCWlmICggb2UgKSB7DQoJCWZvciAoIGkgPSBwcm9wcy5sZW5ndGgsIHByb3A7IGk7ICkgew0KCQkJcHJvcCA9IHByb3BzWyAtLWkgXTsNCgkJCWV2ZW50WyBwcm9wIF0gPSBvZVsgcHJvcCBdOw0KCQl9DQoJfQ0KDQoJLy8gbWFrZSBzdXJlIHRoYXQgaWYgdGhlIG1vdXNlIGFuZCBjbGljayB2aXJ0dWFsIGV2ZW50cyBhcmUgZ2VuZXJhdGVkDQoJLy8gd2l0aG91dCBhIC53aGljaCBvbmUgaXMgZGVmaW5lZA0KCWlmICggdC5zZWFyY2goL21vdXNlKGRvd258dXApfGNsaWNrLykgPiAtMSAmJiAhZXZlbnQud2hpY2ggKXsNCgkJZXZlbnQud2hpY2ggPSAxOw0KCX0NCg0KCWlmICggdC5zZWFyY2goL150b3VjaC8pICE9PSAtMSApIHsNCgkJbmUgPSBnZXROYXRpdmVFdmVudCggb2UgKTsNCgkJdCA9IG5lLnRvdWNoZXM7DQoJCWN0ID0gbmUuY2hhbmdlZFRvdWNoZXM7DQoJCXRvdWNoID0gKCB0ICYmIHQubGVuZ3RoICkgPyB0WzBdIDogKCAoY3QgJiYgY3QubGVuZ3RoKSA/IGN0WyAwIF0gOiB1bmRlZmluZWQgKTsNCg0KCQlpZiAoIHRvdWNoICkgew0KCQkJZm9yICggaiA9IDAsIGxlbiA9IHRvdWNoRXZlbnRQcm9wcy5sZW5ndGg7IGogPCBsZW47IGorKyl7DQoJCQkJcHJvcCA9IHRvdWNoRXZlbnRQcm9wc1sgaiBdOw0KCQkJCWV2ZW50WyBwcm9wIF0gPSB0b3VjaFsgcHJvcCBdOw0KCQkJfQ0KCQl9DQoJfQ0KDQoJcmV0dXJuIGV2ZW50Ow0KfQ0KDQpmdW5jdGlvbiBnZXRWaXJ0dWFsQmluZGluZ0ZsYWdzKCBlbGVtZW50ICkgew0KDQoJdmFyIGZsYWdzID0ge30sDQoJCWIsIGs7DQoNCgl3aGlsZSAoIGVsZW1lbnQgKSB7DQoNCgkJYiA9ICQuZGF0YSggZWxlbWVudCwgZGF0YVByb3BlcnR5TmFtZSApOw0KDQoJCWZvciAoICBrIGluIGIgKSB7DQoJCQlpZiAoIGJbIGsgXSApIHsNCgkJCQlmbGFnc1sgayBdID0gZmxhZ3MuaGFzVmlydHVhbEJpbmRpbmcgPSB0cnVlOw0KCQkJfQ0KCQl9DQoJCWVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7DQoJfQ0KCXJldHVybiBmbGFnczsNCn0NCg0KZnVuY3Rpb24gZ2V0Q2xvc2VzdEVsZW1lbnRXaXRoVmlydHVhbEJpbmRpbmcoIGVsZW1lbnQsIGV2ZW50VHlwZSApIHsNCgl2YXIgYjsNCgl3aGlsZSAoIGVsZW1lbnQgKSB7DQoNCgkJYiA9ICQuZGF0YSggZWxlbWVudCwgZGF0YVByb3BlcnR5TmFtZSApOw0KDQoJCWlmICggYiAmJiAoICFldmVudFR5cGUgfHwgYlsgZXZlbnRUeXBlIF0gKSApIHsNCgkJCXJldHVybiBlbGVtZW50Ow0KCQl9DQoJCWVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7DQoJfQ0KCXJldHVybiBudWxsOw0KfQ0KDQpmdW5jdGlvbiBlbmFibGVUb3VjaEJpbmRpbmdzKCkgew0KCWJsb2NrVG91Y2hUcmlnZ2VycyA9IGZhbHNlOw0KfQ0KDQpmdW5jdGlvbiBkaXNhYmxlVG91Y2hCaW5kaW5ncygpIHsNCglibG9ja1RvdWNoVHJpZ2dlcnMgPSB0cnVlOw0KfQ0KDQpmdW5jdGlvbiBlbmFibGVNb3VzZUJpbmRpbmdzKCkgew0KCWxhc3RUb3VjaElEID0gMDsNCgljbGlja0Jsb2NrTGlzdC5sZW5ndGggPSAwOw0KCWJsb2NrTW91c2VUcmlnZ2VycyA9IGZhbHNlOw0KDQoJLy8gV2hlbiBtb3VzZSBiaW5kaW5ncyBhcmUgZW5hYmxlZCwgb3VyDQoJLy8gdG91Y2ggYmluZGluZ3MgYXJlIGRpc2FibGVkLg0KCWRpc2FibGVUb3VjaEJpbmRpbmdzKCk7DQp9DQoNCmZ1bmN0aW9uIGRpc2FibGVNb3VzZUJpbmRpbmdzKCkgew0KCS8vIFdoZW4gbW91c2UgYmluZGluZ3MgYXJlIGRpc2FibGVkLCBvdXINCgkvLyB0b3VjaCBiaW5kaW5ncyBhcmUgZW5hYmxlZC4NCgllbmFibGVUb3VjaEJpbmRpbmdzKCk7DQp9DQoNCmZ1bmN0aW9uIHN0YXJ0UmVzZXRUaW1lcigpIHsNCgljbGVhclJlc2V0VGltZXIoKTsNCglyZXNldFRpbWVySUQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7DQoJCXJlc2V0VGltZXJJRCA9IDA7DQoJCWVuYWJsZU1vdXNlQmluZGluZ3MoKTsNCgl9LCAkLnZtb3VzZS5yZXNldFRpbWVyRHVyYXRpb24gKTsNCn0NCg0KZnVuY3Rpb24gY2xlYXJSZXNldFRpbWVyKCkgew0KCWlmICggcmVzZXRUaW1lcklEICl7DQoJCWNsZWFyVGltZW91dCggcmVzZXRUaW1lcklEICk7DQoJCXJlc2V0VGltZXJJRCA9IDA7DQoJfQ0KfQ0KDQpmdW5jdGlvbiB0cmlnZ2VyVmlydHVhbEV2ZW50KCBldmVudFR5cGUsIGV2ZW50LCBmbGFncyApIHsNCgl2YXIgdmU7DQoNCglpZiAoICggZmxhZ3MgJiYgZmxhZ3NbIGV2ZW50VHlwZSBdICkgfHwNCgkJCQkoICFmbGFncyAmJiBnZXRDbG9zZXN0RWxlbWVudFdpdGhWaXJ0dWFsQmluZGluZyggZXZlbnQudGFyZ2V0LCBldmVudFR5cGUgKSApICkgew0KDQoJCXZlID0gY3JlYXRlVmlydHVhbEV2ZW50KCBldmVudCwgZXZlbnRUeXBlICk7DQoNCgkJJCggZXZlbnQudGFyZ2V0KS50cmlnZ2VyKCB2ZSApOw0KCX0NCg0KCXJldHVybiB2ZTsNCn0NCg0KZnVuY3Rpb24gbW91c2VFdmVudENhbGxiYWNrKCBldmVudCApIHsNCgl2YXIgdG91Y2hJRCA9ICQuZGF0YShldmVudC50YXJnZXQsIHRvdWNoVGFyZ2V0UHJvcGVydHlOYW1lKTsNCg0KCWlmICggIWJsb2NrTW91c2VUcmlnZ2VycyAmJiAoICFsYXN0VG91Y2hJRCB8fCBsYXN0VG91Y2hJRCAhPT0gdG91Y2hJRCApICl7DQoJCXZhciB2ZSA9IHRyaWdnZXJWaXJ0dWFsRXZlbnQoICJ2IiArIGV2ZW50LnR5cGUsIGV2ZW50ICk7DQoJCWlmICggdmUgKSB7DQoJCQlpZiAoIHZlLmlzRGVmYXVsdFByZXZlbnRlZCgpICkgew0KCQkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7DQoJCQl9DQoJCQlpZiAoIHZlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7DQoJCQkJZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7DQoJCQl9DQoJCQlpZiAoIHZlLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7DQoJCQkJZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7DQoJCQl9DQoJCX0NCgl9DQp9DQoNCmZ1bmN0aW9uIGhhbmRsZVRvdWNoU3RhcnQoIGV2ZW50ICkgew0KDQoJdmFyIHRvdWNoZXMgPSBnZXROYXRpdmVFdmVudCggZXZlbnQgKS50b3VjaGVzLA0KCQl0YXJnZXQsIGZsYWdzOw0KDQoJaWYgKCB0b3VjaGVzICYmIHRvdWNoZXMubGVuZ3RoID09PSAxICkgew0KDQoJCXRhcmdldCA9IGV2ZW50LnRhcmdldDsNCgkJZmxhZ3MgPSBnZXRWaXJ0dWFsQmluZGluZ0ZsYWdzKCB0YXJnZXQgKTsNCg0KCQlpZiAoIGZsYWdzLmhhc1ZpcnR1YWxCaW5kaW5nICkgew0KDQoJCQlsYXN0VG91Y2hJRCA9IG5leHRUb3VjaElEKys7DQoJCQkkLmRhdGEoIHRhcmdldCwgdG91Y2hUYXJnZXRQcm9wZXJ0eU5hbWUsIGxhc3RUb3VjaElEICk7DQoNCgkJCWNsZWFyUmVzZXRUaW1lcigpOw0KDQoJCQlkaXNhYmxlTW91c2VCaW5kaW5ncygpOw0KCQkJZGlkU2Nyb2xsID0gZmFsc2U7DQoNCgkJCXZhciB0ID0gZ2V0TmF0aXZlRXZlbnQoIGV2ZW50ICkudG91Y2hlc1sgMCBdOw0KCQkJc3RhcnRYID0gdC5wYWdlWDsNCgkJCXN0YXJ0WSA9IHQucGFnZVk7DQoNCgkJCXRyaWdnZXJWaXJ0dWFsRXZlbnQoICJ2bW91c2VvdmVyIiwgZXZlbnQsIGZsYWdzICk7DQoJCQl0cmlnZ2VyVmlydHVhbEV2ZW50KCAidm1vdXNlZG93biIsIGV2ZW50LCBmbGFncyApOw0KCQl9DQoJfQ0KfQ0KDQpmdW5jdGlvbiBoYW5kbGVTY3JvbGwoIGV2ZW50ICkgew0KCWlmICggYmxvY2tUb3VjaFRyaWdnZXJzICkgew0KCQlyZXR1cm47DQoJfQ0KDQoJaWYgKCAhZGlkU2Nyb2xsICkgew0KCQl0cmlnZ2VyVmlydHVhbEV2ZW50KCAidm1vdXNlY2FuY2VsIiwgZXZlbnQsIGdldFZpcnR1YWxCaW5kaW5nRmxhZ3MoIGV2ZW50LnRhcmdldCApICk7DQoJfQ0KDQoJZGlkU2Nyb2xsID0gdHJ1ZTsNCglzdGFydFJlc2V0VGltZXIoKTsNCn0NCg0KZnVuY3Rpb24gaGFuZGxlVG91Y2hNb3ZlKCBldmVudCApIHsNCglpZiAoIGJsb2NrVG91Y2hUcmlnZ2VycyApIHsNCgkJcmV0dXJuOw0KCX0NCg0KCXZhciB0ID0gZ2V0TmF0aXZlRXZlbnQoIGV2ZW50ICkudG91Y2hlc1sgMCBdLA0KCQlkaWRDYW5jZWwgPSBkaWRTY3JvbGwsDQoJCW1vdmVUaHJlc2hvbGQgPSAkLnZtb3VzZS5tb3ZlRGlzdGFuY2VUaHJlc2hvbGQ7DQoJCWRpZFNjcm9sbCA9IGRpZFNjcm9sbCB8fA0KCQkJKCBNYXRoLmFicyh0LnBhZ2VYIC0gc3RhcnRYKSA+IG1vdmVUaHJlc2hvbGQgfHwNCgkJCQlNYXRoLmFicyh0LnBhZ2VZIC0gc3RhcnRZKSA+IG1vdmVUaHJlc2hvbGQgKSwNCgkJZmxhZ3MgPSBnZXRWaXJ0dWFsQmluZGluZ0ZsYWdzKCBldmVudC50YXJnZXQgKTsNCg0KCWlmICggZGlkU2Nyb2xsICYmICFkaWRDYW5jZWwgKSB7DQoJCXRyaWdnZXJWaXJ0dWFsRXZlbnQoICJ2bW91c2VjYW5jZWwiLCBldmVudCwgZmxhZ3MgKTsNCgl9DQoNCgl0cmlnZ2VyVmlydHVhbEV2ZW50KCAidm1vdXNlbW92ZSIsIGV2ZW50LCBmbGFncyApOw0KCXN0YXJ0UmVzZXRUaW1lcigpOw0KfQ0KDQpmdW5jdGlvbiBoYW5kbGVUb3VjaEVuZCggZXZlbnQgKSB7DQoJaWYgKCBibG9ja1RvdWNoVHJpZ2dlcnMgKSB7DQoJCXJldHVybjsNCgl9DQoNCglkaXNhYmxlVG91Y2hCaW5kaW5ncygpOw0KDQoJdmFyIGZsYWdzID0gZ2V0VmlydHVhbEJpbmRpbmdGbGFncyggZXZlbnQudGFyZ2V0ICksDQoJCXQ7DQoJdHJpZ2dlclZpcnR1YWxFdmVudCggInZtb3VzZXVwIiwgZXZlbnQsIGZsYWdzICk7DQoNCglpZiAoICFkaWRTY3JvbGwgKSB7DQoJCXZhciB2ZSA9IHRyaWdnZXJWaXJ0dWFsRXZlbnQoICJ2Y2xpY2siLCBldmVudCwgZmxhZ3MgKTsNCgkJaWYgKCB2ZSAmJiB2ZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSApIHsNCgkJCS8vIFRoZSB0YXJnZXQgb2YgdGhlIG1vdXNlIGV2ZW50cyB0aGF0IGZvbGxvdyB0aGUgdG91Y2hlbmQNCgkJCS8vIGV2ZW50IGRvbid0IG5lY2Vzc2FyaWx5IG1hdGNoIHRoZSB0YXJnZXQgdXNlZCBkdXJpbmcgdGhlDQoJCQkvLyB0b3VjaC4gVGhpcyBtZWFucyB3ZSBuZWVkIHRvIHJlbHkgb24gY29vcmRpbmF0ZXMgZm9yIGJsb2NraW5nDQoJCQkvLyBhbnkgY2xpY2sgdGhhdCBpcyBnZW5lcmF0ZWQuDQoJCQl0ID0gZ2V0TmF0aXZlRXZlbnQoIGV2ZW50ICkuY2hhbmdlZFRvdWNoZXNbIDAgXTsNCgkJCWNsaWNrQmxvY2tMaXN0LnB1c2goew0KCQkJCXRvdWNoSUQ6IGxhc3RUb3VjaElELA0KCQkJCXg6IHQuY2xpZW50WCwNCgkJCQl5OiB0LmNsaWVudFkNCgkJCX0pOw0KDQoJCQkvLyBQcmV2ZW50IGFueSBtb3VzZSBldmVudHMgdGhhdCBmb2xsb3cgZnJvbSB0cmlnZ2VyaW5nDQoJCQkvLyB2aXJ0dWFsIGV2ZW50IG5vdGlmaWNhdGlvbnMuDQoJCQlibG9ja01vdXNlVHJpZ2dlcnMgPSB0cnVlOw0KCQl9DQoJfQ0KCXRyaWdnZXJWaXJ0dWFsRXZlbnQoICJ2bW91c2VvdXQiLCBldmVudCwgZmxhZ3MpOw0KCWRpZFNjcm9sbCA9IGZhbHNlOw0KDQoJc3RhcnRSZXNldFRpbWVyKCk7DQp9DQoNCmZ1bmN0aW9uIGhhc1ZpcnR1YWxCaW5kaW5ncyggZWxlICkgew0KCXZhciBiaW5kaW5ncyA9ICQuZGF0YSggZWxlLCBkYXRhUHJvcGVydHlOYW1lICksDQoJCWs7DQoNCglpZiAoIGJpbmRpbmdzICkgew0KCQlmb3IgKCBrIGluIGJpbmRpbmdzICkgew0KCQkJaWYgKCBiaW5kaW5nc1sgayBdICkgew0KCQkJCXJldHVybiB0cnVlOw0KCQkJfQ0KCQl9DQoJfQ0KCXJldHVybiBmYWxzZTsNCn0NCg0KZnVuY3Rpb24gZHVtbXlNb3VzZUhhbmRsZXIoKXt9DQoNCmZ1bmN0aW9uIGdldFNwZWNpYWxFdmVudE9iamVjdCggZXZlbnRUeXBlICkgew0KCXZhciByZWFsVHlwZSA9IGV2ZW50VHlwZS5zdWJzdHIoIDEgKTsNCg0KCXJldHVybiB7DQoJCXNldHVwOiBmdW5jdGlvbiggZGF0YSwgbmFtZXNwYWNlICkgew0KCQkJLy8gSWYgdGhpcyBpcyB0aGUgZmlyc3QgdmlydHVhbCBtb3VzZSBiaW5kaW5nIGZvciB0aGlzIGVsZW1lbnQsDQoJCQkvLyBhZGQgYSBiaW5kaW5ncyBvYmplY3QgdG8gaXRzIGRhdGEuDQoNCgkJCWlmICggIWhhc1ZpcnR1YWxCaW5kaW5ncyggdGhpcyApICkgew0KCQkJCSQuZGF0YSggdGhpcywgZGF0YVByb3BlcnR5TmFtZSwge30pOw0KCQkJfQ0KDQoJCQkvLyBJZiBzZXR1cCBpcyBjYWxsZWQsIHdlIGtub3cgaXQgaXMgdGhlIGZpcnN0IGJpbmRpbmcgZm9yIHRoaXMNCgkJCS8vIGV2ZW50VHlwZSwgc28gaW5pdGlhbGl6ZSB0aGUgY291bnQgZm9yIHRoZSBldmVudFR5cGUgdG8gemVyby4NCgkJCXZhciBiaW5kaW5ncyA9ICQuZGF0YSggdGhpcywgZGF0YVByb3BlcnR5TmFtZSApOw0KCQkJYmluZGluZ3NbIGV2ZW50VHlwZSBdID0gdHJ1ZTsNCg0KCQkJLy8gSWYgdGhpcyBpcyB0aGUgZmlyc3QgdmlydHVhbCBtb3VzZSBldmVudCBmb3IgdGhpcyB0eXBlLA0KCQkJLy8gcmVnaXN0ZXIgYSBnbG9iYWwgaGFuZGxlciBvbiB0aGUgZG9jdW1lbnQuDQoNCgkJCWFjdGl2ZURvY0hhbmRsZXJzWyBldmVudFR5cGUgXSA9ICggYWN0aXZlRG9jSGFuZGxlcnNbIGV2ZW50VHlwZSBdIHx8IDAgKSArIDE7DQoNCgkJCWlmICggYWN0aXZlRG9jSGFuZGxlcnNbIGV2ZW50VHlwZSBdID09PSAxICkgew0KCQkJCSRkb2N1bWVudC5iaW5kKCByZWFsVHlwZSwgbW91c2VFdmVudENhbGxiYWNrICk7DQoJCQl9DQoNCgkJCS8vIFNvbWUgYnJvd3NlcnMsIGxpa2UgT3BlcmEgTWluaSwgd29uJ3QgZGlzcGF0Y2ggbW91c2UvY2xpY2sgZXZlbnRzDQoJCQkvLyBmb3IgZWxlbWVudHMgdW5sZXNzIHRoZXkgYWN0dWFsbHkgaGF2ZSBoYW5kbGVycyByZWdpc3RlcmVkIG9uIHRoZW0uDQoJCQkvLyBUbyBnZXQgYXJvdW5kIHRoaXMsIHdlIHJlZ2lzdGVyIGR1bW15IGhhbmRsZXJzIG9uIHRoZSBlbGVtZW50cy4NCg0KCQkJJCggdGhpcyApLmJpbmQoIHJlYWxUeXBlLCBkdW1teU1vdXNlSGFuZGxlciApOw0KDQoJCQkvLyBGb3Igbm93LCBpZiBldmVudCBjYXB0dXJlIGlzIG5vdCBzdXBwb3J0ZWQsIHdlIHJlbHkgb24gbW91c2UgaGFuZGxlcnMuDQoJCQlpZiAoIGV2ZW50Q2FwdHVyZVN1cHBvcnRlZCApIHsNCgkJCQkvLyBJZiB0aGlzIGlzIHRoZSBmaXJzdCB2aXJ0dWFsIG1vdXNlIGJpbmRpbmcgZm9yIHRoZSBkb2N1bWVudCwNCgkJCQkvLyByZWdpc3RlciBvdXIgdG91Y2hzdGFydCBoYW5kbGVyIG9uIHRoZSBkb2N1bWVudC4NCg0KCQkJCWFjdGl2ZURvY0hhbmRsZXJzWyAidG91Y2hzdGFydCIgXSA9ICggYWN0aXZlRG9jSGFuZGxlcnNbICJ0b3VjaHN0YXJ0IiBdIHx8IDApICsgMTsNCg0KCQkJCWlmIChhY3RpdmVEb2NIYW5kbGVyc1sgInRvdWNoc3RhcnQiIF0gPT09IDEpIHsNCgkJCQkJJGRvY3VtZW50LmJpbmQoICJ0b3VjaHN0YXJ0IiwgaGFuZGxlVG91Y2hTdGFydCApDQoJCQkJCQkuYmluZCggInRvdWNoZW5kIiwgaGFuZGxlVG91Y2hFbmQgKQ0KDQoJCQkJCQkvLyBPbiB0b3VjaCBwbGF0Zm9ybXMsIHRvdWNoaW5nIHRoZSBzY3JlZW4gYW5kIHRoZW4gZHJhZ2dpbmcgeW91ciBmaW5nZXINCgkJCQkJCS8vIGNhdXNlcyB0aGUgd2luZG93IGNvbnRlbnQgdG8gc2Nyb2xsIGFmdGVyIHNvbWUgZGlzdGFuY2UgdGhyZXNob2xkIGlzDQoJCQkJCQkvLyBleGNlZWRlZC4gT24gdGhlc2UgcGxhdGZvcm1zLCBhIHNjcm9sbCBwcmV2ZW50cyBhIGNsaWNrIGV2ZW50IGZyb20gYmVpbmcNCgkJCQkJCS8vIGRpc3BhdGNoZWQsIGFuZCBvbiBzb21lIHBsYXRmb3JtcywgZXZlbiB0aGUgdG91Y2hlbmQgaXMgc3VwcHJlc3NlZC4gVG8NCgkJCQkJCS8vIG1pbWljIHRoZSBzdXBwcmVzc2lvbiBvZiB0aGUgY2xpY2sgZXZlbnQsIHdlIG5lZWQgdG8gd2F0Y2ggZm9yIGEgc2Nyb2xsDQoJCQkJCQkvLyBldmVudC4gVW5mb3J0dW5hdGVseSwgc29tZSBwbGF0Zm9ybXMgbGlrZSBpT1MgZG9uJ3QgZGlzcGF0Y2ggc2Nyb2xsDQoJCQkJCQkvLyBldmVudHMgdW50aWwgKkFGVEVSKiB0aGUgdXNlciBsaWZ0cyB0aGVpciBmaW5nZXIgKHRvdWNoZW5kKS4gVGhpcyBtZWFucw0KCQkJCQkJLy8gd2UgbmVlZCB0byB3YXRjaCBib3RoIHNjcm9sbCBhbmQgdG91Y2htb3ZlIGV2ZW50cyB0byBmaWd1cmUgb3V0IHdoZXRoZXINCgkJCQkJCS8vIG9yIG5vdCBhIHNjcm9sbCBoYXBwZW5lbnMgYmVmb3JlIHRoZSB0b3VjaGVuZCBldmVudCBpcyBmaXJlZC4NCg0KCQkJCQkJLmJpbmQoICJ0b3VjaG1vdmUiLCBoYW5kbGVUb3VjaE1vdmUgKQ0KCQkJCQkJLmJpbmQoICJzY3JvbGwiLCBoYW5kbGVTY3JvbGwgKTsNCgkJCQl9DQoJCQl9DQoJCX0sDQoNCgkJdGVhcmRvd246IGZ1bmN0aW9uKCBkYXRhLCBuYW1lc3BhY2UgKSB7DQoJCQkvLyBJZiB0aGlzIGlzIHRoZSBsYXN0IHZpcnR1YWwgYmluZGluZyBmb3IgdGhpcyBldmVudFR5cGUsDQoJCQkvLyByZW1vdmUgaXRzIGdsb2JhbCBoYW5kbGVyIGZyb20gdGhlIGRvY3VtZW50Lg0KDQoJCQktLWFjdGl2ZURvY0hhbmRsZXJzWyBldmVudFR5cGUgXTsNCg0KCQkJaWYgKCAhYWN0aXZlRG9jSGFuZGxlcnNbIGV2ZW50VHlwZSBdICkgew0KCQkJCSRkb2N1bWVudC51bmJpbmQoIHJlYWxUeXBlLCBtb3VzZUV2ZW50Q2FsbGJhY2sgKTsNCgkJCX0NCg0KCQkJaWYgKCBldmVudENhcHR1cmVTdXBwb3J0ZWQgKSB7DQoJCQkJLy8gSWYgdGhpcyBpcyB0aGUgbGFzdCB2aXJ0dWFsIG1vdXNlIGJpbmRpbmcgaW4gZXhpc3RlbmNlLA0KCQkJCS8vIHJlbW92ZSBvdXIgZG9jdW1lbnQgdG91Y2hzdGFydCBsaXN0ZW5lci4NCg0KCQkJCS0tYWN0aXZlRG9jSGFuZGxlcnNbICJ0b3VjaHN0YXJ0IiBdOw0KDQoJCQkJaWYgKCAhYWN0aXZlRG9jSGFuZGxlcnNbICJ0b3VjaHN0YXJ0IiBdICkgew0KCQkJCQkkZG9jdW1lbnQudW5iaW5kKCAidG91Y2hzdGFydCIsIGhhbmRsZVRvdWNoU3RhcnQgKQ0KCQkJCQkJLnVuYmluZCggInRvdWNobW92ZSIsIGhhbmRsZVRvdWNoTW92ZSApDQoJCQkJCQkudW5iaW5kKCAidG91Y2hlbmQiLCBoYW5kbGVUb3VjaEVuZCApDQoJCQkJCQkudW5iaW5kKCAic2Nyb2xsIiwgaGFuZGxlU2Nyb2xsICk7DQoJCQkJfQ0KCQkJfQ0KDQoJCQl2YXIgJHRoaXMgPSAkKCB0aGlzICksDQoJCQkJYmluZGluZ3MgPSAkLmRhdGEoIHRoaXMsIGRhdGFQcm9wZXJ0eU5hbWUgKTsNCg0KCQkJLy8gdGVhcmRvd24gbWF5IGJlIGNhbGxlZCB3aGVuIGFuIGVsZW1lbnQgd2FzDQoJCQkvLyByZW1vdmVkIGZyb20gdGhlIERPTS4gSWYgdGhpcyBpcyB0aGUgY2FzZSwNCgkJCS8vIGpRdWVyeSBjb3JlIG1heSBoYXZlIGFscmVhZHkgc3RyaXBwZWQgdGhlIGVsZW1lbnQNCgkJCS8vIG9mIGFueSBkYXRhIGJpbmRpbmdzIHNvIHdlIG5lZWQgdG8gY2hlY2sgaXQgYmVmb3JlDQoJCQkvLyB1c2luZyBpdC4NCgkJCWlmICggYmluZGluZ3MgKSB7DQoJCQkJYmluZGluZ3NbIGV2ZW50VHlwZSBdID0gZmFsc2U7DQoJCQl9DQoNCgkJCS8vIFVucmVnaXN0ZXIgdGhlIGR1bW15IGV2ZW50IGhhbmRsZXIuDQoNCgkJCSR0aGlzLnVuYmluZCggcmVhbFR5cGUsIGR1bW15TW91c2VIYW5kbGVyICk7DQoNCgkJCS8vIElmIHRoaXMgaXMgdGhlIGxhc3QgdmlydHVhbCBtb3VzZSBiaW5kaW5nIG9uIHRoZQ0KCQkJLy8gZWxlbWVudCwgcmVtb3ZlIHRoZSBiaW5kaW5nIGRhdGEgZnJvbSB0aGUgZWxlbWVudC4NCg0KCQkJaWYgKCAhaGFzVmlydHVhbEJpbmRpbmdzKCB0aGlzICkgKSB7DQoJCQkJJHRoaXMucmVtb3ZlRGF0YSggZGF0YVByb3BlcnR5TmFtZSApOw0KCQkJfQ0KCQl9DQoJfTsNCn0NCg0KLy8gRXhwb3NlIG91ciBjdXN0b20gZXZlbnRzIHRvIHRoZSBqUXVlcnkgYmluZC91bmJpbmQgbWVjaGFuaXNtLg0KDQpmb3IgKCB2YXIgaSA9IDA7IGkgPCB2aXJ0dWFsRXZlbnROYW1lcy5sZW5ndGg7IGkrKyApew0KCSQuZXZlbnQuc3BlY2lhbFsgdmlydHVhbEV2ZW50TmFtZXNbIGkgXSBdID0gZ2V0U3BlY2lhbEV2ZW50T2JqZWN0KCB2aXJ0dWFsRXZlbnROYW1lc1sgaSBdICk7DQp9DQoNCi8vIEFkZCBhIGNhcHR1cmUgY2xpY2sgaGFuZGxlciB0byBibG9jayBjbGlja3MuDQovLyBOb3RlIHRoYXQgd2UgcmVxdWlyZSBldmVudCBjYXB0dXJlIHN1cHBvcnQgZm9yIHRoaXMgc28gaWYgdGhlIGRldmljZQ0KLy8gZG9lc24ndCBzdXBwb3J0IGl0LCB3ZSBwdW50IGZvciBub3cgYW5kIHJlbHkgc29sZWx5IG9uIG1vdXNlIGV2ZW50cy4NCmlmICggZXZlbnRDYXB0dXJlU3VwcG9ydGVkICkgew0KCWRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoICJjbGljayIsIGZ1bmN0aW9uKCBlICl7DQoJCXZhciBjbnQgPSBjbGlja0Jsb2NrTGlzdC5sZW5ndGgsDQoJCQl0YXJnZXQgPSBlLnRhcmdldCwNCgkJCXgsIHksIGVsZSwgaSwgbywgdG91Y2hJRDsNCg0KCQlpZiAoIGNudCApIHsNCgkJCXggPSBlLmNsaWVudFg7DQoJCQl5ID0gZS5jbGllbnRZOw0KCQkJdGhyZXNob2xkID0gJC52bW91c2UuY2xpY2tEaXN0YW5jZVRocmVzaG9sZDsNCg0KCQkJLy8gVGhlIGlkZWEgaGVyZSBpcyB0byBydW4gdGhyb3VnaCB0aGUgY2xpY2tCbG9ja0xpc3QgdG8gc2VlIGlmDQoJCQkvLyB0aGUgY3VycmVudCBjbGljayBldmVudCBpcyBpbiB0aGUgcHJveGltaXR5IG9mIG9uZSBvZiBvdXINCgkJCS8vIHZjbGljayBldmVudHMgdGhhdCBoYWQgcHJldmVudERlZmF1bHQoKSBjYWxsZWQgb24gaXQuIElmIHdlIGZpbmQNCgkJCS8vIG9uZSwgdGhlbiB3ZSBibG9jayB0aGUgY2xpY2suDQoJCQkvLw0KCQkJLy8gV2h5IGRvIHdlIGhhdmUgdG8gcmVseSBvbiBwcm94aW1pdHk/DQoJCQkvLw0KCQkJLy8gQmVjYXVzZSB0aGUgdGFyZ2V0IG9mIHRoZSB0b3VjaCBldmVudCB0aGF0IHRyaWdnZXJlZCB0aGUgdmNsaWNrDQoJCQkvLyBjYW4gYmUgZGlmZmVyZW50IGZyb20gdGhlIHRhcmdldCBvZiB0aGUgY2xpY2sgZXZlbnQgc3ludGhlc2l6ZWQNCgkJCS8vIGJ5IHRoZSBicm93c2VyLiBUaGUgdGFyZ2V0IG9mIGEgbW91c2UvY2xpY2sgZXZlbnQgdGhhdCBpcyBzeW50ZWhzaXplZA0KCQkJLy8gZnJvbSBhIHRvdWNoIGV2ZW50IHNlZW1zIHRvIGJlIGltcGxlbWVudGF0aW9uIHNwZWNpZmljLiBGb3IgZXhhbXBsZSwNCgkJCS8vIHNvbWUgYnJvd3NlcnMgd2lsbCBmaXJlIG1vdXNlL2NsaWNrIGV2ZW50cyBmb3IgYSBsaW5rIHRoYXQgaXMgbmVhcg0KCQkJLy8gYSB0b3VjaCBldmVudCwgZXZlbiB0aG91Z2ggdGhlIHRhcmdldCBvZiB0aGUgdG91Y2hzdGFydC90b3VjaGVuZCBldmVudA0KCQkJLy8gc2F5cyB0aGUgdXNlciB0b3VjaGVkIG91dHNpZGUgdGhlIGxpbmsuIEFsc28sIGl0IHNlZW1zIHRoYXQgd2l0aCBtb3N0DQoJCQkvLyBicm93c2VycywgdGhlIHRhcmdldCBvZiB0aGUgbW91c2UvY2xpY2sgZXZlbnQgaXMgbm90IGNhbGN1bGF0ZWQgdW50aWwgdGhlDQoJCQkvLyB0aW1lIGl0IGlzIGRpc3BhdGNoZWQsIHNvIGlmIHlvdSByZXBsYWNlIGFuIGVsZW1lbnQgdGhhdCB5b3UgdG91Y2hlZA0KCQkJLy8gd2l0aCBhbm90aGVyIGVsZW1lbnQsIHRoZSB0YXJnZXQgb2YgdGhlIG1vdXNlL2NsaWNrIHdpbGwgYmUgdGhlIG5ldw0KCQkJLy8gZWxlbWVudCB1bmRlcm5lYXRoIHRoYXQgcG9pbnQuDQoJCQkvLw0KCQkJLy8gQXNpZGUgZnJvbSBwcm94aW1pdHksIHdlIGFsc28gY2hlY2sgdG8gc2VlIGlmIHRoZSB0YXJnZXQgYW5kIGFueQ0KCQkJLy8gb2YgaXRzIGFuY2VzdG9ycyB3ZXJlIHRoZSBvbmVzIHRoYXQgYmxvY2tlZCBhIGNsaWNrLiBUaGlzIGlzIG5lY2Vzc2FyeQ0KCQkJLy8gYmVjYXVzZSBvZiB0aGUgc3RyYW5nZSBtb3VzZS9jbGljayB0YXJnZXQgY2FsY3VsYXRpb24gZG9uZSBpbiB0aGUNCgkJCS8vIEFuZHJvaWQgMi4xIGJyb3dzZXIsIHdoZXJlIGlmIHlvdSBjbGljayBvbiBhbiBlbGVtZW50LCBhbmQgdGhlcmUgaXMgYQ0KCQkJLy8gbW91c2UvY2xpY2sgaGFuZGxlciBvbiBvbmUgb2YgaXRzIGFuY2VzdG9ycywgdGhlIHRhcmdldCB3aWxsIGJlIHRoZQ0KCQkJLy8gaW5uZXJtb3N0IGNoaWxkIG9mIHRoZSB0b3VjaGVkIGVsZW1lbnQsIGV2ZW4gaWYgdGhhdCBjaGlsZCBpcyBubyB3aGVyZQ0KCQkJLy8gbmVhciB0aGUgcG9pbnQgb2YgdG91Y2guDQoNCgkJCWVsZSA9IHRhcmdldDsNCg0KCQkJd2hpbGUgKCBlbGUgKSB7DQoJCQkJZm9yICggaSA9IDA7IGkgPCBjbnQ7IGkrKyApIHsNCgkJCQkJbyA9IGNsaWNrQmxvY2tMaXN0WyBpIF07DQoJCQkJCXRvdWNoSUQgPSAwOw0KDQoJCQkJCWlmICggKCBlbGUgPT09IHRhcmdldCAmJiBNYXRoLmFicyggby54IC0geCApIDwgdGhyZXNob2xkICYmIE1hdGguYWJzKCBvLnkgLSB5ICkgPCB0aHJlc2hvbGQgKSB8fA0KCQkJCQkJCQkkLmRhdGEoIGVsZSwgdG91Y2hUYXJnZXRQcm9wZXJ0eU5hbWUgKSA9PT0gby50b3VjaElEICkgew0KCQkJCQkJLy8gWFhYOiBXZSBtYXkgd2FudCB0byBjb25zaWRlciByZW1vdmluZyBtYXRjaGVzIGZyb20gdGhlIGJsb2NrIGxpc3QNCgkJCQkJCS8vICAgICAgaW5zdGVhZCBvZiB3YWl0aW5nIGZvciB0aGUgcmVzZXQgdGltZXIgdG8gZmlyZS4NCgkJCQkJCWUucHJldmVudERlZmF1bHQoKTsNCgkJCQkJCWUuc3RvcFByb3BhZ2F0aW9uKCk7DQoJCQkJCQlyZXR1cm47DQoJCQkJCX0NCgkJCQl9DQoJCQkJZWxlID0gZWxlLnBhcmVudE5vZGU7DQoJCQl9DQoJCX0NCgl9LCB0cnVlKTsNCn0NCn0pKCBqUXVlcnksIHdpbmRvdywgZG9jdW1lbnQgKTsNCi8qIA0KKiAiZXZlbnRzIiBwbHVnaW4gLSBIYW5kbGVzIGV2ZW50cw0KKi8NCg0KKGZ1bmN0aW9uKCAkLCB3aW5kb3csIHVuZGVmaW5lZCApIHsNCg0KLy8gYWRkIG5ldyBldmVudCBzaG9ydGN1dHMNCiQuZWFjaCggKCAidG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgb3JpZW50YXRpb25jaGFuZ2UgdGhyb3R0bGVkcmVzaXplICIgKw0KCQkJCQkidGFwIHRhcGhvbGQgc3dpcGUgc3dpcGVsZWZ0IHN3aXBlcmlnaHQgc2Nyb2xsc3RhcnQgc2Nyb2xsc3RvcCIgKS5zcGxpdCggIiAiICksIGZ1bmN0aW9uKCBpLCBuYW1lICkgew0KDQoJJC5mblsgbmFtZSBdID0gZnVuY3Rpb24oIGZuICkgew0KCQlyZXR1cm4gZm4gPyB0aGlzLmJpbmQoIG5hbWUsIGZuICkgOiB0aGlzLnRyaWdnZXIoIG5hbWUgKTsNCgl9Ow0KDQoJJC5hdHRyRm5bIG5hbWUgXSA9IHRydWU7DQp9KTsNCg0KdmFyIHN1cHBvcnRUb3VjaCA9ICQuc3VwcG9ydC50b3VjaCwNCglzY3JvbGxFdmVudCA9ICJ0b3VjaG1vdmUgc2Nyb2xsIiwNCgl0b3VjaFN0YXJ0RXZlbnQgPSBzdXBwb3J0VG91Y2ggPyAidG91Y2hzdGFydCIgOiAibW91c2Vkb3duIiwNCgl0b3VjaFN0b3BFdmVudCA9IHN1cHBvcnRUb3VjaCA/ICJ0b3VjaGVuZCIgOiAibW91c2V1cCIsDQoJdG91Y2hNb3ZlRXZlbnQgPSBzdXBwb3J0VG91Y2ggPyAidG91Y2htb3ZlIiA6ICJtb3VzZW1vdmUiOw0KDQpmdW5jdGlvbiB0cmlnZ2VyQ3VzdG9tRXZlbnQoIG9iaiwgZXZlbnRUeXBlLCBldmVudCApIHsNCgl2YXIgb3JpZ2luYWxUeXBlID0gZXZlbnQudHlwZTsNCglldmVudC50eXBlID0gZXZlbnRUeXBlOw0KCSQuZXZlbnQuaGFuZGxlLmNhbGwoIG9iaiwgZXZlbnQgKTsNCglldmVudC50eXBlID0gb3JpZ2luYWxUeXBlOw0KfQ0KDQovLyBhbHNvIGhhbmRsZXMgc2Nyb2xsc3RvcA0KJC5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0ID0gew0KDQoJZW5hYmxlZDogdHJ1ZSwNCg0KCXNldHVwOiBmdW5jdGlvbigpIHsNCg0KCQl2YXIgdGhpc09iamVjdCA9IHRoaXMsDQoJCQkkdGhpcyA9ICQoIHRoaXNPYmplY3QgKSwNCgkJCXNjcm9sbGluZywNCgkJCXRpbWVyOw0KDQoJCWZ1bmN0aW9uIHRyaWdnZXIoIGV2ZW50LCBzdGF0ZSApIHsNCgkJCXNjcm9sbGluZyA9IHN0YXRlOw0KCQkJdHJpZ2dlckN1c3RvbUV2ZW50KCB0aGlzT2JqZWN0LCBzY3JvbGxpbmcgPyAic2Nyb2xsc3RhcnQiIDogInNjcm9sbHN0b3AiLCBldmVudCApOw0KCQl9DQoNCgkJLy8gaVBob25lIHRyaWdnZXJzIHNjcm9sbCBhZnRlciBhIHNtYWxsIGRlbGF5OyB1c2UgdG91Y2htb3ZlIGluc3RlYWQNCgkJJHRoaXMuYmluZCggc2Nyb2xsRXZlbnQsIGZ1bmN0aW9uKCBldmVudCApIHsNCg0KCQkJaWYgKCAhJC5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQgKSB7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KDQoJCQlpZiAoICFzY3JvbGxpbmcgKSB7DQoJCQkJdHJpZ2dlciggZXZlbnQsIHRydWUgKTsNCgkJCX0NCg0KCQkJY2xlYXJUaW1lb3V0KCB0aW1lciApOw0KCQkJdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgew0KCQkJCXRyaWdnZXIoIGV2ZW50LCBmYWxzZSApOw0KCQkJfSwgNTAgKTsNCgkJfSk7DQoJfQ0KfTsNCg0KLy8gYWxzbyBoYW5kbGVzIHRhcGhvbGQNCiQuZXZlbnQuc3BlY2lhbC50YXAgPSB7DQoJc2V0dXA6IGZ1bmN0aW9uKCkgew0KCQl2YXIgdGhpc09iamVjdCA9IHRoaXMsDQoJCQkkdGhpcyA9ICQoIHRoaXNPYmplY3QgKTsNCg0KCQkkdGhpcy5iaW5kKCAidm1vdXNlZG93biIsIGZ1bmN0aW9uKCBldmVudCApIHsNCg0KCQkJaWYgKCBldmVudC53aGljaCAmJiBldmVudC53aGljaCAhPT0gMSApIHsNCgkJCQlyZXR1cm4gZmFsc2U7DQoJCQl9DQoNCgkJCXZhciBvcmlnVGFyZ2V0ID0gZXZlbnQudGFyZ2V0LA0KCQkJCW9yaWdFdmVudCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQsDQoJCQkJdGltZXI7DQoNCgkJCWZ1bmN0aW9uIGNsZWFyVGFwVGltZXIoKSB7DQoJCQkJY2xlYXJUaW1lb3V0KCB0aW1lciApOw0KCQkJfQ0KDQoJCQlmdW5jdGlvbiBjbGVhclRhcEhhbmRsZXJzKCkgew0KCQkJCWNsZWFyVGFwVGltZXIoKTsNCg0KCQkJCSR0aGlzLnVuYmluZCggInZjbGljayIsIGNsaWNrSGFuZGxlciApDQoJCQkJCS51bmJpbmQoICJ2bW91c2V1cCIsIGNsZWFyVGFwVGltZXIgKQ0KCQkJCQkudW5iaW5kKCAidm1vdXNlY2FuY2VsIiwgY2xlYXJUYXBIYW5kbGVycyApOw0KCQkJfQ0KDQoJCQlmdW5jdGlvbiBjbGlja0hhbmRsZXIoZXZlbnQpIHsNCgkJCQljbGVhclRhcEhhbmRsZXJzKCk7DQoNCgkJCQkvLyBPTkxZIHRyaWdnZXIgYSAndGFwJyBldmVudCBpZiB0aGUgc3RhcnQgdGFyZ2V0IGlzDQoJCQkJLy8gdGhlIHNhbWUgYXMgdGhlIHN0b3AgdGFyZ2V0Lg0KCQkJCWlmICggb3JpZ1RhcmdldCA9PSBldmVudC50YXJnZXQgKSB7DQoJCQkJCXRyaWdnZXJDdXN0b21FdmVudCggdGhpc09iamVjdCwgInRhcCIsIGV2ZW50ICk7DQoJCQkJfQ0KCQkJfQ0KDQoJCQkkdGhpcy5iaW5kKCAidm1vdXNlY2FuY2VsIiwgY2xlYXJUYXBIYW5kbGVycyApDQoJCQkJLmJpbmQoICJ2bW91c2V1cCIsIGNsZWFyVGFwVGltZXIgKQ0KCQkJCS5iaW5kKCAidmNsaWNrIiwgY2xpY2tIYW5kbGVyICk7DQoNCgkJCXRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsNCgkJCQkJdHJpZ2dlckN1c3RvbUV2ZW50KCB0aGlzT2JqZWN0LCAidGFwaG9sZCIsICQuRXZlbnQoICJ0YXBob2xkIiApICk7DQoJCQl9LCA3NTAgKTsNCgkJfSk7DQoJfQ0KfTsNCg0KLy8gYWxzbyBoYW5kbGVzIHN3aXBlbGVmdCwgc3dpcGVyaWdodA0KJC5ldmVudC5zcGVjaWFsLnN3aXBlID0gew0KCXNjcm9sbFN1cHJlc3Npb25UaHJlc2hvbGQ6IDEwLCAvLyBNb3JlIHRoYW4gdGhpcyBob3Jpem9udGFsIGRpc3BsYWNlbWVudCwgYW5kIHdlIHdpbGwgc3VwcHJlc3Mgc2Nyb2xsaW5nLg0KDQoJZHVyYXRpb25UaHJlc2hvbGQ6IDEwMDAsIC8vIE1vcmUgdGltZSB0aGFuIHRoaXMsIGFuZCBpdCBpc24ndCBhIHN3aXBlLg0KDQoJaG9yaXpvbnRhbERpc3RhbmNlVGhyZXNob2xkOiAzMCwgIC8vIFN3aXBlIGhvcml6b250YWwgZGlzcGxhY2VtZW50IG11c3QgYmUgbW9yZSB0aGFuIHRoaXMuDQoNCgl2ZXJ0aWNhbERpc3RhbmNlVGhyZXNob2xkOiA3NSwgIC8vIFN3aXBlIHZlcnRpY2FsIGRpc3BsYWNlbWVudCBtdXN0IGJlIGxlc3MgdGhhbiB0aGlzLg0KDQoJc2V0dXA6IGZ1bmN0aW9uKCkgew0KCQl2YXIgdGhpc09iamVjdCA9IHRoaXMsDQoJCQkkdGhpcyA9ICQoIHRoaXNPYmplY3QgKTsNCg0KCQkkdGhpcy5iaW5kKCB0b3VjaFN0YXJ0RXZlbnQsIGZ1bmN0aW9uKCBldmVudCApIHsNCgkJCXZhciBkYXRhID0gZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzID8NCgkJCQkJCQkJZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzWyAwIF0gOiBldmVudCwNCgkJCQlzdGFydCA9IHsNCgkJCQkJdGltZTogKCBuZXcgRGF0ZSgpICkuZ2V0VGltZSgpLA0KCQkJCQljb29yZHM6IFsgZGF0YS5wYWdlWCwgZGF0YS5wYWdlWSBdLA0KCQkJCQlvcmlnaW46ICQoIGV2ZW50LnRhcmdldCApDQoJCQkJfSwNCgkJCQlzdG9wOw0KDQoJCQlmdW5jdGlvbiBtb3ZlSGFuZGxlciggZXZlbnQgKSB7DQoNCgkJCQlpZiAoICFzdGFydCApIHsNCgkJCQkJcmV0dXJuOw0KCQkJCX0NCg0KCQkJCXZhciBkYXRhID0gZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzID8NCgkJCQkJCWV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlc1sgMCBdIDogZXZlbnQ7DQoNCgkJCQlzdG9wID0gew0KCQkJCQl0aW1lOiAoIG5ldyBEYXRlKCkgKS5nZXRUaW1lKCksDQoJCQkJCWNvb3JkczogWyBkYXRhLnBhZ2VYLCBkYXRhLnBhZ2VZIF0NCgkJCQl9Ow0KDQoJCQkJLy8gcHJldmVudCBzY3JvbGxpbmcNCgkJCQlpZiAoIE1hdGguYWJzKCBzdGFydC5jb29yZHNbIDAgXSAtIHN0b3AuY29vcmRzWyAwIF0gKSA+ICQuZXZlbnQuc3BlY2lhbC5zd2lwZS5zY3JvbGxTdXByZXNzaW9uVGhyZXNob2xkICkgew0KCQkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOw0KCQkJCX0NCgkJCX0NCg0KCQkJJHRoaXMuYmluZCggdG91Y2hNb3ZlRXZlbnQsIG1vdmVIYW5kbGVyICkNCgkJCQkub25lKCB0b3VjaFN0b3BFdmVudCwgZnVuY3Rpb24oIGV2ZW50ICkgew0KCQkJCQkkdGhpcy51bmJpbmQoIHRvdWNoTW92ZUV2ZW50LCBtb3ZlSGFuZGxlciApOw0KDQoJCQkJCWlmICggc3RhcnQgJiYgc3RvcCApIHsNCgkJCQkJCWlmICggc3RvcC50aW1lIC0gc3RhcnQudGltZSA8ICQuZXZlbnQuc3BlY2lhbC5zd2lwZS5kdXJhdGlvblRocmVzaG9sZCAmJg0KCQkJCQkJCQlNYXRoLmFicyggc3RhcnQuY29vcmRzWyAwIF0gLSBzdG9wLmNvb3Jkc1sgMCBdICkgPiAkLmV2ZW50LnNwZWNpYWwuc3dpcGUuaG9yaXpvbnRhbERpc3RhbmNlVGhyZXNob2xkICYmDQoJCQkJCQkJCU1hdGguYWJzKCBzdGFydC5jb29yZHNbIDEgXSAtIHN0b3AuY29vcmRzWyAxIF0gKSA8ICQuZXZlbnQuc3BlY2lhbC5zd2lwZS52ZXJ0aWNhbERpc3RhbmNlVGhyZXNob2xkICkgew0KDQoJCQkJCQkJc3RhcnQub3JpZ2luLnRyaWdnZXIoICJzd2lwZSIgKQ0KCQkJCQkJCQkudHJpZ2dlciggc3RhcnQuY29vcmRzWzBdID4gc3RvcC5jb29yZHNbIDAgXSA/ICJzd2lwZWxlZnQiIDogInN3aXBlcmlnaHQiICk7DQoJCQkJCQl9DQoJCQkJCX0NCgkJCQkJc3RhcnQgPSBzdG9wID0gdW5kZWZpbmVkOw0KCQkJCX0pOw0KCQl9KTsNCgl9DQp9Ow0KDQooZnVuY3Rpb24oICQsIHdpbmRvdyApIHsNCgkvLyAiQ293Ym95IiBCZW4gQWxtYW4NCg0KCXZhciB3aW4gPSAkKCB3aW5kb3cgKSwNCgkJc3BlY2lhbF9ldmVudCwNCgkJZ2V0X29yaWVudGF0aW9uLA0KCQlsYXN0X29yaWVudGF0aW9uOw0KDQoJJC5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlID0gc3BlY2lhbF9ldmVudCA9IHsNCgkJc2V0dXA6IGZ1bmN0aW9uKCkgew0KCQkJLy8gSWYgdGhlIGV2ZW50IGlzIHN1cHBvcnRlZCBuYXRpdmVseSwgcmV0dXJuIGZhbHNlIHNvIHRoYXQgalF1ZXJ5DQoJCQkvLyB3aWxsIGJpbmQgdG8gdGhlIGV2ZW50IHVzaW5nIERPTSBtZXRob2RzLg0KCQkJaWYgKCAkLnN1cHBvcnQub3JpZW50YXRpb24gJiYgJC5tb2JpbGUub3JpZW50YXRpb25DaGFuZ2VFbmFibGVkICkgew0KCQkJCXJldHVybiBmYWxzZTsNCgkJCX0NCg0KCQkJLy8gR2V0IHRoZSBjdXJyZW50IG9yaWVudGF0aW9uIHRvIGF2b2lkIGluaXRpYWwgZG91YmxlLXRyaWdnZXJpbmcuDQoJCQlsYXN0X29yaWVudGF0aW9uID0gZ2V0X29yaWVudGF0aW9uKCk7DQoNCgkJCS8vIEJlY2F1c2UgdGhlIG9yaWVudGF0aW9uY2hhbmdlIGV2ZW50IGRvZXNuJ3QgZXhpc3QsIHNpbXVsYXRlIHRoZQ0KCQkJLy8gZXZlbnQgYnkgdGVzdGluZyB3aW5kb3cgZGltZW5zaW9ucyBvbiByZXNpemUuDQoJCQl3aW4uYmluZCggInRocm90dGxlZHJlc2l6ZSIsIGhhbmRsZXIgKTsNCgkJfSwNCgkJdGVhcmRvd246IGZ1bmN0aW9uKCl7DQoJCQkvLyBJZiB0aGUgZXZlbnQgaXMgbm90IHN1cHBvcnRlZCBuYXRpdmVseSwgcmV0dXJuIGZhbHNlIHNvIHRoYXQNCgkJCS8vIGpRdWVyeSB3aWxsIHVuYmluZCB0aGUgZXZlbnQgdXNpbmcgRE9NIG1ldGhvZHMuDQoJCQlpZiAoICQuc3VwcG9ydC5vcmllbnRhdGlvbiAmJiAkLm1vYmlsZS5vcmllbnRhdGlvbkNoYW5nZUVuYWJsZWQgKSB7DQoJCQkJcmV0dXJuIGZhbHNlOw0KCQkJfQ0KDQoJCQkvLyBCZWNhdXNlIHRoZSBvcmllbnRhdGlvbmNoYW5nZSBldmVudCBkb2Vzbid0IGV4aXN0LCB1bmJpbmQgdGhlDQoJCQkvLyByZXNpemUgZXZlbnQgaGFuZGxlci4NCgkJCXdpbi51bmJpbmQoICJ0aHJvdHRsZWRyZXNpemUiLCBoYW5kbGVyICk7DQoJCX0sDQoJCWFkZDogZnVuY3Rpb24oIGhhbmRsZU9iaiApIHsNCgkJCS8vIFNhdmUgYSByZWZlcmVuY2UgdG8gdGhlIGJvdW5kIGV2ZW50IGhhbmRsZXIuDQoJCQl2YXIgb2xkX2hhbmRsZXIgPSBoYW5kbGVPYmouaGFuZGxlcjsNCg0KDQoJCQloYW5kbGVPYmouaGFuZGxlciA9IGZ1bmN0aW9uKCBldmVudCApIHsNCgkJCQkvLyBNb2RpZnkgZXZlbnQgb2JqZWN0LCBhZGRpbmcgdGhlIC5vcmllbnRhdGlvbiBwcm9wZXJ0eS4NCgkJCQlldmVudC5vcmllbnRhdGlvbiA9IGdldF9vcmllbnRhdGlvbigpOw0KDQoJCQkJLy8gQ2FsbCB0aGUgb3JpZ2luYWxseS1ib3VuZCBldmVudCBoYW5kbGVyIGFuZCByZXR1cm4gaXRzIHJlc3VsdC4NCgkJCQlyZXR1cm4gb2xkX2hhbmRsZXIuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApOw0KCQkJfTsNCgkJfQ0KCX07DQoNCgkvLyBJZiB0aGUgZXZlbnQgaXMgbm90IHN1cHBvcnRlZCBuYXRpdmVseSwgdGhpcyBoYW5kbGVyIHdpbGwgYmUgYm91bmQgdG8NCgkvLyB0aGUgd2luZG93IHJlc2l6ZSBldmVudCB0byBzaW11bGF0ZSB0aGUgb3JpZW50YXRpb25jaGFuZ2UgZXZlbnQuDQoJZnVuY3Rpb24gaGFuZGxlcigpIHsNCgkJLy8gR2V0IHRoZSBjdXJyZW50IG9yaWVudGF0aW9uLg0KCQl2YXIgb3JpZW50YXRpb24gPSBnZXRfb3JpZW50YXRpb24oKTsNCg0KCQlpZiAoIG9yaWVudGF0aW9uICE9PSBsYXN0X29yaWVudGF0aW9uICkgew0KCQkJLy8gVGhlIG9yaWVudGF0aW9uIGhhcyBjaGFuZ2VkLCBzbyB0cmlnZ2VyIHRoZSBvcmllbnRhdGlvbmNoYW5nZSBldmVudC4NCgkJCWxhc3Rfb3JpZW50YXRpb24gPSBvcmllbnRhdGlvbjsNCgkJCXdpbi50cmlnZ2VyKCAib3JpZW50YXRpb25jaGFuZ2UiICk7DQoJCX0NCgl9DQoNCgkvLyBHZXQgdGhlIGN1cnJlbnQgcGFnZSBvcmllbnRhdGlvbi4gVGhpcyBtZXRob2QgaXMgZXhwb3NlZCBwdWJsaWNseSwgc2hvdWxkIGl0DQoJLy8gYmUgbmVlZGVkLCBhcyBqUXVlcnkuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZS5vcmllbnRhdGlvbigpDQoJJC5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLm9yaWVudGF0aW9uID0gZ2V0X29yaWVudGF0aW9uID0gZnVuY3Rpb24oKSB7DQoJCXZhciBpc1BvcnRyYWl0ID0gdHJ1ZSwgZWxlbSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDsNCg0KCQkvLyBwcmVmZXIgd2luZG93IG9yaWVudGF0aW9uIHRvIHRoZSBjYWxjdWxhdGlvbiBiYXNlZCBvbiBzY3JlZW5zaXplIGFzDQoJCS8vIHRoZSBhY3R1YWwgc2NyZWVuIHJlc2l6ZSB0YWtlcyBwbGFjZSBiZWZvcmUgb3IgYWZ0ZXIgdGhlIG9yaWVudGF0aW9uIGNoYW5nZSBldmVudA0KCQkvLyBoYXMgYmVlbiBmaXJlZCBkZXBlbmRpbmcgb24gaW1wbGVtZW50YXRpb24gKGVnIGFuZHJvaWQgMi4zIGlzIGJlZm9yZSwgaXBob25lIGFmdGVyKS4NCgkJLy8gTW9yZSB0ZXN0aW5nIGlzIHJlcXVpcmVkIHRvIGRldGVybWluZSBpZiBhIG1vcmUgcmVsaWFibGUgbWV0aG9kIG9mIGRldGVybWluaW5nIHRoZSBuZXcgc2NyZWVuc2l6ZQ0KCQkvLyBpcyBwb3NzaWJsZSB3aGVuIG9yaWVudGF0aW9uY2hhbmdlIGlzIGZpcmVkLiAoZWcsIHVzZSBtZWRpYSBxdWVyaWVzICsgZWxlbWVudCArIG9wYWNpdHkpDQoJCWlmICggJC5zdXBwb3J0Lm9yaWVudGF0aW9uICkgew0KCQkJLy8gaWYgdGhlIHdpbmRvdyBvcmllbnRhdGlvbiByZWdpc3RlcnMgYXMgMCBvciAxODAgZGVncmVlcyByZXBvcnQNCgkJCS8vIHBvcnRyYWl0LCBvdGhlcndpc2UgbGFuZHNjYXBlDQoJCQlpc1BvcnRyYWl0ID0gd2luZG93Lm9yaWVudGF0aW9uICUgMTgwID09IDA7DQoJCX0gZWxzZSB7DQoJCQlpc1BvcnRyYWl0ID0gZWxlbSAmJiBlbGVtLmNsaWVudFdpZHRoIC8gZWxlbS5jbGllbnRIZWlnaHQgPCAxLjE7DQoJCX0NCg0KCQlyZXR1cm4gaXNQb3J0cmFpdCA/ICJwb3J0cmFpdCIgOiAibGFuZHNjYXBlIjsNCgl9Ow0KDQp9KSggalF1ZXJ5LCB3aW5kb3cgKTsNCg0KDQovLyB0aHJvdHRsZWQgcmVzaXplIGV2ZW50DQooZnVuY3Rpb24oKSB7DQoNCgkkLmV2ZW50LnNwZWNpYWwudGhyb3R0bGVkcmVzaXplID0gew0KCQlzZXR1cDogZnVuY3Rpb24oKSB7DQoJCQkkKCB0aGlzICkuYmluZCggInJlc2l6ZSIsIGhhbmRsZXIgKTsNCgkJfSwNCgkJdGVhcmRvd246IGZ1bmN0aW9uKCl7DQoJCQkkKCB0aGlzICkudW5iaW5kKCAicmVzaXplIiwgaGFuZGxlciApOw0KCQl9DQoJfTsNCg0KCXZhciB0aHJvdHRsZSA9IDI1MCwNCgkJaGFuZGxlciA9IGZ1bmN0aW9uKCkgew0KCQkJY3VyciA9ICggbmV3IERhdGUoKSApLmdldFRpbWUoKTsNCgkJCWRpZmYgPSBjdXJyIC0gbGFzdENhbGw7DQoNCgkJCWlmICggZGlmZiA+PSB0aHJvdHRsZSApIHsNCg0KCQkJCWxhc3RDYWxsID0gY3VycjsNCgkJCQkkKCB0aGlzICkudHJpZ2dlciggInRocm90dGxlZHJlc2l6ZSIgKTsNCg0KCQkJfSBlbHNlIHsNCg0KCQkJCWlmICggaGVsZENhbGwgKSB7DQoJCQkJCWNsZWFyVGltZW91dCggaGVsZENhbGwgKTsNCgkJCQl9DQoNCgkJCQkvLyBQcm9taXNlIGEgaGVsZCBjYWxsIHdpbGwgc3RpbGwgZXhlY3V0ZQ0KCQkJCWhlbGRDYWxsID0gc2V0VGltZW91dCggaGFuZGxlciwgdGhyb3R0bGUgLSBkaWZmICk7DQoJCQl9DQoJCX0sDQoJCWxhc3RDYWxsID0gMCwNCgkJaGVsZENhbGwsDQoJCWN1cnIsDQoJCWRpZmY7DQp9KSgpOw0KDQoNCiQuZWFjaCh7DQoJc2Nyb2xsc3RvcDogInNjcm9sbHN0YXJ0IiwNCgl0YXBob2xkOiAidGFwIiwNCglzd2lwZWxlZnQ6ICJzd2lwZSIsDQoJc3dpcGVyaWdodDogInN3aXBlIg0KfSwgZnVuY3Rpb24oIGV2ZW50LCBzb3VyY2VFdmVudCApIHsNCg0KCSQuZXZlbnQuc3BlY2lhbFsgZXZlbnQgXSA9IHsNCgkJc2V0dXA6IGZ1bmN0aW9uKCkgew0KCQkJJCggdGhpcyApLmJpbmQoIHNvdXJjZUV2ZW50LCAkLm5vb3AgKTsNCgkJfQ0KCX07DQp9KTsNCg0KfSkoIGpRdWVyeSwgdGhpcyApOw0KLy8gU2NyaXB0OiBqUXVlcnkgaGFzaGNoYW5nZSBldmVudA0KLy8gDQovLyAqVmVyc2lvbjogMS4zLCBMYXN0IHVwZGF0ZWQ6IDcvMjEvMjAxMCoNCi8vIA0KLy8gUHJvamVjdCBIb21lIC0gaHR0cDovL2JlbmFsbWFuLmNvbS9wcm9qZWN0cy9qcXVlcnktaGFzaGNoYW5nZS1wbHVnaW4vDQovLyBHaXRIdWIgICAgICAgLSBodHRwOi8vZ2l0aHViLmNvbS9jb3dib3kvanF1ZXJ5LWhhc2hjaGFuZ2UvDQovLyBTb3VyY2UgICAgICAgLSBodHRwOi8vZ2l0aHViLmNvbS9jb3dib3kvanF1ZXJ5LWhhc2hjaGFuZ2UvcmF3L21hc3Rlci9qcXVlcnkuYmEtaGFzaGNoYW5nZS5qcw0KLy8gKE1pbmlmaWVkKSAgIC0gaHR0cDovL2dpdGh1Yi5jb20vY293Ym95L2pxdWVyeS1oYXNoY2hhbmdlL3Jhdy9tYXN0ZXIvanF1ZXJ5LmJhLWhhc2hjaGFuZ2UubWluLmpzICgwLjhrYiBnemlwcGVkKQ0KLy8gDQovLyBBYm91dDogTGljZW5zZQ0KLy8gDQovLyBDb3B5cmlnaHQgKGMpIDIwMTAgIkNvd2JveSIgQmVuIEFsbWFuLA0KLy8gRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGFuZCBHUEwgbGljZW5zZXMuDQovLyBodHRwOi8vYmVuYWxtYW4uY29tL2Fib3V0L2xpY2Vuc2UvDQovLyANCi8vIEFib3V0OiBFeGFtcGxlcw0KLy8gDQovLyBUaGVzZSB3b3JraW5nIGV4YW1wbGVzLCBjb21wbGV0ZSB3aXRoIGZ1bGx5IGNvbW1lbnRlZCBjb2RlLCBpbGx1c3RyYXRlIGEgZmV3DQovLyB3YXlzIGluIHdoaWNoIHRoaXMgcGx1Z2luIGNhbiBiZSB1c2VkLg0KLy8gDQovLyBoYXNoY2hhbmdlIGV2ZW50IC0gaHR0cDovL2JlbmFsbWFuLmNvbS9jb2RlL3Byb2plY3RzL2pxdWVyeS1oYXNoY2hhbmdlL2V4YW1wbGVzL2hhc2hjaGFuZ2UvDQovLyBkb2N1bWVudC5kb21haW4gLSBodHRwOi8vYmVuYWxtYW4uY29tL2NvZGUvcHJvamVjdHMvanF1ZXJ5LWhhc2hjaGFuZ2UvZXhhbXBsZXMvZG9jdW1lbnRfZG9tYWluLw0KLy8gDQovLyBBYm91dDogU3VwcG9ydCBhbmQgVGVzdGluZw0KLy8gDQovLyBJbmZvcm1hdGlvbiBhYm91dCB3aGF0IHZlcnNpb24gb3IgdmVyc2lvbnMgb2YgalF1ZXJ5IHRoaXMgcGx1Z2luIGhhcyBiZWVuDQovLyB0ZXN0ZWQgd2l0aCwgd2hhdCBicm93c2VycyBpdCBoYXMgYmVlbiB0ZXN0ZWQgaW4sIGFuZCB3aGVyZSB0aGUgdW5pdCB0ZXN0cw0KLy8gcmVzaWRlIChzbyB5b3UgY2FuIHRlc3QgaXQgeW91cnNlbGYpLg0KLy8gDQovLyBqUXVlcnkgVmVyc2lvbnMgLSAxLjIuNiwgMS4zLjIsIDEuNC4xLCAxLjQuMg0KLy8gQnJvd3NlcnMgVGVzdGVkIC0gSW50ZXJuZXQgRXhwbG9yZXIgNi04LCBGaXJlZm94IDItNCwgQ2hyb21lIDUtNiwgU2FmYXJpIDMuMi01LA0KLy8gICAgICAgICAgICAgICAgICAgT3BlcmEgOS42LTEwLjYwLCBpUGhvbmUgMy4xLCBBbmRyb2lkIDEuNi0yLjIsIEJsYWNrQmVycnkgNC42LTUuDQovLyBVbml0IFRlc3RzICAgICAgLSBodHRwOi8vYmVuYWxtYW4uY29tL2NvZGUvcHJvamVjdHMvanF1ZXJ5LWhhc2hjaGFuZ2UvdW5pdC8NCi8vIA0KLy8gQWJvdXQ6IEtub3duIGlzc3Vlcw0KLy8gDQovLyBXaGlsZSB0aGlzIGpRdWVyeSBoYXNoY2hhbmdlIGV2ZW50IGltcGxlbWVudGF0aW9uIGlzIHF1aXRlIHN0YWJsZSBhbmQNCi8vIHJvYnVzdCwgdGhlcmUgYXJlIGEgZmV3IHVuZm9ydHVuYXRlIGJyb3dzZXIgYnVncyBzdXJyb3VuZGluZyBleHBlY3RlZA0KLy8gaGFzaGNoYW5nZSBldmVudC1iYXNlZCBiZWhhdmlvcnMsIGluZGVwZW5kZW50IG9mIGFueSBKYXZhU2NyaXB0DQovLyB3aW5kb3cub25oYXNoY2hhbmdlIGFic3RyYWN0aW9uLiBTZWUgdGhlIGZvbGxvd2luZyBleGFtcGxlcyBmb3IgbW9yZQ0KLy8gaW5mb3JtYXRpb246DQovLyANCi8vIENocm9tZTogQmFjayBCdXR0b24gLSBodHRwOi8vYmVuYWxtYW4uY29tL2NvZGUvcHJvamVjdHMvanF1ZXJ5LWhhc2hjaGFuZ2UvZXhhbXBsZXMvYnVnLWNocm9tZS1iYWNrLWJ1dHRvbi8NCi8vIEZpcmVmb3g6IFJlbW90ZSBYTUxIdHRwUmVxdWVzdCAtIGh0dHA6Ly9iZW5hbG1hbi5jb20vY29kZS9wcm9qZWN0cy9qcXVlcnktaGFzaGNoYW5nZS9leGFtcGxlcy9idWctZmlyZWZveC1yZW1vdGUteGhyLw0KLy8gV2ViS2l0OiBCYWNrIEJ1dHRvbiBpbiBhbiBJZnJhbWUgLSBodHRwOi8vYmVuYWxtYW4uY29tL2NvZGUvcHJvamVjdHMvanF1ZXJ5LWhhc2hjaGFuZ2UvZXhhbXBsZXMvYnVnLXdlYmtpdC1oYXNoLWlmcmFtZS8NCi8vIFNhZmFyaTogQmFjayBCdXR0b24gZnJvbSBhIGRpZmZlcmVudCBkb21haW4gLSBodHRwOi8vYmVuYWxtYW4uY29tL2NvZGUvcHJvamVjdHMvanF1ZXJ5LWhhc2hjaGFuZ2UvZXhhbXBsZXMvYnVnLXNhZmFyaS1iYWNrLWZyb20tZGlmZi1kb21haW4vDQovLyANCi8vIEFsc28gbm90ZSB0aGF0IHNob3VsZCBhIGJyb3dzZXIgbmF0aXZlbHkgc3VwcG9ydCB0aGUgd2luZG93Lm9uaGFzaGNoYW5nZSANCi8vIGV2ZW50LCBidXQgbm90IHJlcG9ydCB0aGF0IGl0IGRvZXMsIHRoZSBmYWxsYmFjayBwb2xsaW5nIGxvb3Agd2lsbCBiZSB1c2VkLg0KLy8gDQovLyBBYm91dDogUmVsZWFzZSBIaXN0b3J5DQovLyANCi8vIDEuMyAgIC0gKDcvMjEvMjAxMCkgUmVvcmdhbml6ZWQgSUU2LzcgSWZyYW1lIGNvZGUgdG8gbWFrZSBpdCBtb3JlDQovLyAgICAgICAgICJyZW1vdmFibGUiIGZvciBtb2JpbGUtb25seSBkZXZlbG9wbWVudC4gQWRkZWQgSUU2LzcgZG9jdW1lbnQudGl0bGUNCi8vICAgICAgICAgc3VwcG9ydC4gQXR0ZW1wdGVkIHRvIG1ha2UgSWZyYW1lIGFzIGhpZGRlbiBhcyBwb3NzaWJsZSBieSB1c2luZw0KLy8gICAgICAgICB0ZWNobmlxdWVzIGZyb20gaHR0cDovL3d3dy5wYWNpZWxsb2dyb3VwLmNvbS9ibG9nLz9wPTYwNC4gQWRkZWQgDQovLyAgICAgICAgIHN1cHBvcnQgZm9yIHRoZSAic2hvcnRjdXQiIGZvcm1hdCAkKHdpbmRvdykuaGFzaGNoYW5nZSggZm4gKSBhbmQNCi8vICAgICAgICAgJCh3aW5kb3cpLmhhc2hjaGFuZ2UoKSBsaWtlIGpRdWVyeSBwcm92aWRlcyBmb3IgYnVpbHQtaW4gZXZlbnRzLg0KLy8gICAgICAgICBSZW5hbWVkIGpRdWVyeS5oYXNoY2hhbmdlRGVsYXkgdG8gPGpRdWVyeS5mbi5oYXNoY2hhbmdlLmRlbGF5PiBhbmQNCi8vICAgICAgICAgbG93ZXJlZCBpdHMgZGVmYXVsdCB2YWx1ZSB0byA1MC4gQWRkZWQgPGpRdWVyeS5mbi5oYXNoY2hhbmdlLmRvbWFpbj4NCi8vICAgICAgICAgYW5kIDxqUXVlcnkuZm4uaGFzaGNoYW5nZS5zcmM+IHByb3BlcnRpZXMgcGx1cyBkb2N1bWVudC1kb21haW4uaHRtbA0KLy8gICAgICAgICBmaWxlIHRvIGFkZHJlc3MgYWNjZXNzIGRlbmllZCBpc3N1ZXMgd2hlbiBzZXR0aW5nIGRvY3VtZW50LmRvbWFpbiBpbg0KLy8gICAgICAgICBJRTYvNy4NCi8vIDEuMiAgIC0gKDIvMTEvMjAxMCkgRml4ZWQgYSBidWcgd2hlcmUgY29taW5nIGJhY2sgdG8gYSBwYWdlIHVzaW5nIHRoaXMgcGx1Z2luDQovLyAgICAgICAgIGZyb20gYSBwYWdlIG9uIGFub3RoZXIgZG9tYWluIHdvdWxkIGNhdXNlIGFuIGVycm9yIGluIFNhZmFyaSA0LiBBbHNvLA0KLy8gICAgICAgICBJRTYvNyBJZnJhbWUgaXMgbm93IGluc2VydGVkIGFmdGVyIHRoZSBib2R5ICh0aGlzIGFjdHVhbGx5IHdvcmtzKSwNCi8vICAgICAgICAgd2hpY2ggcHJldmVudHMgdGhlIHBhZ2UgZnJvbSBzY3JvbGxpbmcgd2hlbiB0aGUgZXZlbnQgaXMgZmlyc3QgYm91bmQuDQovLyAgICAgICAgIEV2ZW50IGNhbiBhbHNvIG5vdyBiZSBib3VuZCBiZWZvcmUgRE9NIHJlYWR5LCBidXQgaXQgd29uJ3QgYmUgdXNhYmxlDQovLyAgICAgICAgIGJlZm9yZSB0aGVuIGluIElFNi83Lg0KLy8gMS4xICAgLSAoMS8yMS8yMDEwKSBJbmNvcnBvcmF0ZWQgZG9jdW1lbnQuZG9jdW1lbnRNb2RlIHRlc3QgdG8gZml4IElFOCBidWcNCi8vICAgICAgICAgd2hlcmUgYnJvd3NlciB2ZXJzaW9uIGlzIGluY29ycmVjdGx5IHJlcG9ydGVkIGFzIDguMCwgZGVzcGl0ZQ0KLy8gICAgICAgICBpbmNsdXNpb24gb2YgdGhlIFgtVUEtQ29tcGF0aWJsZSBJRT1FbXVsYXRlSUU3IG1ldGEgdGFnLg0KLy8gMS4wICAgLSAoMS85LzIwMTApIEluaXRpYWwgUmVsZWFzZS4gQnJva2Ugb3V0IHRoZSBqUXVlcnkgQkJRIGV2ZW50LnNwZWNpYWwNCi8vICAgICAgICAgd2luZG93Lm9uaGFzaGNoYW5nZSBmdW5jdGlvbmFsaXR5IGludG8gYSBzZXBhcmF0ZSBwbHVnaW4gZm9yIHVzZXJzDQovLyAgICAgICAgIHdobyB3YW50IGp1c3QgdGhlIGJhc2ljIGV2ZW50ICYgYmFjayBidXR0b24gc3VwcG9ydCwgd2l0aG91dCBhbGwgdGhlDQovLyAgICAgICAgIGV4dHJhIGF3ZXNvbWVuZXNzIHRoYXQgQkJRIHByb3ZpZGVzLiBUaGlzIHBsdWdpbiB3aWxsIGJlIGluY2x1ZGVkIGFzDQovLyAgICAgICAgIHBhcnQgb2YgalF1ZXJ5IEJCUSwgYnV0IGFsc28gYmUgYXZhaWxhYmxlIHNlcGFyYXRlbHkuDQoNCihmdW5jdGlvbigkLHdpbmRvdyx1bmRlZmluZWQpew0KICAnJDpub211bmdlJzsgLy8gVXNlZCBieSBZVUkgY29tcHJlc3Nvci4NCiAgDQogIC8vIFJldXNlZCBzdHJpbmcuDQogIHZhciBzdHJfaGFzaGNoYW5nZSA9ICdoYXNoY2hhbmdlJywNCiAgICANCiAgICAvLyBNZXRob2QgLyBvYmplY3QgcmVmZXJlbmNlcy4NCiAgICBkb2MgPSBkb2N1bWVudCwNCiAgICBmYWtlX29uaGFzaGNoYW5nZSwNCiAgICBzcGVjaWFsID0gJC5ldmVudC5zcGVjaWFsLA0KICAgIA0KICAgIC8vIERvZXMgdGhlIGJyb3dzZXIgc3VwcG9ydCB3aW5kb3cub25oYXNoY2hhbmdlPyBOb3RlIHRoYXQgSUU4IHJ1bm5pbmcgaW4NCiAgICAvLyBJRTcgY29tcGF0aWJpbGl0eSBtb2RlIHJlcG9ydHMgdHJ1ZSBmb3IgJ29uaGFzaGNoYW5nZScgaW4gd2luZG93LCBldmVuDQogICAgLy8gdGhvdWdoIHRoZSBldmVudCBpc24ndCBzdXBwb3J0ZWQsIHNvIGFsc28gdGVzdCBkb2N1bWVudC5kb2N1bWVudE1vZGUuDQogICAgZG9jX21vZGUgPSBkb2MuZG9jdW1lbnRNb2RlLA0KICAgIHN1cHBvcnRzX29uaGFzaGNoYW5nZSA9ICdvbicgKyBzdHJfaGFzaGNoYW5nZSBpbiB3aW5kb3cgJiYgKCBkb2NfbW9kZSA9PT0gdW5kZWZpbmVkIHx8IGRvY19tb2RlID4gNyApOw0KICANCiAgLy8gR2V0IGxvY2F0aW9uLmhhc2ggKG9yIHdoYXQgeW91J2QgZXhwZWN0IGxvY2F0aW9uLmhhc2ggdG8gYmUpIHNhbnMgYW55DQogIC8vIGxlYWRpbmcgIy4gVGhhbmtzIGZvciBtYWtpbmcgdGhpcyBuZWNlc3NhcnksIEZpcmVmb3ghDQogIGZ1bmN0aW9uIGdldF9mcmFnbWVudCggdXJsICkgew0KICAgIHVybCA9IHVybCB8fCBsb2NhdGlvbi5ocmVmOw0KICAgIHJldHVybiAnIycgKyB1cmwucmVwbGFjZSggL15bXiNdKiM/KC4qKSQvLCAnJDEnICk7DQogIH07DQogIA0KICAvLyBNZXRob2Q6IGpRdWVyeS5mbi5oYXNoY2hhbmdlDQogIC8vIA0KICAvLyBCaW5kIGEgaGFuZGxlciB0byB0aGUgd2luZG93Lm9uaGFzaGNoYW5nZSBldmVudCBvciB0cmlnZ2VyIGFsbCBib3VuZA0KICAvLyB3aW5kb3cub25oYXNoY2hhbmdlIGV2ZW50IGhhbmRsZXJzLiBUaGlzIGJlaGF2aW9yIGlzIGNvbnNpc3RlbnQgd2l0aA0KICAvLyBqUXVlcnkncyBidWlsdC1pbiBldmVudCBoYW5kbGVycy4NCiAgLy8gDQogIC8vIFVzYWdlOg0KICAvLyANCiAgLy8gPiBqUXVlcnkod2luZG93KS5oYXNoY2hhbmdlKCBbIGhhbmRsZXIgXSApOw0KICAvLyANCiAgLy8gQXJndW1lbnRzOg0KICAvLyANCiAgLy8gIGhhbmRsZXIgLSAoRnVuY3Rpb24pIE9wdGlvbmFsIGhhbmRsZXIgdG8gYmUgYm91bmQgdG8gdGhlIGhhc2hjaGFuZ2UNCiAgLy8gICAgZXZlbnQuIFRoaXMgaXMgYSAic2hvcnRjdXQiIGZvciB0aGUgbW9yZSB2ZXJib3NlIGZvcm06DQogIC8vICAgIGpRdWVyeSh3aW5kb3cpLmJpbmQoICdoYXNoY2hhbmdlJywgaGFuZGxlciApLiBJZiBoYW5kbGVyIGlzIG9taXR0ZWQsDQogIC8vICAgIGFsbCBib3VuZCB3aW5kb3cub25oYXNoY2hhbmdlIGV2ZW50IGhhbmRsZXJzIHdpbGwgYmUgdHJpZ2dlcmVkLiBUaGlzDQogIC8vICAgIGlzIGEgc2hvcnRjdXQgZm9yIHRoZSBtb3JlIHZlcmJvc2UNCiAgLy8gICAgalF1ZXJ5KHdpbmRvdykudHJpZ2dlciggJ2hhc2hjaGFuZ2UnICkuIFRoZXNlIGZvcm1zIGFyZSBkZXNjcmliZWQgaW4NCiAgLy8gICAgdGhlIDxoYXNoY2hhbmdlIGV2ZW50PiBzZWN0aW9uLg0KICAvLyANCiAgLy8gUmV0dXJuczoNCiAgLy8gDQogIC8vICAoalF1ZXJ5KSBUaGUgaW5pdGlhbCBqUXVlcnkgY29sbGVjdGlvbiBvZiBlbGVtZW50cy4NCiAgDQogIC8vIEFsbG93IHRoZSAic2hvcnRjdXQiIGZvcm1hdCAkKGVsZW0pLmhhc2hjaGFuZ2UoIGZuICkgZm9yIGJpbmRpbmcgYW5kDQogIC8vICQoZWxlbSkuaGFzaGNoYW5nZSgpIGZvciB0cmlnZ2VyaW5nLCBsaWtlIGpRdWVyeSBkb2VzIGZvciBidWlsdC1pbiBldmVudHMuDQogICQuZm5bIHN0cl9oYXNoY2hhbmdlIF0gPSBmdW5jdGlvbiggZm4gKSB7DQogICAgcmV0dXJuIGZuID8gdGhpcy5iaW5kKCBzdHJfaGFzaGNoYW5nZSwgZm4gKSA6IHRoaXMudHJpZ2dlciggc3RyX2hhc2hjaGFuZ2UgKTsNCiAgfTsNCiAgDQogIC8vIFByb3BlcnR5OiBqUXVlcnkuZm4uaGFzaGNoYW5nZS5kZWxheQ0KICAvLyANCiAgLy8gVGhlIG51bWVyaWMgaW50ZXJ2YWwgKGluIG1pbGxpc2Vjb25kcykgYXQgd2hpY2ggdGhlIDxoYXNoY2hhbmdlIGV2ZW50Pg0KICAvLyBwb2xsaW5nIGxvb3AgZXhlY3V0ZXMuIERlZmF1bHRzIHRvIDUwLg0KICANCiAgLy8gUHJvcGVydHk6IGpRdWVyeS5mbi5oYXNoY2hhbmdlLmRvbWFpbg0KICAvLyANCiAgLy8gSWYgeW91J3JlIHNldHRpbmcgZG9jdW1lbnQuZG9tYWluIGluIHlvdXIgSmF2YVNjcmlwdCwgYW5kIHlvdSB3YW50IGhhc2gNCiAgLy8gaGlzdG9yeSB0byB3b3JrIGluIElFNi83LCBub3Qgb25seSBtdXN0IHRoaXMgcHJvcGVydHkgYmUgc2V0LCBidXQgeW91IG11c3QNCiAgLy8gYWxzbyBzZXQgZG9jdW1lbnQuZG9tYWluIEJFRk9SRSBqUXVlcnkgaXMgbG9hZGVkIGludG8gdGhlIHBhZ2UuIFRoaXMNCiAgLy8gcHJvcGVydHkgaXMgb25seSBhcHBsaWNhYmxlIGlmIHlvdSBhcmUgc3VwcG9ydGluZyBJRTYvNyAob3IgSUU4IG9wZXJhdGluZw0KICAvLyBpbiAiSUU3IGNvbXBhdGliaWxpdHkiIG1vZGUpLg0KICAvLyANCiAgLy8gSW4gYWRkaXRpb24sIHRoZSA8alF1ZXJ5LmZuLmhhc2hjaGFuZ2Uuc3JjPiBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byB0aGUNCiAgLy8gcGF0aCBvZiB0aGUgaW5jbHVkZWQgImRvY3VtZW50LWRvbWFpbi5odG1sIiBmaWxlLCB3aGljaCBjYW4gYmUgcmVuYW1lZCBvcg0KICAvLyBtb2RpZmllZCBpZiBuZWNlc3NhcnkgKG5vdGUgdGhhdCB0aGUgZG9jdW1lbnQuZG9tYWluIHNwZWNpZmllZCBtdXN0IGJlIHRoZQ0KICAvLyBzYW1lIGluIGJvdGggeW91ciBtYWluIEphdmFTY3JpcHQgYXMgd2VsbCBhcyBpbiB0aGlzIGZpbGUpLg0KICAvLyANCiAgLy8gVXNhZ2U6DQogIC8vIA0KICAvLyBqUXVlcnkuZm4uaGFzaGNoYW5nZS5kb21haW4gPSBkb2N1bWVudC5kb21haW47DQogIA0KICAvLyBQcm9wZXJ0eTogalF1ZXJ5LmZuLmhhc2hjaGFuZ2Uuc3JjDQogIC8vIA0KICAvLyBJZiwgZm9yIHNvbWUgcmVhc29uLCB5b3UgbmVlZCB0byBzcGVjaWZ5IGFuIElmcmFtZSBzcmMgZmlsZSAoZm9yIGV4YW1wbGUsDQogIC8vIHdoZW4gc2V0dGluZyBkb2N1bWVudC5kb21haW4gYXMgaW4gPGpRdWVyeS5mbi5oYXNoY2hhbmdlLmRvbWFpbj4pLCB5b3UgY2FuDQogIC8vIGRvIHNvIHVzaW5nIHRoaXMgcHJvcGVydHkuIE5vdGUgdGhhdCB3aGVuIHVzaW5nIHRoaXMgcHJvcGVydHksIGhpc3RvcnkNCiAgLy8gd29uJ3QgYmUgcmVjb3JkZWQgaW4gSUU2LzcgdW50aWwgdGhlIElmcmFtZSBzcmMgZmlsZSBsb2Fkcy4gVGhpcyBwcm9wZXJ0eQ0KICAvLyBpcyBvbmx5IGFwcGxpY2FibGUgaWYgeW91IGFyZSBzdXBwb3J0aW5nIElFNi83IChvciBJRTggb3BlcmF0aW5nIGluICJJRTcNCiAgLy8gY29tcGF0aWJpbGl0eSIgbW9kZSkuDQogIC8vIA0KICAvLyBVc2FnZToNCiAgLy8gDQogIC8vIGpRdWVyeS5mbi5oYXNoY2hhbmdlLnNyYyA9ICdwYXRoL3RvL2ZpbGUuaHRtbCc7DQogIA0KICAkLmZuWyBzdHJfaGFzaGNoYW5nZSBdLmRlbGF5ID0gNTA7DQogIC8qDQogICQuZm5bIHN0cl9oYXNoY2hhbmdlIF0uZG9tYWluID0gbnVsbDsNCiAgJC5mblsgc3RyX2hhc2hjaGFuZ2UgXS5zcmMgPSBudWxsOw0KICAqLw0KICANCiAgLy8gRXZlbnQ6IGhhc2hjaGFuZ2UgZXZlbnQNCiAgLy8gDQogIC8vIEZpcmVkIHdoZW4gbG9jYXRpb24uaGFzaCBjaGFuZ2VzLiBJbiBicm93c2VycyB0aGF0IHN1cHBvcnQgaXQsIHRoZSBuYXRpdmUNCiAgLy8gSFRNTDUgd2luZG93Lm9uaGFzaGNoYW5nZSBldmVudCBpcyB1c2VkLCBvdGhlcndpc2UgYSBwb2xsaW5nIGxvb3AgaXMNCiAgLy8gaW5pdGlhbGl6ZWQsIHJ1bm5pbmcgZXZlcnkgPGpRdWVyeS5mbi5oYXNoY2hhbmdlLmRlbGF5PiBtaWxsaXNlY29uZHMgdG8NCiAgLy8gc2VlIGlmIHRoZSBoYXNoIGhhcyBjaGFuZ2VkLiBJbiBJRTYvNyAoYW5kIElFOCBvcGVyYXRpbmcgaW4gIklFNw0KICAvLyBjb21wYXRpYmlsaXR5IiBtb2RlKSwgYSBoaWRkZW4gSWZyYW1lIGlzIGNyZWF0ZWQgdG8gYWxsb3cgdGhlIGJhY2sgYnV0dG9uDQogIC8vIGFuZCBoYXNoLWJhc2VkIGhpc3RvcnkgdG8gd29yay4NCiAgLy8gDQogIC8vIFVzYWdlIGFzIGRlc2NyaWJlZCBpbiA8alF1ZXJ5LmZuLmhhc2hjaGFuZ2U+Og0KICAvLyANCiAgLy8gPiAvLyBCaW5kIGFuIGV2ZW50IGhhbmRsZXIuDQogIC8vID4galF1ZXJ5KHdpbmRvdykuaGFzaGNoYW5nZSggZnVuY3Rpb24oZSkgew0KICAvLyA+ICAgdmFyIGhhc2ggPSBsb2NhdGlvbi5oYXNoOw0KICAvLyA+ICAgLi4uDQogIC8vID4gfSk7DQogIC8vID4gDQogIC8vID4gLy8gTWFudWFsbHkgdHJpZ2dlciB0aGUgZXZlbnQgaGFuZGxlci4NCiAgLy8gPiBqUXVlcnkod2luZG93KS5oYXNoY2hhbmdlKCk7DQogIC8vIA0KICAvLyBBIG1vcmUgdmVyYm9zZSB1c2FnZSB0aGF0IGFsbG93cyBmb3IgZXZlbnQgbmFtZXNwYWNpbmc6DQogIC8vIA0KICAvLyA+IC8vIEJpbmQgYW4gZXZlbnQgaGFuZGxlci4NCiAgLy8gPiBqUXVlcnkod2luZG93KS5iaW5kKCAnaGFzaGNoYW5nZScsIGZ1bmN0aW9uKGUpIHsNCiAgLy8gPiAgIHZhciBoYXNoID0gbG9jYXRpb24uaGFzaDsNCiAgLy8gPiAgIC4uLg0KICAvLyA+IH0pOw0KICAvLyA+IA0KICAvLyA+IC8vIE1hbnVhbGx5IHRyaWdnZXIgdGhlIGV2ZW50IGhhbmRsZXIuDQogIC8vID4galF1ZXJ5KHdpbmRvdykudHJpZ2dlciggJ2hhc2hjaGFuZ2UnICk7DQogIC8vIA0KICAvLyBBZGRpdGlvbmFsIE5vdGVzOg0KICAvLyANCiAgLy8gKiBUaGUgcG9sbGluZyBsb29wIGFuZCBJZnJhbWUgYXJlIG5vdCBjcmVhdGVkIHVudGlsIGF0IGxlYXN0IG9uZSBoYW5kbGVyDQogIC8vICAgaXMgYWN0dWFsbHkgYm91bmQgdG8gdGhlICdoYXNoY2hhbmdlJyBldmVudC4NCiAgLy8gKiBJZiB5b3UgbmVlZCB0aGUgYm91bmQgaGFuZGxlcihzKSB0byBleGVjdXRlIGltbWVkaWF0ZWx5LCBpbiBjYXNlcyB3aGVyZQ0KICAvLyAgIGEgbG9jYXRpb24uaGFzaCBleGlzdHMgb24gcGFnZSBsb2FkLCB2aWEgYm9va21hcmsgb3IgcGFnZSByZWZyZXNoIGZvcg0KICAvLyAgIGV4YW1wbGUsIHVzZSBqUXVlcnkod2luZG93KS5oYXNoY2hhbmdlKCkgb3IgdGhlIG1vcmUgdmVyYm9zZSANCiAgLy8gICBqUXVlcnkod2luZG93KS50cmlnZ2VyKCAnaGFzaGNoYW5nZScgKS4NCiAgLy8gKiBUaGUgZXZlbnQgY2FuIGJlIGJvdW5kIGJlZm9yZSBET00gcmVhZHksIGJ1dCBzaW5jZSBpdCB3b24ndCBiZSB1c2FibGUNCiAgLy8gICBiZWZvcmUgdGhlbiBpbiBJRTYvNyAoZHVlIHRvIHRoZSBuZWNlc3NhcnkgSWZyYW1lKSwgcmVjb21tZW5kZWQgdXNhZ2UgaXMNCiAgLy8gICB0byBiaW5kIGl0IGluc2lkZSBhIERPTSByZWFkeSBoYW5kbGVyLg0KICANCiAgLy8gT3ZlcnJpZGUgZXhpc3RpbmcgJC5ldmVudC5zcGVjaWFsLmhhc2hjaGFuZ2UgbWV0aG9kcyAoYWxsb3dpbmcgdGhpcyBwbHVnaW4NCiAgLy8gdG8gYmUgZGVmaW5lZCBhZnRlciBqUXVlcnkgQkJRIGluIEJCUSdzIHNvdXJjZSBjb2RlKS4NCiAgc3BlY2lhbFsgc3RyX2hhc2hjaGFuZ2UgXSA9ICQuZXh0ZW5kKCBzcGVjaWFsWyBzdHJfaGFzaGNoYW5nZSBdLCB7DQogICAgDQogICAgLy8gQ2FsbGVkIG9ubHkgd2hlbiB0aGUgZmlyc3QgJ2hhc2hjaGFuZ2UnIGV2ZW50IGlzIGJvdW5kIHRvIHdpbmRvdy4NCiAgICBzZXR1cDogZnVuY3Rpb24oKSB7DQogICAgICAvLyBJZiB3aW5kb3cub25oYXNoY2hhbmdlIGlzIHN1cHBvcnRlZCBuYXRpdmVseSwgdGhlcmUncyBub3RoaW5nIHRvIGRvLi4NCiAgICAgIGlmICggc3VwcG9ydHNfb25oYXNoY2hhbmdlICkgeyByZXR1cm4gZmFsc2U7IH0NCiAgICAgIA0KICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSBuZWVkIHRvIGNyZWF0ZSBvdXIgb3duLiBBbmQgd2UgZG9uJ3Qgd2FudCB0byBjYWxsIHRoaXMNCiAgICAgIC8vIHVudGlsIHRoZSB1c2VyIGJpbmRzIHRvIHRoZSBldmVudCwganVzdCBpbiBjYXNlIHRoZXkgbmV2ZXIgZG8sIHNpbmNlIGl0DQogICAgICAvLyB3aWxsIGNyZWF0ZSBhIHBvbGxpbmcgbG9vcCBhbmQgcG9zc2libHkgZXZlbiBhIGhpZGRlbiBJZnJhbWUuDQogICAgICAkKCBmYWtlX29uaGFzaGNoYW5nZS5zdGFydCApOw0KICAgIH0sDQogICAgDQogICAgLy8gQ2FsbGVkIG9ubHkgd2hlbiB0aGUgbGFzdCAnaGFzaGNoYW5nZScgZXZlbnQgaXMgdW5ib3VuZCBmcm9tIHdpbmRvdy4NCiAgICB0ZWFyZG93bjogZnVuY3Rpb24oKSB7DQogICAgICAvLyBJZiB3aW5kb3cub25oYXNoY2hhbmdlIGlzIHN1cHBvcnRlZCBuYXRpdmVseSwgdGhlcmUncyBub3RoaW5nIHRvIGRvLi4NCiAgICAgIGlmICggc3VwcG9ydHNfb25oYXNoY2hhbmdlICkgeyByZXR1cm4gZmFsc2U7IH0NCiAgICAgIA0KICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSBuZWVkIHRvIHN0b3Agb3VycyAoaWYgcG9zc2libGUpLg0KICAgICAgJCggZmFrZV9vbmhhc2hjaGFuZ2Uuc3RvcCApOw0KICAgIH0NCiAgICANCiAgfSk7DQogIA0KICAvLyBmYWtlX29uaGFzaGNoYW5nZSBkb2VzIGFsbCB0aGUgd29yayBvZiB0cmlnZ2VyaW5nIHRoZSB3aW5kb3cub25oYXNoY2hhbmdlDQogIC8vIGV2ZW50IGZvciBicm93c2VycyB0aGF0IGRvbid0IG5hdGl2ZWx5IHN1cHBvcnQgaXQsIGluY2x1ZGluZyBjcmVhdGluZyBhDQogIC8vIHBvbGxpbmcgbG9vcCB0byB3YXRjaCBmb3IgaGFzaCBjaGFuZ2VzIGFuZCBpbiBJRSA2LzcgY3JlYXRpbmcgYSBoaWRkZW4NCiAgLy8gSWZyYW1lIHRvIGVuYWJsZSBiYWNrIGFuZCBmb3J3YXJkLg0KICBmYWtlX29uaGFzaGNoYW5nZSA9IChmdW5jdGlvbigpew0KICAgIHZhciBzZWxmID0ge30sDQogICAgICB0aW1lb3V0X2lkLA0KICAgICAgDQogICAgICAvLyBSZW1lbWJlciB0aGUgaW5pdGlhbCBoYXNoIHNvIGl0IGRvZXNuJ3QgZ2V0IHRyaWdnZXJlZCBpbW1lZGlhdGVseS4NCiAgICAgIGxhc3RfaGFzaCA9IGdldF9mcmFnbWVudCgpLA0KICAgICAgDQogICAgICBmbl9yZXR2YWwgPSBmdW5jdGlvbih2YWwpeyByZXR1cm4gdmFsOyB9LA0KICAgICAgaGlzdG9yeV9zZXQgPSBmbl9yZXR2YWwsDQogICAgICBoaXN0b3J5X2dldCA9IGZuX3JldHZhbDsNCiAgICANCiAgICAvLyBTdGFydCB0aGUgcG9sbGluZyBsb29wLg0KICAgIHNlbGYuc3RhcnQgPSBmdW5jdGlvbigpIHsNCiAgICAgIHRpbWVvdXRfaWQgfHwgcG9sbCgpOw0KICAgIH07DQogICAgDQogICAgLy8gU3RvcCB0aGUgcG9sbGluZyBsb29wLg0KICAgIHNlbGYuc3RvcCA9IGZ1bmN0aW9uKCkgew0KICAgICAgdGltZW91dF9pZCAmJiBjbGVhclRpbWVvdXQoIHRpbWVvdXRfaWQgKTsNCiAgICAgIHRpbWVvdXRfaWQgPSB1bmRlZmluZWQ7DQogICAgfTsNCiAgICANCiAgICAvLyBUaGlzIHBvbGxpbmcgbG9vcCBjaGVja3MgZXZlcnkgJC5mbi5oYXNoY2hhbmdlLmRlbGF5IG1pbGxpc2Vjb25kcyB0byBzZWUNCiAgICAvLyBpZiBsb2NhdGlvbi5oYXNoIGhhcyBjaGFuZ2VkLCBhbmQgdHJpZ2dlcnMgdGhlICdoYXNoY2hhbmdlJyBldmVudCBvbg0KICAgIC8vIHdpbmRvdyB3aGVuIG5lY2Vzc2FyeS4NCiAgICBmdW5jdGlvbiBwb2xsKCkgew0KICAgICAgdmFyIGhhc2ggPSBnZXRfZnJhZ21lbnQoKSwNCiAgICAgICAgaGlzdG9yeV9oYXNoID0gaGlzdG9yeV9nZXQoIGxhc3RfaGFzaCApOw0KICAgICAgDQogICAgICBpZiAoIGhhc2ggIT09IGxhc3RfaGFzaCApIHsNCiAgICAgICAgaGlzdG9yeV9zZXQoIGxhc3RfaGFzaCA9IGhhc2gsIGhpc3RvcnlfaGFzaCApOw0KICAgICAgICANCiAgICAgICAgJCh3aW5kb3cpLnRyaWdnZXIoIHN0cl9oYXNoY2hhbmdlICk7DQogICAgICAgIA0KICAgICAgfSBlbHNlIGlmICggaGlzdG9yeV9oYXNoICE9PSBsYXN0X2hhc2ggKSB7DQogICAgICAgIGxvY2F0aW9uLmhyZWYgPSBsb2NhdGlvbi5ocmVmLnJlcGxhY2UoIC8jLiovLCAnJyApICsgaGlzdG9yeV9oYXNoOw0KICAgICAgfQ0KICAgICAgDQogICAgICB0aW1lb3V0X2lkID0gc2V0VGltZW91dCggcG9sbCwgJC5mblsgc3RyX2hhc2hjaGFuZ2UgXS5kZWxheSApOw0KICAgIH07DQogICAgDQogICAgLy8gdnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2DQogICAgLy8gdnZ2dnZ2dnZ2dnZ2dnZ2dnZ2diBSRU1PVkUgSUYgTk9UIFNVUFBPUlRJTkcgSUU2LzcvOCB2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2DQogICAgLy8gdnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2DQogICAgJC5icm93c2VyLm1zaWUgJiYgIXN1cHBvcnRzX29uaGFzaGNoYW5nZSAmJiAoZnVuY3Rpb24oKXsNCiAgICAgIC8vIE5vdCBvbmx5IGRvIElFNi83IG5lZWQgdGhlICJtYWdpY2FsIiBJZnJhbWUgdHJlYXRtZW50LCBidXQgc28gZG9lcyBJRTgNCiAgICAgIC8vIHdoZW4gcnVubmluZyBpbiAiSUU3IGNvbXBhdGliaWxpdHkiIG1vZGUuDQogICAgICANCiAgICAgIHZhciBpZnJhbWUsDQogICAgICAgIGlmcmFtZV9zcmM7DQogICAgICANCiAgICAgIC8vIFdoZW4gdGhlIGV2ZW50IGlzIGJvdW5kIGFuZCBwb2xsaW5nIHN0YXJ0cyBpbiBJRSA2LzcsIGNyZWF0ZSBhIGhpZGRlbg0KICAgICAgLy8gSWZyYW1lIGZvciBoaXN0b3J5IGhhbmRsaW5nLg0KICAgICAgc2VsZi5zdGFydCA9IGZ1bmN0aW9uKCl7DQogICAgICAgIGlmICggIWlmcmFtZSApIHsNCiAgICAgICAgICBpZnJhbWVfc3JjID0gJC5mblsgc3RyX2hhc2hjaGFuZ2UgXS5zcmM7DQogICAgICAgICAgaWZyYW1lX3NyYyA9IGlmcmFtZV9zcmMgJiYgaWZyYW1lX3NyYyArIGdldF9mcmFnbWVudCgpOw0KICAgICAgICAgIA0KICAgICAgICAgIC8vIENyZWF0ZSBoaWRkZW4gSWZyYW1lLiBBdHRlbXB0IHRvIG1ha2UgSWZyYW1lIGFzIGhpZGRlbiBhcyBwb3NzaWJsZQ0KICAgICAgICAgIC8vIGJ5IHVzaW5nIHRlY2huaXF1ZXMgZnJvbSBodHRwOi8vd3d3LnBhY2llbGxvZ3JvdXAuY29tL2Jsb2cvP3A9NjA0Lg0KICAgICAgICAgIGlmcmFtZSA9ICQoJzxpZnJhbWUgdGFiaW5kZXg9Ii0xIiB0aXRsZT0iZW1wdHkiLz4nKS5oaWRlKCkNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy8gV2hlbiBJZnJhbWUgaGFzIGNvbXBsZXRlbHkgbG9hZGVkLCBpbml0aWFsaXplIHRoZSBoaXN0b3J5IGFuZA0KICAgICAgICAgICAgLy8gc3RhcnQgcG9sbGluZy4NCiAgICAgICAgICAgIC5vbmUoICdsb2FkJywgZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICAgaWZyYW1lX3NyYyB8fCBoaXN0b3J5X3NldCggZ2V0X2ZyYWdtZW50KCkgKTsNCiAgICAgICAgICAgICAgcG9sbCgpOw0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy8gTG9hZCBJZnJhbWUgc3JjIGlmIHNwZWNpZmllZCwgb3RoZXJ3aXNlIG5vdGhpbmcuDQogICAgICAgICAgICAuYXR0ciggJ3NyYycsIGlmcmFtZV9zcmMgfHwgJ2phdmFzY3JpcHQ6MCcgKQ0KICAgICAgICAgICAgDQogICAgICAgICAgICAvLyBBcHBlbmQgSWZyYW1lIGFmdGVyIHRoZSBlbmQgb2YgdGhlIGJvZHkgdG8gcHJldmVudCB1bm5lY2Vzc2FyeQ0KICAgICAgICAgICAgLy8gaW5pdGlhbCBwYWdlIHNjcm9sbGluZyAoeWVzLCB0aGlzIHdvcmtzKS4NCiAgICAgICAgICAgIC5pbnNlcnRBZnRlciggJ2JvZHknIClbMF0uY29udGVudFdpbmRvdzsNCiAgICAgICAgICANCiAgICAgICAgICAvLyBXaGVuZXZlciBgZG9jdW1lbnQudGl0bGVgIGNoYW5nZXMsIHVwZGF0ZSB0aGUgSWZyYW1lJ3MgdGl0bGUgdG8NCiAgICAgICAgICAvLyBwcmV0dGlmeSB0aGUgYmFjay9uZXh0IGhpc3RvcnkgbWVudSBlbnRyaWVzLiBTaW5jZSBJRSBzb21ldGltZXMNCiAgICAgICAgICAvLyBlcnJvcnMgd2l0aCAiVW5zcGVjaWZpZWQgZXJyb3IiIHRoZSB2ZXJ5IGZpcnN0IHRpbWUgdGhpcyBpcyBzZXQNCiAgICAgICAgICAvLyAoeWVzLCB2ZXJ5IHVzZWZ1bCkgd3JhcCB0aGlzIHdpdGggYSB0cnkvY2F0Y2ggYmxvY2suDQogICAgICAgICAgZG9jLm9ucHJvcGVydHljaGFuZ2UgPSBmdW5jdGlvbigpew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgaWYgKCBldmVudC5wcm9wZXJ0eU5hbWUgPT09ICd0aXRsZScgKSB7DQogICAgICAgICAgICAgICAgaWZyYW1lLmRvY3VtZW50LnRpdGxlID0gZG9jLnRpdGxlOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGNhdGNoKGUpIHt9DQogICAgICAgICAgfTsNCiAgICAgICAgICANCiAgICAgICAgfQ0KICAgICAgfTsNCiAgICAgIA0KICAgICAgLy8gT3ZlcnJpZGUgdGhlICJzdG9wIiBtZXRob2Qgc2luY2UgYW4gSUU2LzcgSWZyYW1lIHdhcyBjcmVhdGVkLiBFdmVuDQogICAgICAvLyBpZiB0aGVyZSBhcmUgbm8gbG9uZ2VyIGFueSBib3VuZCBldmVudCBoYW5kbGVycywgdGhlIHBvbGxpbmcgbG9vcA0KICAgICAgLy8gaXMgc3RpbGwgbmVjZXNzYXJ5IGZvciBiYWNrL25leHQgdG8gd29yayBhdCBhbGwhDQogICAgICBzZWxmLnN0b3AgPSBmbl9yZXR2YWw7DQogICAgICANCiAgICAgIC8vIEdldCBoaXN0b3J5IGJ5IGxvb2tpbmcgYXQgdGhlIGhpZGRlbiBJZnJhbWUncyBsb2NhdGlvbi5oYXNoLg0KICAgICAgaGlzdG9yeV9nZXQgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgcmV0dXJuIGdldF9mcmFnbWVudCggaWZyYW1lLmxvY2F0aW9uLmhyZWYgKTsNCiAgICAgIH07DQogICAgICANCiAgICAgIC8vIFNldCBhIG5ldyBoaXN0b3J5IGl0ZW0gYnkgb3BlbmluZyBhbmQgdGhlbiBjbG9zaW5nIHRoZSBJZnJhbWUNCiAgICAgIC8vIGRvY3VtZW50LCAqdGhlbiogc2V0dGluZyBpdHMgbG9jYXRpb24uaGFzaC4gSWYgZG9jdW1lbnQuZG9tYWluIGhhcw0KICAgICAgLy8gYmVlbiBzZXQsIHVwZGF0ZSB0aGF0IGFzIHdlbGwuDQogICAgICBoaXN0b3J5X3NldCA9IGZ1bmN0aW9uKCBoYXNoLCBoaXN0b3J5X2hhc2ggKSB7DQogICAgICAgIHZhciBpZnJhbWVfZG9jID0gaWZyYW1lLmRvY3VtZW50LA0KICAgICAgICAgIGRvbWFpbiA9ICQuZm5bIHN0cl9oYXNoY2hhbmdlIF0uZG9tYWluOw0KICAgICAgICANCiAgICAgICAgaWYgKCBoYXNoICE9PSBoaXN0b3J5X2hhc2ggKSB7DQogICAgICAgICAgLy8gVXBkYXRlIElmcmFtZSB3aXRoIGFueSBpbml0aWFsIGBkb2N1bWVudC50aXRsZWAgdGhhdCBtaWdodCBiZSBzZXQuDQogICAgICAgICAgaWZyYW1lX2RvYy50aXRsZSA9IGRvYy50aXRsZTsNCiAgICAgICAgICANCiAgICAgICAgICAvLyBPcGVuaW5nIHRoZSBJZnJhbWUncyBkb2N1bWVudCBhZnRlciBpdCBoYXMgYmVlbiBjbG9zZWQgaXMgd2hhdA0KICAgICAgICAgIC8vIGFjdHVhbGx5IGFkZHMgYSBoaXN0b3J5IGVudHJ5Lg0KICAgICAgICAgIGlmcmFtZV9kb2Mub3BlbigpOw0KICAgICAgICAgIA0KICAgICAgICAgIC8vIFNldCBkb2N1bWVudC5kb21haW4gZm9yIHRoZSBJZnJhbWUgZG9jdW1lbnQgYXMgd2VsbCwgaWYgbmVjZXNzYXJ5Lg0KICAgICAgICAgIGRvbWFpbiAmJiBpZnJhbWVfZG9jLndyaXRlKCAnPHNjcmlwdD5kb2N1bWVudC5kb21haW49IicgKyBkb21haW4gKyAnIjwvc2NyaXB0PicgKTsNCiAgICAgICAgICANCiAgICAgICAgICBpZnJhbWVfZG9jLmNsb3NlKCk7DQogICAgICAgICAgDQogICAgICAgICAgLy8gVXBkYXRlIHRoZSBJZnJhbWUncyBoYXNoLCBmb3IgZ3JlYXQganVzdGljZS4NCiAgICAgICAgICBpZnJhbWUubG9jYXRpb24uaGFzaCA9IGhhc2g7DQogICAgICAgIH0NCiAgICAgIH07DQogICAgICANCiAgICB9KSgpOw0KICAgIC8vIF5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXg0KICAgIC8vIF5eXl5eXl5eXl5eXl5eXl5eXl4gUkVNT1ZFIElGIE5PVCBTVVBQT1JUSU5HIElFNi83LzggXl5eXl5eXl5eXl5eXl5eXl5eXg0KICAgIC8vIF5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXg0KICAgIA0KICAgIHJldHVybiBzZWxmOw0KICB9KSgpOw0KICANCn0pKGpRdWVyeSx0aGlzKTsNCi8qDQoqICJwYWdlIiBwbHVnaW4NCiovDQoNCihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkgew0KDQokLndpZGdldCggIm1vYmlsZS5wYWdlIiwgJC5tb2JpbGUud2lkZ2V0LCB7DQoJb3B0aW9uczogew0KCQl0aGVtZTogImMiLA0KCQlkb21DYWNoZTogZmFsc2UsDQoJCWtlZXBOYXRpdmVEZWZhdWx0OiAiOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJykiDQoJfSwNCg0KCV9jcmVhdGU6IGZ1bmN0aW9uKCkgew0KDQoJCXRoaXMuX3RyaWdnZXIoICJiZWZvcmVjcmVhdGUiICk7DQoNCgkJdGhpcy5lbGVtZW50DQoJCQkuYXR0ciggInRhYmluZGV4IiwgIjAiICkNCgkJCS5hZGRDbGFzcyggInVpLXBhZ2UgdWktYm9keS0iICsgdGhpcy5vcHRpb25zLnRoZW1lICk7DQoJfSwNCg0KCWtlZXBOYXRpdmVTZWxlY3RvcjogZnVuY3Rpb24oKSB7DQoJCXZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zLA0KCQkJa2VlcE5hdGl2ZURlZmluZWQgPSBvcHRpb25zLmtlZXBOYXRpdmUgJiYgJC50cmltKG9wdGlvbnMua2VlcE5hdGl2ZSk7DQoNCgkJaWYoIGtlZXBOYXRpdmVEZWZpbmVkICYmIG9wdGlvbnMua2VlcE5hdGl2ZSAhPT0gb3B0aW9ucy5rZWVwTmF0aXZlRGVmYXVsdCApew0KCQkJcmV0dXJuIFtvcHRpb25zLmtlZXBOYXRpdmUsIG9wdGlvbnMua2VlcE5hdGl2ZURlZmF1bHRdLmpvaW4oIiwgIik7DQoJCX0NCg0KCQlyZXR1cm4gb3B0aW9ucy5rZWVwTmF0aXZlRGVmYXVsdDsNCgl9DQp9KTsNCn0pKCBqUXVlcnkgKTsNCi8qIA0KKiAiY29yZSIgLSBUaGUgYmFzZSBmaWxlIGZvciBqUW0NCiovDQoNCihmdW5jdGlvbiggJCwgd2luZG93LCB1bmRlZmluZWQgKSB7DQoNCgl2YXIgbnNOb3JtYWxpemVEaWN0ID0ge307DQoNCgkvLyBqUXVlcnkubW9iaWxlIGNvbmZpZ3VyYWJsZSBvcHRpb25zDQoJJC5leHRlbmQoICQubW9iaWxlLCB7DQoNCgkJLy8gTmFtZXNwYWNlIHVzZWQgZnJhbWV3b3JrLXdpZGUgZm9yIGRhdGEtYXR0cnMuIERlZmF1bHQgaXMgbm8gbmFtZXNwYWNlDQoJCW5zOiAiIiwNCg0KCQkvLyBEZWZpbmUgdGhlIHVybCBwYXJhbWV0ZXIgdXNlZCBmb3IgcmVmZXJlbmNpbmcgd2lkZ2V0LWdlbmVyYXRlZCBzdWItcGFnZXMuDQoJCS8vIFRyYW5zbGF0ZXMgdG8gdG8gZXhhbXBsZS5odG1sJnVpLXBhZ2U9c3VicGFnZUlkZW50aWZpZXINCgkJLy8gaGFzaCBzZWdtZW50IGJlZm9yZSAmdWktcGFnZT0gaXMgdXNlZCB0byBtYWtlIEFqYXggcmVxdWVzdA0KCQlzdWJQYWdlVXJsS2V5OiAidWktcGFnZSIsDQoNCgkJLy8gQ2xhc3MgYXNzaWduZWQgdG8gcGFnZSBjdXJyZW50bHkgaW4gdmlldywgYW5kIGR1cmluZyB0cmFuc2l0aW9ucw0KCQlhY3RpdmVQYWdlQ2xhc3M6ICJ1aS1wYWdlLWFjdGl2ZSIsDQoNCgkJLy8gQ2xhc3MgdXNlZCBmb3IgImFjdGl2ZSIgYnV0dG9uIHN0YXRlLCBmcm9tIENTUyBmcmFtZXdvcmsNCgkJYWN0aXZlQnRuQ2xhc3M6ICJ1aS1idG4tYWN0aXZlIiwNCg0KCQkvLyBBdXRvbWF0aWNhbGx5IGhhbmRsZSBjbGlja3MgYW5kIGZvcm0gc3VibWlzc2lvbnMgdGhyb3VnaCBBamF4LCB3aGVuIHNhbWUtZG9tYWluDQoJCWFqYXhFbmFibGVkOiBmYWxzZSwNCg0KCQkvLyBBdXRvbWF0aWNhbGx5IGxvYWQgYW5kIHNob3cgcGFnZXMgYmFzZWQgb24gbG9jYXRpb24uaGFzaA0KCQloYXNoTGlzdGVuaW5nRW5hYmxlZDogZmFsc2UsDQoNCgkJLy8gZGlzYWJsZSB0byBwcmV2ZW50IGpxdWVyeSBmcm9tIGJvdGhlcmluZyB3aXRoIGxpbmtzDQoJCWxpbmtCaW5kaW5nRW5hYmxlZDogZmFsc2UsDQoNCgkJLy8gU2V0IGRlZmF1bHQgcGFnZSB0cmFuc2l0aW9uIC0gJ25vbmUnIGZvciBubyB0cmFuc2l0aW9ucw0KCQlkZWZhdWx0UGFnZVRyYW5zaXRpb246ICJzbGlkZSIsDQoNCgkJLy8gTWluaW11bSBzY3JvbGwgZGlzdGFuY2UgdGhhdCB3aWxsIGJlIHJlbWVtYmVyZWQgd2hlbiByZXR1cm5pbmcgdG8gYSBwYWdlDQoJCW1pblNjcm9sbEJhY2s6IDI1MCwNCg0KCQkvLyBTZXQgZGVmYXVsdCBkaWFsb2cgdHJhbnNpdGlvbiAtICdub25lJyBmb3Igbm8gdHJhbnNpdGlvbnMNCgkJZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246ICJwb3AiLA0KDQoJCS8vIFNob3cgbG9hZGluZyBtZXNzYWdlIGR1cmluZyBBamF4IHJlcXVlc3RzDQoJCS8vIGlmIGZhbHNlLCBtZXNzYWdlIHdpbGwgbm90IGFwcGVhciwgYnV0IGxvYWRpbmcgY2xhc3NlcyB3aWxsIHN0aWxsIGJlIHRvZ2dsZWQgb24gaHRtbCBlbA0KCQlsb2FkaW5nTWVzc2FnZTogImxvYWRpbmciLA0KDQoJCS8vIEVycm9yIHJlc3BvbnNlIG1lc3NhZ2UgLSBhcHBlYXJzIHdoZW4gYW4gQWpheCBwYWdlIHJlcXVlc3QgZmFpbHMNCgkJcGFnZUxvYWRFcnJvck1lc3NhZ2U6ICJFcnJvciBMb2FkaW5nIFBhZ2UiLA0KDQoJCS8vYXV0b21hdGljYWxseSBpbml0aWFsaXplIHRoZSBET00gd2hlbiBpdCdzIHJlYWR5DQoJCWF1dG9Jbml0aWFsaXplUGFnZTogdHJ1ZSwNCg0KCQlwdXNoU3RhdGVFbmFibGVkOiB0cnVlLA0KDQoJCS8vIHR1cm4gb2YgYmluZGluZyB0byB0aGUgbmF0aXZlIG9yaWVudGF0aW9uY2hhbmdlIGR1ZSB0byBhbmRyb2lkIG9yaWVudGF0aW9uIGJlaGF2aW9yDQoJCW9yaWVudGF0aW9uQ2hhbmdlRW5hYmxlZDogdHJ1ZSwNCg0KCQkvLyBTdXBwb3J0IGNvbmRpdGlvbnMgdGhhdCBtdXN0IGJlIG1ldCBpbiBvcmRlciB0byBwcm9jZWVkDQoJCS8vIGRlZmF1bHQgZW5oYW5jZWQgcXVhbGlmaWNhdGlvbnMgYXJlIG1lZGlhIHF1ZXJ5IHN1cHBvcnQgT1IgSUUgNysNCgkJZ3JhZGVBOiBmdW5jdGlvbigpew0KCQkJcmV0dXJuICQuc3VwcG9ydC5tZWRpYXF1ZXJ5IHx8ICQubW9iaWxlLmJyb3dzZXIuaWUgJiYgJC5tb2JpbGUuYnJvd3Nlci5pZSA+PSA3Ow0KCQl9LA0KDQoJCS8vIFRPRE8gbWlnaHQgYmUgdXNlZnVsIHVwc3RyZWFtIGluIGpxdWVyeSBpdHNlbGYgPw0KCQlrZXlDb2RlOiB7DQoJCQlBTFQ6IDE4LA0KCQkJQkFDS1NQQUNFOiA4LA0KCQkJQ0FQU19MT0NLOiAyMCwNCgkJCUNPTU1BOiAxODgsDQoJCQlDT01NQU5EOiA5MSwNCgkJCUNPTU1BTkRfTEVGVDogOTEsIC8vIENPTU1BTkQNCgkJCUNPTU1BTkRfUklHSFQ6IDkzLA0KCQkJQ09OVFJPTDogMTcsDQoJCQlERUxFVEU6IDQ2LA0KCQkJRE9XTjogNDAsDQoJCQlFTkQ6IDM1LA0KCQkJRU5URVI6IDEzLA0KCQkJRVNDQVBFOiAyNywNCgkJCUhPTUU6IDM2LA0KCQkJSU5TRVJUOiA0NSwNCgkJCUxFRlQ6IDM3LA0KCQkJTUVOVTogOTMsIC8vIENPTU1BTkRfUklHSFQNCgkJCU5VTVBBRF9BREQ6IDEwNywNCgkJCU5VTVBBRF9ERUNJTUFMOiAxMTAsDQoJCQlOVU1QQURfRElWSURFOiAxMTEsDQoJCQlOVU1QQURfRU5URVI6IDEwOCwNCgkJCU5VTVBBRF9NVUxUSVBMWTogMTA2LA0KCQkJTlVNUEFEX1NVQlRSQUNUOiAxMDksDQoJCQlQQUdFX0RPV046IDM0LA0KCQkJUEFHRV9VUDogMzMsDQoJCQlQRVJJT0Q6IDE5MCwNCgkJCVJJR0hUOiAzOSwNCgkJCVNISUZUOiAxNiwNCgkJCVNQQUNFOiAzMiwNCgkJCVRBQjogOSwNCgkJCVVQOiAzOCwNCgkJCVdJTkRPV1M6IDkxIC8vIENPTU1BTkQNCgkJfSwNCg0KCQkvLyBTY3JvbGwgcGFnZSB2ZXJ0aWNhbGx5OiBzY3JvbGwgdG8gMCB0byBoaWRlIGlPUyBhZGRyZXNzIGJhciwgb3IgcGFzcyBhIFkgdmFsdWUNCgkJc2lsZW50U2Nyb2xsOiBmdW5jdGlvbiggeXBvcyApIHsNCgkJCWlmICggJC50eXBlKCB5cG9zICkgIT09ICJudW1iZXIiICkgew0KCQkJCXlwb3MgPSAkLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbDsNCgkJCX0NCg0KCQkJLy8gcHJldmVudCBzY3JvbGxzdGFydCBhbmQgc2Nyb2xsc3RvcCBldmVudHMNCgkJCSQuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkID0gZmFsc2U7DQoNCgkJCXNldFRpbWVvdXQoZnVuY3Rpb24oKSB7DQoJCQkJd2luZG93LnNjcm9sbFRvKCAwLCB5cG9zICk7DQoJCQkJJCggZG9jdW1lbnQgKS50cmlnZ2VyKCAic2lsZW50c2Nyb2xsIiwgeyB4OiAwLCB5OiB5cG9zIH0pOw0KCQkJfSwgMjAgKTsNCg0KCQkJc2V0VGltZW91dChmdW5jdGlvbigpIHsNCgkJCQkkLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZCA9IHRydWU7DQoJCQl9LCAxNTAgKTsNCgkJfSwNCg0KCQkvLyBFeHBvc2Ugb3VyIGNhY2hlIGZvciB0ZXN0aW5nIHB1cnBvc2VzLg0KCQluc05vcm1hbGl6ZURpY3Q6IG5zTm9ybWFsaXplRGljdCwNCg0KCQkvLyBUYWtlIGEgZGF0YSBhdHRyaWJ1dGUgcHJvcGVydHksIHByZXBlbmQgdGhlIG5hbWVzcGFjZQ0KCQkvLyBhbmQgdGhlbiBjYW1lbCBjYXNlIHRoZSBhdHRyaWJ1dGUgc3RyaW5nLiBBZGQgdGhlIHJlc3VsdA0KCQkvLyB0byBvdXIgbnNOb3JtYWxpemVEaWN0IHNvIHdlIGRvbid0IGhhdmUgdG8gZG8gdGhpcyBhZ2Fpbi4NCgkJbnNOb3JtYWxpemU6IGZ1bmN0aW9uKCBwcm9wICkgew0KCQkJaWYgKCAhcHJvcCApIHsNCgkJCQlyZXR1cm47DQoJCQl9DQoNCgkJCXJldHVybiBuc05vcm1hbGl6ZURpY3RbIHByb3AgXSB8fCAoIG5zTm9ybWFsaXplRGljdFsgcHJvcCBdID0gJC5jYW1lbENhc2UoICQubW9iaWxlLm5zICsgcHJvcCApICk7DQoJCX0sDQoNCgkJZ2V0SW5oZXJpdGVkVGhlbWU6IGZ1bmN0aW9uKCBlbCwgZGVmYXVsdFRoZW1lICkgew0KDQoJCQkvLyBGaW5kIHRoZSBjbG9zZXN0IHBhcmVudCB3aXRoIGEgdGhlbWUgY2xhc3Mgb24gaXQuIE5vdGUgdGhhdA0KCQkJLy8gd2UgYXJlIG5vdCB1c2luZyAkLmZuLmNsb3Nlc3QoKSBvbiBwdXJwb3NlIGhlcmUgYmVjYXVzZSB0aGlzDQoJCQkvLyBtZXRob2QgZ2V0cyBjYWxsZWQgcXVpdGUgYSBiaXQgYW5kIHdlIG5lZWQgaXQgdG8gYmUgYXMgZmFzdA0KCQkJLy8gYXMgcG9zc2libGUuDQoNCgkJCXZhciBlID0gZWxbIDAgXSwNCgkJCQlsdHIgPSAiIiwNCgkJCQlyZSA9IC91aS0oYmFyfGJvZHkpLShbYS16XSlcYi8sDQoJCQkJYywgbTsNCg0KCQkJd2hpbGUgKCBlICkgew0KCQkJCXZhciBjID0gZS5jbGFzc05hbWUgfHwgIiI7DQoJCQkJaWYgKCAoIG0gPSByZS5leGVjKCBjICkgKSAmJiAoIGx0ciA9IG1bIDIgXSApICkgew0KCQkJCQkvLyBXZSBmb3VuZCBhIHBhcmVudCB3aXRoIGEgdGhlbWUgY2xhc3MNCgkJCQkJLy8gb24gaXQgc28gYmFpbCBmcm9tIHRoaXMgbG9vcC4NCgkJCQkJYnJlYWs7DQoJCQkJfQ0KCQkJCWUgPSBlLnBhcmVudE5vZGU7DQoJCQl9DQoJCQkNCgkJCS8vIFJldHVybiB0aGUgdGhlbWUgbGV0dGVyIHdlIGZvdW5kLCBpZiBub25lLCByZXR1cm4gdGhlDQoJCQkvLyBzcGVjaWZpZWQgZGVmYXVsdC4NCg0KCQkJcmV0dXJuIGx0ciB8fCBkZWZhdWx0VGhlbWUgfHwgImEiOw0KCQl9DQoJfSk7DQoNCgkvLyBNb2JpbGUgdmVyc2lvbiBvZiBkYXRhIGFuZCByZW1vdmVEYXRhIGFuZCBoYXNEYXRhIG1ldGhvZHMNCgkvLyBlbnN1cmVzIGFsbCBkYXRhIGlzIHNldCBhbmQgcmV0cmlldmVkIHVzaW5nIGpRdWVyeSBNb2JpbGUncyBkYXRhIG5hbWVzcGFjZQ0KCSQuZm4uanFtRGF0YSA9IGZ1bmN0aW9uKCBwcm9wLCB2YWx1ZSApIHsNCgkJdmFyIHJlc3VsdDsNCgkJaWYgKCB0eXBlb2YgcHJvcCAhPSAidW5kZWZpbmVkIiApIHsNCgkJCXJlc3VsdCA9IHRoaXMuZGF0YSggcHJvcCA/ICQubW9iaWxlLm5zTm9ybWFsaXplKCBwcm9wICkgOiBwcm9wLCB2YWx1ZSApOw0KCQl9DQoJCXJldHVybiByZXN1bHQ7DQoJfTsNCg0KCSQuanFtRGF0YSA9IGZ1bmN0aW9uKCBlbGVtLCBwcm9wLCB2YWx1ZSApIHsNCgkJdmFyIHJlc3VsdDsNCgkJaWYgKCB0eXBlb2YgcHJvcCAhPSAidW5kZWZpbmVkIiApIHsNCgkJCXJlc3VsdCA9ICQuZGF0YSggZWxlbSwgcHJvcCA/ICQubW9iaWxlLm5zTm9ybWFsaXplKCBwcm9wICkgOiBwcm9wLCB2YWx1ZSApOw0KCQl9DQoJCXJldHVybiByZXN1bHQ7DQoJfTsNCg0KCSQuZm4uanFtUmVtb3ZlRGF0YSA9IGZ1bmN0aW9uKCBwcm9wICkgew0KCQlyZXR1cm4gdGhpcy5yZW1vdmVEYXRhKCAkLm1vYmlsZS5uc05vcm1hbGl6ZSggcHJvcCApICk7DQoJfTsNCg0KCSQuanFtUmVtb3ZlRGF0YSA9IGZ1bmN0aW9uKCBlbGVtLCBwcm9wICkgew0KCQlyZXR1cm4gJC5yZW1vdmVEYXRhKCBlbGVtLCAkLm1vYmlsZS5uc05vcm1hbGl6ZSggcHJvcCApICk7DQoJfTsNCg0KCSQuZm4ucmVtb3ZlV2l0aERlcGVuZGVudHMgPSBmdW5jdGlvbigpIHsNCgkJJC5yZW1vdmVXaXRoRGVwZW5kZW50cyggdGhpcyApOw0KCX07DQoNCgkkLnJlbW92ZVdpdGhEZXBlbmRlbnRzID0gZnVuY3Rpb24oIGVsZW0gKSB7DQoJCXZhciAkZWxlbSA9ICQoIGVsZW0gKTsNCg0KCQkoICRlbGVtLmpxbURhdGEoJ2RlcGVuZGVudHMnKSB8fCAkKCkgKS5yZW1vdmUoKTsNCgkJJGVsZW0ucmVtb3ZlKCk7DQoJfTsNCg0KCSQuZm4uYWRkRGVwZW5kZW50cyA9IGZ1bmN0aW9uKCBuZXdEZXBlbmRlbnRzICkgew0KCQkkLmFkZERlcGVuZGVudHMoICQodGhpcyksIG5ld0RlcGVuZGVudHMgKTsNCgl9Ow0KDQoJJC5hZGREZXBlbmRlbnRzID0gZnVuY3Rpb24oIGVsZW0sIG5ld0RlcGVuZGVudHMgKSB7DQoJCXZhciBkZXBlbmRlbnRzID0gJChlbGVtKS5qcW1EYXRhKCAnZGVwZW5kZW50cycgKSB8fCAkKCk7DQoNCgkJJChlbGVtKS5qcW1EYXRhKCAnZGVwZW5kZW50cycsICQubWVyZ2UoZGVwZW5kZW50cywgbmV3RGVwZW5kZW50cykgKTsNCgl9Ow0KDQoJLy8gbm90ZSB0aGF0IHRoaXMgaGVscGVyIGRvZXNuJ3QgYXR0ZW1wdCB0byBoYW5kbGUgdGhlIGNhbGxiYWNrDQoJLy8gb3Igc2V0dGluZyBvZiBhbiBodG1sIGVsZW1lbnRzIHRleHQsIGl0cyBvbmx5IHB1cnBvc2UgaXMNCgkvLyB0byByZXR1cm4gdGhlIGh0bWwgZW5jb2RlZCB2ZXJzaW9uIG9mIHRoZSB0ZXh0IGluIGFsbCBjYXNlcy4gKHRodXMgdGhlIG5hbWUpDQoJJC5mbi5nZXRFbmNvZGVkVGV4dCA9IGZ1bmN0aW9uKCkgew0KCQlyZXR1cm4gJCggIjxkaXYvPiIgKS50ZXh0KCAkKHRoaXMpLnRleHQoKSApLmh0bWwoKTsNCgl9Ow0KDQoJLy8gTW9ua2V5LXBhdGNoaW5nIFNpenpsZSB0byBmaWx0ZXIgdGhlIDpqcW1EYXRhIHNlbGVjdG9yDQoJdmFyIG9sZEZpbmQgPSAkLmZpbmQsDQoJCWpxbURhdGFSRSA9IC86anFtRGF0YVwoKFteKV0qKVwpL2c7DQoNCgkkLmZpbmQgPSBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQsIHJldCwgZXh0cmEgKSB7DQoJCXNlbGVjdG9yID0gc2VsZWN0b3IucmVwbGFjZSgganFtRGF0YVJFLCAiW2RhdGEtIiArICggJC5tb2JpbGUubnMgfHwgIiIgKSArICIkMV0iICk7DQoNCgkJcmV0dXJuIG9sZEZpbmQuY2FsbCggdGhpcywgc2VsZWN0b3IsIGNvbnRleHQsIHJldCwgZXh0cmEgKTsNCgl9Ow0KDQoJJC5leHRlbmQoICQuZmluZCwgb2xkRmluZCApOw0KDQoJJC5maW5kLm1hdGNoZXMgPSBmdW5jdGlvbiggZXhwciwgc2V0ICkgew0KCQlyZXR1cm4gJC5maW5kKCBleHByLCBudWxsLCBudWxsLCBzZXQgKTsNCgl9Ow0KDQoJJC5maW5kLm1hdGNoZXNTZWxlY3RvciA9IGZ1bmN0aW9uKCBub2RlLCBleHByICkgew0KCQlyZXR1cm4gJC5maW5kKCBleHByLCBudWxsLCBudWxsLCBbIG5vZGUgXSApLmxlbmd0aCA+IDA7DQoJfTsNCn0pKCBqUXVlcnksIHRoaXMgKTsNCg0KLyoNCiogY29yZSB1dGlsaXRpZXMgZm9yIGF1dG8gYWpheCBuYXZpZ2F0aW9uLCBiYXNlIHRhZyBtZ210LA0KKi8NCg0KKCBmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkgew0KDQoJLy9kZWZpbmUgdmFycyBmb3IgaW50ZXJhbCB1c2UNCgl2YXIgJHdpbmRvdyA9ICQoIHdpbmRvdyApLA0KCQkkaHRtbCA9ICQoICdodG1sJyApLA0KCQkkaGVhZCA9ICQoICdoZWFkJyApLA0KDQoJCS8vdXJsIHBhdGggaGVscGVycyBmb3IgdXNlIGluIHJlbGF0aXZlIHVybCBtYW5hZ2VtZW50DQoJCXBhdGggPSB7DQoNCgkJCS8vIFRoaXMgc2NhcnkgbG9va2luZyByZWd1bGFyIGV4cHJlc3Npb24gcGFyc2VzIGFuIGFic29sdXRlIFVSTCBvciBpdHMgcmVsYXRpdmUNCgkJCS8vIHZhcmlhbnRzIChwcm90b2NvbCwgc2l0ZSwgZG9jdW1lbnQsIHF1ZXJ5LCBhbmQgaGFzaCksIGludG8gdGhlIHZhcmlvdXMNCgkJCS8vIGNvbXBvbmVudHMgKHByb3RvY29sLCBob3N0LCBwYXRoLCBxdWVyeSwgZnJhZ21lbnQsIGV0YyB0aGF0IG1ha2UgdXAgdGhlDQoJCQkvLyBVUkwgYXMgd2VsbCBhcyBzb21lIG90aGVyIGNvbW1vbmx5IHVzZWQgc3ViLXBhcnRzLiBXaGVuIHVzZWQgd2l0aCBSZWdFeHAuZXhlYygpDQoJCQkvLyBvciBTdHJpbmcubWF0Y2gsIGl0IHBhcnNlcyB0aGUgVVJMIGludG8gYSByZXN1bHRzIGFycmF5IHRoYXQgbG9va3MgbGlrZSB0aGlzOg0KCQkJLy8NCgkJCS8vICAgICBbMF06IGh0dHA6Ly9qYmxhczpwYXNzd29yZEBteWNvbXBhbnkuY29tOjgwODAvbWFpbC9pbmJveD9tc2c9MTIzNCZ0eXBlPXVucmVhZCNtc2ctY29udGVudA0KCQkJLy8gICAgIFsxXTogaHR0cDovL2pibGFzOnBhc3N3b3JkQG15Y29tcGFueS5jb206ODA4MC9tYWlsL2luYm94P21zZz0xMjM0JnR5cGU9dW5yZWFkDQoJCQkvLyAgICAgWzJdOiBodHRwOi8vamJsYXM6cGFzc3dvcmRAbXljb21wYW55LmNvbTo4MDgwL21haWwvaW5ib3gNCgkJCS8vICAgICBbM106IGh0dHA6Ly9qYmxhczpwYXNzd29yZEBteWNvbXBhbnkuY29tOjgwODANCgkJCS8vICAgICBbNF06IGh0dHA6DQoJCQkvLyAgICAgWzVdOiAvLw0KCQkJLy8gICAgIFs2XTogamJsYXM6cGFzc3dvcmRAbXljb21wYW55LmNvbTo4MDgwDQoJCQkvLyAgICAgWzddOiBqYmxhczpwYXNzd29yZA0KCQkJLy8gICAgIFs4XTogamJsYXMNCgkJCS8vICAgICBbOV06IHBhc3N3b3JkDQoJCQkvLyAgICBbMTBdOiBteWNvbXBhbnkuY29tOjgwODANCgkJCS8vICAgIFsxMV06IG15Y29tcGFueS5jb20NCgkJCS8vICAgIFsxMl06IDgwODANCgkJCS8vICAgIFsxM106IC9tYWlsL2luYm94DQoJCQkvLyAgICBbMTRdOiAvbWFpbC8NCgkJCS8vICAgIFsxNV06IGluYm94DQoJCQkvLyAgICBbMTZdOiA/bXNnPTEyMzQmdHlwZT11bnJlYWQNCgkJCS8vICAgIFsxN106ICNtc2ctY29udGVudA0KCQkJLy8NCgkJCXVybFBhcnNlUkU6IC9eKCgoKFteOlwvI1w/XSs6KT8oPzooXC9cLykoKD86KChbXjpAXC8jXD9dKykoPzpcOihbXjpAXC8jXD9dKykpPylAKT8oKFteOlwvI1w/XF1cW10rfFxbW15cL1xdQCM/XStcXSkoPzpcOihbMC05XSspKT8pKT8pPyk/KChcLz8oPzpbXlwvXD8jXStcLyspKikoW15cPyNdKikpKT8oXD9bXiNdKyk/KSgjLiopPy8sDQoNCgkJCS8vUGFyc2UgYSBVUkwgaW50byBhIHN0cnVjdHVyZSB0aGF0IGFsbG93cyBlYXN5IGFjY2VzcyB0bw0KCQkJLy9hbGwgb2YgdGhlIFVSTCBjb21wb25lbnRzIGJ5IG5hbWUuDQoJCQlwYXJzZVVybDogZnVuY3Rpb24oIHVybCApIHsNCgkJCQkvLyBJZiB3ZSdyZSBwYXNzZWQgYW4gb2JqZWN0LCB3ZSdsbCBhc3N1bWUgdGhhdCBpdCBpcw0KCQkJCS8vIGEgcGFyc2VkIHVybCBvYmplY3QgYW5kIGp1c3QgcmV0dXJuIGl0IGJhY2sgdG8gdGhlIGNhbGxlci4NCgkJCQlpZiAoICQudHlwZSggdXJsICkgPT09ICJvYmplY3QiICkgew0KCQkJCQlyZXR1cm4gdXJsOw0KCQkJCX0NCg0KCQkJCXZhciBtYXRjaGVzID0gcGF0aC51cmxQYXJzZVJFLmV4ZWMoIHVybCB8fCAiIiApIHx8IFtdOw0KDQoJCQkJCS8vIENyZWF0ZSBhbiBvYmplY3QgdGhhdCBhbGxvd3MgdGhlIGNhbGxlciB0byBhY2Nlc3MgdGhlIHN1Yi1tYXRjaGVzDQoJCQkJCS8vIGJ5IG5hbWUuIE5vdGUgdGhhdCBJRSByZXR1cm5zIGFuIGVtcHR5IHN0cmluZyBpbnN0ZWFkIG9mIHVuZGVmaW5lZCwNCgkJCQkJLy8gbGlrZSBhbGwgb3RoZXIgYnJvd3NlcnMgZG8sIHNvIHdlIG5vcm1hbGl6ZSBldmVyeXRoaW5nIHNvIGl0cyBjb25zaXN0ZW50DQoJCQkJCS8vIG5vIG1hdHRlciB3aGF0IGJyb3dzZXIgd2UncmUgcnVubmluZyBvbi4NCgkJCQkJcmV0dXJuIHsNCgkJCQkJCWhyZWY6ICAgICAgICAgbWF0Y2hlc1sgIDAgXSB8fCAiIiwNCgkJCQkJCWhyZWZOb0hhc2g6ICAgbWF0Y2hlc1sgIDEgXSB8fCAiIiwNCgkJCQkJCWhyZWZOb1NlYXJjaDogbWF0Y2hlc1sgIDIgXSB8fCAiIiwNCgkJCQkJCWRvbWFpbjogICAgICAgbWF0Y2hlc1sgIDMgXSB8fCAiIiwNCgkJCQkJCXByb3RvY29sOiAgICAgbWF0Y2hlc1sgIDQgXSB8fCAiIiwNCgkJCQkJCWRvdWJsZVNsYXNoOiAgbWF0Y2hlc1sgIDUgXSB8fCAiIiwNCgkJCQkJCWF1dGhvcml0eTogICAgbWF0Y2hlc1sgIDYgXSB8fCAiIiwNCgkJCQkJCXVzZXJuYW1lOiAgICAgbWF0Y2hlc1sgIDggXSB8fCAiIiwNCgkJCQkJCXBhc3N3b3JkOiAgICAgbWF0Y2hlc1sgIDkgXSB8fCAiIiwNCgkJCQkJCWhvc3Q6ICAgICAgICAgbWF0Y2hlc1sgMTAgXSB8fCAiIiwNCgkJCQkJCWhvc3RuYW1lOiAgICAgbWF0Y2hlc1sgMTEgXSB8fCAiIiwNCgkJCQkJCXBvcnQ6ICAgICAgICAgbWF0Y2hlc1sgMTIgXSB8fCAiIiwNCgkJCQkJCXBhdGhuYW1lOiAgICAgbWF0Y2hlc1sgMTMgXSB8fCAiIiwNCgkJCQkJCWRpcmVjdG9yeTogICAgbWF0Y2hlc1sgMTQgXSB8fCAiIiwNCgkJCQkJCWZpbGVuYW1lOiAgICAgbWF0Y2hlc1sgMTUgXSB8fCAiIiwNCgkJCQkJCXNlYXJjaDogICAgICAgbWF0Y2hlc1sgMTYgXSB8fCAiIiwNCgkJCQkJCWhhc2g6ICAgICAgICAgbWF0Y2hlc1sgMTcgXSB8fCAiIg0KCQkJCQl9Ow0KCQkJfSwNCg0KCQkJLy9UdXJuIHJlbFBhdGggaW50byBhbiBhc2JvbHV0ZSBwYXRoLiBhYnNQYXRoIGlzDQoJCQkvL2FuIG9wdGlvbmFsIGFic29sdXRlIHBhdGggd2hpY2ggZGVzY3JpYmVzIHdoYXQNCgkJCS8vcmVsUGF0aCBpcyByZWxhdGl2ZSB0by4NCgkJCW1ha2VQYXRoQWJzb2x1dGU6IGZ1bmN0aW9uKCByZWxQYXRoLCBhYnNQYXRoICkgew0KCQkJCWlmICggcmVsUGF0aCAmJiByZWxQYXRoLmNoYXJBdCggMCApID09PSAiLyIgKSB7DQoJCQkJCXJldHVybiByZWxQYXRoOw0KCQkJCX0NCg0KCQkJCXJlbFBhdGggPSByZWxQYXRoIHx8ICIiOw0KCQkJCWFic1BhdGggPSBhYnNQYXRoID8gYWJzUGF0aC5yZXBsYWNlKCAvXlwvfChcL1teXC9dKnxbXlwvXSspJC9nLCAiIiApIDogIiI7DQoNCgkJCQl2YXIgYWJzU3RhY2sgPSBhYnNQYXRoID8gYWJzUGF0aC5zcGxpdCggIi8iICkgOiBbXSwNCgkJCQkJcmVsU3RhY2sgPSByZWxQYXRoLnNwbGl0KCAiLyIgKTsNCgkJCQlmb3IgKCB2YXIgaSA9IDA7IGkgPCByZWxTdGFjay5sZW5ndGg7IGkrKyApIHsNCgkJCQkJdmFyIGQgPSByZWxTdGFja1sgaSBdOw0KCQkJCQlzd2l0Y2ggKCBkICkgew0KCQkJCQkJY2FzZSAiLiI6DQoJCQkJCQkJYnJlYWs7DQoJCQkJCQljYXNlICIuLiI6DQoJCQkJCQkJaWYgKCBhYnNTdGFjay5sZW5ndGggKSB7DQoJCQkJCQkJCWFic1N0YWNrLnBvcCgpOw0KCQkJCQkJCX0NCgkJCQkJCQlicmVhazsNCgkJCQkJCWRlZmF1bHQ6DQoJCQkJCQkJYWJzU3RhY2sucHVzaCggZCApOw0KCQkJCQkJCWJyZWFrOw0KCQkJCQl9DQoJCQkJfQ0KCQkJCXJldHVybiAiLyIgKyBhYnNTdGFjay5qb2luKCAiLyIgKTsNCgkJCX0sDQoNCgkJCS8vUmV0dXJucyB0cnVlIGlmIGJvdGggdXJscyBoYXZlIHRoZSBzYW1lIGRvbWFpbi4NCgkJCWlzU2FtZURvbWFpbjogZnVuY3Rpb24oIGFic1VybDEsIGFic1VybDIgKSB7DQoJCQkJcmV0dXJuIHBhdGgucGFyc2VVcmwoIGFic1VybDEgKS5kb21haW4gPT09IHBhdGgucGFyc2VVcmwoIGFic1VybDIgKS5kb21haW47DQoJCQl9LA0KDQoJCQkvL1JldHVybnMgdHJ1ZSBmb3IgYW55IHJlbGF0aXZlIHZhcmlhbnQuDQoJCQlpc1JlbGF0aXZlVXJsOiBmdW5jdGlvbiggdXJsICkgew0KCQkJCS8vIEFsbCByZWxhdGl2ZSBVcmwgdmFyaWFudHMgaGF2ZSBvbmUgdGhpbmcgaW4gY29tbW9uLCBubyBwcm90b2NvbC4NCgkJCQlyZXR1cm4gcGF0aC5wYXJzZVVybCggdXJsICkucHJvdG9jb2wgPT09ICIiOw0KCQkJfSwNCg0KCQkJLy9SZXR1cm5zIHRydWUgZm9yIGFuIGFic29sdXRlIHVybC4NCgkJCWlzQWJzb2x1dGVVcmw6IGZ1bmN0aW9uKCB1cmwgKSB7DQoJCQkJcmV0dXJuIHBhdGgucGFyc2VVcmwoIHVybCApLnByb3RvY29sICE9PSAiIjsNCgkJCX0sDQoNCgkJCS8vVHVybiB0aGUgc3BlY2lmaWVkIHJlYWx0aXZlIFVSTCBpbnRvIGFuIGFic29sdXRlIG9uZS4gVGhpcyBmdW5jdGlvbg0KCQkJLy9jYW4gaGFuZGxlIGFsbCByZWxhdGl2ZSB2YXJpYW50cyAocHJvdG9jb2wsIHNpdGUsIGRvY3VtZW50LCBxdWVyeSwgZnJhZ21lbnQpLg0KCQkJbWFrZVVybEFic29sdXRlOiBmdW5jdGlvbiggcmVsVXJsLCBhYnNVcmwgKSB7DQoJCQkJaWYgKCAhcGF0aC5pc1JlbGF0aXZlVXJsKCByZWxVcmwgKSApIHsNCgkJCQkJcmV0dXJuIHJlbFVybDsNCgkJCQl9DQoNCgkJCQl2YXIgcmVsT2JqID0gcGF0aC5wYXJzZVVybCggcmVsVXJsICksDQoJCQkJCWFic09iaiA9IHBhdGgucGFyc2VVcmwoIGFic1VybCApLA0KCQkJCQlwcm90b2NvbCA9IHJlbE9iai5wcm90b2NvbCB8fCBhYnNPYmoucHJvdG9jb2wsDQoJCQkJCWRvdWJsZVNsYXNoID0gcmVsT2JqLnByb3RvY29sID8gcmVsT2JqLmRvdWJsZVNsYXNoIDogKCByZWxPYmouZG91YmxlU2xhc2ggfHwgYWJzT2JqLmRvdWJsZVNsYXNoICksDQoJCQkJCWF1dGhvcml0eSA9IHJlbE9iai5hdXRob3JpdHkgfHwgYWJzT2JqLmF1dGhvcml0eSwNCgkJCQkJaGFzUGF0aCA9IHJlbE9iai5wYXRobmFtZSAhPT0gIiIsDQoJCQkJCXBhdGhuYW1lID0gcGF0aC5tYWtlUGF0aEFic29sdXRlKCByZWxPYmoucGF0aG5hbWUgfHwgYWJzT2JqLmZpbGVuYW1lLCBhYnNPYmoucGF0aG5hbWUgKSwNCgkJCQkJc2VhcmNoID0gcmVsT2JqLnNlYXJjaCB8fCAoICFoYXNQYXRoICYmIGFic09iai5zZWFyY2ggKSB8fCAiIiwNCgkJCQkJaGFzaCA9IHJlbE9iai5oYXNoOw0KDQoJCQkJcmV0dXJuIHByb3RvY29sICsgZG91YmxlU2xhc2ggKyBhdXRob3JpdHkgKyBwYXRobmFtZSArIHNlYXJjaCArIGhhc2g7DQoJCQl9LA0KDQoJCQkvL0FkZCBzZWFyY2ggKGFrYSBxdWVyeSkgcGFyYW1zIHRvIHRoZSBzcGVjaWZpZWQgdXJsLg0KCQkJYWRkU2VhcmNoUGFyYW1zOiBmdW5jdGlvbiggdXJsLCBwYXJhbXMgKSB7DQoJCQkJdmFyIHUgPSBwYXRoLnBhcnNlVXJsKCB1cmwgKSwNCgkJCQkJcCA9ICggdHlwZW9mIHBhcmFtcyA9PT0gIm9iamVjdCIgKSA/ICQucGFyYW0oIHBhcmFtcyApIDogcGFyYW1zLA0KCQkJCQlzID0gdS5zZWFyY2ggfHwgIj8iOw0KCQkJCXJldHVybiB1LmhyZWZOb1NlYXJjaCArIHMgKyAoIHMuY2hhckF0KCBzLmxlbmd0aCAtIDEgKSAhPT0gIj8iID8gIiYiIDogIiIgKSArIHAgKyAoIHUuaGFzaCB8fCAiIiApOw0KCQkJfSwNCg0KCQkJY29udmVydFVybFRvRGF0YVVybDogZnVuY3Rpb24oIGFic1VybCApIHsNCgkJCQl2YXIgdSA9IHBhdGgucGFyc2VVcmwoIGFic1VybCApOw0KCQkJCWlmICggcGF0aC5pc0VtYmVkZGVkUGFnZSggdSApICkgew0KCQkJCSAgICAvLyBGb3IgZW1iZWRkZWQgcGFnZXMsIHJlbW92ZSB0aGUgZGlhbG9nIGhhc2gga2V5IGFzIGluIGdldEZpbGVQYXRoKCksDQoJCQkJICAgIC8vIG90aGVyd2lzZSB0aGUgRGF0YSBVcmwgd29uJ3QgbWF0Y2ggdGhlIGlkIG9mIHRoZSBlbWJlZGRlZCBQYWdlLg0KCQkJCQlyZXR1cm4gdS5oYXNoLnNwbGl0KCBkaWFsb2dIYXNoS2V5IClbMF0ucmVwbGFjZSggL14jLywgIiIgKTsNCgkJCQl9IGVsc2UgaWYgKCBwYXRoLmlzU2FtZURvbWFpbiggdSwgZG9jdW1lbnRCYXNlICkgKSB7DQoJCQkJCXJldHVybiB1LmhyZWZOb0hhc2gucmVwbGFjZSggZG9jdW1lbnRCYXNlLmRvbWFpbiwgIiIgKTsNCgkJCQl9DQoJCQkJcmV0dXJuIGFic1VybDsNCgkJCX0sDQoNCgkJCS8vZ2V0IHBhdGggZnJvbSBjdXJyZW50IGhhc2gsIG9yIGZyb20gYSBmaWxlIHBhdGgNCgkJCWdldDogZnVuY3Rpb24oIG5ld1BhdGggKSB7DQoJCQkJaWYoIG5ld1BhdGggPT09IHVuZGVmaW5lZCApIHsNCgkJCQkJbmV3UGF0aCA9IGxvY2F0aW9uLmhhc2g7DQoJCQkJfQ0KCQkJCXJldHVybiBwYXRoLnN0cmlwSGFzaCggbmV3UGF0aCApLnJlcGxhY2UoIC9bXlwvXSpcLlteXC8qXSskLywgJycgKTsNCgkJCX0sDQoNCgkJCS8vcmV0dXJuIHRoZSBzdWJzdHJpbmcgb2YgYSBmaWxlcGF0aCBiZWZvcmUgdGhlIHN1Yi1wYWdlIGtleSwgZm9yIG1ha2luZyBhIHNlcnZlciByZXF1ZXN0DQoJCQlnZXRGaWxlUGF0aDogZnVuY3Rpb24oIHBhdGggKSB7DQoJCQkJdmFyIHNwbGl0a2V5ID0gJyYnICsgJC5tb2JpbGUuc3ViUGFnZVVybEtleTsNCgkJCQlyZXR1cm4gcGF0aCAmJiBwYXRoLnNwbGl0KCBzcGxpdGtleSApWzBdLnNwbGl0KCBkaWFsb2dIYXNoS2V5IClbMF07DQoJCQl9LA0KDQoJCQkvL3NldCBsb2NhdGlvbiBoYXNoIHRvIHBhdGgNCgkJCXNldDogZnVuY3Rpb24oIHBhdGggKSB7DQoJCQkJbG9jYXRpb24uaGFzaCA9IHBhdGg7DQoJCQl9LA0KDQoJCQkvL3Rlc3QgaWYgYSBnaXZlbiB1cmwgKHN0cmluZykgaXMgYSBwYXRoDQoJCQkvL05PVEUgbWlnaHQgYmUgZXhjZXB0aW9uYWxseSBuYWl2ZQ0KCQkJaXNQYXRoOiBmdW5jdGlvbiggdXJsICkgew0KCQkJCXJldHVybiAoIC9cLy8gKS50ZXN0KCB1cmwgKTsNCgkJCX0sDQoNCgkJCS8vcmV0dXJuIGEgdXJsIHBhdGggd2l0aCB0aGUgd2luZG93J3MgbG9jYXRpb24gcHJvdG9jb2wvaG9zdG5hbWUvcGF0aG5hbWUgcmVtb3ZlZA0KCQkJY2xlYW46IGZ1bmN0aW9uKCB1cmwgKSB7DQoJCQkJcmV0dXJuIHVybC5yZXBsYWNlKCBkb2N1bWVudEJhc2UuZG9tYWluLCAiIiApOw0KCQkJfSwNCg0KCQkJLy9qdXN0IHJldHVybiB0aGUgdXJsIHdpdGhvdXQgYW4gaW5pdGlhbCAjDQoJCQlzdHJpcEhhc2g6IGZ1bmN0aW9uKCB1cmwgKSB7DQoJCQkJcmV0dXJuIHVybC5yZXBsYWNlKCAvXiMvLCAiIiApOw0KCQkJfSwNCg0KCQkJLy9yZW1vdmUgdGhlIHByZWNlZGluZyBoYXNoLCBhbnkgcXVlcnkgcGFyYW1zLCBhbmQgZGlhbG9nIG5vdGF0aW9ucw0KCQkJY2xlYW5IYXNoOiBmdW5jdGlvbiggaGFzaCApIHsNCgkJCQlyZXR1cm4gcGF0aC5zdHJpcEhhc2goIGhhc2gucmVwbGFjZSggL1w/LiokLywgIiIgKS5yZXBsYWNlKCBkaWFsb2dIYXNoS2V5LCAiIiApICk7DQoJCQl9LA0KDQoJCQkvL2NoZWNrIHdoZXRoZXIgYSB1cmwgaXMgcmVmZXJlbmNpbmcgdGhlIHNhbWUgZG9tYWluLCBvciBhbiBleHRlcm5hbCBkb21haW4gb3IgZGlmZmVyZW50IHByb3RvY29sDQoJCQkvL2NvdWxkIGJlIG1haWx0bywgZXRjDQoJCQlpc0V4dGVybmFsOiBmdW5jdGlvbiggdXJsICkgew0KCQkJCXZhciB1ID0gcGF0aC5wYXJzZVVybCggdXJsICk7DQoJCQkJcmV0dXJuIHUucHJvdG9jb2wgJiYgdS5kb21haW4gIT09IGRvY3VtZW50VXJsLmRvbWFpbiA/IHRydWUgOiBmYWxzZTsNCgkJCX0sDQoNCgkJCWhhc1Byb3RvY29sOiBmdW5jdGlvbiggdXJsICkgew0KCQkJCXJldHVybiAoIC9eKDo/XHcrOikvICkudGVzdCggdXJsICk7DQoJCQl9LA0KDQoJCQkvL2NoZWNrIGlmIHRoZSBzcGVjaWZpZWQgdXJsIHJlZmVycyB0byB0aGUgZmlyc3QgcGFnZSBpbiB0aGUgbWFpbiBhcHBsaWNhdGlvbiBkb2N1bWVudC4NCgkJCWlzRmlyc3RQYWdlVXJsOiBmdW5jdGlvbiggdXJsICkgew0KCQkJCS8vIFdlIG9ubHkgZGVhbCB3aXRoIGFic29sdXRlIHBhdGhzLg0KCQkJCXZhciB1ID0gcGF0aC5wYXJzZVVybCggcGF0aC5tYWtlVXJsQWJzb2x1dGUoIHVybCwgZG9jdW1lbnRCYXNlICkgKSwNCg0KCQkJCQkvLyBEb2VzIHRoZSB1cmwgaGF2ZSB0aGUgc2FtZSBwYXRoIGFzIHRoZSBkb2N1bWVudD8NCgkJCQkJc2FtZVBhdGggPSB1LmhyZWZOb0hhc2ggPT09IGRvY3VtZW50VXJsLmhyZWZOb0hhc2ggfHwgKCBkb2N1bWVudEJhc2VEaWZmZXJzICYmIHUuaHJlZk5vSGFzaCA9PT0gZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2ggKSwNCg0KCQkJCQkvLyBHZXQgdGhlIGZpcnN0IHBhZ2UgZWxlbWVudC4NCgkJCQkJZnAgPSAkLm1vYmlsZS5maXJzdFBhZ2UsDQoNCgkJCQkJLy8gR2V0IHRoZSBpZCBvZiB0aGUgZmlyc3QgcGFnZSBlbGVtZW50IGlmIGl0IGhhcyBvbmUuDQoJCQkJCWZwSWQgPSBmcCAmJiBmcFswXSA/IGZwWzBdLmlkIDogdW5kZWZpbmVkOw0KDQoJCQkJCS8vIFRoZSB1cmwgcmVmZXJzIHRvIHRoZSBmaXJzdCBwYWdlIGlmIHRoZSBwYXRoIG1hdGNoZXMgdGhlIGRvY3VtZW50IGFuZA0KCQkJCQkvLyBpdCBlaXRoZXIgaGFzIG5vIGhhc2ggdmFsdWUsIG9yIHRoZSBoYXNoIGlzIGV4YWN0bHkgZXF1YWwgdG8gdGhlIGlkIG9mIHRoZQ0KCQkJCQkvLyBmaXJzdCBwYWdlIGVsZW1lbnQuDQoJCQkJCXJldHVybiBzYW1lUGF0aCAmJiAoICF1Lmhhc2ggfHwgdS5oYXNoID09PSAiIyIgfHwgKCBmcElkICYmIHUuaGFzaC5yZXBsYWNlKCAvXiMvLCAiIiApID09PSBmcElkICkgKTsNCgkJCX0sDQoNCgkJCWlzRW1iZWRkZWRQYWdlOiBmdW5jdGlvbiggdXJsICkgew0KCQkJCXZhciB1ID0gcGF0aC5wYXJzZVVybCggdXJsICk7DQoNCgkJCQkvL2lmIHRoZSBwYXRoIGlzIGFic29sdXRlLCB0aGVuIHdlIG5lZWQgdG8gY29tcGFyZSB0aGUgdXJsIGFnYWluc3QNCgkJCQkvL2JvdGggdGhlIGRvY3VtZW50VXJsIGFuZCB0aGUgZG9jdW1lbnRCYXNlLiBUaGUgbWFpbiByZWFzb24gZm9yIHRoaXMNCgkJCQkvL2lzIHRoYXQgbGlua3MgZW1iZWRkZWQgd2l0aGluIGV4dGVybmFsIGRvY3VtZW50cyB3aWxsIHJlZmVyIHRvIHRoZQ0KCQkJCS8vYXBwbGljYXRpb24gZG9jdW1lbnQsIHdoZXJlYXMgbGlua3MgZW1iZWRkZWQgd2l0aGluIHRoZSBhcHBsaWNhdGlvbg0KCQkJCS8vZG9jdW1lbnQgd2lsbCBiZSByZXNvbHZlZCBhZ2FpbnN0IHRoZSBkb2N1bWVudCBiYXNlLg0KCQkJCWlmICggdS5wcm90b2NvbCAhPT0gIiIgKSB7DQoJCQkJCXJldHVybiAoIHUuaGFzaCAmJiAoIHUuaHJlZk5vSGFzaCA9PT0gZG9jdW1lbnRVcmwuaHJlZk5vSGFzaCB8fCAoIGRvY3VtZW50QmFzZURpZmZlcnMgJiYgdS5ocmVmTm9IYXNoID09PSBkb2N1bWVudEJhc2UuaHJlZk5vSGFzaCApICkgKTsNCgkJCQl9DQoJCQkJcmV0dXJuICgvXiMvKS50ZXN0KCB1LmhyZWYgKTsNCgkJCX0NCgkJfSwNCg0KCQkvL3dpbGwgYmUgZGVmaW5lZCB3aGVuIGEgbGluayBpcyBjbGlja2VkIGFuZCBnaXZlbiBhbiBhY3RpdmUgY2xhc3MNCgkJJGFjdGl2ZUNsaWNrZWRMaW5rID0gbnVsbCwNCg0KCQkvL3VybEhpc3RvcnkgaXMgcHVyZWx5IGhlcmUgdG8gbWFrZSBndWVzc2VzIGF0IHdoZXRoZXIgdGhlIGJhY2sgb3IgZm9yd2FyZCBidXR0b24gd2FzIGNsaWNrZWQNCgkJLy9hbmQgcHJvdmlkZSBhbiBhcHByb3ByaWF0ZSB0cmFuc2l0aW9uDQoJCXVybEhpc3RvcnkgPSB7DQoJCQkvLyBBcnJheSBvZiBwYWdlcyB0aGF0IGFyZSB2aXNpdGVkIGR1cmluZyBhIHNpbmdsZSBwYWdlIGxvYWQuDQoJCQkvLyBFYWNoIGhhcyBhIHVybCBhbmQgb3B0aW9uYWwgdHJhbnNpdGlvbiwgdGl0bGUsIGFuZCBwYWdlVXJsICh3aGljaCByZXByZXNlbnRzIHRoZSBmaWxlIHBhdGgsIGluIGNhc2VzIHdoZXJlIFVSTCBpcyBvYnNjdXJlZCwgc3VjaCBhcyBkaWFsb2dzKQ0KCQkJc3RhY2s6IFtdLA0KDQoJCQkvL21haW50YWluIGFuIGluZGV4IG51bWJlciBmb3IgdGhlIGFjdGl2ZSBwYWdlIGluIHRoZSBzdGFjaw0KCQkJYWN0aXZlSW5kZXg6IDAsDQoNCgkJCS8vZ2V0IGFjdGl2ZQ0KCQkJZ2V0QWN0aXZlOiBmdW5jdGlvbigpIHsNCgkJCQlyZXR1cm4gdXJsSGlzdG9yeS5zdGFja1sgdXJsSGlzdG9yeS5hY3RpdmVJbmRleCBdOw0KCQkJfSwNCg0KCQkJZ2V0UHJldjogZnVuY3Rpb24oKSB7DQoJCQkJcmV0dXJuIHVybEhpc3Rvcnkuc3RhY2tbIHVybEhpc3RvcnkuYWN0aXZlSW5kZXggLSAxIF07DQoJCQl9LA0KDQoJCQlnZXROZXh0OiBmdW5jdGlvbigpIHsNCgkJCQlyZXR1cm4gdXJsSGlzdG9yeS5zdGFja1sgdXJsSGlzdG9yeS5hY3RpdmVJbmRleCArIDEgXTsNCgkJCX0sDQoNCgkJCS8vIGFkZE5ldyBpcyB1c2VkIHdoZW5ldmVyIGEgbmV3IHBhZ2UgaXMgYWRkZWQNCgkJCWFkZE5ldzogZnVuY3Rpb24oIHVybCwgdHJhbnNpdGlvbiwgdGl0bGUsIHBhZ2VVcmwsIHJvbGUgKSB7DQoJCQkJLy9pZiB0aGVyZSdzIGZvcndhcmQgaGlzdG9yeSwgd2lwZSBpdA0KCQkJCWlmKCB1cmxIaXN0b3J5LmdldE5leHQoKSApIHsNCgkJCQkJdXJsSGlzdG9yeS5jbGVhckZvcndhcmQoKTsNCgkJCQl9DQoNCgkJCQl1cmxIaXN0b3J5LnN0YWNrLnB1c2goIHt1cmwgOiB1cmwsIHRyYW5zaXRpb246IHRyYW5zaXRpb24sIHRpdGxlOiB0aXRsZSwgcGFnZVVybDogcGFnZVVybCwgcm9sZTogcm9sZSB9ICk7DQoNCgkJCQl1cmxIaXN0b3J5LmFjdGl2ZUluZGV4ID0gdXJsSGlzdG9yeS5zdGFjay5sZW5ndGggLSAxOw0KCQkJfSwNCg0KCQkJLy93aXBlIHVybHMgYWhlYWQgb2YgYWN0aXZlIGluZGV4DQoJCQljbGVhckZvcndhcmQ6IGZ1bmN0aW9uKCkgew0KCQkJCXVybEhpc3Rvcnkuc3RhY2sgPSB1cmxIaXN0b3J5LnN0YWNrLnNsaWNlKCAwLCB1cmxIaXN0b3J5LmFjdGl2ZUluZGV4ICsgMSApOw0KCQkJfSwNCg0KCQkJZGlyZWN0SGFzaENoYW5nZTogZnVuY3Rpb24oIG9wdHMgKSB7DQoJCQkJdmFyIGJhY2sgLCBmb3J3YXJkLCBuZXdBY3RpdmVJbmRleCwgcHJldiA9IHRoaXMuZ2V0QWN0aXZlKCk7DQoNCgkJCQkvLyBjaGVjayBpZiB1cmwgaXNwIGluIGhpc3RvcnkgYW5kIGlmIGl0J3MgYWhlYWQgb3IgYmVoaW5kIGN1cnJlbnQgcGFnZQ0KCQkJCSQuZWFjaCggdXJsSGlzdG9yeS5zdGFjaywgZnVuY3Rpb24oIGksIGhpc3RvcnlFbnRyeSApIHsNCg0KCQkJCQkvL2lmIHRoZSB1cmwgaXMgaW4gdGhlIHN0YWNrLCBpdCdzIGEgZm9yd2FyZCBvciBhIGJhY2sNCgkJCQkJaWYoIG9wdHMuY3VycmVudFVybCA9PT0gaGlzdG9yeUVudHJ5LnVybCApIHsNCgkJCQkJCS8vZGVmaW5lIGJhY2sgYW5kIGZvcndhcmQgYnkgd2hldGhlciB1cmwgaXMgb2xkZXIgb3IgbmV3ZXIgdGhhbiBjdXJyZW50IHBhZ2UNCgkJCQkJCWJhY2sgPSBpIDwgdXJsSGlzdG9yeS5hY3RpdmVJbmRleDsNCgkJCQkJCWZvcndhcmQgPSAhYmFjazsNCgkJCQkJCW5ld0FjdGl2ZUluZGV4ID0gaTsNCgkJCQkJfQ0KCQkJCX0pOw0KDQoJCQkJLy8gc2F2ZSBuZXcgcGFnZSBpbmRleCwgbnVsbCBjaGVjayB0byBwcmV2ZW50IGZhbHNleSAwIHJlc3VsdA0KCQkJCXRoaXMuYWN0aXZlSW5kZXggPSBuZXdBY3RpdmVJbmRleCAhPT0gdW5kZWZpbmVkID8gbmV3QWN0aXZlSW5kZXggOiB0aGlzLmFjdGl2ZUluZGV4Ow0KDQoJCQkJaWYoIGJhY2sgKSB7DQoJCQkJCSggb3B0cy5laXRoZXIgfHwgb3B0cy5pc0JhY2sgKSggdHJ1ZSApOw0KCQkJCX0gZWxzZSBpZiggZm9yd2FyZCApIHsNCgkJCQkJKCBvcHRzLmVpdGhlciB8fCBvcHRzLmlzRm9yd2FyZCApKCBmYWxzZSApOw0KCQkJCX0NCgkJCX0sDQoNCgkJCS8vZGlzYWJsZSBoYXNoY2hhbmdlIGV2ZW50IGxpc3RlbmVyIGludGVybmFsbHkgdG8gaWdub3JlIG9uZSBjaGFuZ2UNCgkJCS8vdG9nZ2xlZCBpbnRlcm5hbGx5IHdoZW4gbG9jYXRpb24uaGFzaCBpcyB1cGRhdGVkIHRvIG1hdGNoIHRoZSB1cmwgb2YgYSBzdWNjZXNzZnVsIHBhZ2UgbG9hZA0KCQkJaWdub3JlTmV4dEhhc2hDaGFuZ2U6IGZhbHNlDQoJCX0sDQoNCgkJLy9kZWZpbmUgZmlyc3Qgc2VsZWN0b3IgdG8gcmVjZWl2ZSBmb2N1cyB3aGVuIGEgcGFnZSBpcyBzaG93bg0KCQlmb2N1c2FibGUgPSAiW3RhYmluZGV4XSxhLGJ1dHRvbjp2aXNpYmxlLHNlbGVjdDp2aXNpYmxlLGlucHV0IiwNCg0KCQkvL3F1ZXVlIHRvIGhvbGQgc2ltdWx0YW5pb3VzIHBhZ2UgdHJhbnNpdGlvbnMNCgkJcGFnZVRyYW5zaXRpb25RdWV1ZSA9IFtdLA0KDQoJCS8vaW5kaWNhdGVzIHdoZXRoZXIgb3Igbm90IHBhZ2UgaXMgaW4gcHJvY2VzcyBvZiB0cmFuc2l0aW9uaW5nDQoJCWlzUGFnZVRyYW5zaXRpb25pbmcgPSBmYWxzZSwNCg0KCQkvL25vbnNlbnNlIGhhc2ggY2hhbmdlIGtleSBmb3IgZGlhbG9ncywgc28gdGhleSBjcmVhdGUgYSBoaXN0b3J5IGVudHJ5DQoJCWRpYWxvZ0hhc2hLZXkgPSAiJnVpLXN0YXRlPWRpYWxvZyIsDQoNCgkJLy9leGlzdGluZyBiYXNlIHRhZz8NCgkJJGJhc2UgPSAkaGVhZC5jaGlsZHJlbiggImJhc2UiICksDQoNCgkJLy90dWNrIGF3YXkgdGhlIG9yaWdpbmFsIGRvY3VtZW50IFVSTCBtaW51cyBhbnkgZnJhZ21lbnQuDQoJCWRvY3VtZW50VXJsID0gcGF0aC5wYXJzZVVybCggbG9jYXRpb24uaHJlZiApLA0KDQoJCS8vaWYgdGhlIGRvY3VtZW50IGhhcyBhbiBlbWJlZGRlZCBiYXNlIHRhZywgZG9jdW1lbnRCYXNlIGlzIHNldCB0byBpdHMNCgkJLy9pbml0aWFsIHZhbHVlLiBJZiBhIGJhc2UgdGFnIGRvZXMgbm90IGV4aXN0LCB0aGVuIHdlIGRlZmF1bHQgdG8gdGhlIGRvY3VtZW50VXJsLg0KCQlkb2N1bWVudEJhc2UgPSAkYmFzZS5sZW5ndGggPyBwYXRoLnBhcnNlVXJsKCBwYXRoLm1ha2VVcmxBYnNvbHV0ZSggJGJhc2UuYXR0ciggImhyZWYiICksIGRvY3VtZW50VXJsLmhyZWYgKSApIDogZG9jdW1lbnRVcmwsDQoNCgkJLy9jYWNoZSB0aGUgY29tcGFyaXNvbiBvbmNlLg0KCQlkb2N1bWVudEJhc2VEaWZmZXJzID0gKCBkb2N1bWVudFVybC5ocmVmTm9IYXNoICE9PSBkb2N1bWVudEJhc2UuaHJlZk5vSGFzaCApOw0KDQoJCS8vYmFzZSBlbGVtZW50IG1hbmFnZW1lbnQsIGRlZmluZWQgZGVwZW5kaW5nIG9uIGR5bmFtaWMgYmFzZSB0YWcgc3VwcG9ydA0KCQl2YXIgYmFzZSA9ICQuc3VwcG9ydC5keW5hbWljQmFzZVRhZyA/IHsNCg0KCQkJLy9kZWZpbmUgYmFzZSBlbGVtZW50LCBmb3IgdXNlIGluIHJvdXRpbmcgYXNzZXQgdXJscyB0aGF0IGFyZSByZWZlcmVuY2VkIGluIEFqYXgtcmVxdWVzdGVkIG1hcmt1cA0KCQkJZWxlbWVudDogKCAkYmFzZS5sZW5ndGggPyAkYmFzZSA6ICQoICI8YmFzZT4iLCB7IGhyZWY6IGRvY3VtZW50QmFzZS5ocmVmTm9IYXNoIH0gKS5wcmVwZW5kVG8oICRoZWFkICkgKSwNCg0KCQkJLy9zZXQgdGhlIGdlbmVyYXRlZCBCQVNFIGVsZW1lbnQncyBocmVmIGF0dHJpYnV0ZSB0byBhIG5ldyBwYWdlJ3MgYmFzZSBwYXRoDQoJCQlzZXQ6IGZ1bmN0aW9uKCBocmVmICkgew0KCQkJCWJhc2UuZWxlbWVudC5hdHRyKCAiaHJlZiIsIHBhdGgubWFrZVVybEFic29sdXRlKCBocmVmLCBkb2N1bWVudEJhc2UgKSApOw0KCQkJfSwNCg0KCQkJLy9zZXQgdGhlIGdlbmVyYXRlZCBCQVNFIGVsZW1lbnQncyBocmVmIGF0dHJpYnV0ZSB0byBhIG5ldyBwYWdlJ3MgYmFzZSBwYXRoDQoJCQlyZXNldDogZnVuY3Rpb24oKSB7DQoJCQkJYmFzZS5lbGVtZW50LmF0dHIoICJocmVmIiwgZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2ggKTsNCgkJCX0NCg0KCQl9IDogdW5kZWZpbmVkOw0KDQovKg0KCWludGVybmFsIHV0aWxpdHkgZnVuY3Rpb25zDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovDQoNCg0KCS8vZGlyZWN0IGZvY3VzIHRvIHRoZSBwYWdlIHRpdGxlLCBvciBvdGhlcndpc2UgZmlyc3QgZm9jdXNhYmxlIGVsZW1lbnQNCglmdW5jdGlvbiByZUZvY3VzKCBwYWdlICkgew0KCQl2YXIgcGFnZVRpdGxlID0gcGFnZS5maW5kKCAiLnVpLXRpdGxlOmVxKDApIiApOw0KDQoJCWlmKCBwYWdlVGl0bGUubGVuZ3RoICkgew0KCQkJcGFnZVRpdGxlLmZvY3VzKCk7DQoJCX0NCgkJZWxzZXsNCgkJCXBhZ2UuZm9jdXMoKTsNCgkJfQ0KCX0NCg0KCS8vcmVtb3ZlIGFjdGl2ZSBjbGFzc2VzIGFmdGVyIHBhZ2UgdHJhbnNpdGlvbiBvciBlcnJvcg0KCWZ1bmN0aW9uIHJlbW92ZUFjdGl2ZUxpbmtDbGFzcyggZm9yY2VSZW1vdmFsICkgew0KCQlpZiggISEkYWN0aXZlQ2xpY2tlZExpbmsgJiYgKCAhJGFjdGl2ZUNsaWNrZWRMaW5rLmNsb3Nlc3QoICcudWktcGFnZS1hY3RpdmUnICkubGVuZ3RoIHx8IGZvcmNlUmVtb3ZhbCApICkgew0KCQkJJGFjdGl2ZUNsaWNrZWRMaW5rLnJlbW92ZUNsYXNzKCAkLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyApOw0KCQl9DQoJCSRhY3RpdmVDbGlja2VkTGluayA9IG51bGw7DQoJfQ0KDQoJZnVuY3Rpb24gcmVsZWFzZVBhZ2VUcmFuc2l0aW9uTG9jaygpIHsNCgkJaXNQYWdlVHJhbnNpdGlvbmluZyA9IGZhbHNlOw0KCQlpZiggcGFnZVRyYW5zaXRpb25RdWV1ZS5sZW5ndGggPiAwICkgew0KCQkJJC5tb2JpbGUuY2hhbmdlUGFnZS5hcHBseSggbnVsbCwgcGFnZVRyYW5zaXRpb25RdWV1ZS5wb3AoKSApOw0KCQl9DQoJfQ0KDQoJLy8gU2F2ZSB0aGUgbGFzdCBzY3JvbGwgZGlzdGFuY2UgcGVyIHBhZ2UsIGJlZm9yZSBpdCBpcyBoaWRkZW4NCgl2YXIgc2V0TGFzdFNjcm9sbEVuYWJsZWQgPSB0cnVlLA0KCQlmaXJzdFNjcm9sbEVsZW0sIGdldFNjcm9sbEVsZW0sIHNldExhc3RTY3JvbGwsIGRlbGF5ZWRTZXRMYXN0U2Nyb2xsOw0KDQoJZ2V0U2Nyb2xsRWxlbSA9IGZ1bmN0aW9uKCkgew0KCQl2YXIgc2Nyb2xsRWxlbSA9ICR3aW5kb3csIGFjdGl2ZVBhZ2UsDQoJCQl0b3VjaE92ZXJmbG93ID0gJC5zdXBwb3J0LnRvdWNoT3ZlcmZsb3cgJiYgJC5tb2JpbGUudG91Y2hPdmVyZmxvd0VuYWJsZWQ7DQoNCgkJaWYoIHRvdWNoT3ZlcmZsb3cgKXsNCgkJCWFjdGl2ZVBhZ2UgPSAkKCAiLnVpLXBhZ2UtYWN0aXZlIiApOw0KCQkJc2Nyb2xsRWxlbSA9IGFjdGl2ZVBhZ2UuaXMoICIudWktbmF0aXZlLWZpeGVkIiApID8gYWN0aXZlUGFnZS5maW5kKCAiLnVpLWNvbnRlbnQiICkgOiBhY3RpdmVQYWdlOw0KCQl9DQoNCgkJcmV0dXJuIHNjcm9sbEVsZW07DQoJfTsNCg0KCXNldExhc3RTY3JvbGwgPSBmdW5jdGlvbiggc2Nyb2xsRWxlbSApIHsNCgkJLy8gdGhpcyBiYXJyaWVyIHByZXZlbnRzIHNldHRpbmcgdGhlIHNjcm9sbCB2YWx1ZSBiYXNlZCBvbiB0aGUgYnJvd3Nlcg0KCQkvLyBzY3JvbGxpbmcgdGhlIHdpbmRvdyBiYXNlZCBvbiBhIGhhc2hjaGFuZ2UNCgkJaWYoICFzZXRMYXN0U2Nyb2xsRW5hYmxlZCApIHsNCgkJCXJldHVybjsNCgkJfQ0KDQoJCXZhciBhY3RpdmUgPSAkLm1vYmlsZS51cmxIaXN0b3J5LmdldEFjdGl2ZSgpOw0KDQoJCWlmKCBhY3RpdmUgKSB7DQoJCQl2YXIgbGFzdFNjcm9sbCA9IHNjcm9sbEVsZW0gJiYgc2Nyb2xsRWxlbS5zY3JvbGxUb3AoKTsNCg0KCQkJLy8gU2V0IGFjdGl2ZSBwYWdlJ3MgbGFzdFNjcm9sbCBwcm9wLg0KCQkJLy8gSWYgdGhlIGxvY2F0aW9uIHdlJ3JlIHNjcm9sbGluZyB0byBpcyBsZXNzIHRoYW4gbWluU2Nyb2xsQmFjaywgbGV0IGl0IGdvLg0KCQkJYWN0aXZlLmxhc3RTY3JvbGwgPSBsYXN0U2Nyb2xsIDwgJC5tb2JpbGUubWluU2Nyb2xsQmFjayA/ICQubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsIDogbGFzdFNjcm9sbDsNCgkJfQ0KCX07DQoNCgkvLyBiaW5kIHRvIHNjcm9sbHN0b3AgdG8gZ2F0aGVyIHNjcm9sbCBwb3NpdGlvbi4gVGhlIGRlbGF5IGFsbG93cyBmb3IgdGhlIGhhc2hjaGFuZ2UNCgkvLyBldmVudCB0byBmaXJlIGFuZCBkaXNhYmxlIHNjcm9sbCByZWNvcmRpbmcgaW4gdGhlIGNhc2Ugd2hlcmUgdGhlIGJyb3dzZXIgc2Nyb2xscw0KCS8vIHRvIHRoZSBoYXNoIHRhcmdldHMgbG9jYXRpb24gKHNvbWV0aW1lcyB0aGUgdG9wIG9mIHRoZSBwYWdlKS4gb25jZSBwYWdlY2hhbmdlIGZpcmVzDQoJLy8gZ2V0TGFzdFNjcm9sbCBpcyBhZ2FpbiBwZXJtaXR0ZWQgdG8gb3BlcmF0ZQ0KCWRlbGF5ZWRTZXRMYXN0U2Nyb2xsID0gZnVuY3Rpb24oKSB7DQoJCXNldFRpbWVvdXQoIHNldExhc3RTY3JvbGwsIDEwMCwgJCh0aGlzKSApOw0KCX07DQoNCgkvLyBkaXNhYmxlIGFuIHNjcm9sbCBzZXR0aW5nIHdoZW4gYSBoYXNoY2hhbmdlIGhhcyBiZWVuIGZpcmVkLCB0aGlzIG9ubHkgd29ya3MNCgkvLyBiZWNhdXNlIHRoZSByZWNvcmRpbmcgb2YgdGhlIHNjcm9sbCBwb3NpdGlvbiBpcyBkZWxheWVkIGZvciAxMDBtcyBhZnRlcg0KCS8vIHRoZSBicm93c2VyIG1pZ2h0IGhhdmUgY2hhbmdlZCB0aGUgcG9zaXRpb24gYmVjYXVzZSBvZiB0aGUgaGFzaGNoYW5nZQ0KCSR3aW5kb3cuYmluZCggJC5zdXBwb3J0LnB1c2hTdGF0ZSA/ICJwb3BzdGF0ZSIgOiAiaGFzaGNoYW5nZSIsIGZ1bmN0aW9uKCkgew0KCSAJc2V0TGFzdFNjcm9sbEVuYWJsZWQgPSBmYWxzZTsNCgl9KTsNCg0KCS8vIGhhbmRsZSBpbml0aWFsIGhhc2hjaGFuZ2UgZnJvbSBjaHJvbWUgOigNCgkkd2luZG93Lm9uZSggJC5zdXBwb3J0LnB1c2hTdGF0ZSA/ICJwb3BzdGF0ZSIgOiAiaGFzaGNoYW5nZSIsIGZ1bmN0aW9uKCkgew0KCQlzZXRMYXN0U2Nyb2xsRW5hYmxlZCA9IHRydWU7DQoJfSk7DQoNCgkvLyB3YWl0IHVudGlsIHRoZSBtb2JpbGUgcGFnZSBjb250YWluZXIgaGFzIGJlZW4gZGV0ZXJtaW5lZCB0byBiaW5kIHRvIHBhZ2VjaGFuZ2UNCgkkd2luZG93Lm9uZSggInBhZ2Vjb250YWluZXJjcmVhdGUiLCBmdW5jdGlvbigpew0KCQkvLyBvbmNlIHRoZSBwYWdlIGhhcyBjaGFuZ2VkLCByZS1lbmFibGUgdGhlIHNjcm9sbCByZWNvcmRpbmcNCgkJJC5tb2JpbGUucGFnZUNvbnRhaW5lci5iaW5kKCAicGFnZWNoYW5nZSIsIGZ1bmN0aW9uKCkgew0KCQkJdmFyIHNjcm9sbEVsZW0gPSBnZXRTY3JvbGxFbGVtKCk7DQoNCgkgCQlzZXRMYXN0U2Nyb2xsRW5hYmxlZCA9IHRydWU7DQoNCgkJCS8vIHJlbW92ZSBhbnkgYmluZGluZyB0aGF0IHByZXZpb3VzbHkgZXhpc3RlZCBvbiB0aGUgZ2V0IHNjcm9sbA0KCQkJLy8gd2hpY2ggbWF5IG9yIG1heSBub3QgYmUgZGlmZmVyZW50IHRoYW4gdGhlIHNjcm9sbCBlbGVtZW50IGRldGVybWluZWQgZm9yDQoJCQkvLyB0aGlzIHBhZ2UgcHJldmlvdXNseQ0KCQkJc2Nyb2xsRWxlbS51bmJpbmQoICJzY3JvbGxzdG9wIiwgZGVsYXllZFNldExhc3RTY3JvbGwgKTsNCg0KCQkJLy8gZGV0ZXJtaW5lIGFuZCBiaW5kIHRvIHRoZSBjdXJyZW50IHNjb2xsIGVsZW1lbnQgd2hpY2ggbWF5IGJlIHRoZSB3aW5kb3cNCgkJCS8vIG9yIGluIHRoZSBjYXNlIG9mIHRvdWNoIG92ZXJmbG93IHRoZSBlbGVtZW50IHdpdGggdG91Y2ggb3ZlcmZsb3cNCgkJCXNjcm9sbEVsZW0uYmluZCggInNjcm9sbHN0b3AiLCBkZWxheWVkU2V0TGFzdFNjcm9sbCApOw0KCQl9KTsNCgl9KTsNCg0KCS8vIGJpbmQgdG8gc2Nyb2xsc3RvcCBmb3IgdGhlIGZpcnN0IHBhZ2UgYXMgInBhZ2VjaGFuZ2UiIHdvbid0IGJlIGZpcmVkIGluIHRoYXQgY2FzZQ0KCWdldFNjcm9sbEVsZW0oKS5iaW5kKCAic2Nyb2xsc3RvcCIsIGRlbGF5ZWRTZXRMYXN0U2Nyb2xsICk7DQoNCgkvLyBNYWtlIHRoZSBpT1MgY2xvY2sgcXVpY2stc2Nyb2xsIHdvcmsgYWdhaW4gaWYgd2UncmUgdXNpbmcgbmF0aXZlIG92ZXJmbG93IHNjcm9sbGluZw0KCS8qDQoJaWYoICQuc3VwcG9ydC50b3VjaE92ZXJmbG93ICl7DQoJCWlmKCAkLm1vYmlsZS50b3VjaE92ZXJmbG93RW5hYmxlZCApew0KCQkJJCggd2luZG93ICkuYmluZCggInNjcm9sbHN0b3AiLCBmdW5jdGlvbigpew0KCQkJCWlmKCAkKCB0aGlzICkuc2Nyb2xsVG9wKCkgPT09IDAgKXsNCgkJCQkJJC5tb2JpbGUuYWN0aXZlUGFnZS5zY3JvbGxUb3AoIDAgKTsNCgkJCQl9DQoJCQl9KTsNCgkJfQ0KCX0NCgkqLw0KDQoJLy9mdW5jdGlvbiBmb3IgdHJhbnNpdGlvbmluZyBiZXR3ZWVuIHR3byBleGlzdGluZyBwYWdlcw0KCWZ1bmN0aW9uIHRyYW5zaXRpb25QYWdlcyggdG9QYWdlLCBmcm9tUGFnZSwgdHJhbnNpdGlvbiwgcmV2ZXJzZSApIHsNCg0KCQkvL2dldCBjdXJyZW50IHNjcm9sbCBkaXN0YW5jZQ0KCQl2YXIgYWN0aXZlCT0gJC5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKSwNCgkJCXRvdWNoT3ZlcmZsb3cgPSAkLnN1cHBvcnQudG91Y2hPdmVyZmxvdyAmJiAkLm1vYmlsZS50b3VjaE92ZXJmbG93RW5hYmxlZCwNCgkJCXRvU2Nyb2xsID0gYWN0aXZlLmxhc3RTY3JvbGwgfHwgKCB0b3VjaE92ZXJmbG93ID8gMCA6ICQubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsICksDQoJCQlzY3JlZW5IZWlnaHQgPSBnZXRTY3JlZW5IZWlnaHQoKTsNCg0KCQkvLyBTY3JvbGwgdG8gdG9wLCBoaWRlIGFkZHIgYmFyDQoJCXdpbmRvdy5zY3JvbGxUbyggMCwgJC5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwgKTsNCg0KCQlpZiggZnJvbVBhZ2UgKSB7DQoJCQkvL3RyaWdnZXIgYmVmb3JlIHNob3cvaGlkZSBldmVudHMNCgkJCWZyb21QYWdlLmRhdGEoICJwYWdlIiApLl90cmlnZ2VyKCAiYmVmb3JlaGlkZSIsIG51bGwsIHsgbmV4dFBhZ2U6IHRvUGFnZSB9ICk7DQoJCX0NCg0KCQlpZiggIXRvdWNoT3ZlcmZsb3cpew0KCQkJdG9QYWdlLmhlaWdodCggc2NyZWVuSGVpZ2h0ICsgdG9TY3JvbGwgKTsNCgkJfQ0KDQoJCXRvUGFnZS5kYXRhKCAicGFnZSIgKS5fdHJpZ2dlciggImJlZm9yZXNob3ciLCBudWxsLCB7IHByZXZQYWdlOiBmcm9tUGFnZSB8fCAkKCAiIiApIH0gKTsNCg0KCQkvL2NsZWFyIHBhZ2UgbG9hZGVyDQoJCSQubW9iaWxlLmhpZGVQYWdlTG9hZGluZ01zZygpOw0KDQoJCWlmKCB0b3VjaE92ZXJmbG93ICYmIHRvU2Nyb2xsICl7DQoNCgkJCXRvUGFnZS5hZGRDbGFzcyggInVpLW1vYmlsZS1wcmUtdHJhbnNpdGlvbiIgKTsNCgkJCS8vIFNlbmQgZm9jdXMgdG8gcGFnZSBhcyBpdCBpcyBub3cgZGlzcGxheTogYmxvY2sNCgkJCXJlRm9jdXMoIHRvUGFnZSApOw0KDQoJCQkvL3NldCBwYWdlJ3Mgc2Nyb2xsVG9wIHRvIHJlbWVtYmVyZWQgZGlzdGFuY2UNCgkJCWlmKCB0b1BhZ2UuaXMoICIudWktbmF0aXZlLWZpeGVkIiApICl7DQoJCQkJdG9QYWdlLmZpbmQoICIudWktY29udGVudCIgKS5zY3JvbGxUb3AoIHRvU2Nyb2xsICk7DQoJCQl9DQoJCQllbHNlew0KCQkJCXRvUGFnZS5zY3JvbGxUb3AoIHRvU2Nyb2xsICk7DQoJCQl9DQoJCX0NCg0KCQkvL2ZpbmQgdGhlIHRyYW5zaXRpb24gaGFuZGxlciBmb3IgdGhlIHNwZWNpZmllZCB0cmFuc2l0aW9uLiBJZiB0aGVyZQ0KCQkvL2lzbid0IG9uZSBpbiBvdXIgdHJhbnNpdGlvbkhhbmRsZXJzIGRpY3Rpb25hcnksIHVzZSB0aGUgZGVmYXVsdCBvbmUuDQoJCS8vY2FsbCB0aGUgaGFuZGxlciBpbW1lZGlhdGVseSB0byBraWNrLW9mZiB0aGUgdHJhbnNpdGlvbi4NCgkJdmFyIHRoID0gJC5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzW3RyYW5zaXRpb24gfHwgIm5vbmUiXSB8fCAkLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXIsDQoJCQlwcm9taXNlID0gdGgoIHRyYW5zaXRpb24sIHJldmVyc2UsIHRvUGFnZSwgZnJvbVBhZ2UgKTsNCg0KCQlwcm9taXNlLmRvbmUoZnVuY3Rpb24oKSB7DQoJCQkvL3Jlc2V0IHRvUGFnZSBoZWlnaHQgYmFjaw0KCQkJaWYoICF0b3VjaE92ZXJmbG93ICl7DQoJCQkJdG9QYWdlLmhlaWdodCggIiIgKTsNCgkJCQkvLyBTZW5kIGZvY3VzIHRvIHRoZSBuZXdseSBzaG93biBwYWdlDQoJCQkJcmVGb2N1cyggdG9QYWdlICk7DQoJCQl9DQoNCgkJCS8vIEp1bXAgdG8gdG9wIG9yIHByZXYgc2Nyb2xsLCBzb21ldGltZXMgb24gaU9TIHRoZSBwYWdlIGhhcyBub3QgcmVuZGVyZWQgeWV0Lg0KCQkJaWYoICF0b3VjaE92ZXJmbG93ICl7DQoJCQkJJC5tb2JpbGUuc2lsZW50U2Nyb2xsKCB0b1Njcm9sbCApOw0KCQkJfQ0KDQoJCQkvL3RyaWdnZXIgc2hvdy9oaWRlIGV2ZW50cw0KCQkJaWYoIGZyb21QYWdlICkgew0KCQkJCWlmKCAhdG91Y2hPdmVyZmxvdyApew0KCQkJCQlmcm9tUGFnZS5oZWlnaHQoICIiICk7DQoJCQkJfQ0KDQoJCQkJZnJvbVBhZ2UuZGF0YSggInBhZ2UiICkuX3RyaWdnZXIoICJoaWRlIiwgbnVsbCwgeyBuZXh0UGFnZTogdG9QYWdlIH0gKTsNCgkJCX0NCg0KCQkJLy90cmlnZ2VyIHBhZ2VzaG93LCBkZWZpbmUgcHJldlBhZ2UgYXMgZWl0aGVyIGZyb21QYWdlIG9yIGVtcHR5IGpRdWVyeSBvYmoNCgkJCXRvUGFnZS5kYXRhKCAicGFnZSIgKS5fdHJpZ2dlciggInNob3ciLCBudWxsLCB7IHByZXZQYWdlOiBmcm9tUGFnZSB8fCAkKCAiIiApIH0gKTsNCgkJfSk7DQoNCgkJcmV0dXJuIHByb21pc2U7DQoJfQ0KDQoJLy9zaW1wbHkgc2V0IHRoZSBhY3RpdmUgcGFnZSdzIG1pbmltdW0gaGVpZ2h0IHRvIHNjcmVlbiBoZWlnaHQsIGRlcGVuZGluZyBvbiBvcmllbnRhdGlvbg0KCWZ1bmN0aW9uIGdldFNjcmVlbkhlaWdodCgpew0KCQl2YXIgb3JpZW50YXRpb24gCT0gJC5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLm9yaWVudGF0aW9uKCksDQoJCQlwb3J0CQkJPSBvcmllbnRhdGlvbiA9PT0gInBvcnRyYWl0IiwNCgkJCXdpbk1pbgkJCT0gcG9ydCA/IDQ4MCA6IDMyMCwNCgkJCXNjcmVlbkhlaWdodAk9IHBvcnQgPyBzY3JlZW4uYXZhaWxIZWlnaHQgOiBzY3JlZW4uYXZhaWxXaWR0aCwNCgkJCXdpbkhlaWdodAkJPSBNYXRoLm1heCggd2luTWluLCAkKCB3aW5kb3cgKS5oZWlnaHQoKSApLA0KCQkJcGFnZU1pbgkJCT0gTWF0aC5taW4oIHNjcmVlbkhlaWdodCwgd2luSGVpZ2h0ICk7DQoNCgkJcmV0dXJuIHBhZ2VNaW47DQoJfQ0KDQoJJC5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0ID0gZ2V0U2NyZWVuSGVpZ2h0Ow0KDQoJLy9zaW1wbHkgc2V0IHRoZSBhY3RpdmUgcGFnZSdzIG1pbmltdW0gaGVpZ2h0IHRvIHNjcmVlbiBoZWlnaHQsIGRlcGVuZGluZyBvbiBvcmllbnRhdGlvbg0KCWZ1bmN0aW9uIHJlc2V0QWN0aXZlUGFnZUhlaWdodCgpew0KCQkvLyBEb24ndCBhcHBseSB0aGlzIGhlaWdodCBpbiB0b3VjaCBvdmVyZmxvdyBlbmFibGVkIG1vZGUNCgkJaWYoICQuc3VwcG9ydC50b3VjaE92ZXJmbG93ICYmICQubW9iaWxlLnRvdWNoT3ZlcmZsb3dFbmFibGVkICl7DQoJCQlyZXR1cm47DQoJCX0NCgkJJCggIi4iICsgJC5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzICkuY3NzKCAibWluLWhlaWdodCIsIGdldFNjcmVlbkhlaWdodCgpICk7DQoJfQ0KDQoJLy9zaGFyZWQgcGFnZSBlbmhhbmNlbWVudHMNCglmdW5jdGlvbiBlbmhhbmNlUGFnZSggJHBhZ2UsIHJvbGUgKSB7DQoJCS8vIElmIGEgcm9sZSB3YXMgc3BlY2lmaWVkLCBtYWtlIHN1cmUgdGhlIGRhdGEtcm9sZSBhdHRyaWJ1dGUNCgkJLy8gb24gdGhlIHBhZ2UgZWxlbWVudCBpcyBpbiBzeW5jLg0KCQlpZiggcm9sZSApIHsNCgkJCSRwYWdlLmF0dHIoICJkYXRhLSIgKyAkLm1vYmlsZS5ucyArICJyb2xlIiwgcm9sZSApOw0KCQl9DQoNCgkJLy9ydW4gcGFnZSBwbHVnaW4NCgkJJHBhZ2UucGFnZSgpOw0KCX0NCg0KLyogZXhwb3NlZCAkLm1vYmlsZSBtZXRob2RzCSAqLw0KDQoJLy9hbmltYXRpb24gY29tcGxldGUgY2FsbGJhY2sNCgkkLmZuLmFuaW1hdGlvbkNvbXBsZXRlID0gZnVuY3Rpb24oIGNhbGxiYWNrICkgew0KCQlpZiggJC5zdXBwb3J0LmNzc1RyYW5zaXRpb25zICkgew0KCQkJcmV0dXJuICQoIHRoaXMgKS5vbmUoICd3ZWJraXRBbmltYXRpb25FbmQnLCBjYWxsYmFjayApOw0KCQl9DQoJCWVsc2V7DQoJCQkvLyBkZWZlciBleGVjdXRpb24gZm9yIGNvbnNpc3RlbmN5IGJldHdlZW4gd2Via2l0L25vbiB3ZWJraXQNCgkJCXNldFRpbWVvdXQoIGNhbGxiYWNrLCAwICk7DQoJCQlyZXR1cm4gJCggdGhpcyApOw0KCQl9DQoJfTsNCg0KCS8vZXhwb3NlIHBhdGggb2JqZWN0IG9uICQubW9iaWxlDQoJJC5tb2JpbGUucGF0aCA9IHBhdGg7DQoNCgkvL2V4cG9zZSBiYXNlIG9iamVjdCBvbiAkLm1vYmlsZQ0KCSQubW9iaWxlLmJhc2UgPSBiYXNlOw0KDQoJLy9oaXN0b3J5IHN0YWNrDQoJJC5tb2JpbGUudXJsSGlzdG9yeSA9IHVybEhpc3Rvcnk7DQoNCgkkLm1vYmlsZS5kaWFsb2dIYXNoS2V5ID0gZGlhbG9nSGFzaEtleTsNCg0KCS8vZGVmYXVsdCBub24tYW5pbWF0aW9uIHRyYW5zaXRpb24gaGFuZGxlcg0KCSQubW9iaWxlLm5vbmVUcmFuc2l0aW9uSGFuZGxlciA9IGZ1bmN0aW9uKCBuYW1lLCByZXZlcnNlLCAkdG9QYWdlLCAkZnJvbVBhZ2UgKSB7DQoJCWlmICggJGZyb21QYWdlICkgew0KCQkJJGZyb21QYWdlLnJlbW92ZUNsYXNzKCAkLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MgKTsNCgkJfQ0KCQkkdG9QYWdlLmFkZENsYXNzKCAkLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MgKTsNCg0KCQlyZXR1cm4gJC5EZWZlcnJlZCgpLnJlc29sdmUoIG5hbWUsIHJldmVyc2UsICR0b1BhZ2UsICRmcm9tUGFnZSApLnByb21pc2UoKTsNCgl9Ow0KDQoJLy9kZWZhdWx0IGhhbmRsZXIgZm9yIHVua25vd24gdHJhbnNpdGlvbnMNCgkkLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXIgPSAkLm1vYmlsZS5ub25lVHJhbnNpdGlvbkhhbmRsZXI7DQoNCgkvL3RyYW5zaXRpb24gaGFuZGxlciBkaWN0aW9uYXJ5IGZvciAzcmQgcGFydHkgdHJhbnNpdGlvbnMNCgkkLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnMgPSB7DQoJCW5vbmU6ICQubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcg0KCX07DQoNCgkvL2VuYWJsZSBjcm9zcy1kb21haW4gcGFnZSBzdXBwb3J0DQoJJC5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzID0gZmFsc2U7DQoNCgkvL3JldHVybiB0aGUgb3JpZ2luYWwgZG9jdW1lbnQgdXJsDQoJJC5tb2JpbGUuZ2V0RG9jdW1lbnRVcmwgPSBmdW5jdGlvbihhc1BhcnNlZE9iamVjdCkgew0KCQlyZXR1cm4gYXNQYXJzZWRPYmplY3QgPyAkLmV4dGVuZCgge30sIGRvY3VtZW50VXJsICkgOiBkb2N1bWVudFVybC5ocmVmOw0KCX07DQoNCgkvL3JldHVybiB0aGUgb3JpZ2luYWwgZG9jdW1lbnQgYmFzZSB1cmwNCgkkLm1vYmlsZS5nZXREb2N1bWVudEJhc2UgPSBmdW5jdGlvbihhc1BhcnNlZE9iamVjdCkgew0KCQlyZXR1cm4gYXNQYXJzZWRPYmplY3QgPyAkLmV4dGVuZCgge30sIGRvY3VtZW50QmFzZSApIDogZG9jdW1lbnRCYXNlLmhyZWY7DQoJfTsNCg0KCSQubW9iaWxlLl9iaW5kUGFnZVJlbW92ZSA9IGZ1bmN0aW9uKCkgew0KCQl2YXIgcGFnZSA9ICQodGhpcyk7DQoNCgkJLy8gd2hlbiBkb20gY2FjaGluZyBpcyBub3QgZW5hYmxlZCBvciB0aGUgcGFnZSBpcyBlbWJlZGRlZCBiaW5kIHRvIHJlbW92ZSB0aGUgcGFnZSBvbiBoaWRlDQoJCWlmKCAhcGFnZS5kYXRhKCJwYWdlIikub3B0aW9ucy5kb21DYWNoZQ0KCQkJCSYmIHBhZ2UuaXMoIjpqcW1EYXRhKGV4dGVybmFsLXBhZ2U9J3RydWUnKSIpICkgew0KDQoJCQlwYWdlLmJpbmQoICdwYWdlaGlkZS5yZW1vdmUnLCBmdW5jdGlvbigpIHsNCgkJCQl2YXIgJHRoaXMgPSAkKCB0aGlzICksDQoJCQkJCXByRXZlbnQgPSBuZXcgJC5FdmVudCggInBhZ2VyZW1vdmUiICk7DQoNCgkJCQkkdGhpcy50cmlnZ2VyKCBwckV2ZW50ICk7DQoNCgkJCQlpZiggIXByRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgKXsNCgkJCQkJJHRoaXMucmVtb3ZlV2l0aERlcGVuZGVudHMoKTsNCgkJCQl9DQoJCQl9KTsNCgkJfQ0KCX07DQoNCgkvLyBMb2FkIGEgcGFnZSBpbnRvIHRoZSBET00uDQoJJC5tb2JpbGUubG9hZFBhZ2UgPSBmdW5jdGlvbiggdXJsLCBvcHRpb25zICkgew0KCQkvLyBUaGlzIGZ1bmN0aW9uIHVzZXMgZGVmZXJyZWQgbm90aWZpY2F0aW9ucyB0byBsZXQgY2FsbGVycw0KCQkvLyBrbm93IHdoZW4gdGhlIHBhZ2UgaXMgZG9uZSBsb2FkaW5nLCBvciBpZiBhbiBlcnJvciBoYXMgb2NjdXJyZWQuDQoJCXZhciBkZWZlcnJlZCA9ICQuRGVmZXJyZWQoKSwNCg0KCQkJLy8gVGhlIGRlZmF1bHQgbG9hZFBhZ2Ugb3B0aW9ucyB3aXRoIG92ZXJyaWRlcyBzcGVjaWZpZWQgYnkNCgkJCS8vIHRoZSBjYWxsZXIuDQoJCQlzZXR0aW5ncyA9ICQuZXh0ZW5kKCB7fSwgJC5tb2JpbGUubG9hZFBhZ2UuZGVmYXVsdHMsIG9wdGlvbnMgKSwNCg0KCQkJLy8gVGhlIERPTSBlbGVtZW50IGZvciB0aGUgcGFnZSBhZnRlciBpdCBoYXMgYmVlbiBsb2FkZWQuDQoJCQlwYWdlID0gbnVsbCwNCg0KCQkJLy8gSWYgdGhlIHJlbG9hZFBhZ2Ugb3B0aW9uIGlzIHRydWUsIGFuZCB0aGUgcGFnZSBpcyBhbHJlYWR5DQoJCQkvLyBpbiB0aGUgRE9NLCBkdXBDYWNoZWRQYWdlIHdpbGwgYmUgc2V0IHRvIHRoZSBwYWdlIGVsZW1lbnQNCgkJCS8vIHNvIHRoYXQgaXQgY2FuIGJlIHJlbW92ZWQgYWZ0ZXIgdGhlIG5ldyB2ZXJzaW9uIG9mIHRoZQ0KCQkJLy8gcGFnZSBpcyBsb2FkZWQgb2ZmIHRoZSBuZXR3b3JrLg0KCQkJZHVwQ2FjaGVkUGFnZSA9IG51bGwsDQoNCgkJCS8vIGRldGVybWluZSB0aGUgY3VycmVudCBiYXNlIHVybA0KCQkJZmluZEJhc2VXaXRoRGVmYXVsdCA9IGZ1bmN0aW9uKCl7DQoJCQkJdmFyIGNsb3Nlc3RCYXNlID0gKCAkLm1vYmlsZS5hY3RpdmVQYWdlICYmIGdldENsb3Nlc3RCYXNlVXJsKCAkLm1vYmlsZS5hY3RpdmVQYWdlICkgKTsNCgkJCQlyZXR1cm4gY2xvc2VzdEJhc2UgfHwgZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2g7DQoJCQl9LA0KDQoJCQkvLyBUaGUgYWJzb2x1dGUgdmVyc2lvbiBvZiB0aGUgVVJMIHBhc3NlZCBpbnRvIHRoZSBmdW5jdGlvbi4gVGhpcw0KCQkJLy8gdmVyc2lvbiBvZiB0aGUgVVJMIG1heSBjb250YWluIGRpYWxvZy9zdWJwYWdlIHBhcmFtcyBpbiBpdC4NCgkJCWFic1VybCA9IHBhdGgubWFrZVVybEFic29sdXRlKCB1cmwsIGZpbmRCYXNlV2l0aERlZmF1bHQoKSApOw0KDQoNCgkJLy8gSWYgdGhlIGNhbGxlciBwcm92aWRlZCBkYXRhLCBhbmQgd2UncmUgdXNpbmcgImdldCIgcmVxdWVzdCwNCgkJLy8gYXBwZW5kIHRoZSBkYXRhIHRvIHRoZSBVUkwuDQoJCWlmICggc2V0dGluZ3MuZGF0YSAmJiBzZXR0aW5ncy50eXBlID09PSAiZ2V0IiApIHsNCgkJCWFic1VybCA9IHBhdGguYWRkU2VhcmNoUGFyYW1zKCBhYnNVcmwsIHNldHRpbmdzLmRhdGEgKTsNCgkJCXNldHRpbmdzLmRhdGEgPSB1bmRlZmluZWQ7DQoJCX0NCg0KCQkvLyBJZiB0aGUgY2FsbGVyIGlzIHVzaW5nIGEgInBvc3QiIHJlcXVlc3QsIHJlbG9hZFBhZ2UgbXVzdCBiZSB0cnVlDQoJCWlmKCAgc2V0dGluZ3MuZGF0YSAmJiBzZXR0aW5ncy50eXBlID09PSAicG9zdCIgKXsNCgkJCXNldHRpbmdzLnJlbG9hZFBhZ2UgPSB0cnVlOw0KCQl9DQoNCgkJCS8vIFRoZSBhYnNvbHV0ZSB2ZXJzaW9uIG9mIHRoZSBVUkwgbWludXMgYW55IGRpYWxvZy9zdWJwYWdlIHBhcmFtcy4NCgkJCS8vIEluIG90aGVyd29yZHMgdGhlIHJlYWwgVVJMIG9mIHRoZSBwYWdlIHRvIGJlIGxvYWRlZC4NCgkJdmFyIGZpbGVVcmwgPSBwYXRoLmdldEZpbGVQYXRoKCBhYnNVcmwgKSwNCg0KCQkJLy8gVGhlIHZlcnNpb24gb2YgdGhlIFVybCBhY3R1YWxseSBzdG9yZWQgaW4gdGhlIGRhdGEtdXJsIGF0dHJpYnV0ZSBvZg0KCQkJLy8gdGhlIHBhZ2UuIEZvciBlbWJlZGRlZCBwYWdlcywgaXQgaXMganVzdCB0aGUgaWQgb2YgdGhlIHBhZ2UuIEZvciBwYWdlcw0KCQkJLy8gd2l0aGluIHRoZSBzYW1lIGRvbWFpbiBhcyB0aGUgZG9jdW1lbnQgYmFzZSwgaXQgaXMgdGhlIHNpdGUgcmVsYXRpdmUNCgkJCS8vIHBhdGguIEZvciBjcm9zcy1kb21haW4gcGFnZXMgKFBob25lIEdhcCBvbmx5KSB0aGUgZW50aXJlIGFic29sdXRlIFVybA0KCQkJLy8gdXNlZCB0byBsb2FkIHRoZSBwYWdlLg0KCQkJZGF0YVVybCA9IHBhdGguY29udmVydFVybFRvRGF0YVVybCggYWJzVXJsICk7DQoNCgkJLy8gTWFrZSBzdXJlIHdlIGhhdmUgYSBwYWdlQ29udGFpbmVyIHRvIHdvcmsgd2l0aC4NCgkJc2V0dGluZ3MucGFnZUNvbnRhaW5lciA9IHNldHRpbmdzLnBhZ2VDb250YWluZXIgfHwgJC5tb2JpbGUucGFnZUNvbnRhaW5lcjsNCg0KCQkvLyBDaGVjayB0byBzZWUgaWYgdGhlIHBhZ2UgYWxyZWFkeSBleGlzdHMgaW4gdGhlIERPTS4NCgkJcGFnZSA9IHNldHRpbmdzLnBhZ2VDb250YWluZXIuY2hpbGRyZW4oICI6anFtRGF0YSh1cmw9JyIgKyBkYXRhVXJsICsgIicpIiApOw0KDQoJCS8vIElmIHdlIGZhaWxlZCB0byBmaW5kIHRoZSBwYWdlLCBjaGVjayB0byBzZWUgaWYgdGhlIHVybCBpcyBhDQoJCS8vIHJlZmVyZW5jZSB0byBhbiBlbWJlZGRlZCBwYWdlLiBJZiBzbywgaXQgbWF5IGhhdmUgYmVlbiBkeW5hbWljYWxseQ0KCQkvLyBpbmplY3RlZCBieSBhIGRldmVsb3BlciwgaW4gd2hpY2ggY2FzZSBpdCB3b3VsZCBiZSBsYWNraW5nIGEgZGF0YS11cmwNCgkJLy8gYXR0cmlidXRlIGFuZCBpbiBuZWVkIG9mIGVuaGFuY2VtZW50Lg0KCQlpZiAoIHBhZ2UubGVuZ3RoID09PSAwICYmIGRhdGFVcmwgJiYgIXBhdGguaXNQYXRoKCBkYXRhVXJsICkgKSB7DQoJCQlwYWdlID0gc2V0dGluZ3MucGFnZUNvbnRhaW5lci5jaGlsZHJlbiggIiMiICsgZGF0YVVybCApDQoJCQkJLmF0dHIoICJkYXRhLSIgKyAkLm1vYmlsZS5ucyArICJ1cmwiLCBkYXRhVXJsICk7DQoJCX0NCg0KCQkvLyBJZiB3ZSBmYWlsZWQgdG8gZmluZCBhIHBhZ2UgaW4gdGhlIERPTSwgY2hlY2sgdGhlIFVSTCB0byBzZWUgaWYgaXQNCgkJLy8gcmVmZXJzIHRvIHRoZSBmaXJzdCBwYWdlIGluIHRoZSBhcHBsaWNhdGlvbi4gSWYgaXQgaXNuJ3QgYSByZWZlcmVuY2UNCgkJLy8gdG8gdGhlIGZpcnN0IHBhZ2UgYW5kIHJlZmVycyB0byBub24tZXhpc3RlbnQgZW1iZWRkZWQgcGFnZSwgZXJyb3Igb3V0Lg0KCQlpZiAoIHBhZ2UubGVuZ3RoID09PSAwICkgew0KCQkJaWYgKCAkLm1vYmlsZS5maXJzdFBhZ2UgJiYgcGF0aC5pc0ZpcnN0UGFnZVVybCggZmlsZVVybCApICkgew0KCQkJCS8vIENoZWNrIHRvIG1ha2Ugc3VyZSBvdXIgY2FjaGVkLWZpcnN0LXBhZ2UgaXMgYWN0dWFsbHkNCgkJCQkvLyBpbiB0aGUgRE9NLiBTb21lIHVzZXIgZGVwbG95ZWQgYXBwcyBhcmUgcHJ1bmluZyB0aGUgZmlyc3QNCgkJCQkvLyBwYWdlIGZyb20gdGhlIERPTSBmb3IgdmFyaW91cyByZWFzb25zLCB3ZSBjaGVjayBmb3IgdGhpcw0KCQkJCS8vIGNhc2UgaGVyZSBiZWNhdXNlIHdlIGRvbid0IHdhbnQgYSBmaXJzdC1wYWdlIHdpdGggYW4gaWQNCgkJCQkvLyBmYWxsaW5nIHRocm91Z2ggdG8gdGhlIG5vbi1leGlzdGVudCBlbWJlZGRlZCBwYWdlIGVycm9yDQoJCQkJLy8gY2FzZS4gSWYgdGhlIGZpcnN0LXBhZ2UgaXMgbm90IGluIHRoZSBET00sIHRoZW4gd2UgbGV0DQoJCQkJLy8gdGhpbmdzIGZhbGwgdGhyb3VnaCB0byB0aGUgYWpheCBsb2FkaW5nIGNvZGUgYmVsb3cgc28NCgkJCQkvLyB0aGF0IGl0IGdldHMgcmVsb2FkZWQuDQoJCQkJaWYgKCAkLm1vYmlsZS5maXJzdFBhZ2UucGFyZW50KCkubGVuZ3RoICkgew0KCQkJCQlwYWdlID0gJCggJC5tb2JpbGUuZmlyc3RQYWdlICk7DQoJCQkJfQ0KCQkJfSBlbHNlIGlmICggcGF0aC5pc0VtYmVkZGVkUGFnZSggZmlsZVVybCApICApIHsNCgkJCQlkZWZlcnJlZC5yZWplY3QoIGFic1VybCwgb3B0aW9ucyApOw0KCQkJCXJldHVybiBkZWZlcnJlZC5wcm9taXNlKCk7DQoJCQl9DQoJCX0NCg0KCQkvLyBSZXNldCBiYXNlIHRvIHRoZSBkZWZhdWx0IGRvY3VtZW50IGJhc2UuDQoJCWlmICggYmFzZSApIHsNCgkJCWJhc2UucmVzZXQoKTsNCgkJfQ0KDQoJCS8vIElmIHRoZSBwYWdlIHdlIGFyZSBpbnRlcmVzdGVkIGluIGlzIGFscmVhZHkgaW4gdGhlIERPTSwNCgkJLy8gYW5kIHRoZSBjYWxsZXIgZGlkIG5vdCBpbmRpY2F0ZSB0aGF0IHdlIHNob3VsZCBmb3JjZSBhDQoJCS8vIHJlbG9hZCBvZiB0aGUgZmlsZSwgd2UgYXJlIGRvbmUuIE90aGVyd2lzZSwgdHJhY2sgdGhlDQoJCS8vIGV4aXN0aW5nIHBhZ2UgYXMgYSBkdXBsaWNhdGVkLg0KCQlpZiAoIHBhZ2UubGVuZ3RoICkgew0KCQkJaWYgKCAhc2V0dGluZ3MucmVsb2FkUGFnZSApIHsNCgkJCQllbmhhbmNlUGFnZSggcGFnZSwgc2V0dGluZ3Mucm9sZSApOw0KCQkJCWRlZmVycmVkLnJlc29sdmUoIGFic1VybCwgb3B0aW9ucywgcGFnZSApOw0KCQkJCXJldHVybiBkZWZlcnJlZC5wcm9taXNlKCk7DQoJCQl9DQoJCQlkdXBDYWNoZWRQYWdlID0gcGFnZTsNCgkJfQ0KDQoJCXZhciBtcGMgPSBzZXR0aW5ncy5wYWdlQ29udGFpbmVyLA0KCQkJcGJsRXZlbnQgPSBuZXcgJC5FdmVudCggInBhZ2ViZWZvcmVsb2FkIiApLA0KCQkJdHJpZ2dlckRhdGEgPSB7IHVybDogdXJsLCBhYnNVcmw6IGFic1VybCwgZGF0YVVybDogZGF0YVVybCwgZGVmZXJyZWQ6IGRlZmVycmVkLCBvcHRpb25zOiBzZXR0aW5ncyB9Ow0KDQoJCS8vIExldCBsaXN0ZW5lcnMga25vdyB3ZSdyZSBhYm91dCB0byBsb2FkIGEgcGFnZS4NCgkJbXBjLnRyaWdnZXIoIHBibEV2ZW50LCB0cmlnZ2VyRGF0YSApOw0KDQoJCS8vIElmIHRoZSBkZWZhdWx0IGJlaGF2aW9yIGlzIHByZXZlbnRlZCwgc3RvcCBoZXJlIQ0KCQlpZiggcGJsRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgKXsNCgkJCXJldHVybiBkZWZlcnJlZC5wcm9taXNlKCk7DQoJCX0NCg0KCQlpZiAoIHNldHRpbmdzLnNob3dMb2FkTXNnICkgew0KDQoJCQkvLyBUaGlzIGNvbmZpZ3VyYWJsZSB0aW1lb3V0IGFsbG93cyBjYWNoZWQgcGFnZXMgYSBicmllZiBkZWxheSB0byBsb2FkIHdpdGhvdXQgc2hvd2luZyBhIG1lc3NhZ2UNCgkJCXZhciBsb2FkTXNnRGVsYXkgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7DQoJCQkJCSQubW9iaWxlLnNob3dQYWdlTG9hZGluZ01zZygpOw0KCQkJCX0sIHNldHRpbmdzLmxvYWRNc2dEZWxheSApLA0KDQoJCQkJLy8gU2hhcmVkIGxvZ2ljIGZvciBjbGVhcmluZyB0aW1lb3V0IGFuZCByZW1vdmluZyBtZXNzYWdlLg0KCQkJCWhpZGVNc2cgPSBmdW5jdGlvbigpew0KDQoJCQkJCS8vIFN0b3AgbWVzc2FnZSBzaG93IHRpbWVyDQoJCQkJCWNsZWFyVGltZW91dCggbG9hZE1zZ0RlbGF5ICk7DQoNCgkJCQkJLy8gSGlkZSBsb2FkaW5nIG1lc3NhZ2UNCgkJCQkJJC5tb2JpbGUuaGlkZVBhZ2VMb2FkaW5nTXNnKCk7DQoJCQkJfTsNCgkJfQ0KDQoJCWlmICggISggJC5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzIHx8IHBhdGguaXNTYW1lRG9tYWluKCBkb2N1bWVudFVybCwgYWJzVXJsICkgKSApIHsNCgkJCWRlZmVycmVkLnJlamVjdCggYWJzVXJsLCBvcHRpb25zICk7DQoJCX0gZWxzZSB7DQoJCQkvLyBMb2FkIHRoZSBuZXcgcGFnZS4NCgkJCSQuYWpheCh7DQoJCQkJdXJsOiBmaWxlVXJsLA0KCQkJCXR5cGU6IHNldHRpbmdzLnR5cGUsDQoJCQkJZGF0YTogc2V0dGluZ3MuZGF0YSwNCgkJCQlkYXRhVHlwZTogImh0bWwiLA0KCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKCBodG1sLCB0ZXh0U3RhdHVzLCB4aHIgKSB7DQoJCQkJCS8vcHJlLXBhcnNlIGh0bWwgdG8gY2hlY2sgZm9yIGEgZGF0YS11cmwsDQoJCQkJCS8vdXNlIGl0IGFzIHRoZSBuZXcgZmlsZVVybCwgYmFzZSBwYXRoLCBldGMNCgkJCQkJdmFyIGFsbCA9ICQoICI8ZGl2PjwvZGl2PiIgKSwNCg0KCQkJCQkJLy9wYWdlIHRpdGxlIHJlZ2V4cA0KCQkJCQkJbmV3UGFnZVRpdGxlID0gaHRtbC5tYXRjaCggLzx0aXRsZVtePl0qPihbXjxdKikvICkgJiYgUmVnRXhwLiQxLA0KDQoJCQkJCQkvLyBUT0RPIGhhbmRsZSBkaWFsb2dzIGFnYWluDQoJCQkJCQlwYWdlRWxlbVJlZ2V4ID0gbmV3IFJlZ0V4cCggIig8W14+XStcXGJkYXRhLSIgKyAkLm1vYmlsZS5ucyArICJyb2xlPVtcIiddP3BhZ2VbXCInXT9bXj5dKj4pIiApLA0KCQkJCQkJZGF0YVVybFJlZ2V4ID0gbmV3IFJlZ0V4cCggIlxcYmRhdGEtIiArICQubW9iaWxlLm5zICsgInVybD1bXCInXT8oW15cIic+XSopW1wiJ10/IiApOw0KDQoNCgkJCQkJLy8gZGF0YS11cmwgbXVzdCBiZSBwcm92aWRlZCBmb3IgdGhlIGJhc2UgdGFnIHNvIHJlc291cmNlIHJlcXVlc3RzIGNhbiBiZSBkaXJlY3RlZCB0byB0aGUNCgkJCQkJLy8gY29ycmVjdCB1cmwuIGxvYWRpbmcgaW50byBhIHRlbXByb3JhcnkgZWxlbWVudCBtYWtlcyB0aGVzZSByZXF1ZXN0cyBpbW1lZGlhdGVseQ0KCQkJCQlpZiggcGFnZUVsZW1SZWdleC50ZXN0KCBodG1sICkNCgkJCQkJCQkmJiBSZWdFeHAuJDENCgkJCQkJCQkmJiBkYXRhVXJsUmVnZXgudGVzdCggUmVnRXhwLiQxICkNCgkJCQkJCQkmJiBSZWdFeHAuJDEgKSB7DQoJCQkJCQl1cmwgPSBmaWxlVXJsID0gcGF0aC5nZXRGaWxlUGF0aCggUmVnRXhwLiQxICk7DQoJCQkJCX0NCg0KCQkJCQlpZiAoIGJhc2UgKSB7DQoJCQkJCQliYXNlLnNldCggZmlsZVVybCApOw0KCQkJCQl9DQoNCgkJCQkJLy93b3JrYXJvdW5kIHRvIGFsbG93IHNjcmlwdHMgdG8gZXhlY3V0ZSB3aGVuIGluY2x1ZGVkIGluIHBhZ2UgZGl2cw0KCQkJCQlhbGwuZ2V0KCAwICkuaW5uZXJIVE1MID0gaHRtbDsNCgkJCQkJcGFnZSA9IGFsbC5maW5kKCAiOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIgKS5maXJzdCgpOw0KDQoJCQkJCS8vaWYgcGFnZSBlbGVtIGNvdWxkbid0IGJlIGZvdW5kLCBjcmVhdGUgb25lIGFuZCBpbnNlcnQgdGhlIGJvZHkgZWxlbWVudCdzIGNvbnRlbnRzDQoJCQkJCWlmKCAhcGFnZS5sZW5ndGggKXsNCgkJCQkJCXBhZ2UgPSAkKCAiPGRpdiBkYXRhLSIgKyAkLm1vYmlsZS5ucyArICJyb2xlPSdwYWdlJz4iICsgaHRtbC5zcGxpdCggLzxcLz9ib2R5W14+XSo+L2dtaSApWzFdICsgIjwvZGl2PiIgKTsNCgkJCQkJfQ0KDQoJCQkJCWlmICggbmV3UGFnZVRpdGxlICYmICFwYWdlLmpxbURhdGEoICJ0aXRsZSIgKSApIHsNCgkJCQkJCWlmICggfm5ld1BhZ2VUaXRsZS5pbmRleE9mKCAiJiIgKSApIHsNCgkJCQkJCQluZXdQYWdlVGl0bGUgPSAkKCAiPGRpdj4iICsgbmV3UGFnZVRpdGxlICsgIjwvZGl2PiIgKS50ZXh0KCk7DQoJCQkJCQl9DQoJCQkJCQlwYWdlLmpxbURhdGEoICJ0aXRsZSIsIG5ld1BhZ2VUaXRsZSApOw0KCQkJCQl9DQoNCgkJCQkJLy9yZXdyaXRlIHNyYyBhbmQgaHJlZiBhdHRycyB0byB1c2UgYSBiYXNlIHVybA0KCQkJCQlpZiggISQuc3VwcG9ydC5keW5hbWljQmFzZVRhZyApIHsNCgkJCQkJCXZhciBuZXdQYXRoID0gcGF0aC5nZXQoIGZpbGVVcmwgKTsNCgkJCQkJCXBhZ2UuZmluZCggIltzcmNdLCBsaW5rW2hyZWZdLCBhW3JlbD0nZXh0ZXJuYWwnXSwgOmpxbURhdGEoYWpheD0nZmFsc2UnKSwgYVt0YXJnZXRdIiApLmVhY2goZnVuY3Rpb24oKSB7DQoJCQkJCQkJdmFyIHRoaXNBdHRyID0gJCggdGhpcyApLmlzKCAnW2hyZWZdJyApID8gJ2hyZWYnIDoNCgkJCQkJCQkJCSQodGhpcykuaXMoJ1tzcmNdJykgPyAnc3JjJyA6ICdhY3Rpb24nLA0KCQkJCQkJCQl0aGlzVXJsID0gJCggdGhpcyApLmF0dHIoIHRoaXNBdHRyICk7DQoNCgkJCQkJCQkvLyBYWFhfamJsYXM6IFdlIG5lZWQgdG8gZml4IHRoaXMgc28gdGhhdCBpdCByZW1vdmVzIHRoZSBkb2N1bWVudA0KCQkJCQkJCS8vICAgICAgICAgICAgYmFzZSBVUkwsIGFuZCB0aGVuIHByZXBlbmRzIHdpdGggdGhlIG5ldyBwYWdlIFVSTC4NCgkJCQkJCQkvL2lmIGZ1bGwgcGF0aCBleGlzdHMgYW5kIGlzIHNhbWUsIGNob3AgaXQgLSBoZWxwcyBJRSBvdXQNCgkJCQkJCQl0aGlzVXJsID0gdGhpc1VybC5yZXBsYWNlKCBsb2NhdGlvbi5wcm90b2NvbCArICcvLycgKyBsb2NhdGlvbi5ob3N0ICsgbG9jYXRpb24ucGF0aG5hbWUsICcnICk7DQoNCgkJCQkJCQlpZiggIS9eKFx3Kzp8I3xcLykvLnRlc3QoIHRoaXNVcmwgKSApIHsNCgkJCQkJCQkJJCggdGhpcyApLmF0dHIoIHRoaXNBdHRyLCBuZXdQYXRoICsgdGhpc1VybCApOw0KCQkJCQkJCX0NCgkJCQkJCX0pOw0KCQkJCQl9DQoNCgkJCQkJLy9hcHBlbmQgdG8gcGFnZSBhbmQgZW5oYW5jZQ0KCQkJCQkvLyBUT0RPIHRhZ2luZyBhIHBhZ2Ugd2l0aCBleHRlcm5hbCB0byBtYWtlIHN1cmUgdGhhdCBlbWJlZGRlZCBwYWdlcyBhcmVuJ3QgcmVtb3ZlZA0KCQkJCQkvLyAgICAgIGJ5IHRoZSB2YXJpb3VzIHBhZ2UgaGFuZGxpbmcgY29kZSBpcyBiYWQuIEhhdmluZyBwYWdlIGhhbmRsaW5nIGNvZGUgaW4gbWFueQ0KCQkJCQkvLyAgICAgIHBsYWNlcyBpcyBiYWQuIFNvbHV0aW9ucyBwb3N0IDEuMA0KCQkJCQlwYWdlDQoJCQkJCQkuYXR0ciggImRhdGEtIiArICQubW9iaWxlLm5zICsgInVybCIsIHBhdGguY29udmVydFVybFRvRGF0YVVybCggZmlsZVVybCApICkNCgkJCQkJCS5hdHRyKCAiZGF0YS0iICsgJC5tb2JpbGUubnMgKyAiZXh0ZXJuYWwtcGFnZSIsIHRydWUgKQ0KCQkJCQkJLmFwcGVuZFRvKCBzZXR0aW5ncy5wYWdlQ29udGFpbmVyICk7DQoNCgkJCQkJLy8gd2FpdCBmb3IgcGFnZSBjcmVhdGlvbiB0byBsZXZlcmFnZSBvcHRpb25zIGRlZmluZWQgb24gd2lkZ2V0DQoJCQkJCXBhZ2Uub25lKCAncGFnZWNyZWF0ZScsICQubW9iaWxlLl9iaW5kUGFnZVJlbW92ZSApOw0KDQoJCQkJCWVuaGFuY2VQYWdlKCBwYWdlLCBzZXR0aW5ncy5yb2xlICk7DQoNCgkJCQkJLy8gRW5oYW5jaW5nIHRoZSBwYWdlIG1heSByZXN1bHQgaW4gbmV3IGRpYWxvZ3Mvc3ViIHBhZ2VzIGJlaW5nIGluc2VydGVkDQoJCQkJCS8vIGludG8gdGhlIERPTS4gSWYgdGhlIG9yaWdpbmFsIGFic1VybCByZWZlcnMgdG8gYSBzdWItcGFnZSwgdGhhdCBpcyB0aGUNCgkJCQkJLy8gcmVhbCBwYWdlIHdlIGFyZSBpbnRlcmVzdGVkIGluLg0KCQkJCQlpZiAoIGFic1VybC5pbmRleE9mKCAiJiIgKyAkLm1vYmlsZS5zdWJQYWdlVXJsS2V5ICkgPiAtMSApIHsNCgkJCQkJCXBhZ2UgPSBzZXR0aW5ncy5wYWdlQ29udGFpbmVyLmNoaWxkcmVuKCAiOmpxbURhdGEodXJsPSciICsgZGF0YVVybCArICInKSIgKTsNCgkJCQkJfQ0KDQoJCQkJCS8vYmluZCBwYWdlSGlkZSB0byByZW1vdmVQYWdlIGFmdGVyIGl0J3MgaGlkZGVuLCBpZiB0aGUgcGFnZSBvcHRpb25zIHNwZWNpZnkgdG8gZG8gc28NCg0KCQkJCQkvLyBSZW1vdmUgbG9hZGluZyBtZXNzYWdlLg0KCQkJCQlpZiAoIHNldHRpbmdzLnNob3dMb2FkTXNnICkgew0KCQkJCQkJaGlkZU1zZygpOw0KCQkJCQl9DQoNCgkJCQkJLy8gQWRkIHRoZSBwYWdlIHJlZmVyZW5jZSBhbmQgeGhyIHRvIG91ciB0cmlnZ2VyRGF0YS4NCgkJCQkJdHJpZ2dlckRhdGEueGhyID0geGhyOw0KCQkJCQl0cmlnZ2VyRGF0YS50ZXh0U3RhdHVzID0gdGV4dFN0YXR1czsNCgkJCQkJdHJpZ2dlckRhdGEucGFnZSA9IHBhZ2U7DQoNCgkJCQkJLy8gTGV0IGxpc3RlbmVycyBrbm93IHRoZSBwYWdlIGxvYWRlZCBzdWNjZXNzZnVsbHkuDQoJCQkJCXNldHRpbmdzLnBhZ2VDb250YWluZXIudHJpZ2dlciggInBhZ2Vsb2FkIiwgdHJpZ2dlckRhdGEgKTsNCg0KCQkJCQlkZWZlcnJlZC5yZXNvbHZlKCBhYnNVcmwsIG9wdGlvbnMsIHBhZ2UsIGR1cENhY2hlZFBhZ2UgKTsNCgkJCQl9LA0KCQkJCWVycm9yOiBmdW5jdGlvbiggeGhyLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93biApIHsNCgkJCQkJLy9zZXQgYmFzZSBiYWNrIHRvIGN1cnJlbnQgcGF0aA0KCQkJCQlpZiggYmFzZSApIHsNCgkJCQkJCWJhc2Uuc2V0KCBwYXRoLmdldCgpICk7DQoJCQkJCX0NCg0KCQkJCQkvLyBBZGQgZXJyb3IgaW5mbyB0byBvdXIgdHJpZ2dlckRhdGEuDQoJCQkJCXRyaWdnZXJEYXRhLnhociA9IHhocjsNCgkJCQkJdHJpZ2dlckRhdGEudGV4dFN0YXR1cyA9IHRleHRTdGF0dXM7DQoJCQkJCXRyaWdnZXJEYXRhLmVycm9yVGhyb3duID0gZXJyb3JUaHJvd247DQoNCgkJCQkJdmFyIHBsZkV2ZW50ID0gbmV3ICQuRXZlbnQoICJwYWdlbG9hZGZhaWxlZCIgKTsNCg0KCQkJCQkvLyBMZXQgbGlzdGVuZXJzIGtub3cgdGhlIHBhZ2UgbG9hZCBmYWlsZWQuDQoJCQkJCXNldHRpbmdzLnBhZ2VDb250YWluZXIudHJpZ2dlciggcGxmRXZlbnQsIHRyaWdnZXJEYXRhICk7DQoNCgkJCQkJLy8gSWYgdGhlIGRlZmF1bHQgYmVoYXZpb3IgaXMgcHJldmVudGVkLCBzdG9wIGhlcmUhDQoJCQkJCS8vIE5vdGUgdGhhdCBpdCBpcyB0aGUgcmVzcG9uc2liaWxpdHkgb2YgdGhlIGxpc3RlbmVyL2hhbmRsZXINCgkJCQkJLy8gdGhhdCBjYWxsZWQgcHJldmVudERlZmF1bHQoKSwgdG8gcmVzb2x2ZS9yZWplY3QgdGhlDQoJCQkJCS8vIGRlZmVycmVkIG9iamVjdCB3aXRoaW4gdGhlIHRyaWdnZXJEYXRhLg0KCQkJCQlpZiggcGxmRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgKXsNCgkJCQkJCXJldHVybjsNCgkJCQkJfQ0KDQoJCQkJCS8vIFJlbW92ZSBsb2FkaW5nIG1lc3NhZ2UuDQoJCQkJCWlmICggc2V0dGluZ3Muc2hvd0xvYWRNc2cgKSB7DQoNCgkJCQkJCS8vIFJlbW92ZSBsb2FkaW5nIG1lc3NhZ2UuDQoJCQkJCQloaWRlTXNnKCk7DQoNCgkJCQkJCS8vc2hvdyBlcnJvciBtZXNzYWdlDQoJCQkJCQkkKCAiPGRpdiBjbGFzcz0ndWktbG9hZGVyIHVpLW92ZXJsYXktc2hhZG93IHVpLWJvZHktZSB1aS1jb3JuZXItYWxsJz48aDE+IisgJC5tb2JpbGUucGFnZUxvYWRFcnJvck1lc3NhZ2UgKyI8L2gxPjwvZGl2PiIgKQ0KCQkJCQkJCS5jc3MoeyAiZGlzcGxheSI6ICJibG9jayIsICJvcGFjaXR5IjogMC45NiwgInRvcCI6ICR3aW5kb3cuc2Nyb2xsVG9wKCkgKyAxMDAgfSkNCgkJCQkJCQkuYXBwZW5kVG8oIHNldHRpbmdzLnBhZ2VDb250YWluZXIgKQ0KCQkJCQkJCS5kZWxheSggODAwICkNCgkJCQkJCQkuZmFkZU91dCggNDAwLCBmdW5jdGlvbigpIHsNCgkJCQkJCQkJJCggdGhpcyApLnJlbW92ZSgpOw0KCQkJCQkJCX0pOw0KCQkJCQl9DQoNCgkJCQkJZGVmZXJyZWQucmVqZWN0KCBhYnNVcmwsIG9wdGlvbnMgKTsNCgkJCQl9DQoJCQl9KTsNCgkJfQ0KDQoJCXJldHVybiBkZWZlcnJlZC5wcm9taXNlKCk7DQoJfTsNCg0KCSQubW9iaWxlLmxvYWRQYWdlLmRlZmF1bHRzID0gew0KCQl0eXBlOiAiZ2V0IiwNCgkJZGF0YTogdW5kZWZpbmVkLA0KCQlyZWxvYWRQYWdlOiBmYWxzZSwNCgkJcm9sZTogdW5kZWZpbmVkLCAvLyBCeSBkZWZhdWx0IHdlIHJlbHkgb24gdGhlIHJvbGUgZGVmaW5lZCBieSB0aGUgQGRhdGEtcm9sZSBhdHRyaWJ1dGUuDQoJCXNob3dMb2FkTXNnOiBmYWxzZSwNCgkJcGFnZUNvbnRhaW5lcjogdW5kZWZpbmVkLA0KCQlsb2FkTXNnRGVsYXk6IDUwIC8vIFRoaXMgZGVsYXkgYWxsb3dzIGxvYWRzIHRoYXQgcHVsbCBmcm9tIGJyb3dzZXIgY2FjaGUgdG8gb2NjdXIgd2l0aG91dCBzaG93aW5nIHRoZSBsb2FkaW5nIG1lc3NhZ2UuDQoJfTsNCg0KCS8vIFNob3cgYSBzcGVjaWZpYyBwYWdlIGluIHRoZSBwYWdlIGNvbnRhaW5lci4NCgkkLm1vYmlsZS5jaGFuZ2VQYWdlID0gZnVuY3Rpb24oIHRvUGFnZSwgb3B0aW9ucyApIHsNCgkJLy8gSWYgd2UgYXJlIGluIHRoZSBtaWRzdCBvZiBhIHRyYW5zaXRpb24sIHF1ZXVlIHRoZSBjdXJyZW50IHJlcXVlc3QuDQoJCS8vIFdlJ2xsIGNhbGwgY2hhbmdlUGFnZSgpIG9uY2Ugd2UncmUgZG9uZSB3aXRoIHRoZSBjdXJyZW50IHRyYW5zaXRpb24gdG8NCgkJLy8gc2VydmljZSB0aGUgcmVxdWVzdC4NCgkJaWYoIGlzUGFnZVRyYW5zaXRpb25pbmcgKSB7DQoJCQlwYWdlVHJhbnNpdGlvblF1ZXVlLnVuc2hpZnQoIGFyZ3VtZW50cyApOw0KCQkJcmV0dXJuOw0KCQl9DQoNCgkJdmFyIHNldHRpbmdzID0gJC5leHRlbmQoIHt9LCAkLm1vYmlsZS5jaGFuZ2VQYWdlLmRlZmF1bHRzLCBvcHRpb25zICk7DQoNCgkJLy8gTWFrZSBzdXJlIHdlIGhhdmUgYSBwYWdlQ29udGFpbmVyIHRvIHdvcmsgd2l0aC4NCgkJc2V0dGluZ3MucGFnZUNvbnRhaW5lciA9IHNldHRpbmdzLnBhZ2VDb250YWluZXIgfHwgJC5tb2JpbGUucGFnZUNvbnRhaW5lcjsNCg0KCQkvLyBNYWtlIHN1cmUgd2UgaGF2ZSBhIGZyb21QYWdlLg0KCQlzZXR0aW5ncy5mcm9tUGFnZSA9IHNldHRpbmdzLmZyb21QYWdlIHx8ICQubW9iaWxlLmFjdGl2ZVBhZ2U7DQoNCgkJdmFyIG1wYyA9IHNldHRpbmdzLnBhZ2VDb250YWluZXIsDQoJCQlwYmNFdmVudCA9IG5ldyAkLkV2ZW50KCAicGFnZWJlZm9yZWNoYW5nZSIgKSwNCgkJCXRyaWdnZXJEYXRhID0geyB0b1BhZ2U6IHRvUGFnZSwgb3B0aW9uczogc2V0dGluZ3MgfTsNCg0KCQkvLyBMZXQgbGlzdGVuZXJzIGtub3cgd2UncmUgYWJvdXQgdG8gY2hhbmdlIHRoZSBjdXJyZW50IHBhZ2UuDQoJCW1wYy50cmlnZ2VyKCBwYmNFdmVudCwgdHJpZ2dlckRhdGEgKTsNCg0KCQkvLyBJZiB0aGUgZGVmYXVsdCBiZWhhdmlvciBpcyBwcmV2ZW50ZWQsIHN0b3AgaGVyZSENCgkJaWYoIHBiY0V2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpICl7DQoJCQlyZXR1cm47DQoJCX0NCg0KCQkvLyBXZSBhbGxvdyAicGFnZWJlZm9yZWNoYW5nZSIgb2JzZXJ2ZXJzIHRvIG1vZGlmeSB0aGUgdG9QYWdlIGluIHRoZSB0cmlnZ2VyDQoJCS8vIGRhdGEgdG8gYWxsb3cgZm9yIHJlZGlyZWN0cy4gTWFrZSBzdXJlIG91ciB0b1BhZ2UgaXMgdXBkYXRlZC4NCg0KCQl0b1BhZ2UgPSB0cmlnZ2VyRGF0YS50b1BhZ2U7DQoNCgkJLy8gU2V0IHRoZSBpc1BhZ2VUcmFuc2l0aW9uaW5nIGZsYWcgdG8gcHJldmVudCBhbnkgcmVxdWVzdHMgZnJvbQ0KCQkvLyBlbnRlcmluZyB0aGlzIG1ldGhvZCB3aGlsZSB3ZSBhcmUgaW4gdGhlIG1pZHN0IG9mIGxvYWRpbmcgYSBwYWdlDQoJCS8vIG9yIHRyYW5zaXRpb25pbmcuDQoNCgkJaXNQYWdlVHJhbnNpdGlvbmluZyA9IHRydWU7DQoNCgkJLy8gSWYgdGhlIGNhbGxlciBwYXNzZWQgdXMgYSB1cmwsIGNhbGwgbG9hZFBhZ2UoKQ0KCQkvLyB0byBtYWtlIHN1cmUgaXQgaXMgbG9hZGVkIGludG8gdGhlIERPTS4gV2UnbGwgbGlzdGVuDQoJCS8vIHRvIHRoZSBwcm9taXNlIG9iamVjdCBpdCByZXR1cm5zIHNvIHdlIGtub3cgd2hlbg0KCQkvLyBpdCBpcyBkb25lIGxvYWRpbmcgb3IgaWYgYW4gZXJyb3Igb2N1cnJlZC4NCgkJaWYgKCB0eXBlb2YgdG9QYWdlID09ICJzdHJpbmciICkgew0KCQkJJC5tb2JpbGUubG9hZFBhZ2UoIHRvUGFnZSwgc2V0dGluZ3MgKQ0KCQkJCS5kb25lKGZ1bmN0aW9uKCB1cmwsIG9wdGlvbnMsIG5ld1BhZ2UsIGR1cENhY2hlZFBhZ2UgKSB7DQoJCQkJCWlzUGFnZVRyYW5zaXRpb25pbmcgPSBmYWxzZTsNCgkJCQkJb3B0aW9ucy5kdXBsaWNhdGVDYWNoZWRQYWdlID0gZHVwQ2FjaGVkUGFnZTsNCgkJCQkJJC5tb2JpbGUuY2hhbmdlUGFnZSggbmV3UGFnZSwgb3B0aW9ucyApOw0KCQkJCX0pDQoJCQkJLmZhaWwoZnVuY3Rpb24oIHVybCwgb3B0aW9ucyApIHsNCgkJCQkJaXNQYWdlVHJhbnNpdGlvbmluZyA9IGZhbHNlOw0KDQoJCQkJCS8vY2xlYXIgb3V0IHRoZSBhY3RpdmUgYnV0dG9uIHN0YXRlDQoJCQkJCXJlbW92ZUFjdGl2ZUxpbmtDbGFzcyggdHJ1ZSApOw0KDQoJCQkJCS8vcmVsZWFzZSB0cmFuc2l0aW9uIGxvY2sgc28gbmF2aWdhdGlvbiBpcyBmcmVlIGFnYWluDQoJCQkJCXJlbGVhc2VQYWdlVHJhbnNpdGlvbkxvY2soKTsNCgkJCQkJc2V0dGluZ3MucGFnZUNvbnRhaW5lci50cmlnZ2VyKCAicGFnZWNoYW5nZWZhaWxlZCIsIHRyaWdnZXJEYXRhICk7DQoJCQkJfSk7DQoJCQlyZXR1cm47DQoJCX0NCg0KCQkvLyBJZiB3ZSBhcmUgZ29pbmcgdG8gdGhlIGZpcnN0LXBhZ2Ugb2YgdGhlIGFwcGxpY2F0aW9uLCB3ZSBuZWVkIHRvIG1ha2UNCgkJLy8gc3VyZSBzZXR0aW5ncy5kYXRhVXJsIGlzIHNldCB0byB0aGUgYXBwbGljYXRpb24gZG9jdW1lbnQgdXJsLiBUaGlzIGFsbG93cw0KCQkvLyB1cyB0byBhdm9pZCBnZW5lcmF0aW5nIGEgZG9jdW1lbnQgdXJsIHdpdGggYW4gaWQgaGFzaCBpbiB0aGUgY2FzZSB3aGVyZSB0aGUNCgkJLy8gZmlyc3QtcGFnZSBvZiB0aGUgZG9jdW1lbnQgaGFzIGFuIGlkIGF0dHJpYnV0ZSBzcGVjaWZpZWQuDQoJCWlmICggdG9QYWdlWyAwIF0gPT09ICQubW9iaWxlLmZpcnN0UGFnZVsgMCBdICYmICFzZXR0aW5ncy5kYXRhVXJsICkgew0KCQkJc2V0dGluZ3MuZGF0YVVybCA9IGRvY3VtZW50VXJsLmhyZWZOb0hhc2g7DQoJCX0NCg0KCQkvLyBUaGUgY2FsbGVyIHBhc3NlZCB1cyBhIHJlYWwgcGFnZSBET00gZWxlbWVudC4gVXBkYXRlIG91cg0KCQkvLyBpbnRlcm5hbCBzdGF0ZSBhbmQgdGhlbiB0cmlnZ2VyIGEgdHJhbnNpdGlvbiB0byB0aGUgcGFnZS4NCgkJdmFyIGZyb21QYWdlID0gc2V0dGluZ3MuZnJvbVBhZ2UsDQoJCQl1cmwgPSAoIHNldHRpbmdzLmRhdGFVcmwgJiYgcGF0aC5jb252ZXJ0VXJsVG9EYXRhVXJsKCBzZXR0aW5ncy5kYXRhVXJsICkgKSB8fCB0b1BhZ2UuanFtRGF0YSggInVybCIgKSwNCgkJCS8vIFRoZSBwYWdlVXJsIHZhciBpcyB1c3VhbGx5IHRoZSBzYW1lIGFzIHVybCwgZXhjZXB0IHdoZW4gdXJsIGlzIG9ic2N1cmVkIGFzIGEgZGlhbG9nIHVybC4gcGFnZVVybCBhbHdheXMgY29udGFpbnMgdGhlIGZpbGUgcGF0aA0KCQkJcGFnZVVybCA9IHVybCwNCgkJCWZpbGVVcmwgPSBwYXRoLmdldEZpbGVQYXRoKCB1cmwgKSwNCgkJCWFjdGl2ZSA9IHVybEhpc3RvcnkuZ2V0QWN0aXZlKCksDQoJCQlhY3RpdmVJc0luaXRpYWxQYWdlID0gdXJsSGlzdG9yeS5hY3RpdmVJbmRleCA9PT0gMCwNCgkJCWhpc3RvcnlEaXIgPSAwLA0KCQkJcGFnZVRpdGxlID0gZG9jdW1lbnQudGl0bGUsDQoJCQlpc0RpYWxvZyA9IHNldHRpbmdzLnJvbGUgPT09ICJkaWFsb2ciIHx8IHRvUGFnZS5qcW1EYXRhKCAicm9sZSIgKSA9PT0gImRpYWxvZyI7DQoNCgkJLy8gQnkgZGVmYXVsdCwgd2UgcHJldmVudCBjaGFuZ2VQYWdlIHJlcXVlc3RzIHdoZW4gdGhlIGZyb21QYWdlIGFuZCB0b1BhZ2UNCgkJLy8gYXJlIHRoZSBzYW1lIGVsZW1lbnQsIGJ1dCBmb2xrcyB0aGF0IGdlbmVyYXRlIGNvbnRlbnQgbWFudWFsbHkvZHluYW1pY2FsbHkNCgkJLy8gYW5kIHJldXNlIHBhZ2VzIHdhbnQgdG8gYmUgYWJsZSB0byB0cmFuc2l0aW9uIHRvIHRoZSBzYW1lIHBhZ2UuIFRvIGFsbG93DQoJCS8vIHRoaXMsIHRoZXkgd2lsbCBuZWVkIHRvIGNoYW5nZSB0aGUgZGVmYXVsdCB2YWx1ZSBvZiBhbGxvd1NhbWVQYWdlVHJhbnNpdGlvbg0KCQkvLyB0byB0cnVlLCAqT1IqLCBwYXNzIGl0IGluIGFzIGFuIG9wdGlvbiB3aGVuIHRoZXkgbWFudWFsbHkgY2FsbCBjaGFuZ2VQYWdlKCkuDQoJCS8vIEl0IHNob3VsZCBiZSBub3RlZCB0aGF0IG91ciBkZWZhdWx0IHRyYW5zaXRpb24gYW5pbWF0aW9ucyBhc3N1bWUgdGhhdCB0aGUNCgkJLy8gZm9ybVBhZ2UgYW5kIHRvUGFnZSBhcmUgZGlmZmVyZW50IGVsZW1lbnRzLCBzbyB0aGV5IG1heSBiZWhhdmUgdW5leHBlY3RlZGx5Lg0KCQkvLyBJdCBpcyB1cCB0byB0aGUgZGV2ZWxvcGVyIHRoYXQgdHVybnMgb24gdGhlIGFsbG93U2FtZVBhZ2VUcmFuc2l0aW9uYSBvcHRpb24NCgkJLy8gdG8gZWl0aGVyIHR1cm4gb2ZmIHRyYW5zaXRpb24gYW5pbWF0aW9ucywgb3IgbWFrZSBzdXJlIHRoYXQgYW4gYXBwcm9wcmlhdGUNCgkJLy8gYW5pbWF0aW9uIHRyYW5zaXRpb24gaXMgdXNlZC4NCgkJaWYoIGZyb21QYWdlICYmIGZyb21QYWdlWzBdID09PSB0b1BhZ2VbMF0gJiYgIXNldHRpbmdzLmFsbG93U2FtZVBhZ2VUcmFuc2l0aW9uICkgew0KCQkJaXNQYWdlVHJhbnNpdGlvbmluZyA9IGZhbHNlOw0KCQkJbXBjLnRyaWdnZXIoICJwYWdlY2hhbmdlIiwgdHJpZ2dlckRhdGEgKTsNCgkJCXJldHVybjsNCgkJfQ0KDQoJCS8vIFdlIG5lZWQgdG8gbWFrZSBzdXJlIHRoZSBwYWdlIHdlIGFyZSBnaXZlbiBoYXMgYWxyZWFkeSBiZWVuIGVuaGFuY2VkLg0KCQllbmhhbmNlUGFnZSggdG9QYWdlLCBzZXR0aW5ncy5yb2xlICk7DQoNCgkJLy8gSWYgdGhlIGNoYW5nZVBhZ2UgcmVxdWVzdCB3YXMgc2VudCBmcm9tIGEgaGFzaENoYW5nZSBldmVudCwgY2hlY2sgdG8gc2VlIGlmIHRoZQ0KCQkvLyBwYWdlIGlzIGFscmVhZHkgd2l0aGluIHRoZSB1cmxIaXN0b3J5IHN0YWNrLiBJZiBzbywgd2UnbGwgYXNzdW1lIHRoZSB1c2VyIGhpdA0KCQkvLyB0aGUgZm9yd2FyZC9iYWNrIGJ1dHRvbiBhbmQgd2lsbCB0cnkgdG8gbWF0Y2ggdGhlIHRyYW5zaXRpb24gYWNjb3JkaW5nbHkuDQoJCWlmKCBzZXR0aW5ncy5mcm9tSGFzaENoYW5nZSApIHsNCgkJCXVybEhpc3RvcnkuZGlyZWN0SGFzaENoYW5nZSh7DQoJCQkJY3VycmVudFVybDoJdXJsLA0KCQkJCWlzQmFjazoJCWZ1bmN0aW9uKCkgeyBoaXN0b3J5RGlyID0gLTE7IH0sDQoJCQkJaXNGb3J3YXJkOglmdW5jdGlvbigpIHsgaGlzdG9yeURpciA9IDE7IH0NCgkJCX0pOw0KCQl9DQoNCgkJLy8gS2lsbCB0aGUga2V5Ym9hcmQuDQoJCS8vIFhYWF9qYmxhczogV2UgbmVlZCB0byBzdG9wIGNyYXdsaW5nIHRoZSBlbnRpcmUgZG9jdW1lbnQgdG8ga2lsbCBmb2N1cy4gSW5zdGVhZCwNCgkJLy8gICAgICAgICAgICB3ZSBzaG91bGQgYmUgdHJhY2tpbmcgZm9jdXMgd2l0aCBhIGxpdmUoKSBoYW5kbGVyIHNvIHdlIGFscmVhZHkgaGF2ZQ0KCQkvLyAgICAgICAgICAgIHRoZSBlbGVtZW50IGluIGhhbmQgYXQgdGhpcyBwb2ludC4NCgkJLy8gV3JhcCB0aGlzIGluIGEgdHJ5L2NhdGNoIGJsb2NrIHNpbmNlIElFOSB0aHJvdyAiVW5zcGVjaWZpZWQgZXJyb3IiIGlmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQNCgkJLy8gaXMgdW5kZWZpbmVkIHdoZW4gd2UgYXJlIGluIGFuIElGcmFtZS4NCgkJdHJ5IHsNCgkJCWlmKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9ICdib2R5Jykgew0KCQkJCSQoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkuYmx1cigpOw0KCQkJfSBlbHNlIHsNCgkJCQkkKCAiaW5wdXQ6Zm9jdXMsIHRleHRhcmVhOmZvY3VzLCBzZWxlY3Q6Zm9jdXMiICkuYmx1cigpOw0KCQkJfQ0KCQl9IGNhdGNoKGUpIHt9DQoNCgkJLy8gSWYgd2UncmUgZGlzcGxheWluZyB0aGUgcGFnZSBhcyBhIGRpYWxvZywgd2UgZG9uJ3Qgd2FudCB0aGUgdXJsDQoJCS8vIGZvciB0aGUgZGlhbG9nIGNvbnRlbnQgdG8gYmUgdXNlZCBpbiB0aGUgaGFzaC4gSW5zdGVhZCwgd2Ugd2FudA0KCQkvLyB0byBhcHBlbmQgdGhlIGRpYWxvZ0hhc2hLZXkgdG8gdGhlIHVybCBvZiB0aGUgY3VycmVudCBwYWdlLg0KCQlpZiAoIGlzRGlhbG9nICYmIGFjdGl2ZSApIHsNCgkJCS8vIG9uIHRoZSBpbml0aWFsIHBhZ2UgbG9hZCBhY3RpdmUudXJsIGlzIHVuZGVmaW5lZCBhbmQgaW4gdGhhdCBjYXNlIHNob3VsZA0KCQkJLy8gYmUgYW4gZW1wdHkgc3RyaW5nLiBNb3ZpbmcgdGhlIHVuZGVmaW5lZCAtPiBlbXB0eSBzdHJpbmcgYmFjayBpbnRvDQoJCQkvLyB1cmxIaXN0b3J5LmFkZE5ldyBzZWVtZWQgaW1wcnVkZW50IGdpdmVuIHVuZGVmaW5lZCBiZXR0ZXIgcmVwcmVzZW50cw0KCQkJLy8gdGhlIHVybCBzdGF0ZQ0KCQkJdXJsID0gKCBhY3RpdmUudXJsIHx8ICIiICkgKyBkaWFsb2dIYXNoS2V5Ow0KCQl9DQoNCgkJLy8gU2V0IHRoZSBsb2NhdGlvbiBoYXNoLg0KCQlpZiggc2V0dGluZ3MuY2hhbmdlSGFzaCAhPT0gZmFsc2UgJiYgdXJsICkgew0KCQkJLy9kaXNhYmxlIGhhc2ggbGlzdGVuaW5nIHRlbXBvcmFyaWx5DQoJCQl1cmxIaXN0b3J5Lmlnbm9yZU5leHRIYXNoQ2hhbmdlID0gdHJ1ZTsNCgkJCS8vdXBkYXRlIGhhc2ggYW5kIGhpc3RvcnkNCgkJCXBhdGguc2V0KCB1cmwgKTsNCgkJfQ0KDQoJCS8vIGlmIHRpdGxlIGVsZW1lbnQgd2Fzbid0IGZvdW5kLCB0cnkgdGhlIHBhZ2UgZGl2IGRhdGEgYXR0ciB0b28NCgkJLy8gSWYgdGhpcyBpcyBhIGRlZXAtbGluayBvciBhIHJlbG9hZCAoIGFjdGl2ZSA9PT0gdW5kZWZpbmVkICkgdGhlbiBqdXN0IHVzZSBwYWdlVGl0bGUNCgkJdmFyIG5ld1BhZ2VUaXRsZSA9ICggIWFjdGl2ZSApPyBwYWdlVGl0bGUgOiB0b1BhZ2UuanFtRGF0YSggInRpdGxlIiApIHx8IHRvUGFnZS5jaGlsZHJlbigiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKS5maW5kKCIudWktdGl0bGUiICkuZ2V0RW5jb2RlZFRleHQoKTsNCgkJaWYoICEhbmV3UGFnZVRpdGxlICYmIHBhZ2VUaXRsZSA9PSBkb2N1bWVudC50aXRsZSApIHsNCgkJCXBhZ2VUaXRsZSA9IG5ld1BhZ2VUaXRsZTsNCgkJfQ0KCQlpZiAoICF0b1BhZ2UuanFtRGF0YSggInRpdGxlIiApICkgew0KCQkJdG9QYWdlLmpxbURhdGEoICJ0aXRsZSIsIHBhZ2VUaXRsZSApOw0KCQl9DQoNCgkJLy8gTWFrZSBzdXJlIHdlIGhhdmUgYSB0cmFuc2l0aW9uIGRlZmluZWQuDQoJCXNldHRpbmdzLnRyYW5zaXRpb24gPSBzZXR0aW5ncy50cmFuc2l0aW9uDQoJCQl8fCAoICggaGlzdG9yeURpciAmJiAhYWN0aXZlSXNJbml0aWFsUGFnZSApID8gYWN0aXZlLnRyYW5zaXRpb24gOiB1bmRlZmluZWQgKQ0KCQkJfHwgKCBpc0RpYWxvZyA/ICQubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9uIDogJC5tb2JpbGUuZGVmYXVsdFBhZ2VUcmFuc2l0aW9uICk7DQoNCgkJLy9hZGQgcGFnZSB0byBoaXN0b3J5IHN0YWNrIGlmIGl0J3Mgbm90IGJhY2sgb3IgZm9yd2FyZA0KCQlpZiggIWhpc3RvcnlEaXIgKSB7DQoJCQl1cmxIaXN0b3J5LmFkZE5ldyggdXJsLCBzZXR0aW5ncy50cmFuc2l0aW9uLCBwYWdlVGl0bGUsIHBhZ2VVcmwsIHNldHRpbmdzLnJvbGUgKTsNCgkJfQ0KDQoJCS8vc2V0IHBhZ2UgdGl0bGUNCgkJZG9jdW1lbnQudGl0bGUgPSB1cmxIaXN0b3J5LmdldEFjdGl2ZSgpLnRpdGxlOw0KDQoJCS8vc2V0ICJ0b1BhZ2UiIGFzIGFjdGl2ZVBhZ2UNCgkJJC5tb2JpbGUuYWN0aXZlUGFnZSA9IHRvUGFnZTsNCg0KCQkvLyBJZiB3ZSdyZSBuYXZpZ2F0aW5nIGJhY2sgaW4gdGhlIFVSTCBoaXN0b3J5LCBzZXQgcmV2ZXJzZSBhY2NvcmRpbmdseS4NCgkJc2V0dGluZ3MucmV2ZXJzZSA9IHNldHRpbmdzLnJldmVyc2UgfHwgaGlzdG9yeURpciA8IDA7DQoNCgkJdHJhbnNpdGlvblBhZ2VzKCB0b1BhZ2UsIGZyb21QYWdlLCBzZXR0aW5ncy50cmFuc2l0aW9uLCBzZXR0aW5ncy5yZXZlcnNlICkNCgkJCS5kb25lKGZ1bmN0aW9uKCkgew0KCQkJCXJlbW92ZUFjdGl2ZUxpbmtDbGFzcygpOw0KDQoJCQkJLy9pZiB0aGVyZSdzIGEgZHVwbGljYXRlQ2FjaGVkUGFnZSwgcmVtb3ZlIGl0IGZyb20gdGhlIERPTSBub3cgdGhhdCBpdCdzIGhpZGRlbg0KCQkJCWlmICggc2V0dGluZ3MuZHVwbGljYXRlQ2FjaGVkUGFnZSApIHsNCgkJCQkJc2V0dGluZ3MuZHVwbGljYXRlQ2FjaGVkUGFnZS5yZW1vdmUoKTsNCgkJCQl9DQoNCgkJCQkvL3JlbW92ZSBpbml0aWFsIGJ1aWxkIGNsYXNzIChvbmx5IHByZXNlbnQgb24gZmlyc3QgcGFnZXNob3cpDQoJCQkJJGh0bWwucmVtb3ZlQ2xhc3MoICJ1aS1tb2JpbGUtcmVuZGVyaW5nIiApOw0KDQoJCQkJcmVsZWFzZVBhZ2VUcmFuc2l0aW9uTG9jaygpOw0KDQoJCQkJLy8gTGV0IGxpc3RlbmVycyBrbm93IHdlJ3JlIGFsbCBkb25lIGNoYW5naW5nIHRoZSBjdXJyZW50IHBhZ2UuDQoJCQkJbXBjLnRyaWdnZXIoICJwYWdlY2hhbmdlIiwgdHJpZ2dlckRhdGEgKTsNCgkJCX0pOw0KCX07DQoNCgkkLm1vYmlsZS5jaGFuZ2VQYWdlLmRlZmF1bHRzID0gew0KCQl0cmFuc2l0aW9uOiB1bmRlZmluZWQsDQoJCXJldmVyc2U6IGZhbHNlLA0KCQljaGFuZ2VIYXNoOiB0cnVlLA0KCQlmcm9tSGFzaENoYW5nZTogZmFsc2UsDQoJCXJvbGU6IHVuZGVmaW5lZCwgLy8gQnkgZGVmYXVsdCB3ZSByZWx5IG9uIHRoZSByb2xlIGRlZmluZWQgYnkgdGhlIEBkYXRhLXJvbGUgYXR0cmlidXRlLg0KCQlkdXBsaWNhdGVDYWNoZWRQYWdlOiB1bmRlZmluZWQsDQoJCXBhZ2VDb250YWluZXI6IHVuZGVmaW5lZCwNCgkJc2hvd0xvYWRNc2c6IHRydWUsIC8vbG9hZGluZyBtZXNzYWdlIHNob3dzIGJ5IGRlZmF1bHQgd2hlbiBwYWdlcyBhcmUgYmVpbmcgZmV0Y2hlZCBkdXJpbmcgY2hhbmdlUGFnZQ0KCQlkYXRhVXJsOiB1bmRlZmluZWQsDQoJCWZyb21QYWdlOiB1bmRlZmluZWQsDQoJCWFsbG93U2FtZVBhZ2VUcmFuc2l0aW9uOiBmYWxzZQ0KCX07DQoNCi8qIEV2ZW50IEJpbmRpbmdzIC0gaGFzaGNoYW5nZSwgc3VibWl0LCBhbmQgY2xpY2sgKi8NCglmdW5jdGlvbiBmaW5kQ2xvc2VzdExpbmsoIGVsZSApDQoJew0KCQl3aGlsZSAoIGVsZSApIHsNCgkJCS8vIExvb2sgZm9yIHRoZSBjbG9zZXN0IGVsZW1lbnQgd2l0aCBhIG5vZGVOYW1lIG9mICJhIi4NCgkJCS8vIE5vdGUgdGhhdCB3ZSBhcmUgY2hlY2tpbmcgaWYgd2UgaGF2ZSBhIHZhbGlkIG5vZGVOYW1lDQoJCQkvLyBiZWZvcmUgYXR0ZW1wdGluZyB0byBhY2Nlc3MgaXQuIFRoaXMgaXMgYmVjYXVzZSB0aGUNCgkJCS8vIG5vZGUgd2UgZ2V0IGNhbGxlZCB3aXRoIGNvdWxkIGhhdmUgb3JpZ2luYXRlZCBmcm9tIHdpdGhpbg0KCQkJLy8gYW4gZW1iZWRkZWQgU1ZHIGRvY3VtZW50IHdoZXJlIHNvbWUgc3ltYm9sIGluc3RhbmNlIGVsZW1lbnRzDQoJCQkvLyBkb24ndCBoYXZlIG5vZGVOYW1lIGRlZmluZWQgb24gdGhlbSwgb3Igc3RyaW5ncyBhcmUgb2YgdHlwZQ0KCQkJLy8gU1ZHQW5pbWF0ZWRTdHJpbmcuDQoJCQlpZiAoICggdHlwZW9mIGVsZS5ub2RlTmFtZSA9PT0gInN0cmluZyIgKSAmJiBlbGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PSAiYSIgKSB7DQoJCQkJYnJlYWs7DQoJCQl9DQoJCQllbGUgPSBlbGUucGFyZW50Tm9kZTsNCgkJfQ0KCQlyZXR1cm4gZWxlOw0KCX0NCg0KCS8vIFRoZSBiYXNlIFVSTCBmb3IgYW55IGdpdmVuIGVsZW1lbnQgZGVwZW5kcyBvbiB0aGUgcGFnZSBpdCByZXNpZGVzIGluLg0KCWZ1bmN0aW9uIGdldENsb3Nlc3RCYXNlVXJsKCBlbGUgKQ0KCXsNCgkJLy8gRmluZCB0aGUgY2xvc2VzdCBwYWdlIGFuZCBleHRyYWN0IG91dCBpdHMgdXJsLg0KCQl2YXIgdXJsID0gJCggZWxlICkuY2xvc2VzdCggIi51aS1wYWdlIiApLmpxbURhdGEoICJ1cmwiICksDQoJCQliYXNlID0gZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2g7DQoNCgkJaWYgKCAhdXJsIHx8ICFwYXRoLmlzUGF0aCggdXJsICkgKSB7DQoJCQl1cmwgPSBiYXNlOw0KCQl9DQoNCgkJcmV0dXJuIHBhdGgubWFrZVVybEFic29sdXRlKCB1cmwsIGJhc2UpOw0KCX0NCg0KDQoJLy9UaGUgZm9sbG93aW5nIGV2ZW50IGJpbmRpbmdzIHNob3VsZCBiZSBib3VuZCBhZnRlciBtb2JpbGVpbml0IGhhcyBiZWVuIHRyaWdnZXJlZA0KCS8vdGhlIGZvbGxvd2luZyBmdW5jdGlvbiBpcyBjYWxsZWQgaW4gdGhlIGluaXQgZmlsZQ0KCSQubW9iaWxlLl9yZWdpc3RlckludGVybmFsRXZlbnRzID0gZnVuY3Rpb24oKXsNCg0KCQkvL2JpbmQgdG8gZm9ybSBzdWJtaXQgZXZlbnRzLCBoYW5kbGUgd2l0aCBBamF4DQoJCSQoICJmb3JtIiApLmxpdmUoJ3N1Ym1pdCcsIGZ1bmN0aW9uKCBldmVudCApIHsNCgkJCXZhciAkdGhpcyA9ICQoIHRoaXMgKTsNCgkJCWlmKCAhJC5tb2JpbGUuYWpheEVuYWJsZWQgfHwNCgkJCQkkdGhpcy5pcyggIjpqcW1EYXRhKGFqYXg9J2ZhbHNlJykiICkgKSB7DQoJCQkJCXJldHVybjsNCgkJCQl9DQoNCgkJCXZhciB0eXBlID0gJHRoaXMuYXR0ciggIm1ldGhvZCIgKSwNCgkJCQl0YXJnZXQgPSAkdGhpcy5hdHRyKCAidGFyZ2V0IiApLA0KCQkJCXVybCA9ICR0aGlzLmF0dHIoICJhY3Rpb24iICk7DQoNCgkJCS8vIElmIG5vIGFjdGlvbiBpcyBzcGVjaWZpZWQsIGJyb3dzZXJzIGRlZmF1bHQgdG8gdXNpbmcgdGhlDQoJCQkvLyBVUkwgb2YgdGhlIGRvY3VtZW50IGNvbnRhaW5pbmcgdGhlIGZvcm0uIFNpbmNlIHdlIGR5bmFtaWNhbGx5DQoJCQkvLyBwdWxsIGluIHBhZ2VzIGZyb20gZXh0ZXJuYWwgZG9jdW1lbnRzLCB0aGUgZm9ybSBzaG91bGQgc3VibWl0DQoJCQkvLyB0byB0aGUgVVJMIGZvciB0aGUgc291cmNlIGRvY3VtZW50IG9mIHRoZSBwYWdlIGNvbnRhaW5pbmcNCgkJCS8vIHRoZSBmb3JtLg0KCQkJaWYgKCAhdXJsICkgew0KCQkJCS8vIEdldCB0aGUgQGRhdGEtdXJsIGZvciB0aGUgcGFnZSBjb250YWluaW5nIHRoZSBmb3JtLg0KCQkJCXVybCA9IGdldENsb3Nlc3RCYXNlVXJsKCAkdGhpcyApOw0KCQkJCWlmICggdXJsID09PSBkb2N1bWVudEJhc2UuaHJlZk5vSGFzaCApIHsNCgkJCQkJLy8gVGhlIHVybCB3ZSBnb3QgYmFjayBtYXRjaGVzIHRoZSBkb2N1bWVudCBiYXNlLA0KCQkJCQkvLyB3aGljaCBtZWFucyB0aGUgcGFnZSBtdXN0IGJlIGFuIGludGVybmFsL2VtYmVkZGVkIHBhZ2UsDQoJCQkJCS8vIHNvIGRlZmF1bHQgdG8gdXNpbmcgdGhlIGFjdHVhbCBkb2N1bWVudCB1cmwgYXMgYSBicm93c2VyDQoJCQkJCS8vIHdvdWxkLg0KCQkJCQl1cmwgPSBkb2N1bWVudFVybC5ocmVmTm9TZWFyY2g7DQoJCQkJfQ0KCQkJfQ0KDQoJCQl1cmwgPSBwYXRoLm1ha2VVcmxBYnNvbHV0ZSggIHVybCwgZ2V0Q2xvc2VzdEJhc2VVcmwoJHRoaXMpICk7DQoNCgkJCS8vZXh0ZXJuYWwgc3VibWl0cyB1c2UgcmVndWxhciBIVFRQDQoJCQlpZiggcGF0aC5pc0V4dGVybmFsKCB1cmwgKSB8fCB0YXJnZXQgKSB7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KDQoJCQkkLm1vYmlsZS5jaGFuZ2VQYWdlKA0KCQkJCXVybCwNCgkJCQl7DQoJCQkJCXR5cGU6CQl0eXBlICYmIHR5cGUubGVuZ3RoICYmIHR5cGUudG9Mb3dlckNhc2UoKSB8fCAiZ2V0IiwNCgkJCQkJZGF0YToJCSR0aGlzLnNlcmlhbGl6ZSgpLA0KCQkJCQl0cmFuc2l0aW9uOgkkdGhpcy5qcW1EYXRhKCAidHJhbnNpdGlvbiIgKSwNCgkJCQkJZGlyZWN0aW9uOgkkdGhpcy5qcW1EYXRhKCAiZGlyZWN0aW9uIiApLA0KCQkJCQlyZWxvYWRQYWdlOgl0cnVlDQoJCQkJfQ0KCQkJKTsNCgkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7DQoJCX0pOw0KDQoJCS8vYWRkIGFjdGl2ZSBzdGF0ZSBvbiB2Y2xpY2sNCgkJJCggZG9jdW1lbnQgKS5iaW5kKCAidmNsaWNrIiwgZnVuY3Rpb24oIGV2ZW50ICkgew0KCQkJLy8gaWYgdGhpcyBpc24ndCBhIGxlZnQgY2xpY2sgd2UgZG9uJ3QgY2FyZS4gSXRzIGltcG9ydGFudCB0byBub3RlDQoJCQkvLyB0aGF0IHdoZW4gdGhlIHZpcnR1YWwgZXZlbnQgaXMgZ2VuZXJhdGVkIGl0IHdpbGwgY3JlYXRlDQoJCQlpZiAoIGV2ZW50LndoaWNoID4gMSB8fCAhJC5tb2JpbGUubGlua0JpbmRpbmdFbmFibGVkICl7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KDQoJCQl2YXIgbGluayA9IGZpbmRDbG9zZXN0TGluayggZXZlbnQudGFyZ2V0ICk7DQoJCQlpZiAoIGxpbmsgKSB7DQoJCQkJaWYgKCBwYXRoLnBhcnNlVXJsKCBsaW5rLmdldEF0dHJpYnV0ZSggImhyZWYiICkgfHwgIiMiICkuaGFzaCAhPT0gIiMiICkgew0KCQkJCQlyZW1vdmVBY3RpdmVMaW5rQ2xhc3MoIHRydWUgKTsNCgkJCQkJJGFjdGl2ZUNsaWNrZWRMaW5rID0gJCggbGluayApLmNsb3Nlc3QoICIudWktYnRuIiApLm5vdCggIi51aS1kaXNhYmxlZCIgKTsNCgkJCQkJJGFjdGl2ZUNsaWNrZWRMaW5rLmFkZENsYXNzKCAkLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyApOw0KCQkJCQkkKCAiLiIgKyAkLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MgKyAiIC51aS1idG4iICkubm90KCBsaW5rICkuYmx1cigpOw0KCQkJCX0NCgkJCX0NCgkJfSk7DQoNCgkJLy8gY2xpY2sgcm91dGluZyAtIGRpcmVjdCB0byBIVFRQIG9yIEFqYXgsIGFjY29yZGluZ2x5DQoJCSQoIGRvY3VtZW50ICkuYmluZCggImNsaWNrIiwgZnVuY3Rpb24oIGV2ZW50ICkgew0KCQkJaWYoICEkLm1vYmlsZS5saW5rQmluZGluZ0VuYWJsZWQgKXsNCgkJCQlyZXR1cm47DQoJCQl9DQoNCgkJCXZhciBsaW5rID0gZmluZENsb3Nlc3RMaW5rKCBldmVudC50YXJnZXQgKTsNCg0KCQkJLy8gSWYgdGhlcmUgaXMgbm8gbGluayBhc3NvY2lhdGVkIHdpdGggdGhlIGNsaWNrIG9yIGl0cyBub3QgYSBsZWZ0DQoJCQkvLyBjbGljayB3ZSB3YW50IHRvIGlnbm9yZSB0aGUgY2xpY2sNCgkJCWlmICggIWxpbmsgfHwgZXZlbnQud2hpY2ggPiAxKSB7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KDQoJCQl2YXIgJGxpbmsgPSAkKCBsaW5rICksDQoJCQkJLy9yZW1vdmUgYWN0aXZlIGxpbmsgY2xhc3MgaWYgZXh0ZXJuYWwgKHRoZW4gaXQgd29uJ3QgYmUgdGhlcmUgaWYgeW91IGNvbWUgYmFjaykNCgkJCQlodHRwQ2xlYW51cCA9IGZ1bmN0aW9uKCl7DQoJCQkJCXdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHsgcmVtb3ZlQWN0aXZlTGlua0NsYXNzKCB0cnVlICk7IH0sIDIwMCApOw0KCQkJCX07DQoNCgkJCS8vaWYgdGhlcmUncyBhIGRhdGEtcmVsPWJhY2sgYXR0ciwgZ28gYmFjayBpbiBoaXN0b3J5DQoJCQlpZiggJGxpbmsuaXMoICI6anFtRGF0YShyZWw9J2JhY2snKSIgKSApIHsNCgkJCQl3aW5kb3cuaGlzdG9yeS5iYWNrKCk7DQoJCQkJcmV0dXJuIGZhbHNlOw0KCQkJfQ0KDQoJCQl2YXIgYmFzZVVybCA9IGdldENsb3Nlc3RCYXNlVXJsKCAkbGluayApLA0KDQoJCQkJLy9nZXQgaHJlZiwgaWYgZGVmaW5lZCwgb3RoZXJ3aXNlIGRlZmF1bHQgdG8gZW1wdHkgaGFzaA0KCQkJCWhyZWYgPSBwYXRoLm1ha2VVcmxBYnNvbHV0ZSggJGxpbmsuYXR0ciggImhyZWYiICkgfHwgIiMiLCBiYXNlVXJsICk7DQoNCgkJCS8vaWYgYWpheCBpcyBkaXNhYmxlZCwgZXhpdCBlYXJseQ0KCQkJaWYoICEkLm1vYmlsZS5hamF4RW5hYmxlZCAmJiAhcGF0aC5pc0VtYmVkZGVkUGFnZSggaHJlZiApICl7DQoJCQkJaHR0cENsZWFudXAoKTsNCgkJCQkvL3VzZSBkZWZhdWx0IGNsaWNrIGhhbmRsaW5nDQoJCQkJcmV0dXJuOw0KCQkJfQ0KDQoJCQkvLyBYWFhfamJsYXM6IElkZWFsbHkgbGlua3MgdG8gYXBwbGljYXRpb24gcGFnZXMgc2hvdWxkIGJlIHNwZWNpZmllZCBhcw0KCQkJLy8gICAgICAgICAgICBhbiB1cmwgdG8gdGhlIGFwcGxpY2F0aW9uIGRvY3VtZW50IHdpdGggYSBoYXNoIHRoYXQgaXMgZWl0aGVyDQoJCQkvLyAgICAgICAgICAgIHRoZSBzaXRlIHJlbGF0aXZlIHBhdGggb3IgaWQgdG8gdGhlIHBhZ2UuIEJ1dCBzb21lIG9mIHRoZQ0KCQkJLy8gICAgICAgICAgICBpbnRlcm5hbCBjb2RlIHRoYXQgZHluYW1pY2FsbHkgZ2VuZXJhdGVzIHN1Yi1wYWdlcyBmb3IgbmVzdGVkDQoJCQkvLyAgICAgICAgICAgIGxpc3RzIGFuZCBzZWxlY3QgZGlhbG9ncywganVzdCB3cml0ZSBhIGhhc2ggaW4gdGhlIGxpbmsgdGhleQ0KCQkJLy8gICAgICAgICAgICBjcmVhdGUuIFRoaXMgbWVhbnMgdGhlIGFjdHVhbCBVUkwgcGF0aCBpcyBiYXNlZCBvbiB3aGF0ZXZlcg0KCQkJLy8gICAgICAgICAgICB0aGUgY3VycmVudCB2YWx1ZSBvZiB0aGUgYmFzZSB0YWcgaXMgYXQgdGhlIHRpbWUgdGhpcyBjb2RlDQoJCQkvLyAgICAgICAgICAgIGlzIGNhbGxlZC4gRm9yIG5vdyB3ZSBhcmUganVzdCBhc3N1bWluZyB0aGF0IGFueSB1cmwgd2l0aCBhDQoJCQkvLyAgICAgICAgICAgIGhhc2ggaW4gaXQgaXMgYW4gYXBwbGljYXRpb24gcGFnZSByZWZlcmVuY2UuDQoJCQlpZiAoIGhyZWYuc2VhcmNoKCAiIyIgKSAhPSAtMSApIHsNCgkJCQlocmVmID0gaHJlZi5yZXBsYWNlKCAvW14jXSojLywgIiIgKTsNCgkJCQlpZiAoICFocmVmICkgew0KCQkJCQkvL2xpbmsgd2FzIGFuIGVtcHR5IGhhc2ggbWVhbnQgcHVyZWx5DQoJCQkJCS8vZm9yIGludGVyYWN0aW9uLCBzbyB3ZSBpZ25vcmUgaXQuDQoJCQkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7DQoJCQkJCXJldHVybjsNCgkJCQl9IGVsc2UgaWYgKCBwYXRoLmlzUGF0aCggaHJlZiApICkgew0KCQkJCQkvL3dlIGhhdmUgYXBhdGggc28gbWFrZSBpdCB0aGUgaHJlZiB3ZSB3YW50IHRvIGxvYWQuDQoJCQkJCWhyZWYgPSBwYXRoLm1ha2VVcmxBYnNvbHV0ZSggaHJlZiwgYmFzZVVybCApOw0KCQkJCX0gZWxzZSB7DQoJCQkJCS8vd2UgaGF2ZSBhIHNpbXBsZSBpZCBzbyB1c2UgdGhlIGRvY3VtZW50VXJsIGFzIGl0cyBiYXNlLg0KCQkJCQlocmVmID0gcGF0aC5tYWtlVXJsQWJzb2x1dGUoICIjIiArIGhyZWYsIGRvY3VtZW50VXJsLmhyZWZOb0hhc2ggKTsNCgkJCQl9DQoJCQl9DQoNCgkJCQkvLyBTaG91bGQgd2UgaGFuZGxlIHRoaXMgbGluaywgb3IgbGV0IHRoZSBicm93c2VyIGRlYWwgd2l0aCBpdD8NCgkJCXZhciB1c2VEZWZhdWx0VXJsSGFuZGxpbmcgPSAkbGluay5pcyggIltyZWw9J2V4dGVybmFsJ10iICkgfHwgJGxpbmsuaXMoICI6anFtRGF0YShhamF4PSdmYWxzZScpIiApIHx8ICRsaW5rLmlzKCAiW3RhcmdldF0iICksDQoNCgkJCQkvLyBTb21lIGVtYmVkZGVkIGJyb3dzZXJzLCBsaWtlIHRoZSB3ZWIgdmlldyBpbiBQaG9uZSBHYXAsIGFsbG93IGNyb3NzLWRvbWFpbiBYSFINCgkJCQkvLyByZXF1ZXN0cyBpZiB0aGUgZG9jdW1lbnQgZG9pbmcgdGhlIHJlcXVlc3Qgd2FzIGxvYWRlZCB2aWEgdGhlIGZpbGU6Ly8gcHJvdG9jb2wuDQoJCQkJLy8gVGhpcyBpcyB1c3VhbGx5IHRvIGFsbG93IHRoZSBhcHBsaWNhdGlvbiB0byAicGhvbmUgaG9tZSIgYW5kIGZldGNoIGFwcCBzcGVjaWZpYw0KCQkJCS8vIGRhdGEuIFdlIG5vcm1hbGx5IGxldCB0aGUgYnJvd3NlciBoYW5kbGUgZXh0ZXJuYWwvY3Jvc3MtZG9tYWluIHVybHMsIGJ1dCBpZiB0aGUNCgkJCQkvLyBhbGxvd0Nyb3NzRG9tYWluUGFnZXMgb3B0aW9uIGlzIHRydWUsIHdlIHdpbGwgYWxsb3cgY3Jvc3MtZG9tYWluIGh0dHAvaHR0cHMNCgkJCQkvLyByZXF1ZXN0cyB0byBnbyB0aHJvdWdoIG91ciBwYWdlIGxvYWRpbmcgbG9naWMuDQoJCQkJaXNDcm9zc0RvbWFpblBhZ2VMb2FkID0gKCAkLm1vYmlsZS5hbGxvd0Nyb3NzRG9tYWluUGFnZXMgJiYgZG9jdW1lbnRVcmwucHJvdG9jb2wgPT09ICJmaWxlOiIgJiYgaHJlZi5zZWFyY2goIC9eaHR0cHM/Oi8gKSAhPSAtMSApLA0KDQoJCQkJLy9jaGVjayBmb3IgcHJvdG9jb2wgb3IgcmVsIGFuZCBpdHMgbm90IGFuIGVtYmVkZGVkIHBhZ2UNCgkJCQkvL1RPRE8gb3ZlcmxhcCBpbiBsb2dpYyBmcm9tIGlzRXh0ZXJuYWwsIHJlbD1leHRlcm5hbCBjaGVjayBzaG91bGQgYmUNCgkJCQkvLyAgICAgbW92ZWQgaW50byBtb3JlIGNvbXByZWhlbnNpdmUgaXNFeHRlcm5hbExpbmsNCgkJCQlpc0V4dGVybmFsID0gdXNlRGVmYXVsdFVybEhhbmRsaW5nIHx8ICggcGF0aC5pc0V4dGVybmFsKCBocmVmICkgJiYgIWlzQ3Jvc3NEb21haW5QYWdlTG9hZCApOw0KDQoJCQlpZiggaXNFeHRlcm5hbCApIHsNCgkJCQlodHRwQ2xlYW51cCgpOw0KCQkJCS8vdXNlIGRlZmF1bHQgY2xpY2sgaGFuZGxpbmcNCgkJCQlyZXR1cm47DQoJCQl9DQoNCgkJCS8vdXNlIGFqYXgNCgkJCXZhciB0cmFuc2l0aW9uID0gJGxpbmsuanFtRGF0YSggInRyYW5zaXRpb24iICksDQoJCQkJZGlyZWN0aW9uID0gJGxpbmsuanFtRGF0YSggImRpcmVjdGlvbiIgKSwNCgkJCQlyZXZlcnNlID0gKCBkaXJlY3Rpb24gJiYgZGlyZWN0aW9uID09PSAicmV2ZXJzZSIgKSB8fA0KCQkJCQkJCS8vIGRlcHJlY2F0ZWQgLSByZW1vdmUgYnkgMS4wDQoJCQkJCQkJJGxpbmsuanFtRGF0YSggImJhY2siICksDQoNCgkJCQkvL3RoaXMgbWF5IG5lZWQgdG8gYmUgbW9yZSBzcGVjaWZpYyBhcyB3ZSB1c2UgZGF0YS1yZWwgbW9yZQ0KCQkJCXJvbGUgPSAkbGluay5hdHRyKCAiZGF0YS0iICsgJC5tb2JpbGUubnMgKyAicmVsIiApIHx8IHVuZGVmaW5lZDsNCg0KCQkJJC5tb2JpbGUuY2hhbmdlUGFnZSggaHJlZiwgeyB0cmFuc2l0aW9uOiB0cmFuc2l0aW9uLCByZXZlcnNlOiByZXZlcnNlLCByb2xlOiByb2xlIH0gKTsNCgkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7DQoJCX0pOw0KDQoJCS8vcHJlZmV0Y2ggcGFnZXMgd2hlbiBhbmNob3JzIHdpdGggZGF0YS1wcmVmZXRjaCBhcmUgZW5jb3VudGVyZWQNCgkJJCggIi51aS1wYWdlIiApLmxpdmUoICJwYWdlc2hvdy5wcmVmZXRjaCIsIGZ1bmN0aW9uKCkgew0KCQkJdmFyIHVybHMgPSBbXTsNCgkJCSQoIHRoaXMgKS5maW5kKCAiYTpqcW1EYXRhKHByZWZldGNoKSIgKS5lYWNoKGZ1bmN0aW9uKCl7DQoJCQkJdmFyICRsaW5rID0gJCh0aGlzKSwNCgkJCQkJdXJsID0gJGxpbmsuYXR0ciggImhyZWYiICk7DQoNCgkJCQlpZiAoIHVybCAmJiAkLmluQXJyYXkoIHVybCwgdXJscyApID09PSAtMSApIHsNCgkJCQkJdXJscy5wdXNoKCB1cmwgKTsNCg0KCQkJCQkkLm1vYmlsZS5sb2FkUGFnZSggdXJsLCB7cm9sZTogJGxpbmsuYXR0cigiZGF0YS0iICsgJC5tb2JpbGUubnMgKyAicmVsIil9ICk7DQoJCQkJfQ0KCQkJfSk7DQoJCX0pOw0KDQoJCSQubW9iaWxlLl9oYW5kbGVIYXNoQ2hhbmdlID0gZnVuY3Rpb24oIGhhc2ggKSB7DQoJCQkvL2ZpbmQgZmlyc3QgcGFnZSB2aWEgaGFzaA0KCQkJdmFyIHRvID0gcGF0aC5zdHJpcEhhc2goIGhhc2ggKSwNCgkJCQkvL3RyYW5zaXRpb24gaXMgZmFsc2UgaWYgaXQncyB0aGUgZmlyc3QgcGFnZSwgdW5kZWZpbmVkIG90aGVyd2lzZSAoYW5kIG1heSBiZSBvdmVycmlkZGVuIGJ5IGRlZmF1bHQpDQoJCQkJdHJhbnNpdGlvbiA9ICQubW9iaWxlLnVybEhpc3Rvcnkuc3RhY2subGVuZ3RoID09PSAwID8gIm5vbmUiIDogdW5kZWZpbmVkLA0KDQoJCQkJLy8gZGVmYXVsdCBvcHRpb25zIGZvciB0aGUgY2hhbmdQYWdlIGNhbGxzIG1hZGUgYWZ0ZXIgZXhhbWluaW5nIHRoZSBjdXJyZW50IHN0YXRlDQoJCQkJLy8gb2YgdGhlIHBhZ2UgYW5kIHRoZSBoYXNoDQoJCQkJY2hhbmdlUGFnZU9wdGlvbnMgPSB7DQoJCQkJCXRyYW5zaXRpb246IHRyYW5zaXRpb24sDQoJCQkJCWNoYW5nZUhhc2g6IGZhbHNlLA0KCQkJCQlmcm9tSGFzaENoYW5nZTogdHJ1ZQ0KCQkJCX07DQoNCgkJCS8vaWYgbGlzdGVuaW5nIGlzIGRpc2FibGVkIChlaXRoZXIgZ2xvYmFsbHkgb3IgdGVtcG9yYXJpbHkpLCBvciBpdCdzIGEgZGlhbG9nIGhhc2gNCgkJCWlmKCAhJC5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQgfHwgdXJsSGlzdG9yeS5pZ25vcmVOZXh0SGFzaENoYW5nZSApIHsNCgkJCQl1cmxIaXN0b3J5Lmlnbm9yZU5leHRIYXNoQ2hhbmdlID0gZmFsc2U7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KDQoJCQkvLyBzcGVjaWFsIGNhc2UgZm9yIGRpYWxvZ3MNCgkJCWlmKCB1cmxIaXN0b3J5LnN0YWNrLmxlbmd0aCA+IDEgJiYgdG8uaW5kZXhPZiggZGlhbG9nSGFzaEtleSApID4gLTEgKSB7DQoNCgkJCQkvLyBJZiBjdXJyZW50IGFjdGl2ZSBwYWdlIGlzIG5vdCBhIGRpYWxvZyBza2lwIHRoZSBkaWFsb2cgYW5kIGNvbnRpbnVlDQoJCQkJLy8gaW4gdGhlIHNhbWUgZGlyZWN0aW9uDQoJCQkJaWYoISQubW9iaWxlLmFjdGl2ZVBhZ2UuaXMoICIudWktZGlhbG9nIiApKSB7DQoJCQkJCS8vZGV0ZXJtaW5lIGlmIHdlJ3JlIGhlYWRpbmcgZm9yd2FyZCBvciBiYWNrd2FyZCBhbmQgY29udGludWUgYWNjb3JkaW5nbHkgcGFzdA0KCQkJCQkvL3RoZSBjdXJyZW50IGRpYWxvZw0KCQkJCQl1cmxIaXN0b3J5LmRpcmVjdEhhc2hDaGFuZ2Uoew0KCQkJCQkJY3VycmVudFVybDogdG8sDQoJCQkJCQlpc0JhY2s6IGZ1bmN0aW9uKCkgeyB3aW5kb3cuaGlzdG9yeS5iYWNrKCk7IH0sDQoJCQkJCQlpc0ZvcndhcmQ6IGZ1bmN0aW9uKCkgeyB3aW5kb3cuaGlzdG9yeS5mb3J3YXJkKCk7IH0NCgkJCQkJfSk7DQoNCgkJCQkJLy8gcHJldmVudCBjaGFuZ2VQYWdlKCkNCgkJCQkJcmV0dXJuOw0KCQkJCX0gZWxzZSB7DQoJCQkJCS8vIGlmIHRoZSBjdXJyZW50IGFjdGl2ZSBwYWdlIGlzIGEgZGlhbG9nIGFuZCB3ZSdyZSBuYXZpZ2F0aW5nDQoJCQkJCS8vIHRvIGEgZGlhbG9nIHVzZSB0aGUgZGlhbG9nIG9iamVjdGVkIHNhdmVkIGluIHRoZSBzdGFjaw0KCQkJCQl1cmxIaXN0b3J5LmRpcmVjdEhhc2hDaGFuZ2Uoew0KCQkJCQkJY3VycmVudFVybDogdG8sDQoNCgkJCQkJCS8vIHJlZ2FyZGxlc3Mgb2YgdGhlIGRpcmVjdGlvbiBvZiB0aGUgaGlzdG9yeSBjaGFuZ2UNCgkJCQkJCS8vIGRvIHRoZSBmb2xsb3dpbmcNCgkJCQkJCWVpdGhlcjogZnVuY3Rpb24oIGlzQmFjayApIHsNCgkJCQkJCQl2YXIgYWN0aXZlID0gJC5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKTsNCg0KCQkJCQkJCXRvID0gYWN0aXZlLnBhZ2VVcmw7DQoNCgkJCQkJCQkvLyBtYWtlIHN1cmUgdG8gc2V0IHRoZSByb2xlLCB0cmFuc2l0aW9uIGFuZCByZXZlcnNhbA0KCQkJCQkJCS8vIGFzIG1vc3Qgb2YgdGhpcyBpcyBsb3N0IGJ5IHRoZSBkb21DYWNoZSBjbGVhbmluZw0KCQkJCQkJCSQuZXh0ZW5kKCBjaGFuZ2VQYWdlT3B0aW9ucywgew0KCQkJCQkJCQlyb2xlOiBhY3RpdmUucm9sZSwNCgkJCQkJCQkJdHJhbnNpdGlvbjoJIGFjdGl2ZS50cmFuc2l0aW9uLA0KCQkJCQkJCQlyZXZlcnNlOiBpc0JhY2sNCgkJCQkJCQl9KTsNCgkJCQkJCX0NCgkJCQkJfSk7DQoJCQkJfQ0KCQkJfQ0KDQoJCQkvL2lmIHRvIGlzIGRlZmluZWQsIGxvYWQgaXQNCgkJCWlmICggdG8gKSB7DQoJCQkJLy8gQXQgdGhpcyBwb2ludCwgJ3RvJyBjYW4gYmUgb25lIG9mIDMgdGhpbmdzLCBhIGNhY2hlZCBwYWdlIGVsZW1lbnQgZnJvbQ0KCQkJCS8vIGEgaGlzdG9yeSBzdGFjayBlbnRyeSwgYW4gaWQsIG9yIHNpdGUtcmVsYXRpdmUvYWJzb2x1dGUgVVJMLiBJZiAndG8nIGlzDQoJCQkJLy8gYW4gaWQsIHdlIG5lZWQgdG8gcmVzb2x2ZSBpdCBhZ2FpbnN0IHRoZSBkb2N1bWVudEJhc2UsIG5vdCB0aGUgbG9jYXRpb24uaHJlZiwNCgkJCQkvLyBzaW5jZSB0aGUgaGFzaGNoYW5nZSBjb3VsZCd2ZSBiZWVuIHRoZSByZXN1bHQgb2YgYSBmb3J3YXJkL2JhY2t3YXJkIG5hdmlnYXRpb24NCgkJCQkvLyB0aGF0IGNyb3NzZXMgZnJvbSBhbiBleHRlcm5hbCBwYWdlL2RpYWxvZyB0byBhbiBpbnRlcm5hbCBwYWdlL2RpYWxvZy4NCgkJCQl0byA9ICggdHlwZW9mIHRvID09PSAic3RyaW5nIiAmJiAhcGF0aC5pc1BhdGgoIHRvICkgKSA/ICggcGF0aC5tYWtlVXJsQWJzb2x1dGUoICcjJyArIHRvLCBkb2N1bWVudEJhc2UgKSApIDogdG87DQoJCQkJJC5tb2JpbGUuY2hhbmdlUGFnZSggdG8sIGNoYW5nZVBhZ2VPcHRpb25zICk7DQoJCQl9CWVsc2Ugew0KCQkJCS8vdGhlcmUncyBubyBoYXNoLCBnbyB0byB0aGUgZmlyc3QgcGFnZSBpbiB0aGUgZG9tDQoJCQkJJC5tb2JpbGUuY2hhbmdlUGFnZSggJC5tb2JpbGUuZmlyc3RQYWdlLCBjaGFuZ2VQYWdlT3B0aW9ucyApOw0KCQkJfQ0KCQl9Ow0KDQoJCS8vaGFzaGNoYW5nZSBldmVudCBoYW5kbGVyDQoJCSR3aW5kb3cuYmluZCggImhhc2hjaGFuZ2UiLCBmdW5jdGlvbiggZSwgdHJpZ2dlcmVkICkgew0KCQkJJC5tb2JpbGUuX2hhbmRsZUhhc2hDaGFuZ2UoIGxvY2F0aW9uLmhhc2ggKTsNCgkJfSk7DQoNCgkJLy9zZXQgcGFnZSBtaW4taGVpZ2h0cyB0byBiZSBkZXZpY2Ugc3BlY2lmaWMNCgkJJCggZG9jdW1lbnQgKS5iaW5kKCAicGFnZXNob3ciLCByZXNldEFjdGl2ZVBhZ2VIZWlnaHQgKTsNCgkJJCggd2luZG93ICkuYmluZCggInRocm90dGxlZHJlc2l6ZSIsIHJlc2V0QWN0aXZlUGFnZUhlaWdodCApOw0KDQoJfTsvL19yZWdpc3RlckludGVybmFsRXZlbnRzIGNhbGxiYWNrDQoNCn0pKCBqUXVlcnkgKTsNCi8qDQoqIGhpc3RvcnkucHVzaFN0YXRlIHN1cHBvcnQsIGxheWVyZWQgb24gdG9wIG9mIGhhc2hjaGFuZ2UNCiovDQoNCiggZnVuY3Rpb24oICQsIHdpbmRvdyApIHsNCgkvLyBGb3Igbm93LCBsZXQncyBNb25rZXlwYXRjaCB0aGlzIG9udG8gdGhlIGVuZCBvZiAkLm1vYmlsZS5fcmVnaXN0ZXJJbnRlcm5hbEV2ZW50cw0KCS8vIFNjb3BlIHNlbGYgdG8gcHVzaFN0YXRlSGFuZGxlciBzbyB3ZSBjYW4gcmVmZXJlbmNlIGl0IHNhbmVseSB3aXRoaW4gdGhlDQoJLy8gbWV0aG9kcyBoYW5kZWQgb2ZmIGFzIGV2ZW50IGhhbmRsZXJzDQoJdmFyCXB1c2hTdGF0ZUhhbmRsZXIgPSB7fSwNCgkJc2VsZiA9IHB1c2hTdGF0ZUhhbmRsZXIsDQoJCSR3aW4gPSAkKCB3aW5kb3cgKSwNCgkJdXJsID0gJC5tb2JpbGUucGF0aC5wYXJzZVVybCggbG9jYXRpb24uaHJlZiApOw0KDQoJJC5leHRlbmQoIHB1c2hTdGF0ZUhhbmRsZXIsIHsNCgkJLy8gVE9ETyBtb3ZlIHRvIGEgcGF0aCBoZWxwZXIsIHRoaXMgaXMgcmF0aGVyIGNvbW1vbiBmdW5jdGlvbmFsaXR5DQoJCWluaXRpYWxGaWxlUGF0aDogKGZ1bmN0aW9uKCkgew0KCQkJcmV0dXJuIHVybC5wYXRobmFtZSArIHVybC5zZWFyY2g7DQoJCX0pKCksDQoNCgkJaW5pdGlhbEhyZWY6IHVybC5ocmVmTm9IYXNoLA0KDQoJCS8vIEZsYWcgZm9yIHRyYWNraW5nIGlmIGEgSGFzaGNoYW5nZSBuYXR1cmFsbHkgb2NjdXJzIGFmdGVyIGVhY2ggcG9wc3RhdGUgKyByZXBsYWNlDQoJCWhhc2hjaGFuZ2VGaXJlZDogZmFsc2UsDQoNCgkJc3RhdGU6IGZ1bmN0aW9uKCkgew0KCQkJcmV0dXJuIHsNCgkJCQloYXNoOiBsb2NhdGlvbi5oYXNoIHx8ICIjIiArIHNlbGYuaW5pdGlhbEZpbGVQYXRoLA0KCQkJCXRpdGxlOiBkb2N1bWVudC50aXRsZSwNCg0KCQkJCS8vIHBlcnNpc3QgYWNyb3NzIHJlZnJlc2gNCgkJCQlpbml0aWFsSHJlZjogc2VsZi5pbml0aWFsSHJlZg0KCQkJfTsNCgkJfSwNCg0KCQlyZXNldFVJS2V5czogZnVuY3Rpb24oIHVybCApIHsNCgkJCXZhciBkaWFsb2cgPSAkLm1vYmlsZS5kaWFsb2dIYXNoS2V5LA0KCQkJCXN1YmtleSA9ICImIiArICQubW9iaWxlLnN1YlBhZ2VVcmxLZXksDQoJCQkJZGlhbG9nSW5kZXggPSB1cmwuaW5kZXhPZiggZGlhbG9nICk7DQoNCgkJCWlmKCBkaWFsb2dJbmRleCA+IC0xICkgew0KCQkJCXVybCA9IHVybC5zbGljZSggMCwgZGlhbG9nSW5kZXggKSArICIjIiArIHVybC5zbGljZSggZGlhbG9nSW5kZXggKTsNCgkJCX0gZWxzZSBpZiggdXJsLmluZGV4T2YoIHN1YmtleSApID4gLTEgKSB7DQoJCQkJdXJsID0gdXJsLnNwbGl0KCBzdWJrZXkgKS5qb2luKCAiIyIgKyBzdWJrZXkgKTsNCgkJCX0NCg0KCQkJcmV0dXJuIHVybDsNCgkJfSwNCg0KCQkvLyBUT0RPIHNvcnQgb3V0IGEgc2luZ2xlIGJhcnJpZXIgdG8gaGFzaGNoYW5nZSBmdW5jdGlvbmFsaXR5DQoJCW5leHRIYXNoQ2hhbmdlUHJldmVudGVkOiBmdW5jdGlvbiggdmFsdWUgKSB7DQoJCQkkLm1vYmlsZS51cmxIaXN0b3J5Lmlnbm9yZU5leHRIYXNoQ2hhbmdlID0gdmFsdWU7DQoJCQlzZWxmLm9uSGFzaENoYW5nZURpc2FibGVkID0gdmFsdWU7DQoJCX0sDQoNCgkJLy8gb24gaGFzaCBjaGFuZ2Ugd2Ugd2FudCB0byBjbGVhbiB1cCB0aGUgdXJsDQoJCS8vIE5PVEUgdGhpcyB0YWtlcyBwbGFjZSAqYWZ0ZXIqIHRoZSB2YW5pbGxhIG5hdmlnYXRpb24gaGFzaCBjaGFuZ2UNCgkJLy8gaGFuZGxpbmcgaGFzIHRha2VuIHBsYWNlIGFuZCBzZXQgdGhlIHN0YXRlIG9mIHRoZSBET00NCgkJb25IYXNoQ2hhbmdlOiBmdW5jdGlvbiggZSApIHsNCgkJCS8vIGRpc2FibGUgdGhpcyBoYXNoIGNoYW5nZQ0KCQkJaWYoIHNlbGYub25IYXNoQ2hhbmdlRGlzYWJsZWQgKXsNCgkJCQlyZXR1cm47DQoJCQl9DQoJCQkNCgkJCXZhciBocmVmLCBzdGF0ZSwNCgkJCQloYXNoID0gbG9jYXRpb24uaGFzaCwNCgkJCQlpc1BhdGggPSAkLm1vYmlsZS5wYXRoLmlzUGF0aCggaGFzaCApLA0KCQkJCXJlc29sdXRpb25VcmwgPSBpc1BhdGggPyBsb2NhdGlvbi5ocmVmIDogJC5tb2JpbGUuZ2V0RG9jdW1lbnRVcmwoKTsNCgkJCWhhc2ggPSBpc1BhdGggPyBoYXNoLnJlcGxhY2UoICIjIiwgIiIgKSA6IGhhc2g7DQoNCgkJCS8vIHByb3B1bGF0ZSB0aGUgaGFzaCB3aGVuIGl0cyBub3QgYXZhaWxhYmxlDQoJCQlzdGF0ZSA9IHNlbGYuc3RhdGUoKTsNCg0KCQkJLy8gbWFrZSB0aGUgaGFzaCBhYm9sdXRlIHdpdGggdGhlIGN1cnJlbnQgaHJlZg0KCQkJaHJlZiA9ICQubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKCBoYXNoLCByZXNvbHV0aW9uVXJsICk7DQoNCgkJCWlmICggaXNQYXRoICkgew0KCQkJCWhyZWYgPSBzZWxmLnJlc2V0VUlLZXlzKCBocmVmICk7DQoJCQl9DQoNCgkJCS8vIHJlcGxhY2UgdGhlIGN1cnJlbnQgdXJsIHdpdGggdGhlIG5ldyBocmVmIGFuZCBzdG9yZSB0aGUgc3RhdGUNCgkJCS8vIE5vdGUgdGhhdCBpbiBzb21lIGNhc2VzIHdlIG1pZ2h0IGJlIHJlcGxhY2luZyBhbiB1cmwgd2l0aCB0aGUNCgkJCS8vIHNhbWUgdXJsLiBXZSBkbyB0aGlzIGFueXdheXMgYmVjYXVzZSB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB0aGF0DQoJCQkvLyBhbGwgb2Ygb3VyIGhpc3RvcnkgZW50cmllcyBoYXZlIGEgc3RhdGUgb2JqZWN0IGFzc29jaWF0ZWQgd2l0aA0KCQkJLy8gdGhlbS4gVGhpcyBhbGxvd3MgdXMgdG8gd29yayBhcm91bmQgdGhlIGNhc2Ugd2hlcmUgd2luZG93Lmhpc3RvcnkuYmFjaygpDQoJCQkvLyBpcyBjYWxsZWQgdG8gdHJhbnNpdGlvbiBmcm9tIGFuIGV4dGVybmFsIHBhZ2UgdG8gYW4gZW1iZWRkZWQgcGFnZS4NCgkJCS8vIEluIHRoYXQgcGFydGljdWxhciBjYXNlLCBhIGhhc2hjaGFuZ2UgZXZlbnQgaXMgKk5PVCogZ2VuZXJhdGVkIGJ5IHRoZSBicm93c2VyLg0KCQkJLy8gRW5zdXJpbmcgZWFjaCBoaXN0b3J5IGVudHJ5IGhhcyBhIHN0YXRlIG9iamVjdCBtZWFucyB0aGF0IG9uUG9wU3RhdGUoKQ0KCQkJLy8gd2lsbCBhbHdheXMgdHJpZ2dlciBvdXIgaGFzaGNoYW5nZSBjYWxsYmFjayBldmVuIHdoZW4gYSBoYXNoY2hhbmdlIGV2ZW50DQoJCQkvLyBpcyBub3QgZmlyZWQuDQoJCQloaXN0b3J5LnJlcGxhY2VTdGF0ZSggc3RhdGUsIGRvY3VtZW50LnRpdGxlLCBocmVmICk7DQoJCX0sDQoNCgkJLy8gb24gcG9wc3RhdGUgKGllIGJhY2sgb3IgZm9yd2FyZCkgd2UgbmVlZCB0byByZXBsYWNlIHRoZSBoYXNoIHRoYXQgd2FzIHRoZXJlIHByZXZpb3VzbHkNCgkJLy8gY2xlYW5lZCB1cCBieSB0aGUgYWRkaXRpb25hbCBoYXNoIGhhbmRsaW5nDQoJCW9uUG9wU3RhdGU6IGZ1bmN0aW9uKCBlICkgew0KCQkJdmFyIHBvcHBlZFN0YXRlID0gZS5vcmlnaW5hbEV2ZW50LnN0YXRlLCBob2xkbmV4dGhhc2hjaGFuZ2UgPSBmYWxzZTsNCg0KCQkJLy8gaWYgdGhlcmUncyBubyBzdGF0ZSBpdHMgbm90IGEgcG9wc3RhdGUgd2UgY2FyZSBhYm91dCwgaWUgY2hyb21lJ3MgaW5pdGlhbCBwb3BzdGF0ZQ0KCQkJLy8gb3IgZm9yd2FyZCBwb3BzdGF0ZQ0KCQkJaWYoIHBvcHBlZFN0YXRlICkgew0KCQkJCS8vIGRpc2FibGUgYW55IGhhc2hjaGFuZ2UgdHJpZ2dlcmVkIGJ5IHRoZSBicm93c2VyDQoJCQkJc2VsZi5uZXh0SGFzaENoYW5nZVByZXZlbnRlZCggdHJ1ZSApOw0KDQoJCQkJLy8gZGVmZXIgb3VyIG1hbnVhbCBoYXNoY2hhbmdlIHVudGlsIGFmdGVyIHRoZSBicm93c2VyIGZpcmVkDQoJCQkJLy8gdmVyc2lvbiBoYXMgY29tZSBhbmQgZ29uZQ0KCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24oKSB7DQoJCQkJCS8vIG1ha2Ugc3VyZSB0aGF0IHRoZSBtYW51YWwgaGFzaCBoYW5kbGluZyB0YWtlcyBwbGFjZQ0KCQkJCQlzZWxmLm5leHRIYXNoQ2hhbmdlUHJldmVudGVkKCBmYWxzZSApOw0KDQoJCQkJCS8vIGNoYW5nZSB0aGUgcGFnZSBiYXNlZCBvbiB0aGUgaGFzaA0KCQkJCQkkLm1vYmlsZS5faGFuZGxlSGFzaENoYW5nZSggcG9wcGVkU3RhdGUuaGFzaCApOw0KCQkJCX0sIDEwMCk7DQoJCQl9DQoJCX0sDQoNCgkJaW5pdDogZnVuY3Rpb24oKSB7DQoJCQkkd2luLmJpbmQoICJoYXNoY2hhbmdlIiwgc2VsZi5vbkhhc2hDaGFuZ2UgKTsNCg0KCQkJLy8gSGFuZGxlIHBvcHN0YXRlIGV2ZW50cyB0aGUgb2NjdXIgdGhyb3VnaCBoaXN0b3J5IGNoYW5nZXMNCgkJCSR3aW4uYmluZCggInBvcHN0YXRlIiwgc2VsZi5vblBvcFN0YXRlICk7DQoNCgkJCS8vIGlmIHRoZXJlJ3Mgbm8gaGFzaCwgd2UgbmVlZCB0byByZXBsYWNlc3RhdGUgZm9yIHJldHVybmluZyB0byBob21lDQoJCQlpZiAoIGxvY2F0aW9uLmhhc2ggPT09ICIiICkgew0KCQkJCWhpc3RvcnkucmVwbGFjZVN0YXRlKCBzZWxmLnN0YXRlKCksIGRvY3VtZW50LnRpdGxlLCBsb2NhdGlvbi5ocmVmICk7DQoJCQl9DQoJCX0NCgl9KTsNCg0KCSQoIGZ1bmN0aW9uKCkgew0KCQlpZiggJC5tb2JpbGUucHVzaFN0YXRlRW5hYmxlZCAmJiAkLnN1cHBvcnQucHVzaFN0YXRlICl7DQoJCQlwdXNoU3RhdGVIYW5kbGVyLmluaXQoKTsNCgkJfQ0KCX0pOw0KfSkoIGpRdWVyeSwgdGhpcyApOw0KLyoNCiogInRyYW5zaXRpb25zIiBwbHVnaW4gLSBQYWdlIGNoYW5nZSB0cmFuaXN0aW9ucw0KKi8NCg0KKGZ1bmN0aW9uKCAkLCB3aW5kb3csIHVuZGVmaW5lZCApIHsNCg0KZnVuY3Rpb24gY3NzM1RyYW5zaXRpb25IYW5kbGVyKCBuYW1lLCByZXZlcnNlLCAkdG8sICRmcm9tICkgew0KDQoJdmFyIGRlZmVycmVkID0gbmV3ICQuRGVmZXJyZWQoKSwNCgkJcmV2ZXJzZUNsYXNzID0gcmV2ZXJzZSA/ICIgcmV2ZXJzZSIgOiAiIiwNCgkJdmlld3BvcnRDbGFzcyA9ICJ1aS1tb2JpbGUtdmlld3BvcnQtdHJhbnNpdGlvbmluZyB2aWV3cG9ydC0iICsgbmFtZSwNCgkJZG9uZUZ1bmMgPSBmdW5jdGlvbigpIHsNCg0KCQkJJHRvLmFkZCggJGZyb20gKS5yZW1vdmVDbGFzcyggIm91dCBpbiByZXZlcnNlICIgKyBuYW1lICk7DQoNCgkJCWlmICggJGZyb20gJiYgJGZyb21bIDAgXSAhPT0gJHRvWyAwIF0gKSB7DQoJCQkJJGZyb20ucmVtb3ZlQ2xhc3MoICQubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyApOw0KCQkJfQ0KDQoJCQkkdG8ucGFyZW50KCkucmVtb3ZlQ2xhc3MoIHZpZXdwb3J0Q2xhc3MgKTsNCg0KCQkJZGVmZXJyZWQucmVzb2x2ZSggbmFtZSwgcmV2ZXJzZSwgJHRvLCAkZnJvbSApOw0KCQl9Ow0KDQoJJHRvLmFuaW1hdGlvbkNvbXBsZXRlKCBkb25lRnVuYyApOw0KDQoJJHRvLnBhcmVudCgpLmFkZENsYXNzKCB2aWV3cG9ydENsYXNzICk7DQoNCglpZiAoICRmcm9tICkgew0KCQkkZnJvbS5hZGRDbGFzcyggbmFtZSArICIgb3V0IiArIHJldmVyc2VDbGFzcyApOw0KCX0NCgkkdG8uYWRkQ2xhc3MoICQubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyArICIgIiArIG5hbWUgKyAiIGluIiArIHJldmVyc2VDbGFzcyApOw0KDQoJcmV0dXJuIGRlZmVycmVkLnByb21pc2UoKTsNCn0NCg0KLy8gTWFrZSBvdXIgdHJhbnNpdGlvbiBoYW5kbGVyIHB1YmxpYy4NCiQubW9iaWxlLmNzczNUcmFuc2l0aW9uSGFuZGxlciA9IGNzczNUcmFuc2l0aW9uSGFuZGxlcjsNCg0KLy8gSWYgdGhlIGRlZmF1bHQgdHJhbnNpdGlvbiBoYW5kbGVyIGlzIHRoZSAnbm9uZScgaGFuZGxlciwgcmVwbGFjZSBpdCB3aXRoIG91ciBoYW5kbGVyLg0KaWYgKCAkLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXIgPT09ICQubW9iaWxlLm5vbmVUcmFuc2l0aW9uSGFuZGxlciApIHsNCgkkLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXIgPSBjc3MzVHJhbnNpdGlvbkhhbmRsZXI7DQp9DQoNCn0pKCBqUXVlcnksIHRoaXMgKTsNCi8qDQoqICJkZWdyYWRlSW5wdXRzIiBwbHVnaW4gLSBkZWdyYWRlcyBpbnB1dHMgdG8gYW5vdGhlciB0eXBlIGFmdGVyIGN1c3RvbSBlbmhhbmNlbWVudHMgYXJlIG1hZGUuDQoqLw0KDQooZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHsNCg0KJC5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5kZWdyYWRlSW5wdXRzID0gew0KCWNvbG9yOiBmYWxzZSwNCglkYXRlOiBmYWxzZSwNCglkYXRldGltZTogZmFsc2UsDQoJImRhdGV0aW1lLWxvY2FsIjogZmFsc2UsDQoJZW1haWw6IGZhbHNlLA0KCW1vbnRoOiBmYWxzZSwNCgludW1iZXI6IGZhbHNlLA0KCXJhbmdlOiAibnVtYmVyIiwNCglzZWFyY2g6ICJ0ZXh0IiwNCgl0ZWw6IGZhbHNlLA0KCXRpbWU6IGZhbHNlLA0KCXVybDogZmFsc2UsDQoJd2VlazogZmFsc2UNCn07DQoNCg0KLy9hdXRvIHNlbGYtaW5pdCB3aWRnZXRzDQokKCBkb2N1bWVudCApLmJpbmQoICJwYWdlY3JlYXRlIGNyZWF0ZSIsIGZ1bmN0aW9uKCBlICl7DQoNCgl2YXIgcGFnZSA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJzpqcW1EYXRhKHJvbGU9InBhZ2UiKScpLmRhdGEoInBhZ2UiKSwgb3B0aW9uczsNCg0KCWlmKCAhcGFnZSApIHsNCgkJcmV0dXJuOw0KCX0NCg0KCW9wdGlvbnMgPSBwYWdlLm9wdGlvbnM7DQoNCgkvLyBkZWdyYWRlIGlucHV0cyB0byBhdm9pZCBwb29ybHkgaW1wbGVtZW50ZWQgbmF0aXZlIGZ1bmN0aW9uYWxpdHkNCgkkKCBlLnRhcmdldCApLmZpbmQoICJpbnB1dCIgKS5ub3QoIHBhZ2Uua2VlcE5hdGl2ZVNlbGVjdG9yKCkgKS5lYWNoKGZ1bmN0aW9uKCkgew0KCQl2YXIgJHRoaXMgPSAkKCB0aGlzICksDQoJCQl0eXBlID0gdGhpcy5nZXRBdHRyaWJ1dGUoICJ0eXBlIiApLA0KCQkJb3B0VHlwZSA9IG9wdGlvbnMuZGVncmFkZUlucHV0c1sgdHlwZSBdIHx8ICJ0ZXh0IjsNCg0KCQlpZiAoIG9wdGlvbnMuZGVncmFkZUlucHV0c1sgdHlwZSBdICkgew0KCQkJdmFyIGh0bWwgPSAkKCAiPGRpdj4iICkuaHRtbCggJHRoaXMuY2xvbmUoKSApLmh0bWwoKSwNCgkJCQkvLyBJbiBJRSBicm93c2VycywgdGhlIHR5cGUgc29tZXRpbWVzIGRvZXNuJ3QgZXhpc3QgaW4gdGhlIGNsb25lZCBtYXJrdXAsIHNvIHdlIHJlcGxhY2UgdGhlIGNsb3NpbmcgdGFnIGluc3RlYWQNCgkJCQloYXNUeXBlID0gaHRtbC5pbmRleE9mKCAiIHR5cGU9IiApID4gLTEsDQoJCQkJZmluZHN0ciA9IGhhc1R5cGUgPyAvXHMrdHlwZT1bIiddP1x3K1snIl0/LyA6IC9cLz8+LywNCgkJCQlyZXBzdHIgPSAiIHR5cGU9XCIiICsgb3B0VHlwZSArICJcIiBkYXRhLSIgKyAkLm1vYmlsZS5ucyArICJ0eXBlPVwiIiArIHR5cGUgKyAiXCIiICsgKCBoYXNUeXBlID8gIiIgOiAiPiIgKTsNCg0KCQkJJHRoaXMucmVwbGFjZVdpdGgoIGh0bWwucmVwbGFjZSggZmluZHN0ciwgcmVwc3RyICkgKTsNCgkJfQ0KCX0pOw0KDQp9KTsNCg0KfSkoIGpRdWVyeSApOy8qDQoqICJkaWFsb2ciIHBsdWdpbi4NCiovDQoNCihmdW5jdGlvbiggJCwgd2luZG93LCB1bmRlZmluZWQgKSB7DQoNCiQud2lkZ2V0KCAibW9iaWxlLmRpYWxvZyIsICQubW9iaWxlLndpZGdldCwgew0KCW9wdGlvbnM6IHsNCgkJY2xvc2VCdG5UZXh0IAk6ICJDbG9zZSIsDQoJCW92ZXJsYXlUaGVtZQk6ICJhIiwNCgkJaW5pdFNlbGVjdG9yCTogIjpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIg0KCX0sDQoJX2NyZWF0ZTogZnVuY3Rpb24oKSB7DQoJCXZhciBzZWxmID0gdGhpcywNCgkJCSRlbCA9IHRoaXMuZWxlbWVudCwNCgkJCWhlYWRlckNsb3NlQnV0dG9uID0gJCggIjxhIGhyZWY9JyMnIGRhdGEtIiArICQubW9iaWxlLm5zICsgImljb249J2RlbGV0ZScgZGF0YS0iICsgJC5tb2JpbGUubnMgKyAiaWNvbnBvcz0nbm90ZXh0Jz4iKyB0aGlzLm9wdGlvbnMuY2xvc2VCdG5UZXh0ICsgIjwvYT4iICk7DQoNCgkJJGVsLmFkZENsYXNzKCAidWktb3ZlcmxheS0iICsgdGhpcy5vcHRpb25zLm92ZXJsYXlUaGVtZSApOw0KDQoJCS8vIENsYXNzIHRoZSBtYXJrdXAgZm9yIGRpYWxvZyBzdHlsaW5nDQoJCS8vIFNldCBhcmlhIHJvbGUNCgkJJGVsLmF0dHIoICJyb2xlIiwgImRpYWxvZyIgKQ0KCQkJLmFkZENsYXNzKCAidWktZGlhbG9nIiApDQoJCQkuZmluZCggIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIiApDQoJCQkuYWRkQ2xhc3MoICJ1aS1jb3JuZXItdG9wIHVpLW92ZXJsYXktc2hhZG93IiApDQoJCQkJLnByZXBlbmQoIGhlYWRlckNsb3NlQnV0dG9uICkNCgkJCS5lbmQoKQ0KCQkJLmZpbmQoICI6anFtRGF0YShyb2xlPSdjb250ZW50JyksOmpxbURhdGEocm9sZT0nZm9vdGVyJykiICkNCgkJCQkuYWRkQ2xhc3MoICJ1aS1vdmVybGF5LXNoYWRvdyIgKQ0KCQkJCS5sYXN0KCkNCgkJCQkuYWRkQ2xhc3MoICJ1aS1jb3JuZXItYm90dG9tIiApOw0KDQoJCS8vIHRoaXMgbXVzdCBiZSBhbiBhbm9ueW1vdXMgZnVuY3Rpb24gc28gdGhhdCBzZWxlY3QgbWVudSBkaWFsb2dzIGNhbiByZXBsYWNlDQoJCS8vIHRoZSBjbG9zZSBtZXRob2QuIFRoaXMgaXMgYSBjaGFuZ2UgZnJvbSBwcmV2aW91c2x5IGp1c3QgZGVmaW5pbmcgZGF0YS1yZWw9YmFjaw0KCQkvLyBvbiB0aGUgYnV0dG9uIGFuZCBsZXR0aW5nIG5hdiBoYW5kbGUgaXQNCgkJaGVhZGVyQ2xvc2VCdXR0b24uYmluZCggInZjbGljayIsIGZ1bmN0aW9uKCkgew0KCQkJc2VsZi5jbG9zZSgpOw0KCQl9KTsNCg0KCQkvKiBiaW5kIGV2ZW50cw0KCQkJLSBjbGlja3MgYW5kIHN1Ym1pdHMgc2hvdWxkIHVzZSB0aGUgY2xvc2luZyB0cmFuc2l0aW9uIHRoYXQgdGhlIGRpYWxvZyBvcGVuZWQgd2l0aA0KCQkJICB1bmxlc3MgYSBkYXRhLXRyYW5zaXRpb24gaXMgc3BlY2lmaWVkIG9uIHRoZSBsaW5rL2Zvcm0NCgkJCS0gaWYgdGhlIGNsaWNrIHdhcyBvbiB0aGUgY2xvc2UgYnV0dG9uLCBvciB0aGUgbGluayBoYXMgYSBkYXRhLXJlbD0iYmFjayIgaXQnbGwgZ28gYmFjayBpbiBoaXN0b3J5IG5hdHVyYWxseQ0KCQkqLw0KCQkkZWwuYmluZCggInZjbGljayBzdWJtaXQiLCBmdW5jdGlvbiggZXZlbnQgKSB7DQoJCQl2YXIgJHRhcmdldCA9ICQoIGV2ZW50LnRhcmdldCApLmNsb3Nlc3QoIGV2ZW50LnR5cGUgPT09ICJ2Y2xpY2siID8gImEiIDogImZvcm0iICksDQoJCQkJYWN0aXZlOw0KDQoJCQlpZiAoICR0YXJnZXQubGVuZ3RoICYmICEkdGFyZ2V0LmpxbURhdGEoICJ0cmFuc2l0aW9uIiApICkgew0KDQoJCQkJYWN0aXZlID0gJC5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKSB8fCB7fTsNCg0KCQkJCSR0YXJnZXQuYXR0ciggImRhdGEtIiArICQubW9iaWxlLm5zICsgInRyYW5zaXRpb24iLCAoIGFjdGl2ZS50cmFuc2l0aW9uIHx8ICQubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9uICkgKQ0KCQkJCQkuYXR0ciggImRhdGEtIiArICQubW9iaWxlLm5zICsgImRpcmVjdGlvbiIsICJyZXZlcnNlIiApOw0KCQkJfQ0KCQl9KQ0KCQkuYmluZCggInBhZ2VoaWRlIiwgZnVuY3Rpb24oKSB7DQoJCQkkKCB0aGlzICkuZmluZCggIi4iICsgJC5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MgKS5yZW1vdmVDbGFzcyggJC5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MgKTsNCgkJfSk7DQoJfSwNCg0KCS8vIENsb3NlIG1ldGhvZCBnb2VzIGJhY2sgaW4gaGlzdG9yeQ0KCWNsb3NlOiBmdW5jdGlvbigpIHsNCgkJd2luZG93Lmhpc3RvcnkuYmFjaygpOw0KCX0NCn0pOw0KDQovL2F1dG8gc2VsZi1pbml0IHdpZGdldHMNCiQoICQubW9iaWxlLmRpYWxvZy5wcm90b3R5cGUub3B0aW9ucy5pbml0U2VsZWN0b3IgKS5saXZlKCAicGFnZWNyZWF0ZSIsIGZ1bmN0aW9uKCl7DQoJJCggdGhpcyApLmRpYWxvZygpOw0KfSk7DQoNCn0pKCBqUXVlcnksIHRoaXMgKTsNCi8qDQoqIFRoaXMgcGx1Z2luIGhhbmRsZXMgdGhlbWluZyBhbmQgbGF5b3V0IG9mIGhlYWRlcnMsIGZvb3RlcnMsIGFuZCBjb250ZW50IGFyZWFzDQoqLw0KDQooZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHsNCg0KJC5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5iYWNrQnRuVGV4dCAgPSAiQmFjayI7DQokLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmFkZEJhY2tCdG4gICA9IGZhbHNlOw0KJC5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5iYWNrQnRuVGhlbWUgPSBudWxsOw0KJC5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5oZWFkZXJUaGVtZSAgPSAiYSI7DQokLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmZvb3RlclRoZW1lICA9ICJhIjsNCiQubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuY29udGVudFRoZW1lID0gbnVsbDsNCg0KJCggIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJykiICkubGl2ZSggInBhZ2VjcmVhdGUiLCBmdW5jdGlvbiggZSApIHsNCgkNCgl2YXIgJHBhZ2UgPSAkKCB0aGlzICksDQoJCW8gPSAkcGFnZS5kYXRhKCAicGFnZSIgKS5vcHRpb25zLA0KCQlwYWdlUm9sZSA9ICRwYWdlLmpxbURhdGEoICJyb2xlIiApLA0KCQlwYWdlVGhlbWUgPSBvLnRoZW1lOw0KCQ0KCSQoICI6anFtRGF0YShyb2xlPSdoZWFkZXInKSwgOmpxbURhdGEocm9sZT0nZm9vdGVyJyksIDpqcW1EYXRhKHJvbGU9J2NvbnRlbnQnKSIsIHRoaXMgKS5lYWNoKGZ1bmN0aW9uKCkgew0KCQl2YXIgJHRoaXMgPSAkKCB0aGlzICksDQoJCQlyb2xlID0gJHRoaXMuanFtRGF0YSggInJvbGUiICksDQoJCQl0aGVtZSA9ICR0aGlzLmpxbURhdGEoICJ0aGVtZSIgKSwNCgkJCWNvbnRlbnRUaGVtZSA9IHRoZW1lIHx8IG8uY29udGVudFRoZW1lIHx8ICggcGFnZVJvbGUgPT09ICJkaWFsb2ciICYmIHBhZ2VUaGVtZSApLA0KCQkJJGhlYWRlcmFuY2hvcnMsDQoJCQlsZWZ0YnRuLA0KCQkJcmlnaHRidG4sDQoJCQliYWNrQnRuOw0KCQkJDQoJCSR0aGlzLmFkZENsYXNzKCAidWktIiArIHJvbGUgKTsJDQoNCgkJLy9hcHBseSB0aGVtaW5nIGFuZCBtYXJrdXAgbW9kaWZpY2F0aW9ucyB0byBwYWdlLGhlYWRlcixjb250ZW50LGZvb3Rlcg0KCQlpZiAoIHJvbGUgPT09ICJoZWFkZXIiIHx8IHJvbGUgPT09ICJmb290ZXIiICkgew0KCQkJDQoJCQl2YXIgdGhpc1RoZW1lID0gdGhlbWUgfHwgKCByb2xlID09PSAiaGVhZGVyIiA/IG8uaGVhZGVyVGhlbWUgOiBvLmZvb3RlclRoZW1lICkgfHwgcGFnZVRoZW1lOw0KDQoJCQkkdGhpcw0KCQkJCS8vYWRkIHRoZW1lIGNsYXNzDQoJCQkJLmFkZENsYXNzKCAidWktYmFyLSIgKyB0aGlzVGhlbWUgKQ0KCQkJCS8vIEFkZCBBUklBIHJvbGUNCgkJCQkuYXR0ciggInJvbGUiLCByb2xlID09PSAiaGVhZGVyIiA/ICJiYW5uZXIiIDogImNvbnRlbnRpbmZvIiApOw0KDQoJCQkvLyBSaWdodCxsZWZ0IGJ1dHRvbnMNCgkJCSRoZWFkZXJhbmNob3JzCT0gJHRoaXMuY2hpbGRyZW4oICJhIiApOw0KCQkJbGVmdGJ0bgk9ICRoZWFkZXJhbmNob3JzLmhhc0NsYXNzKCAidWktYnRuLWxlZnQiICk7DQoJCQlyaWdodGJ0biA9ICRoZWFkZXJhbmNob3JzLmhhc0NsYXNzKCAidWktYnRuLXJpZ2h0IiApOw0KDQoJCQlsZWZ0YnRuID0gbGVmdGJ0biB8fCAkaGVhZGVyYW5jaG9ycy5lcSggMCApLm5vdCggIi51aS1idG4tcmlnaHQiICkuYWRkQ2xhc3MoICJ1aS1idG4tbGVmdCIgKS5sZW5ndGg7DQoJCQkNCgkJCXJpZ2h0YnRuID0gcmlnaHRidG4gfHwgJGhlYWRlcmFuY2hvcnMuZXEoIDEgKS5hZGRDbGFzcyggInVpLWJ0bi1yaWdodCIgKS5sZW5ndGg7DQoJCQkNCgkJCS8vIEF1dG8tYWRkIGJhY2sgYnRuIG9uIHBhZ2VzIGJleW9uZCBmaXJzdCB2aWV3DQoJCQlpZiAoIG8uYWRkQmFja0J0biAmJiANCgkJCQlyb2xlID09PSAiaGVhZGVyIiAmJg0KCQkJCSQoICIudWktcGFnZSIgKS5sZW5ndGggPiAxICYmDQoJCQkJJHRoaXMuanFtRGF0YSggInVybCIgKSAhPT0gJC5tb2JpbGUucGF0aC5zdHJpcEhhc2goIGxvY2F0aW9uLmhhc2ggKSAmJg0KCQkJCSFsZWZ0YnRuICkgew0KDQoJCQkJYmFja0J0biA9ICQoICI8YSBocmVmPScjJyBjbGFzcz0ndWktYnRuLWxlZnQnIGRhdGEtIisgJC5tb2JpbGUubnMgKyJyZWw9J2JhY2snIGRhdGEtIisgJC5tb2JpbGUubnMgKyJpY29uPSdhcnJvdy1sJz4iKyBvLmJhY2tCdG5UZXh0ICsiPC9hPiIgKQ0KCQkJCQkvLyBJZiB0aGVtZSBpcyBwcm92aWRlZCwgb3ZlcnJpZGUgZGVmYXVsdCBpbmhlcml0YW5jZQ0KCQkJCQkuYXR0ciggImRhdGEtIisgJC5tb2JpbGUubnMgKyJ0aGVtZSIsIG8uYmFja0J0blRoZW1lIHx8IHRoaXNUaGVtZSApDQoJCQkJCS5wcmVwZW5kVG8oICR0aGlzICk7CQkJCQ0KCQkJfQ0KDQoJCQkvLyBQYWdlIHRpdGxlDQoJCQkkdGhpcy5jaGlsZHJlbiggImgxLCBoMiwgaDMsIGg0LCBoNSwgaDYiICkNCgkJCQkuYWRkQ2xhc3MoICJ1aS10aXRsZSIgKQ0KCQkJCS8vIFJlZ2FyZGxlc3Mgb2YgaCBlbGVtZW50IG51bWJlciBpbiBzcmMsIGl0IGJlY29tZXMgaDEgZm9yIHRoZSBlbmhhbmNlZCBwYWdlDQoJCQkJLmF0dHIoew0KCQkJCQkidGFiaW5kZXgiOiAiMCIsDQoJCQkJCSJyb2xlIjogImhlYWRpbmciLA0KCQkJCQkiYXJpYS1sZXZlbCI6ICIxIg0KCQkJCX0pOw0KDQoJCX0gZWxzZSBpZiAoIHJvbGUgPT09ICJjb250ZW50IiApIHsNCgkJCWlmICggY29udGVudFRoZW1lICkgew0KCQkJICAgICR0aGlzLmFkZENsYXNzKCAidWktYm9keS0iICsgKCBjb250ZW50VGhlbWUgKSApOw0KCQkJfQ0KDQoJCQkvLyBBZGQgQVJJQSByb2xlDQoJCQkkdGhpcy5hdHRyKCAicm9sZSIsICJtYWluIiApOw0KCQl9DQoJfSk7DQp9KTsNCg0KfSkoIGpRdWVyeSApOy8qDQoqICJjb2xsYXBzaWJsZSIgcGx1Z2luDQoqLw0KDQooZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHsNCg0KJC53aWRnZXQoICJtb2JpbGUuY29sbGFwc2libGUiLCAkLm1vYmlsZS53aWRnZXQsIHsNCglvcHRpb25zOiB7DQoJCWV4cGFuZEN1ZVRleHQ6ICIgY2xpY2sgdG8gZXhwYW5kIGNvbnRlbnRzIiwNCgkJY29sbGFwc2VDdWVUZXh0OiAiIGNsaWNrIHRvIGNvbGxhcHNlIGNvbnRlbnRzIiwNCgkJY29sbGFwc2VkOiB0cnVlLA0KCQloZWFkaW5nOiAiaDEsaDIsaDMsaDQsaDUsaDYsbGVnZW5kIiwNCgkJdGhlbWU6IG51bGwsDQoJCWNvbnRlbnRUaGVtZTogbnVsbCwNCgkJaWNvblRoZW1lOiAiZCIsDQoJCWluaXRTZWxlY3RvcjogIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlJykiDQoJfSwNCglfY3JlYXRlOiBmdW5jdGlvbigpIHsNCg0KCQl2YXIgJGVsID0gdGhpcy5lbGVtZW50LA0KCQkJbyA9IHRoaXMub3B0aW9ucywNCgkJCWNvbGxhcHNpYmxlID0gJGVsLmFkZENsYXNzKCAidWktY29sbGFwc2libGUiICksDQoJCQljb2xsYXBzaWJsZUhlYWRpbmcgPSAkZWwuY2hpbGRyZW4oIG8uaGVhZGluZyApLmZpcnN0KCksDQoJCQljb2xsYXBzaWJsZUNvbnRlbnQgPSBjb2xsYXBzaWJsZS53cmFwSW5uZXIoICI8ZGl2IGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1jb250ZW50Jz48L2Rpdj4iICkuZmluZCggIi51aS1jb2xsYXBzaWJsZS1jb250ZW50IiApLA0KCQkJY29sbGFwc2libGVTZXQgPSAkZWwuY2xvc2VzdCggIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlLXNldCcpIiApLmFkZENsYXNzKCAidWktY29sbGFwc2libGUtc2V0IiApLA0KCQkJY29sbGFwc2libGVzSW5TZXQgPSBjb2xsYXBzaWJsZVNldC5jaGlsZHJlbiggIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlJykiICk7DQoNCgkJLy8gUmVwbGFjZSBjb2xsYXBzaWJsZUhlYWRpbmcgaWYgaXQncyBhIGxlZ2VuZA0KCQlpZiAoIGNvbGxhcHNpYmxlSGVhZGluZy5pcyggImxlZ2VuZCIgKSApIHsNCgkJCWNvbGxhcHNpYmxlSGVhZGluZyA9ICQoICI8ZGl2IHJvbGU9J2hlYWRpbmcnPiIrIGNvbGxhcHNpYmxlSGVhZGluZy5odG1sKCkgKyI8L2Rpdj4iICkuaW5zZXJ0QmVmb3JlKCBjb2xsYXBzaWJsZUhlYWRpbmcgKTsNCgkJCWNvbGxhcHNpYmxlSGVhZGluZy5uZXh0KCkucmVtb3ZlKCk7DQoJCX0NCg0KCQkvLyBJZiB3ZSBhcmUgaW4gYSBjb2xsYXBzaWJsZSBzZXQNCgkJaWYgKCBjb2xsYXBzaWJsZVNldC5sZW5ndGggKSB7DQoJCQkvLyBJbmhlcml0IHRoZSB0aGVtZSBmcm9tIGNvbGxhcHNpYmxlLXNldA0KCQkJaWYgKCAhby50aGVtZSApIHsNCgkJCQlvLnRoZW1lID0gY29sbGFwc2libGVTZXQuanFtRGF0YSggInRoZW1lIiApOw0KCQkJfQ0KCQkJLy8gSW5oZXJpdCB0aGUgY29udGVudC10aGVtZSBmcm9tIGNvbGxhcHNpYmxlLXNldA0KCQkJaWYgKCAhby5jb250ZW50VGhlbWUgKSB7DQoJCQkJby5jb250ZW50VGhlbWUgPSBjb2xsYXBzaWJsZVNldC5qcW1EYXRhKCAiY29udGVudC10aGVtZSIgKTsNCgkJCX0NCgkJfQ0KDQoJCWNvbGxhcHNpYmxlQ29udGVudC5hZGRDbGFzcyggKCBvLmNvbnRlbnRUaGVtZSApID8gKCAidWktYm9keS0iICsgby5jb250ZW50VGhlbWUgKSA6ICIiKTsNCg0KCQljb2xsYXBzaWJsZUhlYWRpbmcNCgkJCS8vZHJvcCBoZWFkaW5nIGluIGJlZm9yZSBjb250ZW50DQoJCQkuaW5zZXJ0QmVmb3JlKCBjb2xsYXBzaWJsZUNvbnRlbnQgKQ0KCQkJLy9tb2RpZnkgbWFya3VwICYgYXR0cmlidXRlcw0KCQkJLmFkZENsYXNzKCAidWktY29sbGFwc2libGUtaGVhZGluZyIgKQ0KCQkJLmFwcGVuZCggIjxzcGFuIGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXN0YXR1cyc+PC9zcGFuPiIgKQ0KCQkJLndyYXBJbm5lciggIjxhIGhyZWY9JyMnIGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXRvZ2dsZSc+PC9hPiIgKQ0KCQkJLmZpbmQoICJhIiApDQoJCQkJLmZpcnN0KCkNCgkJCQkuYnV0dG9uTWFya3VwKHsNCgkJCQkJc2hhZG93OiBmYWxzZSwNCgkJCQkJY29ybmVyczogZmFsc2UsDQoJCQkJCWljb25Qb3M6ICJsZWZ0IiwNCgkJCQkJaWNvbjogInBsdXMiLA0KCQkJCQl0aGVtZTogby50aGVtZQ0KCQkJCX0pOw0KDQoJCWlmICggIWNvbGxhcHNpYmxlU2V0Lmxlbmd0aCApIHsNCgkJCWNvbGxhcHNpYmxlSGVhZGluZw0KCQkJCS5maW5kKCAiYSIgKS5maXJzdCgpLmFkZCggY29sbGFwc2libGVIZWFkaW5nLmZpbmQoICIudWktYnRuLWlubmVyIiApICkNCgkJCQkJLmFkZENsYXNzKCAidWktY29ybmVyLXRvcCB1aS1jb3JuZXItYm90dG9tIiApOw0KCQl9IGVsc2Ugew0KCQkJLy8gSWYgd2UgYXJlIGluIGEgY29sbGFwc2libGUgc2V0DQoNCgkJCS8vIEluaXRpYWxpemUgdGhlIGNvbGxhcHNpYmxlIHNldCBpZiBpdCdzIG5vdCBhbHJlYWR5IGluaXRpYWxpemVkDQoJCQlpZiAoICFjb2xsYXBzaWJsZVNldC5qcW1EYXRhKCAiY29sbGFwc2libGVib3VuZCIgKSApIHsNCg0KCQkJCWNvbGxhcHNpYmxlU2V0DQoJCQkJCS5qcW1EYXRhKCAiY29sbGFwc2libGVib3VuZCIsIHRydWUgKQ0KCQkJCQkuYmluZCggImV4cGFuZCIsIGZ1bmN0aW9uKCBldmVudCApIHsNCg0KCQkJCQkJJCggZXZlbnQudGFyZ2V0ICkNCgkJCQkJCQkuY2xvc2VzdCggIi51aS1jb2xsYXBzaWJsZSIgKQ0KCQkJCQkJCS5zaWJsaW5ncyggIi51aS1jb2xsYXBzaWJsZSIgKQ0KCQkJCQkJCS50cmlnZ2VyKCAiY29sbGFwc2UiICk7DQoNCgkJCQkJfSk7DQoJCQl9DQoNCgkJCWNvbGxhcHNpYmxlc0luU2V0LmZpcnN0KCkNCgkJCQkuZmluZCggImEiICkNCgkJCQkJLmZpcnN0KCkNCgkJCQkJLmFkZENsYXNzKCAidWktY29ybmVyLXRvcCIgKQ0KCQkJCQkJLmZpbmQoICIudWktYnRuLWlubmVyIiApDQoJCQkJCQkJLmFkZENsYXNzKCAidWktY29ybmVyLXRvcCIgKTsNCg0KCQkJY29sbGFwc2libGVzSW5TZXQubGFzdCgpDQoJCQkJLmpxbURhdGEoICJjb2xsYXBzaWJsZS1sYXN0IiwgdHJ1ZSApDQoJCQkJLmZpbmQoICJhIiApDQoJCQkJCS5maXJzdCgpDQoJCQkJCS5hZGRDbGFzcyggInVpLWNvcm5lci1ib3R0b20iICkNCgkJCQkJCS5maW5kKCAiLnVpLWJ0bi1pbm5lciIgKQ0KCQkJCQkJCS5hZGRDbGFzcyggInVpLWNvcm5lci1ib3R0b20iICk7DQoNCg0KCQkJaWYgKCBjb2xsYXBzaWJsZS5qcW1EYXRhKCAiY29sbGFwc2libGUtbGFzdCIgKSApIHsNCgkJCQljb2xsYXBzaWJsZUhlYWRpbmcNCgkJCQkJLmZpbmQoICJhIiApLmZpcnN0KCkuYWRkICggY29sbGFwc2libGVIZWFkaW5nLmZpbmQoICIudWktYnRuLWlubmVyIiApICkNCgkJCQkJCS5hZGRDbGFzcyggInVpLWNvcm5lci1ib3R0b20iICk7DQoJCQl9DQoJCX0NCg0KCQkvL2V2ZW50cw0KCQljb2xsYXBzaWJsZQ0KCQkJLmJpbmQoICJleHBhbmQgY29sbGFwc2UiLCBmdW5jdGlvbiggZXZlbnQgKSB7DQoJCQkJaWYgKCAhZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgKSB7DQoNCgkJCQkJZXZlbnQucHJldmVudERlZmF1bHQoKTsNCg0KCQkJCQl2YXIgJHRoaXMgPSAkKCB0aGlzICksDQoJCQkJCQlpc0NvbGxhcHNlID0gKCBldmVudC50eXBlID09PSAiY29sbGFwc2UiICksDQoJCQkJCSAgICBjb250ZW50VGhlbWUgPSBvLmNvbnRlbnRUaGVtZTsNCg0KCQkJCQljb2xsYXBzaWJsZUhlYWRpbmcNCgkJCQkJCS50b2dnbGVDbGFzcyggInVpLWNvbGxhcHNpYmxlLWhlYWRpbmctY29sbGFwc2VkIiwgaXNDb2xsYXBzZSkNCgkJCQkJCS5maW5kKCAiLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmctc3RhdHVzIiApDQoJCQkJCQkJLnRleHQoIGlzQ29sbGFwc2UgPyBvLmV4cGFuZEN1ZVRleHQgOiBvLmNvbGxhcHNlQ3VlVGV4dCApDQoJCQkJCQkuZW5kKCkNCgkJCQkJCS5maW5kKCAiLnVpLWljb24iICkNCgkJCQkJCQkudG9nZ2xlQ2xhc3MoICJ1aS1pY29uLW1pbnVzIiwgIWlzQ29sbGFwc2UgKQ0KCQkJCQkJCS50b2dnbGVDbGFzcyggInVpLWljb24tcGx1cyIsIGlzQ29sbGFwc2UgKTsNCg0KCQkJCQkkdGhpcy50b2dnbGVDbGFzcyggInVpLWNvbGxhcHNpYmxlLWNvbGxhcHNlZCIsIGlzQ29sbGFwc2UgKTsNCgkJCQkJY29sbGFwc2libGVDb250ZW50LnRvZ2dsZUNsYXNzKCAidWktY29sbGFwc2libGUtY29udGVudC1jb2xsYXBzZWQiLCBpc0NvbGxhcHNlICkuYXR0ciggImFyaWEtaGlkZGVuIiwgaXNDb2xsYXBzZSApOw0KDQoJCQkJCWlmICggY29udGVudFRoZW1lICYmICggIWNvbGxhcHNpYmxlU2V0Lmxlbmd0aCB8fCBjb2xsYXBzaWJsZS5qcW1EYXRhKCAiY29sbGFwc2libGUtbGFzdCIgKSApICkgew0KCQkJCQkJY29sbGFwc2libGVIZWFkaW5nDQoJCQkJCQkJLmZpbmQoICJhIiApLmZpcnN0KCkuYWRkKCBjb2xsYXBzaWJsZUhlYWRpbmcuZmluZCggIi51aS1idG4taW5uZXIiICkgKQ0KCQkJCQkJCS50b2dnbGVDbGFzcyggInVpLWNvcm5lci1ib3R0b20iLCBpc0NvbGxhcHNlICk7DQoJCQkJCQljb2xsYXBzaWJsZUNvbnRlbnQudG9nZ2xlQ2xhc3MoICJ1aS1jb3JuZXItYm90dG9tIiwgIWlzQ29sbGFwc2UgKTsNCgkJCQkJfQ0KCQkJCQljb2xsYXBzaWJsZUNvbnRlbnQudHJpZ2dlciggInVwZGF0ZWxheW91dCIgKTsNCgkJCQl9DQoJCQl9KQ0KCQkJLnRyaWdnZXIoIG8uY29sbGFwc2VkID8gImNvbGxhcHNlIiA6ICJleHBhbmQiICk7DQoNCgkJY29sbGFwc2libGVIZWFkaW5nDQoJCQkuYmluZCggImNsaWNrIiwgZnVuY3Rpb24oIGV2ZW50ICkgew0KDQoJCQkJdmFyIHR5cGUgPSBjb2xsYXBzaWJsZUhlYWRpbmcuaXMoICIudWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiICkgPw0KCQkJCQkJCQkJCSJleHBhbmQiIDogImNvbGxhcHNlIjsNCg0KCQkJCWNvbGxhcHNpYmxlLnRyaWdnZXIoIHR5cGUgKTsNCg0KCQkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7DQoJCQl9KTsNCgl9DQp9KTsNCg0KLy9hdXRvIHNlbGYtaW5pdCB3aWRnZXRzDQokKCBkb2N1bWVudCApLmJpbmQoICJwYWdlY3JlYXRlIGNyZWF0ZSIsIGZ1bmN0aW9uKCBlICl7DQoJJCggJC5tb2JpbGUuY29sbGFwc2libGUucHJvdG90eXBlLm9wdGlvbnMuaW5pdFNlbGVjdG9yLCBlLnRhcmdldCApLmNvbGxhcHNpYmxlKCk7DQp9KTsNCg0KfSkoIGpRdWVyeSApOw0KLyoNCiogImZpZWxkY29udGFpbiIgcGx1Z2luIC0gc2ltcGxlIGNsYXNzIGFkZGl0aW9ucyB0byBtYWtlIGZvcm0gcm93IHNlcGFyYXRvcnMNCiovDQoNCihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkgew0KDQokLmZuLmZpZWxkY29udGFpbiA9IGZ1bmN0aW9uKCBvcHRpb25zICkgew0KCXJldHVybiB0aGlzLmFkZENsYXNzKCAidWktZmllbGQtY29udGFpbiB1aS1ib2R5IHVpLWJyIiApOw0KfTsNCg0KLy9hdXRvIHNlbGYtaW5pdCB3aWRnZXRzDQokKCBkb2N1bWVudCApLmJpbmQoICJwYWdlY3JlYXRlIGNyZWF0ZSIsIGZ1bmN0aW9uKCBlICl7DQoJJCggIjpqcW1EYXRhKHJvbGU9J2ZpZWxkY29udGFpbicpIiwgZS50YXJnZXQgKS5maWVsZGNvbnRhaW4oKTsNCn0pOw0KDQp9KSggalF1ZXJ5ICk7LyoNCiogcGx1Z2luIGZvciBjcmVhdGluZyBDU1MgZ3JpZHMNCiovDQoNCihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkgew0KDQokLmZuLmdyaWQgPSBmdW5jdGlvbiggb3B0aW9ucyApIHsNCglyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkgew0KDQoJCXZhciAkdGhpcyA9ICQoIHRoaXMgKSwNCgkJCW8gPSAkLmV4dGVuZCh7DQoJCQkJZ3JpZDogbnVsbA0KCQkJfSxvcHRpb25zKSwNCgkJCSRraWRzID0gJHRoaXMuY2hpbGRyZW4oKSwNCgkJCWdyaWRDb2xzID0ge3NvbG86MSwgYToyLCBiOjMsIGM6NCwgZDo1fSwNCgkJCWdyaWQgPSBvLmdyaWQsDQoJCQlpdGVyYXRvcjsNCg0KCQkJaWYgKCAhZ3JpZCApIHsNCgkJCQlpZiAoICRraWRzLmxlbmd0aCA8PSA1ICkgew0KCQkJCQlmb3IgKCB2YXIgbGV0dGVyIGluIGdyaWRDb2xzICkgew0KCQkJCQkJaWYgKCBncmlkQ29sc1sgbGV0dGVyIF0gPT09ICRraWRzLmxlbmd0aCApIHsNCgkJCQkJCQlncmlkID0gbGV0dGVyOw0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJfSBlbHNlIHsNCgkJCQkJZ3JpZCA9ICJhIjsNCgkJCQl9DQoJCQl9DQoJCQlpdGVyYXRvciA9IGdyaWRDb2xzW2dyaWRdOw0KDQoJCSR0aGlzLmFkZENsYXNzKCAidWktZ3JpZC0iICsgZ3JpZCApOw0KDQoJCSRraWRzLmZpbHRlciggIjpudGgtY2hpbGQoIiArIGl0ZXJhdG9yICsgIm4rMSkiICkuYWRkQ2xhc3MoICJ1aS1ibG9jay1hIiApOw0KDQoJCWlmICggaXRlcmF0b3IgPiAxICkgew0KCQkJJGtpZHMuZmlsdGVyKCAiOm50aC1jaGlsZCgiICsgaXRlcmF0b3IgKyAibisyKSIgKS5hZGRDbGFzcyggInVpLWJsb2NrLWIiICk7DQoJCX0NCgkJaWYgKCBpdGVyYXRvciA+IDIgKSB7DQoJCQkka2lkcy5maWx0ZXIoICI6bnRoLWNoaWxkKDNuKzMpIiApLmFkZENsYXNzKCAidWktYmxvY2stYyIgKTsNCgkJfQ0KCQlpZiAoIGl0ZXJhdG9yID4gMyApIHsNCgkJCSRraWRzLmZpbHRlciggIjpudGgtY2hpbGQoNG4rNCkiICkuYWRkQ2xhc3MoICJ1aS1ibG9jay1kIiApOw0KCQl9DQoJCWlmICggaXRlcmF0b3IgPiA0ICkgew0KCQkJJGtpZHMuZmlsdGVyKCAiOm50aC1jaGlsZCg1bis1KSIgKS5hZGRDbGFzcyggInVpLWJsb2NrLWUiICk7DQoJCX0NCgl9KTsNCn07DQp9KSggalF1ZXJ5ICk7LyoNCiogIm5hdmJhciIgcGx1Z2luDQoqLw0KDQooZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHsNCg0KJC53aWRnZXQoICJtb2JpbGUubmF2YmFyIiwgJC5tb2JpbGUud2lkZ2V0LCB7DQoJb3B0aW9uczogew0KCQlpY29ucG9zOiAidG9wIiwNCgkJZ3JpZDogbnVsbCwNCgkJaW5pdFNlbGVjdG9yOiAiOmpxbURhdGEocm9sZT0nbmF2YmFyJykiDQoJfSwNCg0KCV9jcmVhdGU6IGZ1bmN0aW9uKCl7DQoNCgkJdmFyICRuYXZiYXIgPSB0aGlzLmVsZW1lbnQsDQoJCQkkbmF2YnRucyA9ICRuYXZiYXIuZmluZCggImEiICksDQoJCQlpY29ucG9zID0gJG5hdmJ0bnMuZmlsdGVyKCAiOmpxbURhdGEoaWNvbikiICkubGVuZ3RoID8NCgkJCQkJCQkJCXRoaXMub3B0aW9ucy5pY29ucG9zIDogdW5kZWZpbmVkOw0KDQoJCSRuYXZiYXIuYWRkQ2xhc3MoICJ1aS1uYXZiYXIiICkNCgkJCS5hdHRyKCAicm9sZSIsIm5hdmlnYXRpb24iICkNCgkJCS5maW5kKCAidWwiICkNCgkJCQkuZ3JpZCh7IGdyaWQ6IHRoaXMub3B0aW9ucy5ncmlkIH0pOw0KDQoJCWlmICggIWljb25wb3MgKSB7DQoJCQkkbmF2YmFyLmFkZENsYXNzKCAidWktbmF2YmFyLW5vaWNvbnMiICk7DQoJCX0NCg0KCQkkbmF2YnRucy5idXR0b25NYXJrdXAoew0KCQkJY29ybmVyczoJZmFsc2UsDQoJCQlzaGFkb3c6CQlmYWxzZSwNCgkJCWljb25wb3M6CWljb25wb3MNCgkJfSk7DQoNCgkJJG5hdmJhci5kZWxlZ2F0ZSggImEiLCAidmNsaWNrIiwgZnVuY3Rpb24oIGV2ZW50ICkgew0KCQkJJG5hdmJ0bnMubm90KCAiLnVpLXN0YXRlLXBlcnNpc3QiICkucmVtb3ZlQ2xhc3MoICQubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzICk7DQoJCQkkKCB0aGlzICkuYWRkQ2xhc3MoICQubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzICk7DQoJCX0pOw0KCX0NCn0pOw0KDQovL2F1dG8gc2VsZi1pbml0IHdpZGdldHMNCiQoIGRvY3VtZW50ICkuYmluZCggInBhZ2VjcmVhdGUgY3JlYXRlIiwgZnVuY3Rpb24oIGUgKXsNCgkkKCAkLm1vYmlsZS5uYXZiYXIucHJvdG90eXBlLm9wdGlvbnMuaW5pdFNlbGVjdG9yLCBlLnRhcmdldCApLm5hdmJhcigpOw0KfSk7DQoNCn0pKCBqUXVlcnkgKTsNCi8qDQoqICJsaXN0dmlldyIgcGx1Z2luDQoqLw0KDQooZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHsNCg0KLy9LZWVwcyB0cmFjayBvZiB0aGUgbnVtYmVyIG9mIGxpc3RzIHBlciBwYWdlIFVJRA0KLy9UaGlzIGFsbG93cyBzdXBwb3J0IGZvciBtdWx0aXBsZSBuZXN0ZWQgbGlzdCBpbiB0aGUgc2FtZSBwYWdlDQovL2h0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvanF1ZXJ5LW1vYmlsZS9pc3N1ZXMvMTYxNw0KdmFyIGxpc3RDb3VudFBlclBhZ2UgPSB7fTsNCg0KJC53aWRnZXQoICJtb2JpbGUubGlzdHZpZXciLCAkLm1vYmlsZS53aWRnZXQsIHsNCglvcHRpb25zOiB7DQoJCXRoZW1lOiBudWxsLA0KCQljb3VudFRoZW1lOiAiYyIsDQoJCWhlYWRlclRoZW1lOiAiYiIsDQoJCWRpdmlkZXJUaGVtZTogImIiLA0KCQlzcGxpdEljb246ICJhcnJvdy1yIiwNCgkJc3BsaXRUaGVtZTogImIiLA0KCQlpbnNldDogZmFsc2UsDQoJCWluaXRTZWxlY3RvcjogIjpqcW1EYXRhKHJvbGU9J2xpc3R2aWV3JykiDQoJfSwNCg0KCV9jcmVhdGU6IGZ1bmN0aW9uKCkgew0KCQl2YXIgdCA9IHRoaXM7DQoNCgkJLy8gY3JlYXRlIGxpc3R2aWV3IG1hcmt1cA0KCQl0LmVsZW1lbnQuYWRkQ2xhc3MoZnVuY3Rpb24oIGksIG9yaWcgKSB7DQoJCQlyZXR1cm4gb3JpZyArICIgdWktbGlzdHZpZXcgIiArICggdC5vcHRpb25zLmluc2V0ID8gIiB1aS1saXN0dmlldy1pbnNldCB1aS1jb3JuZXItYWxsIHVpLXNoYWRvdyAiIDogIiIgKTsNCgkJfSk7DQoNCgkJdC5yZWZyZXNoKCB0cnVlICk7DQoJfSwNCg0KCV9yZW1vdmVDb3JuZXJzOiBmdW5jdGlvbiggbGksIHdoaWNoICkgew0KCQl2YXIgdG9wID0gInVpLWNvcm5lci10b3AgdWktY29ybmVyLXRyIHVpLWNvcm5lci10bCIsDQoJCQlib3QgPSAidWktY29ybmVyLWJvdHRvbSB1aS1jb3JuZXItYnIgdWktY29ybmVyLWJsIjsNCg0KCQlsaSA9IGxpLmFkZCggbGkuZmluZCggIi51aS1idG4taW5uZXIsIC51aS1saS1saW5rLWFsdCwgLnVpLWxpLXRodW1iIiApICk7DQoNCgkJaWYgKCB3aGljaCA9PT0gInRvcCIgKSB7DQoJCQlsaS5yZW1vdmVDbGFzcyggdG9wICk7DQoJCX0gZWxzZSBpZiAoIHdoaWNoID09PSAiYm90dG9tIiApIHsNCgkJCWxpLnJlbW92ZUNsYXNzKCBib3QgKTsNCgkJfSBlbHNlIHsNCgkJCWxpLnJlbW92ZUNsYXNzKCB0b3AgKyAiICIgKyBib3QgKTsNCgkJfQ0KCX0sDQoNCglfcmVmcmVzaENvcm5lcnM6IGZ1bmN0aW9uKCBjcmVhdGUgKSB7DQoJCXZhciAkbGksDQoJCQkkdmlzaWJsZWxpLA0KCQkJJHRvcGxpLA0KCQkJJGJvdHRvbWxpOw0KDQoJCWlmICggdGhpcy5vcHRpb25zLmluc2V0ICkgew0KCQkJJGxpID0gdGhpcy5lbGVtZW50LmNoaWxkcmVuKCAibGkiICk7DQoJCQkvLyBhdCBjcmVhdGUgdGltZSB0aGUgbGkgYXJlIG5vdCB2aXNpYmxlIHlldCBzbyB3ZSBuZWVkIHRvIHJlbHkgb24gLnVpLXNjcmVlbi1oaWRkZW4NCgkJCSR2aXNpYmxlbGkgPSBjcmVhdGU/JGxpLm5vdCggIi51aS1zY3JlZW4taGlkZGVuIiApOiRsaS5maWx0ZXIoICI6dmlzaWJsZSIgKTsNCg0KCQkJdGhpcy5fcmVtb3ZlQ29ybmVycyggJGxpICk7DQoNCgkJCS8vIFNlbGVjdCB0aGUgZmlyc3QgdmlzaWJsZSBsaSBlbGVtZW50DQoJCQkkdG9wbGkgPSAkdmlzaWJsZWxpLmZpcnN0KCkNCgkJCQkuYWRkQ2xhc3MoICJ1aS1jb3JuZXItdG9wIiApOw0KDQoJCQkkdG9wbGkuYWRkKCAkdG9wbGkuZmluZCggIi51aS1idG4taW5uZXIiICkNCgkJCQkJLm5vdCggIi51aS1saS1saW5rLWFsdCBzcGFuOmZpcnN0LWNoaWxkIiApICkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCAidWktY29ybmVyLXRvcCIgKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZW5kKCkNCgkJCQkuZmluZCggIi51aS1saS1saW5rLWFsdCwgLnVpLWxpLWxpbmstYWx0IHNwYW46Zmlyc3QtY2hpbGQiICkNCgkJCQkJLmFkZENsYXNzKCAidWktY29ybmVyLXRyIiApDQoJCQkJLmVuZCgpDQoJCQkJLmZpbmQoICIudWktbGktdGh1bWIiICkNCgkJCQkJLm5vdCgiLnVpLWxpLWljb24iKQ0KCQkJCQkuYWRkQ2xhc3MoICJ1aS1jb3JuZXItdGwiICk7DQoNCgkJCS8vIFNlbGVjdCB0aGUgbGFzdCB2aXNpYmxlIGxpIGVsZW1lbnQNCgkJCSRib3R0b21saSA9ICR2aXNpYmxlbGkubGFzdCgpDQoJCQkJLmFkZENsYXNzKCAidWktY29ybmVyLWJvdHRvbSIgKTsNCg0KCQkJJGJvdHRvbWxpLmFkZCggJGJvdHRvbWxpLmZpbmQoICIudWktYnRuLWlubmVyIiApICkNCgkJCQkuZmluZCggIi51aS1saS1saW5rLWFsdCIgKQ0KCQkJCQkuYWRkQ2xhc3MoICJ1aS1jb3JuZXItYnIiICkNCgkJCQkuZW5kKCkNCgkJCQkuZmluZCggIi51aS1saS10aHVtYiIgKQ0KCQkJCQkubm90KCIudWktbGktaWNvbiIpDQoJCQkJCS5hZGRDbGFzcyggInVpLWNvcm5lci1ibCIgKTsNCgkJfQ0KCQlpZiAoICFjcmVhdGUgKSB7DQoJCQl0aGlzLmVsZW1lbnQudHJpZ2dlciggInVwZGF0ZWxheW91dCIgKTsNCgkJfQ0KCX0sDQoNCgkvLyBUaGlzIGlzIGEgZ2VuZXJpYyB1dGlsaXR5IG1ldGhvZCBmb3IgZmluZGluZyB0aGUgZmlyc3QNCgkvLyBub2RlIHdpdGggYSBnaXZlbiBub2RlTmFtZS4gSXQgdXNlcyBiYXNpYyBET00gdHJhdmVyc2FsDQoJLy8gdG8gYmUgZmFzdCBhbmQgaXMgbWVhbnQgdG8gYmUgYSBzdWJzdGl0dXRlIGZvciBzaW1wbGUNCgkvLyAkLmZuLmNsb3Nlc3QoKSBhbmQgJC5mbi5jaGlsZHJlbigpIGNhbGxzIG9uIGEgc2luZ2xlDQoJLy8gZWxlbWVudC4gTm90ZSB0aGF0IGNhbGxlcnMgbXVzdCBwYXNzIGJvdGggdGhlIGxvd2VyQ2FzZQ0KCS8vIGFuZCB1cHBlckNhc2UgdmVyc2lvbiBvZiB0aGUgbm9kZU5hbWUgdGhleSBhcmUgbG9va2luZyBmb3IuDQoJLy8gVGhlIG1haW4gcmVhc29uIGZvciB0aGlzIGlzIHRoYXQgdGhpcyBmdW5jdGlvbiB3aWxsIGJlDQoJLy8gY2FsbGVkIG1hbnkgdGltZXMgYW5kIHdlIHdhbnQgdG8gYXZvaWQgaGF2aW5nIHRvIGxvd2VyY2FzZQ0KCS8vIHRoZSBub2RlTmFtZSBmcm9tIHRoZSBlbGVtZW50IGV2ZXJ5IHRpbWUgdG8gZW5zdXJlIHdlIGhhdmUNCgkvLyBhIG1hdGNoLiBOb3RlIHRoYXQgdGhpcyBmdW5jdGlvbiBsaXZlcyBoZXJlIGZvciBub3csIGJ1dCBtYXkNCgkvLyBiZSBtb3ZlZCBpbnRvICQubW9iaWxlIGlmIG90aGVyIGNvbXBvbmVudHMgbmVlZCBhIHNpbWlsYXIgbWV0aG9kLg0KCV9maW5kRmlyc3RFbGVtZW50QnlUYWdOYW1lOiBmdW5jdGlvbiggZWxlLCBuZXh0UHJvcCwgbGNOYW1lLCB1Y05hbWUgKQ0KCXsNCgkJdmFyIGRpY3QgPSB7fTsNCgkJZGljdFsgbGNOYW1lIF0gPSBkaWN0WyB1Y05hbWUgXSA9IHRydWU7DQoJCXdoaWxlICggZWxlICkgew0KCQkJaWYgKCBkaWN0WyBlbGUubm9kZU5hbWUgXSApIHsNCgkJCQlyZXR1cm4gZWxlOw0KCQkJfQ0KCQkJZWxlID0gZWxlWyBuZXh0UHJvcCBdOw0KCQl9DQoJCXJldHVybiBudWxsOw0KCX0sDQoJX2dldENoaWxkcmVuQnlUYWdOYW1lOiBmdW5jdGlvbiggZWxlLCBsY05hbWUsIHVjTmFtZSApDQoJew0KCQl2YXIgcmVzdWx0cyA9IFtdLA0KCQkJZGljdCA9IHt9Ow0KCQlkaWN0WyBsY05hbWUgXSA9IGRpY3RbIHVjTmFtZSBdID0gdHJ1ZTsNCgkJZWxlID0gZWxlLmZpcnN0Q2hpbGQ7DQoJCXdoaWxlICggZWxlICkgew0KCQkJaWYgKCBkaWN0WyBlbGUubm9kZU5hbWUgXSApIHsNCgkJCQlyZXN1bHRzLnB1c2goIGVsZSApOw0KCQkJfQ0KCQkJZWxlID0gZWxlLm5leHRTaWJsaW5nOw0KCQl9DQoJCXJldHVybiAkKCByZXN1bHRzICk7DQoJfSwNCg0KCV9hZGRUaHVtYkNsYXNzZXM6IGZ1bmN0aW9uKCBjb250YWluZXJzICkNCgl7DQoJCXZhciBpLCBpbWcsIGxlbiA9IGNvbnRhaW5lcnMubGVuZ3RoOw0KCQlmb3IgKCBpID0gMDsgaSA8IGxlbjsgaSsrICkgew0KCQkJaW1nID0gJCggdGhpcy5fZmluZEZpcnN0RWxlbWVudEJ5VGFnTmFtZSggY29udGFpbmVyc1sgaSBdLmZpcnN0Q2hpbGQsICJuZXh0U2libGluZyIsICJpbWciLCAiSU1HIiApICk7DQoJCQlpZiAoIGltZy5sZW5ndGggKSB7DQoJCQkJaW1nLmFkZENsYXNzKCAidWktbGktdGh1bWIiICk7DQoJCQkJJCggdGhpcy5fZmluZEZpcnN0RWxlbWVudEJ5VGFnTmFtZSggaW1nWyAwIF0ucGFyZW50Tm9kZSwgInBhcmVudE5vZGUiLCAibGkiLCAiTEkiICkgKS5hZGRDbGFzcyggaW1nLmlzKCAiLnVpLWxpLWljb24iICkgPyAidWktbGktaGFzLWljb24iIDogInVpLWxpLWhhcy10aHVtYiIgKTsNCgkJCX0NCgkJfQ0KCX0sDQoNCglyZWZyZXNoOiBmdW5jdGlvbiggY3JlYXRlICkgew0KCQl0aGlzLnBhcmVudFBhZ2UgPSB0aGlzLmVsZW1lbnQuY2xvc2VzdCggIi51aS1wYWdlIiApOw0KCQl0aGlzLl9jcmVhdGVTdWJQYWdlcygpOw0KDQoJCXZhciBvID0gdGhpcy5vcHRpb25zLA0KCQkJJGxpc3QgPSB0aGlzLmVsZW1lbnQsDQoJCQlzZWxmID0gdGhpcywNCgkJCWRpdmlkZXJ0aGVtZSA9ICRsaXN0LmpxbURhdGEoICJkaXZpZGVydGhlbWUiICkgfHwgby5kaXZpZGVyVGhlbWUsDQoJCQlsaXN0c3BsaXR0aGVtZSA9ICRsaXN0LmpxbURhdGEoICJzcGxpdHRoZW1lIiApLA0KCQkJbGlzdHNwbGl0aWNvbiA9ICRsaXN0LmpxbURhdGEoICJzcGxpdGljb24iICksDQoJCQlsaSA9IHRoaXMuX2dldENoaWxkcmVuQnlUYWdOYW1lKCAkbGlzdFsgMCBdLCAibGkiLCAiTEkiICksDQoJCQljb3VudGVyID0gJC5zdXBwb3J0LmNzc1BzZXVkb0VsZW1lbnQgfHwgISQubm9kZU5hbWUoICRsaXN0WyAwIF0sICJvbCIgKSA/IDAgOiAxLA0KCQkJaXRlbUNsYXNzRGljdCA9IHt9LA0KCQkJaXRlbSwgaXRlbUNsYXNzLCBpdGVtVGhlbWUsDQoJCQlhLCBsYXN0LCBzcGxpdHRoZW1lLCBjb3VudFBhcmVudCwgaWNvbiwgaW1nUGFyZW50cywgaW1nOw0KDQoJCWlmICggY291bnRlciApIHsNCgkJCSRsaXN0LmZpbmQoICIudWktbGktZGVjIiApLnJlbW92ZSgpOw0KCQl9DQoJCQ0KCQlpZiAoICFvLnRoZW1lICkgew0KCQkJby50aGVtZSA9ICQubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKCB0aGlzLmVsZW1lbnQsICJjIiApOw0KCQl9DQoNCgkJZm9yICggdmFyIHBvcyA9IDAsIG51bWxpID0gbGkubGVuZ3RoOyBwb3MgPCBudW1saTsgcG9zKysgKSB7DQoJCQlpdGVtID0gbGkuZXEoIHBvcyApOw0KCQkJaXRlbUNsYXNzID0gInVpLWxpIjsNCg0KCQkJLy8gSWYgd2UncmUgY3JlYXRpbmcgdGhlIGVsZW1lbnQsIHdlIHVwZGF0ZSBpdCByZWdhcmRsZXNzDQoJCQlpZiAoIGNyZWF0ZSB8fCAhaXRlbS5oYXNDbGFzcyggInVpLWxpIiApICkgew0KCQkJCWl0ZW1UaGVtZSA9IGl0ZW0uanFtRGF0YSgidGhlbWUiKSB8fCBvLnRoZW1lOw0KCQkJCWEgPSB0aGlzLl9nZXRDaGlsZHJlbkJ5VGFnTmFtZSggaXRlbVsgMCBdLCAiYSIsICJBIiApOw0KDQoJCQkJaWYgKCBhLmxlbmd0aCApIHsNCgkJCQkJaWNvbiA9IGl0ZW0uanFtRGF0YSgiaWNvbiIpOw0KDQoJCQkJCWl0ZW0uYnV0dG9uTWFya3VwKHsNCgkJCQkJCXdyYXBwZXJFbHM6ICJkaXYiLA0KCQkJCQkJc2hhZG93OiBmYWxzZSwNCgkJCQkJCWNvcm5lcnM6IGZhbHNlLA0KCQkJCQkJaWNvbnBvczogInJpZ2h0IiwNCgkJCQkJCWljb246IGEubGVuZ3RoID4gMSB8fCBpY29uID09PSBmYWxzZSA/IGZhbHNlIDogaWNvbiB8fCAiYXJyb3ctciIsDQoJCQkJCQl0aGVtZTogaXRlbVRoZW1lDQoJCQkJCX0pOw0KDQoJCQkJCWlmICggKCBpY29uICE9IGZhbHNlICkgJiYgKCBhLmxlbmd0aCA9PSAxICkgKSB7DQoJCQkJCQlpdGVtLmFkZENsYXNzKCAidWktbGktaGFzLWFycm93IiApOw0KCQkJCQl9DQoNCgkJCQkJYS5maXJzdCgpLmFkZENsYXNzKCAidWktbGluay1pbmhlcml0IiApOw0KDQoJCQkJCWlmICggYS5sZW5ndGggPiAxICkgew0KCQkJCQkJaXRlbUNsYXNzICs9ICIgdWktbGktaGFzLWFsdCI7DQoNCgkJCQkJCWxhc3QgPSBhLmxhc3QoKTsNCgkJCQkJCXNwbGl0dGhlbWUgPSBsaXN0c3BsaXR0aGVtZSB8fCBsYXN0LmpxbURhdGEoICJ0aGVtZSIgKSB8fCBvLnNwbGl0VGhlbWU7DQoNCgkJCQkJCWxhc3QuYXBwZW5kVG8oaXRlbSkNCgkJCQkJCQkuYXR0ciggInRpdGxlIiwgbGFzdC5nZXRFbmNvZGVkVGV4dCgpICkNCgkJCQkJCQkuYWRkQ2xhc3MoICJ1aS1saS1saW5rLWFsdCIgKQ0KCQkJCQkJCS5lbXB0eSgpDQoJCQkJCQkJLmJ1dHRvbk1hcmt1cCh7DQoJCQkJCQkJCXNoYWRvdzogZmFsc2UsDQoJCQkJCQkJCWNvcm5lcnM6IGZhbHNlLA0KCQkJCQkJCQl0aGVtZTogaXRlbVRoZW1lLA0KCQkJCQkJCQlpY29uOiBmYWxzZSwNCgkJCQkJCQkJaWNvbnBvczogZmFsc2UNCgkJCQkJCQl9KQ0KCQkJCQkJCS5maW5kKCAiLnVpLWJ0bi1pbm5lciIgKQ0KCQkJCQkJCQkuYXBwZW5kKA0KCQkJCQkJCQkJJCggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggInNwYW4iICkgKS5idXR0b25NYXJrdXAoew0KCQkJCQkJCQkJCXNoYWRvdzogdHJ1ZSwNCgkJCQkJCQkJCQljb3JuZXJzOiB0cnVlLA0KCQkJCQkJCQkJCXRoZW1lOiBzcGxpdHRoZW1lLA0KCQkJCQkJCQkJCWljb25wb3M6ICJub3RleHQiLA0KCQkJCQkJCQkJCWljb246IGxpc3RzcGxpdGljb24gfHwgbGFzdC5qcW1EYXRhKCAiaWNvbiIgKSB8fCBvLnNwbGl0SWNvbg0KCQkJCQkJCQkJfSkNCgkJCQkJCQkJKTsNCgkJCQkJfQ0KCQkJCX0gZWxzZSBpZiAoIGl0ZW0uanFtRGF0YSggInJvbGUiICkgPT09ICJsaXN0LWRpdmlkZXIiICkgew0KDQoJCQkJCWl0ZW1DbGFzcyArPSAiIHVpLWxpLWRpdmlkZXIgdWktYnRuIHVpLWJhci0iICsgZGl2aWRlcnRoZW1lOw0KCQkJCQlpdGVtLmF0dHIoICJyb2xlIiwgImhlYWRpbmciICk7DQoNCgkJCQkJLy9yZXNldCBjb3VudGVyIHdoZW4gYSBkaXZpZGVyIGhlYWRpbmcgaXMgZW5jb3VudGVyZWQNCgkJCQkJaWYgKCBjb3VudGVyICkgew0KCQkJCQkJY291bnRlciA9IDE7DQoJCQkJCX0NCg0KCQkJCX0gZWxzZSB7DQoJCQkJCWl0ZW1DbGFzcyArPSAiIHVpLWxpLXN0YXRpYyB1aS1ib2R5LSIgKyBpdGVtVGhlbWU7DQoJCQkJfQ0KCQkJfQ0KDQoJCQlpZiAoIGNvdW50ZXIgJiYgaXRlbUNsYXNzLmluZGV4T2YoICJ1aS1saS1kaXZpZGVyIiApIDwgMCApIHsNCgkJCQljb3VudFBhcmVudCA9IGl0ZW0uaXMoICIudWktbGktc3RhdGljOmZpcnN0IiApID8gaXRlbSA6IGl0ZW0uZmluZCggIi51aS1saW5rLWluaGVyaXQiICk7DQoNCgkJCQljb3VudFBhcmVudC5hZGRDbGFzcyggInVpLWxpLWpzbnVtYmVyaW5nIiApDQoJCQkJCS5wcmVwZW5kKCAiPHNwYW4gY2xhc3M9J3VpLWxpLWRlYyc+IiArIChjb3VudGVyKyspICsgIi4gPC9zcGFuPiIgKTsNCgkJCX0NCg0KCQkJLy8gSW5zdGVhZCBvZiBzZXR0aW5nIGl0ZW0gY2xhc3MgZGlyZWN0bHkgb24gdGhlIGxpc3QgaXRlbSBhbmQgaXRzDQoJCQkvLyBidG4taW5uZXIgYXQgdGhpcyBwb2ludCBpbiB0aW1lLCBwdXNoIHRoZSBpdGVtIGludG8gYSBkaWN0aW9uYXJ5DQoJCQkvLyB0aGF0IHRlbGxzIHVzIHdoYXQgY2xhc3MgdG8gc2V0IG9uIGl0IHNvIHdlIGNhbiBkbyB0aGlzIGFmdGVyIHRoaXMNCgkJCS8vIHByb2Nlc3NpbmcgbG9vcCBpcyBmaW5pc2hlZC4NCg0KCQkJaWYgKCAhaXRlbUNsYXNzRGljdFsgaXRlbUNsYXNzIF0gKSB7DQoJCQkJaXRlbUNsYXNzRGljdFsgaXRlbUNsYXNzIF0gPSBbXTsNCgkJCX0NCg0KCQkJaXRlbUNsYXNzRGljdFsgaXRlbUNsYXNzIF0ucHVzaCggaXRlbVsgMCBdICk7DQoJCX0NCg0KCQkvLyBTZXQgdGhlIGFwcHJvcHJpYXRlIGxpc3R2aWV3IGl0ZW0gY2xhc3NlcyBvbiBlYWNoIGxpc3QgaXRlbQ0KCQkvLyBhbmQgdGhlaXIgYnRuLWlubmVyIGVsZW1lbnRzLiBUaGUgbWFpbiByZWFzb24gd2UgZGlkbid0IGRvIHRoaXMNCgkJLy8gaW4gdGhlIGZvci1sb29wIGFib3ZlIGlzIGJlY2F1c2Ugd2UgY2FuIGVsaW1pbmF0ZSBwZXItaXRlbSBmdW5jdGlvbiBvdmVyaGVhZA0KCQkvLyBieSBjYWxsaW5nIGFkZENsYXNzKCkgYW5kIGNoaWxkcmVuKCkgb25jZSBvciB0d2ljZSBhZnRlcndhcmRzLiBUaGlzDQoJCS8vIGNhbiBnaXZlIHVzIGEgc2lnbmlmaWNhbnQgYm9vc3Qgb24gcGxhdGZvcm1zIGxpa2UgV1A3LjUuDQoNCgkJZm9yICggaXRlbUNsYXNzIGluIGl0ZW1DbGFzc0RpY3QgKSB7DQoJCQkkKCBpdGVtQ2xhc3NEaWN0WyBpdGVtQ2xhc3MgXSApLmFkZENsYXNzKCBpdGVtQ2xhc3MgKS5jaGlsZHJlbiggIi51aS1idG4taW5uZXIiICkuYWRkQ2xhc3MoIGl0ZW1DbGFzcyApOw0KCQl9DQoNCgkJJGxpc3QuZmluZCggImgxLCBoMiwgaDMsIGg0LCBoNSwgaDYiICkuYWRkQ2xhc3MoICJ1aS1saS1oZWFkaW5nIiApDQoJCQkuZW5kKCkNCg0KCQkJLmZpbmQoICJwLCBkbCIgKS5hZGRDbGFzcyggInVpLWxpLWRlc2MiICkNCgkJCS5lbmQoKQ0KDQoJCQkuZmluZCggIi51aS1saS1hc2lkZSIgKS5lYWNoKGZ1bmN0aW9uKCkgew0KCQkJCQl2YXIgJHRoaXMgPSAkKHRoaXMpOw0KCQkJCQkkdGhpcy5wcmVwZW5kVG8oICR0aGlzLnBhcmVudCgpICk7IC8vc2hpZnQgYXNpZGUgdG8gZnJvbnQgZm9yIGNzcyBmbG9hdA0KCQkJCX0pDQoJCQkuZW5kKCkNCg0KCQkJLmZpbmQoICIudWktbGktY291bnQiICkuZWFjaCggZnVuY3Rpb24oKSB7DQoJCQkJCSQoIHRoaXMgKS5jbG9zZXN0KCAibGkiICkuYWRkQ2xhc3MoICJ1aS1saS1oYXMtY291bnQiICk7DQoJCQkJfSkuYWRkQ2xhc3MoICJ1aS1idG4tdXAtIiArICggJGxpc3QuanFtRGF0YSggImNvdW50dGhlbWUiICkgfHwgdGhpcy5vcHRpb25zLmNvdW50VGhlbWUpICsgIiB1aS1idG4tY29ybmVyLWFsbCIgKTsNCg0KCQkvLyBUaGUgaWRlYSBoZXJlIGlzIHRvIGxvb2sgYXQgdGhlIGZpcnN0IGltYWdlIGluIHRoZSBsaXN0IGl0ZW0NCgkJLy8gaXRzZWxmLCBhbmQgYW55IC51aS1saW5rLWluaGVyaXQgZWxlbWVudCBpdCBtYXkgY29udGFpbiwgc28gd2UNCgkJLy8gY2FuIHBsYWNlIHRoZSBhcHByb3ByaWF0ZSBjbGFzc2VzIG9uIHRoZSBpbWFnZSBhbmQgbGlzdCBpdGVtLg0KCQkvLyBOb3RlIHRoYXQgd2UgdXNlZCB0byB1c2Ugc29tZXRoaW5nIGxpa2U6DQoJCS8vDQoJCS8vICAgIGxpLmZpbmQoIj5pbWc6ZXEoMCksIC51aS1saW5rLWluaGVyaXQ+aW1nOmVxKDApIikuZWFjaCggLi4uICk7DQoJCS8vDQoJCS8vIEJ1dCBleGVjdXRpbmcgYSBmaW5kKCkgbGlrZSB0aGF0IG9uIFdpbmRvd3MgUGhvbmUgNy41IHRvb2sgYQ0KCQkvLyByZWFsbHkgbG9uZyB0aW1lLiBXYWxraW5nIHRoaW5ncyBtYW51YWxseSB3aXRoIHRoZSBjb2RlIGJlbG93DQoJCS8vIGFsbG93cyB0aGUgNDAwIGxpc3R2aWV3IGl0ZW0gcGFnZSB0byBsb2FkIGluIGFib3V0IDMgc2Vjb25kcyBhcw0KCQkvLyBvcHBvc2VkIHRvIDMwIHNlY29uZHMuDQoNCgkJdGhpcy5fYWRkVGh1bWJDbGFzc2VzKCBsaSApOw0KCQl0aGlzLl9hZGRUaHVtYkNsYXNzZXMoICRsaXN0LmZpbmQoICIudWktbGluay1pbmhlcml0IiApICk7DQoNCgkJdGhpcy5fcmVmcmVzaENvcm5lcnMoIGNyZWF0ZSApOw0KCX0sDQoNCgkvL2NyZWF0ZSBhIHN0cmluZyBmb3IgSUQvc3VicGFnZSB1cmwgY3JlYXRpb24NCglfaWRTdHJpbmdFc2NhcGU6IGZ1bmN0aW9uKCBzdHIgKSB7DQoJCXJldHVybiBzdHIucmVwbGFjZSgvW15hLXpBLVowLTldL2csICctJyk7DQoJfSwNCg0KCV9jcmVhdGVTdWJQYWdlczogZnVuY3Rpb24oKSB7DQoJCXZhciBwYXJlbnRMaXN0ID0gdGhpcy5lbGVtZW50LA0KCQkJcGFyZW50UGFnZSA9IHBhcmVudExpc3QuY2xvc2VzdCggIi51aS1wYWdlIiApLA0KCQkJcGFyZW50VXJsID0gcGFyZW50UGFnZS5qcW1EYXRhKCAidXJsIiApLA0KCQkJcGFyZW50SWQgPSBwYXJlbnRVcmwgfHwgcGFyZW50UGFnZVsgMCBdWyAkLmV4cGFuZG8gXSwNCgkJCXBhcmVudExpc3RJZCA9IHBhcmVudExpc3QuYXR0ciggImlkIiApLA0KCQkJbyA9IHRoaXMub3B0aW9ucywNCgkJCWRucyA9ICJkYXRhLSIgKyAkLm1vYmlsZS5ucywNCgkJCXNlbGYgPSB0aGlzLA0KCQkJcGVyc2lzdGVudEZvb3RlcklEID0gcGFyZW50UGFnZS5maW5kKCAiOmpxbURhdGEocm9sZT0nZm9vdGVyJykiICkuanFtRGF0YSggImlkIiApLA0KCQkJaGFzU3ViUGFnZXM7DQoNCgkJaWYgKCB0eXBlb2YgbGlzdENvdW50UGVyUGFnZVsgcGFyZW50SWQgXSA9PT0gInVuZGVmaW5lZCIgKSB7DQoJCQlsaXN0Q291bnRQZXJQYWdlWyBwYXJlbnRJZCBdID0gLTE7DQoJCX0NCg0KCQlwYXJlbnRMaXN0SWQgPSBwYXJlbnRMaXN0SWQgfHwgKytsaXN0Q291bnRQZXJQYWdlWyBwYXJlbnRJZCBdOw0KDQoJCSQoIHBhcmVudExpc3QuZmluZCggImxpPnVsLCBsaT5vbCIgKS50b0FycmF5KCkucmV2ZXJzZSgpICkuZWFjaChmdW5jdGlvbiggaSApIHsNCgkJCXZhciBzZWxmID0gdGhpcywNCgkJCQlsaXN0ID0gJCggdGhpcyApLA0KCQkJCWxpc3RJZCA9IGxpc3QuYXR0ciggImlkIiApIHx8IHBhcmVudExpc3RJZCArICItIiArIGksDQoJCQkJcGFyZW50ID0gbGlzdC5wYXJlbnQoKSwNCgkJCQlub2RlRWxzID0gJCggbGlzdC5wcmV2QWxsKCkudG9BcnJheSgpLnJldmVyc2UoKSApLA0KCQkJCW5vZGVFbHMgPSBub2RlRWxzLmxlbmd0aCA/IG5vZGVFbHMgOiAkKCAiPHNwYW4+IiArICQudHJpbShwYXJlbnQuY29udGVudHMoKVsgMCBdLm5vZGVWYWx1ZSkgKyAiPC9zcGFuPiIgKSwNCgkJCQl0aXRsZSA9IG5vZGVFbHMuZmlyc3QoKS5nZXRFbmNvZGVkVGV4dCgpLC8vdXJsIGxpbWl0cyB0byBmaXJzdCAzMCBjaGFycyBvZiB0ZXh0DQoJCQkJaWQgPSAoIHBhcmVudFVybCB8fCAiIiApICsgIiYiICsgJC5tb2JpbGUuc3ViUGFnZVVybEtleSArICI9IiArIGxpc3RJZCwNCgkJCQl0aGVtZSA9IGxpc3QuanFtRGF0YSggInRoZW1lIiApIHx8IG8udGhlbWUsDQoJCQkJY291bnRUaGVtZSA9IGxpc3QuanFtRGF0YSggImNvdW50dGhlbWUiICkgfHwgcGFyZW50TGlzdC5qcW1EYXRhKCAiY291bnR0aGVtZSIgKSB8fCBvLmNvdW50VGhlbWUsDQoJCQkJbmV3UGFnZSwgYW5jaG9yOw0KDQoJCQkvL2RlZmluZSBoYXNTdWJQYWdlcyBmb3IgdXNlIGluIGxhdGVyIHJlbW92YWwNCgkJCWhhc1N1YlBhZ2VzID0gdHJ1ZTsNCg0KCQkJbmV3UGFnZSA9IGxpc3QuZGV0YWNoKCkNCgkJCQkJCS53cmFwKCAiPGRpdiAiICsgZG5zICsgInJvbGU9J3BhZ2UnICIgKwlkbnMgKyAidXJsPSciICsgaWQgKyAiJyAiICsgZG5zICsgInRoZW1lPSciICsgdGhlbWUgKyAiJyAiICsgZG5zICsgImNvdW50LXRoZW1lPSciICsgY291bnRUaGVtZSArICInPjxkaXYgIiArIGRucyArICJyb2xlPSdjb250ZW50Jz48L2Rpdj48L2Rpdj4iICkNCgkJCQkJCS5wYXJlbnQoKQ0KCQkJCQkJCS5iZWZvcmUoICI8ZGl2ICIgKyBkbnMgKyAicm9sZT0naGVhZGVyJyAiICsgZG5zICsgInRoZW1lPSciICsgby5oZWFkZXJUaGVtZSArICInPjxkaXYgY2xhc3M9J3VpLXRpdGxlJz4iICsgdGl0bGUgKyAiPC9kaXY+PC9kaXY+IiApDQoJCQkJCQkJLmFmdGVyKCBwZXJzaXN0ZW50Rm9vdGVySUQgPyAkKCAiPGRpdiAiICsgZG5zICsgInJvbGU9J2Zvb3RlcicgIiArIGRucyArICJpZD0nIisgcGVyc2lzdGVudEZvb3RlcklEICsiJz4iKSA6ICIiICkNCgkJCQkJCQkucGFyZW50KCkNCgkJCQkJCQkJLmFwcGVuZFRvKCAkLm1vYmlsZS5wYWdlQ29udGFpbmVyICk7DQoNCgkJCW5ld1BhZ2UucGFnZSgpOw0KDQoJCQlhbmNob3IgPSBwYXJlbnQuZmluZCgnYTpmaXJzdCcpOw0KDQoJCQlpZiAoICFhbmNob3IubGVuZ3RoICkgew0KCQkJCWFuY2hvciA9ICQoICI8YS8+IiApLmh0bWwoIG5vZGVFbHMgfHwgdGl0bGUgKS5wcmVwZW5kVG8oIHBhcmVudC5lbXB0eSgpICk7DQoJCQl9DQoNCgkJCWFuY2hvci5hdHRyKCAiaHJlZiIsICIjIiArIGlkICk7DQoNCgkJfSkubGlzdHZpZXcoKTsNCg0KCQkvLyBvbiBwYWdlaGlkZSwgcmVtb3ZlIGFueSBuZXN0ZWQgcGFnZXMgYWxvbmcgd2l0aCB0aGUgcGFyZW50IHBhZ2UsIGFzIGxvbmcgYXMgdGhleSBhcmVuJ3QgYWN0aXZlDQoJCS8vIGFuZCBhcmVuJ3QgZW1iZWRkZWQNCgkJaWYoIGhhc1N1YlBhZ2VzICYmDQoJCQlwYXJlbnRQYWdlLmlzKCAiOmpxbURhdGEoZXh0ZXJuYWwtcGFnZT0ndHJ1ZScpIiApICYmDQoJCQlwYXJlbnRQYWdlLmRhdGEoInBhZ2UiKS5vcHRpb25zLmRvbUNhY2hlID09PSBmYWxzZSApIHsNCg0KCQkJdmFyIG5ld1JlbW92ZSA9IGZ1bmN0aW9uKCBlLCB1aSApew0KCQkJCXZhciBuZXh0UGFnZSA9IHVpLm5leHRQYWdlLCBucFVSTDsNCg0KCQkJCWlmKCB1aS5uZXh0UGFnZSApew0KCQkJCQlucFVSTCA9IG5leHRQYWdlLmpxbURhdGEoICJ1cmwiICk7DQoJCQkJCWlmKCBucFVSTC5pbmRleE9mKCBwYXJlbnRVcmwgKyAiJiIgKyAkLm1vYmlsZS5zdWJQYWdlVXJsS2V5ICkgIT09IDAgKXsNCgkJCQkJCXNlbGYuY2hpbGRQYWdlcygpLnJlbW92ZSgpOw0KCQkJCQkJcGFyZW50UGFnZS5yZW1vdmUoKTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX07DQoNCgkJCS8vIHVuYmluZCB0aGUgb3JpZ2luYWwgcGFnZSByZW1vdmUgYW5kIHJlcGxhY2Ugd2l0aCBvdXIgc3BlY2lhbGl6ZWQgdmVyc2lvbg0KCQkJcGFyZW50UGFnZQ0KCQkJCS51bmJpbmQoICJwYWdlaGlkZS5yZW1vdmUiICkNCgkJCQkuYmluZCggInBhZ2VoaWRlLnJlbW92ZSIsIG5ld1JlbW92ZSk7DQoJCX0NCgl9LA0KDQoJLy8gVE9ETyBzb3J0IG91dCBhIGJldHRlciB3YXkgdG8gdHJhY2sgc3ViIHBhZ2VzIG9mIHRoZSBsaXN0dmlldyB0aGlzIGlzIGJyaXR0bGUNCgljaGlsZFBhZ2VzOiBmdW5jdGlvbigpew0KCQl2YXIgcGFyZW50VXJsID0gdGhpcy5wYXJlbnRQYWdlLmpxbURhdGEoICJ1cmwiICk7DQoNCgkJcmV0dXJuICQoICI6anFtRGF0YSh1cmxePSciKyAgcGFyZW50VXJsICsgIiYiICsgJC5tb2JpbGUuc3ViUGFnZVVybEtleSArIicpIik7DQoJfQ0KfSk7DQoNCi8vYXV0byBzZWxmLWluaXQgd2lkZ2V0cw0KJCggZG9jdW1lbnQgKS5iaW5kKCAicGFnZWNyZWF0ZSBjcmVhdGUiLCBmdW5jdGlvbiggZSApew0KCSQoICQubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvciwgZS50YXJnZXQgKS5saXN0dmlldygpOw0KfSk7DQoNCn0pKCBqUXVlcnkgKTsNCi8qDQoqICJsaXN0dmlldyIgZmlsdGVyIGV4dGVuc2lvbg0KKi8NCg0KKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7DQoNCiQubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmZpbHRlciA9IGZhbHNlOw0KJC5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyUGxhY2Vob2xkZXIgPSAiRmlsdGVyIGl0ZW1zLi4uIjsNCiQubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmZpbHRlclRoZW1lID0gImMiOw0KJC5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyQ2FsbGJhY2sgPSBmdW5jdGlvbiggdGV4dCwgc2VhcmNoVmFsdWUgKXsNCglyZXR1cm4gdGV4dC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoIHNlYXJjaFZhbHVlICkgPT09IC0xOw0KfTsNCg0KJCggIjpqcW1EYXRhKHJvbGU9J2xpc3R2aWV3JykiICkubGl2ZSggImxpc3R2aWV3Y3JlYXRlIiwgZnVuY3Rpb24oKSB7DQoNCgl2YXIgbGlzdCA9ICQoIHRoaXMgKSwNCgkJbGlzdHZpZXcgPSBsaXN0LmRhdGEoICJsaXN0dmlldyIgKTsNCg0KCWlmICggIWxpc3R2aWV3Lm9wdGlvbnMuZmlsdGVyICkgew0KCQlyZXR1cm47DQoJfQ0KDQoJdmFyIHdyYXBwZXIgPSAkKCAiPGZvcm0+Iiwgew0KCQkJImNsYXNzIjogInVpLWxpc3R2aWV3LWZpbHRlciB1aS1iYXItIiArIGxpc3R2aWV3Lm9wdGlvbnMuZmlsdGVyVGhlbWUsDQoJCQkicm9sZSI6ICJzZWFyY2giDQoJCX0pLA0KCQlzZWFyY2ggPSAkKCAiPGlucHV0PiIsIHsNCgkJCXBsYWNlaG9sZGVyOiBsaXN0dmlldy5vcHRpb25zLmZpbHRlclBsYWNlaG9sZGVyDQoJCX0pDQoJCS5hdHRyKCAiZGF0YS0iICsgJC5tb2JpbGUubnMgKyAidHlwZSIsICJzZWFyY2giICkNCgkJLmpxbURhdGEoICJsYXN0dmFsIiwgIiIgKQ0KCQkuYmluZCggImtleXVwIGNoYW5nZSIsIGZ1bmN0aW9uKCkgew0KDQoJCQl2YXIgJHRoaXMgPSAkKHRoaXMpLA0KCQkJCXZhbCA9IHRoaXMudmFsdWUudG9Mb3dlckNhc2UoKSwNCgkJCQlsaXN0SXRlbXMgPSBudWxsLA0KCQkJCWxhc3R2YWwgPSAkdGhpcy5qcW1EYXRhKCAibGFzdHZhbCIgKSArICIiLA0KCQkJCWNoaWxkSXRlbXMgPSBmYWxzZSwNCgkJCQlpdGVtdGV4dCA9ICIiLA0KCQkJCWl0ZW0sIGNoYW5nZTsNCg0KCQkJLy8gQ2hhbmdlIHZhbCBhcyBsYXN0dmFsIGZvciBuZXh0IGV4ZWN1dGlvbg0KCQkJJHRoaXMuanFtRGF0YSggImxhc3R2YWwiICwgdmFsICk7DQoJCQljaGFuZ2UgPSB2YWwuc3Vic3RyKCAwICwgbGFzdHZhbC5sZW5ndGggLSAxICkucmVwbGFjZSggbGFzdHZhbCAsICIiICk7DQoNCgkJCWlmICggdmFsLmxlbmd0aCA8IGxhc3R2YWwubGVuZ3RoIHx8IGNoYW5nZS5sZW5ndGggIT0gKCB2YWwubGVuZ3RoIC0gbGFzdHZhbC5sZW5ndGggKSApIHsNCg0KCQkJCS8vIFJlbW92ZWQgY2hhcnMgb3IgcGFzdGVkIHNvbWV0aGluZyB0b3RhbGx5IGRpZmZlcmVudCwgY2hlY2sgYWxsIGl0ZW1zDQoJCQkJbGlzdEl0ZW1zID0gbGlzdC5jaGlsZHJlbigpOw0KCQkJfSBlbHNlIHsNCg0KCQkJCS8vIE9ubHkgY2hhcnMgYWRkZWQsIG5vdCByZW1vdmVkLCBvbmx5IHVzZSB2aXNpYmxlIHN1YnNldA0KCQkJCWxpc3RJdGVtcyA9IGxpc3QuY2hpbGRyZW4oICI6bm90KC51aS1zY3JlZW4taGlkZGVuKSIgKTsNCgkJCX0NCg0KCQkJaWYgKCB2YWwgKSB7DQoNCgkJCQkvLyBUaGlzIGhhbmRsZXMgaGlkaW5nIHJlZ3VsYXIgcm93cyB3aXRob3V0IHRoZSB0ZXh0IHdlIHNlYXJjaCBmb3INCgkJCQkvLyBhbmQgYW55IGxpc3QgZGl2aWRlcnMgd2l0aG91dCByZWd1bGFyIHJvd3Mgc2hvd24gdW5kZXIgaXQNCg0KCQkJCWZvciAoIHZhciBpID0gbGlzdEl0ZW1zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tICkgew0KCQkJCQlpdGVtID0gJCggbGlzdEl0ZW1zWyBpIF0gKTsNCgkJCQkJaXRlbXRleHQgPSBpdGVtLmpxbURhdGEoICJmaWx0ZXJ0ZXh0IiApIHx8IGl0ZW0udGV4dCgpOw0KDQoJCQkJCWlmICggaXRlbS5pcyggImxpOmpxbURhdGEocm9sZT1saXN0LWRpdmlkZXIpIiApICkgew0KDQoJCQkJCQlpdGVtLnRvZ2dsZUNsYXNzKCAidWktZmlsdGVyLWhpZGVxdWV1ZSIgLCAhY2hpbGRJdGVtcyApOw0KDQoJCQkJCQkvLyBOZXcgYnVja2V0IQ0KCQkJCQkJY2hpbGRJdGVtcyA9IGZhbHNlOw0KDQoJCQkJCX0gZWxzZSBpZiAoIGxpc3R2aWV3Lm9wdGlvbnMuZmlsdGVyQ2FsbGJhY2soIGl0ZW10ZXh0LCB2YWwgKSApIHsNCg0KCQkJCQkJLy9tYXJrIHRvIGJlIGhpZGRlbg0KCQkJCQkJaXRlbS50b2dnbGVDbGFzcyggInVpLWZpbHRlci1oaWRlcXVldWUiICwgdHJ1ZSApOw0KCQkJCQl9IGVsc2Ugew0KDQoJCQkJCQkvLyBUaGVyZSdzIGEgc2hvd24gaXRlbSBpbiB0aGUgYnVja2V0DQoJCQkJCQljaGlsZEl0ZW1zID0gdHJ1ZTsNCgkJCQkJfQ0KCQkJCX0NCg0KCQkJCS8vIFNob3cgaXRlbXMsIG5vdCBtYXJrZWQgdG8gYmUgaGlkZGVuDQoJCQkJbGlzdEl0ZW1zDQoJCQkJCS5maWx0ZXIoICI6bm90KC51aS1maWx0ZXItaGlkZXF1ZXVlKSIgKQ0KCQkJCQkudG9nZ2xlQ2xhc3MoICJ1aS1zY3JlZW4taGlkZGVuIiwgZmFsc2UgKTsNCg0KCQkJCS8vIEhpZGUgaXRlbXMsIG1hcmtlZCB0byBiZSBoaWRkZW4NCgkJCQlsaXN0SXRlbXMNCgkJCQkJLmZpbHRlciggIi51aS1maWx0ZXItaGlkZXF1ZXVlIiApDQoJCQkJCS50b2dnbGVDbGFzcyggInVpLXNjcmVlbi1oaWRkZW4iLCB0cnVlICkNCgkJCQkJLnRvZ2dsZUNsYXNzKCAidWktZmlsdGVyLWhpZGVxdWV1ZSIsIGZhbHNlICk7DQoNCgkJCX0gZWxzZSB7DQoNCgkJCQkvL2ZpbHRlcnZhbHVlIGlzIGVtcHR5ID0+IHNob3cgYWxsDQoJCQkJbGlzdEl0ZW1zLnRvZ2dsZUNsYXNzKCAidWktc2NyZWVuLWhpZGRlbiIsIGZhbHNlICk7DQoJCQl9DQoJCQlsaXN0dmlldy5fcmVmcmVzaENvcm5lcnMoKTsNCgkJfSkNCgkJLmFwcGVuZFRvKCB3cmFwcGVyICkNCgkJLnRleHRpbnB1dCgpOw0KDQoJaWYgKCAkKCB0aGlzICkuanFtRGF0YSggImluc2V0IiApICkgew0KCQl3cmFwcGVyLmFkZENsYXNzKCAidWktbGlzdHZpZXctZmlsdGVyLWluc2V0IiApOw0KCX0NCg0KCXdyYXBwZXIuYmluZCggInN1Ym1pdCIsIGZ1bmN0aW9uKCkgew0KCQlyZXR1cm4gZmFsc2U7DQoJfSkNCgkuaW5zZXJ0QmVmb3JlKCBsaXN0ICk7DQp9KTsNCg0KfSkoIGpRdWVyeSApOy8qDQoqICJub2pzIiBwbHVnaW4gLSBjbGFzcyB0byBtYWtlIGVsZW1lbnRzIGhpZGRlbiB0byBBIGdyYWRlIGJyb3dzZXJzDQoqLw0KDQooZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHsNCg0KJCggZG9jdW1lbnQgKS5iaW5kKCAicGFnZWNyZWF0ZSBjcmVhdGUiLCBmdW5jdGlvbiggZSApew0KCSQoICI6anFtRGF0YShyb2xlPSdub2pzJykiLCBlLnRhcmdldCApLmFkZENsYXNzKCAidWktbm9qcyIgKTsNCgkNCn0pOw0KDQp9KSggalF1ZXJ5ICk7LyoNCiogImNoZWNrYm94cmFkaW8iIHBsdWdpbg0KKi8NCg0KKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7DQoNCiQud2lkZ2V0KCAibW9iaWxlLmNoZWNrYm94cmFkaW8iLCAkLm1vYmlsZS53aWRnZXQsIHsNCglvcHRpb25zOiB7DQoJCXRoZW1lOiBudWxsLA0KCQlpbml0U2VsZWN0b3I6ICJpbnB1dFt0eXBlPSdjaGVja2JveCddLGlucHV0W3R5cGU9J3JhZGlvJ10iDQoJfSwNCglfY3JlYXRlOiBmdW5jdGlvbigpIHsNCgkJdmFyIHNlbGYgPSB0aGlzLA0KCQkJaW5wdXQgPSB0aGlzLmVsZW1lbnQsDQoJCQkvLyBOT1RFOiBXaW5kb3dzIFBob25lIGNvdWxkIG5vdCBmaW5kIHRoZSBsYWJlbCB0aHJvdWdoIGEgc2VsZWN0b3INCgkJCS8vIGZpbHRlciB3b3JrcyB0aG91Z2guDQoJCQlsYWJlbCA9IGlucHV0LmNsb3Nlc3QoICJmb3JtLGZpZWxkc2V0LDpqcW1EYXRhKHJvbGU9J3BhZ2UnKSIgKS5maW5kKCAibGFiZWxbZm9yPSciICsgaW5wdXRbIDAgXS5pZCArICInXSIpLA0KCQkJaW5wdXR0eXBlID0gaW5wdXQuYXR0ciggInR5cGUiICksDQoJCQljaGVja2VkU3RhdGUgPSBpbnB1dHR5cGUgKyAiLW9uIiwNCgkJCXVuY2hlY2tlZFN0YXRlID0gaW5wdXR0eXBlICsgIi1vZmYiLA0KCQkJaWNvbiA9IGlucHV0LnBhcmVudHMoICI6anFtRGF0YSh0eXBlPSdob3Jpem9udGFsJykiICkubGVuZ3RoID8gdW5kZWZpbmVkIDogdW5jaGVja2VkU3RhdGUsDQoJCQlhY3RpdmVCdG4gPSBpY29uID8gIiIgOiAiICIgKyAkLm1vYmlsZS5hY3RpdmVCdG5DbGFzcywNCgkJCWNoZWNrZWRDbGFzcyA9ICJ1aS0iICsgY2hlY2tlZFN0YXRlICsgYWN0aXZlQnRuLA0KCQkJdW5jaGVja2VkQ2xhc3MgPSAidWktIiArIHVuY2hlY2tlZFN0YXRlLA0KCQkJY2hlY2tlZGljb24gPSAidWktaWNvbi0iICsgY2hlY2tlZFN0YXRlLA0KCQkJdW5jaGVja2VkaWNvbiA9ICJ1aS1pY29uLSIgKyB1bmNoZWNrZWRTdGF0ZTsNCg0KCQlpZiAoIGlucHV0dHlwZSAhPT0gImNoZWNrYm94IiAmJiBpbnB1dHR5cGUgIT09ICJyYWRpbyIgKSB7DQoJCQlyZXR1cm47DQoJCX0NCg0KCQkvLyBFeHBvc2UgZm9yIG90aGVyIG1ldGhvZHMNCgkJJC5leHRlbmQoIHRoaXMsIHsNCgkJCWxhYmVsOiBsYWJlbCwNCgkJCWlucHV0dHlwZTogaW5wdXR0eXBlLA0KCQkJY2hlY2tlZENsYXNzOiBjaGVja2VkQ2xhc3MsDQoJCQl1bmNoZWNrZWRDbGFzczogdW5jaGVja2VkQ2xhc3MsDQoJCQljaGVja2VkaWNvbjogY2hlY2tlZGljb24sDQoJCQl1bmNoZWNrZWRpY29uOiB1bmNoZWNrZWRpY29uDQoJCX0pOw0KDQoJCS8vIElmIHRoZXJlJ3Mgbm8gc2VsZWN0ZWQgdGhlbWUuLi4NCgkJaWYoICF0aGlzLm9wdGlvbnMudGhlbWUgKSB7DQoJCQl0aGlzLm9wdGlvbnMudGhlbWUgPSB0aGlzLmVsZW1lbnQuanFtRGF0YSggInRoZW1lIiApOw0KCQl9DQoNCgkJbGFiZWwuYnV0dG9uTWFya3VwKHsNCgkJCXRoZW1lOiB0aGlzLm9wdGlvbnMudGhlbWUsDQoJCQlpY29uOiBpY29uLA0KCQkJc2hhZG93OiBmYWxzZQ0KCQl9KTsNCg0KCQkvLyBXcmFwIHRoZSBpbnB1dCArIGxhYmVsIGluIGEgZGl2DQoJCWlucHV0LmFkZCggbGFiZWwgKQ0KCQkJLndyYXBBbGwoICI8ZGl2IGNsYXNzPSd1aS0iICsgaW5wdXR0eXBlICsgIic+PC9kaXY+IiApOw0KDQoJCWxhYmVsLmJpbmQoew0KCQkJdm1vdXNlb3ZlcjogZnVuY3Rpb24oIGV2ZW50ICkgew0KCQkJCWlmICggJCggdGhpcyApLnBhcmVudCgpLmlzKCAiLnVpLWRpc2FibGVkIiApICkgew0KCQkJCQlldmVudC5zdG9wUHJvcGFnYXRpb24oKTsNCgkJCQl9DQoJCQl9LA0KDQoJCQl2Y2xpY2s6IGZ1bmN0aW9uKCBldmVudCApIHsNCgkJCQlpZiAoIGlucHV0LmlzKCAiOmRpc2FibGVkIiApICkgew0KCQkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOw0KCQkJCQlyZXR1cm47DQoJCQkJfQ0KDQoJCQkJc2VsZi5fY2FjaGVWYWxzKCk7DQoNCgkJCQlpbnB1dC5wcm9wKCAiY2hlY2tlZCIsIGlucHV0dHlwZSA9PT0gInJhZGlvIiAmJiB0cnVlIHx8ICFpbnB1dC5wcm9wKCAiY2hlY2tlZCIgKSApOw0KDQoJCQkJLy8gdHJpZ2dlciBjbGljayBoYW5kbGVyJ3MgYm91bmQgZGlyZWN0bHkgdG8gdGhlIGlucHV0IGFzIGEgc3Vic3RpdHV0ZSBmb3INCgkJCQkvLyBob3cgbGFiZWwgY2xpY2tzIGJlaGF2ZSBub3JtYWxseSBpbiB0aGUgYnJvd3NlcnMNCgkJCQkvLyBUT0RPOiBpdCB3b3VsZCBiZSBuaWNlIHRvIGxldCB0aGUgYnJvd3NlcidzIGhhbmRsZSB0aGUgY2xpY2tzIGFuZCBwYXNzIHRoZW0NCgkJCQkvLyAgICAgICB0aHJvdWdoIHRvIHRoZSBhc3NvY2lhdGUgaW5wdXQuIHdlIGNhbiBzd2FsbG93IHRoYXQgY2xpY2sgYXQgdGhlIHBhcmVudA0KCQkJCS8vICAgICAgIHdyYXBwZXIgZWxlbWVudCBsZXZlbA0KCQkJCWlucHV0LnRyaWdnZXJIYW5kbGVyKCAnY2xpY2snICk7DQoNCgkJCQkvLyBJbnB1dCBzZXQgZm9yIGNvbW1vbiByYWRpbyBidXR0b25zIHdpbGwgY29udGFpbiBhbGwgdGhlIHJhZGlvDQoJCQkJLy8gYnV0dG9ucywgYnV0IHdpbGwgbm90IGZvciBjaGVja2JveGVzLiBjbGVhcmluZyB0aGUgY2hlY2tlZCBzdGF0dXMNCgkJCQkvLyBvZiBvdGhlciByYWRpb3MgZW5zdXJlcyB0aGUgYWN0aXZlIGJ1dHRvbiBzdGF0ZSBpcyBhcHBsaWVkIHByb3Blcmx5DQoJCQkJc2VsZi5fZ2V0SW5wdXRTZXQoKS5ub3QoIGlucHV0ICkucHJvcCggImNoZWNrZWQiLCBmYWxzZSApOw0KDQoJCQkJc2VsZi5fdXBkYXRlQWxsKCk7DQoJCQkJcmV0dXJuIGZhbHNlOw0KCQkJfQ0KDQoJCX0pOw0KDQoJCWlucHV0DQoJCQkuYmluZCh7DQoJCQkJdm1vdXNlZG93bjogZnVuY3Rpb24oKSB7DQoJCQkJCXNlbGYuX2NhY2hlVmFscygpOw0KCQkJCX0sDQoNCgkJCQl2Y2xpY2s6IGZ1bmN0aW9uKCkgew0KCQkJCQl2YXIgJHRoaXMgPSAkKHRoaXMpOw0KDQoJCQkJCS8vIEFkZHMgY2hlY2tlZCBhdHRyaWJ1dGUgdG8gY2hlY2tlZCBpbnB1dCB3aGVuIGtleWJvYXJkIGlzIHVzZWQNCgkJCQkJaWYgKCAkdGhpcy5pcyggIjpjaGVja2VkIiApICkgew0KDQoJCQkJCQkkdGhpcy5wcm9wKCAiY2hlY2tlZCIsIHRydWUpOw0KCQkJCQkJc2VsZi5fZ2V0SW5wdXRTZXQoKS5ub3QoJHRoaXMpLnByb3AoICJjaGVja2VkIiwgZmFsc2UgKTsNCgkJCQkJfSBlbHNlIHsNCg0KCQkJCQkJJHRoaXMucHJvcCggImNoZWNrZWQiLCBmYWxzZSApOw0KCQkJCQl9DQoNCgkJCQkJc2VsZi5fdXBkYXRlQWxsKCk7DQoJCQkJfSwNCg0KCQkJCWZvY3VzOiBmdW5jdGlvbigpIHsNCgkJCQkJbGFiZWwuYWRkQ2xhc3MoICJ1aS1mb2N1cyIgKTsNCgkJCQl9LA0KDQoJCQkJYmx1cjogZnVuY3Rpb24oKSB7DQoJCQkJCWxhYmVsLnJlbW92ZUNsYXNzKCAidWktZm9jdXMiICk7DQoJCQkJfQ0KCQkJfSk7DQoNCgkJdGhpcy5yZWZyZXNoKCk7DQoJfSwNCg0KCV9jYWNoZVZhbHM6IGZ1bmN0aW9uKCkgew0KCQl0aGlzLl9nZXRJbnB1dFNldCgpLmVhY2goZnVuY3Rpb24oKSB7DQoJCQl2YXIgJHRoaXMgPSAkKHRoaXMpOw0KDQoJCQkkdGhpcy5qcW1EYXRhKCAiY2FjaGVWYWwiLCAkdGhpcy5pcyggIjpjaGVja2VkIiApICk7DQoJCX0pOw0KCX0sDQoNCgkvL3JldHVybnMgZWl0aGVyIGEgc2V0IG9mIHJhZGlvcyB3aXRoIHRoZSBzYW1lIG5hbWUgYXR0cmlidXRlLCBvciBhIHNpbmdsZSBjaGVja2JveA0KCV9nZXRJbnB1dFNldDogZnVuY3Rpb24oKXsNCgkJaWYodGhpcy5pbnB1dHR5cGUgPT0gImNoZWNrYm94Iikgew0KCQkJcmV0dXJuIHRoaXMuZWxlbWVudDsNCgkJfQ0KDQoJCXJldHVybiB0aGlzLmVsZW1lbnQuY2xvc2VzdCggImZvcm0sZmllbGRzZXQsOmpxbURhdGEocm9sZT0ncGFnZScpIiApDQoJCQkuZmluZCggImlucHV0W25hbWU9JyIrIHRoaXMuZWxlbWVudC5hdHRyKCAibmFtZSIgKSArIiddW3R5cGU9JyIrIHRoaXMuaW5wdXR0eXBlICsiJ10iICk7DQoJfSwNCg0KCV91cGRhdGVBbGw6IGZ1bmN0aW9uKCkgew0KCQl2YXIgc2VsZiA9IHRoaXM7DQoNCgkJdGhpcy5fZ2V0SW5wdXRTZXQoKS5lYWNoKGZ1bmN0aW9uKCkgew0KCQkJdmFyICR0aGlzID0gJCh0aGlzKTsNCg0KCQkJaWYgKCAkdGhpcy5pcyggIjpjaGVja2VkIiApIHx8IHNlbGYuaW5wdXR0eXBlID09PSAiY2hlY2tib3giICkgew0KCQkJCSR0aGlzLnRyaWdnZXIoICJjaGFuZ2UiICk7DQoJCQl9DQoJCX0pDQoJCS5jaGVja2JveHJhZGlvKCAicmVmcmVzaCIgKTsNCgl9LA0KDQoJcmVmcmVzaDogZnVuY3Rpb24oKSB7DQoJCXZhciBpbnB1dCA9IHRoaXMuZWxlbWVudCwNCgkJCWxhYmVsID0gdGhpcy5sYWJlbCwNCgkJCWljb24gPSBsYWJlbC5maW5kKCAiLnVpLWljb24iICk7DQoNCgkJLy8gaW5wdXRbMF0uY2hlY2tlZCBleHBhbmRvIGRvZXNuJ3QgYWx3YXlzIHJlcG9ydCB0aGUgcHJvcGVyIHZhbHVlDQoJCS8vIGZvciBjaGVja2VkPSdjaGVja2VkJw0KCQlpZiAoICQoIGlucHV0WyAwIF0gKS5wcm9wKCAiY2hlY2tlZCIgKSApIHsNCg0KCQkJbGFiZWwuYWRkQ2xhc3MoIHRoaXMuY2hlY2tlZENsYXNzICkucmVtb3ZlQ2xhc3MoIHRoaXMudW5jaGVja2VkQ2xhc3MgKTsNCgkJCWljb24uYWRkQ2xhc3MoIHRoaXMuY2hlY2tlZGljb24gKS5yZW1vdmVDbGFzcyggdGhpcy51bmNoZWNrZWRpY29uICk7DQoNCgkJfSBlbHNlIHsNCg0KCQkJbGFiZWwucmVtb3ZlQ2xhc3MoIHRoaXMuY2hlY2tlZENsYXNzICkuYWRkQ2xhc3MoIHRoaXMudW5jaGVja2VkQ2xhc3MgKTsNCgkJCWljb24ucmVtb3ZlQ2xhc3MoIHRoaXMuY2hlY2tlZGljb24gKS5hZGRDbGFzcyggdGhpcy51bmNoZWNrZWRpY29uICk7DQoJCX0NCg0KCQlpZiAoIGlucHV0LmlzKCAiOmRpc2FibGVkIiApICkgew0KCQkJdGhpcy5kaXNhYmxlKCk7DQoJCX0gZWxzZSB7DQoJCQl0aGlzLmVuYWJsZSgpOw0KCQl9DQoJfSwNCg0KCWRpc2FibGU6IGZ1bmN0aW9uKCkgew0KCQl0aGlzLmVsZW1lbnQucHJvcCggImRpc2FibGVkIiwgdHJ1ZSApLnBhcmVudCgpLmFkZENsYXNzKCAidWktZGlzYWJsZWQiICk7DQoJfSwNCg0KCWVuYWJsZTogZnVuY3Rpb24oKSB7DQoJCXRoaXMuZWxlbWVudC5wcm9wKCAiZGlzYWJsZWQiLCBmYWxzZSApLnBhcmVudCgpLnJlbW92ZUNsYXNzKCAidWktZGlzYWJsZWQiICk7DQoJfQ0KfSk7DQoNCi8vYXV0byBzZWxmLWluaXQgd2lkZ2V0cw0KJCggZG9jdW1lbnQgKS5iaW5kKCAicGFnZWNyZWF0ZSBjcmVhdGUiLCBmdW5jdGlvbiggZSApew0KCSQubW9iaWxlLmNoZWNrYm94cmFkaW8ucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oIGUudGFyZ2V0ICk7DQp9KTsNCg0KfSkoIGpRdWVyeSApOw0KLyoNCiogImJ1dHRvbiIgcGx1Z2luIC0gbGlua3MgdGhhdCBwcm94eSB0byBuYXRpdmUgaW5wdXQvYnV0dG9ucw0KKi8NCg0KKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7DQoNCiQud2lkZ2V0KCAibW9iaWxlLmJ1dHRvbiIsICQubW9iaWxlLndpZGdldCwgew0KCW9wdGlvbnM6IHsNCgkJdGhlbWU6IG51bGwsDQoJCWljb246IG51bGwsDQoJCWljb25wb3M6IG51bGwsDQoJCWlubGluZTogbnVsbCwNCgkJY29ybmVyczogdHJ1ZSwNCgkJc2hhZG93OiB0cnVlLA0KCQlpY29uc2hhZG93OiB0cnVlLA0KCQlpbml0U2VsZWN0b3I6ICJidXR0b24sIFt0eXBlPSdidXR0b24nXSwgW3R5cGU9J3N1Ym1pdCddLCBbdHlwZT0ncmVzZXQnXSwgW3R5cGU9J2ltYWdlJ10iDQoJfSwNCglfY3JlYXRlOiBmdW5jdGlvbigpIHsNCgkJdmFyICRlbCA9IHRoaXMuZWxlbWVudCwNCgkJCW8gPSB0aGlzLm9wdGlvbnMsDQoJCQl0eXBlLA0KCQkJbmFtZSwNCgkJCSRidXR0b25QbGFjZWhvbGRlcjsNCg0KCQkvLyBBZGQgQVJJQSByb2xlDQoJCXRoaXMuYnV0dG9uID0gJCggIjxkaXY+PC9kaXY+IiApDQoJCQkudGV4dCggJGVsLnRleHQoKSB8fCAkZWwudmFsKCkgKQ0KCQkJLmluc2VydEJlZm9yZSggJGVsICkNCgkJCS5idXR0b25NYXJrdXAoew0KCQkJCXRoZW1lOiBvLnRoZW1lLA0KCQkJCWljb246IG8uaWNvbiwNCgkJCQlpY29ucG9zOiBvLmljb25wb3MsDQoJCQkJaW5saW5lOiBvLmlubGluZSwNCgkJCQljb3JuZXJzOiBvLmNvcm5lcnMsDQoJCQkJc2hhZG93OiBvLnNoYWRvdywNCgkJCQlpY29uc2hhZG93OiBvLmljb25zaGFkb3cNCgkJCX0pDQoJCQkuYXBwZW5kKCAkZWwuYWRkQ2xhc3MoICJ1aS1idG4taGlkZGVuIiApICk7DQoNCgkJdHlwZSA9ICRlbC5hdHRyKCAidHlwZSIgKTsNCgkJbmFtZSA9ICRlbC5hdHRyKCAibmFtZSIgKTsNCg0KCQkvLyBBZGQgaGlkZGVuIGlucHV0IGR1cmluZyBzdWJtaXQgaWYgaW5wdXQgdHlwZT0ic3VibWl0IiBoYXMgYSBuYW1lLg0KCQlpZiAoIHR5cGUgIT09ICJidXR0b24iICYmIHR5cGUgIT09ICJyZXNldCIgJiYgbmFtZSApIHsNCgkJCQkkZWwuYmluZCggInZjbGljayIsIGZ1bmN0aW9uKCkgew0KCQkJCQkvLyBBZGQgaGlkZGVuIGlucHV0IGlmIGl0IGRvZXNuJ3QgYWxyZWFkeSBleGlzdC4NCgkJCQkJaWYoICRidXR0b25QbGFjZWhvbGRlciA9PT0gdW5kZWZpbmVkICkgew0KCQkJCQkJJGJ1dHRvblBsYWNlaG9sZGVyID0gJCggIjxpbnB1dD4iLCB7DQoJCQkJCQkJdHlwZTogImhpZGRlbiIsDQoJCQkJCQkJbmFtZTogJGVsLmF0dHIoICJuYW1lIiApLA0KCQkJCQkJCXZhbHVlOiAkZWwuYXR0ciggInZhbHVlIiApDQoJCQkJCQl9KS5pbnNlcnRCZWZvcmUoICRlbCApOw0KDQoJCQkJCQkvLyBCaW5kIHRvIGRvYyB0byByZW1vdmUgYWZ0ZXIgc3VibWl0IGhhbmRsaW5nDQoJCQkJCQkkKCBkb2N1bWVudCApLm9uZSgic3VibWl0IiwgZnVuY3Rpb24oKXsNCgkJCQkJCQkkYnV0dG9uUGxhY2Vob2xkZXIucmVtb3ZlKCk7DQoNCgkJCQkJCQkvLyByZXNldCB0aGUgbG9jYWwgdmFyIHNvIHRoYXQgdGhlIGhpZGRlbiBpbnB1dA0KCQkJCQkJCS8vIHdpbGwgYmUgcmUtYWRkZWQgb24gc3Vic2VxdWVudCBjbGlja3MNCgkJCQkJCQkkYnV0dG9uUGxhY2Vob2xkZXIgPSB1bmRlZmluZWQ7DQoJCQkJCQl9KTsNCgkJCQkJfQ0KCQkJCX0pOw0KCQl9DQoNCgkJdGhpcy5yZWZyZXNoKCk7DQoJfSwNCg0KCWVuYWJsZTogZnVuY3Rpb24oKSB7DQoJCXRoaXMuZWxlbWVudC5hdHRyKCAiZGlzYWJsZWQiLCBmYWxzZSApOw0KCQl0aGlzLmJ1dHRvbi5yZW1vdmVDbGFzcyggInVpLWRpc2FibGVkIiApLmF0dHIoICJhcmlhLWRpc2FibGVkIiwgZmFsc2UgKTsNCgkJcmV0dXJuIHRoaXMuX3NldE9wdGlvbiggImRpc2FibGVkIiwgZmFsc2UgKTsNCgl9LA0KDQoJZGlzYWJsZTogZnVuY3Rpb24oKSB7DQoJCXRoaXMuZWxlbWVudC5hdHRyKCAiZGlzYWJsZWQiLCB0cnVlICk7DQoJCXRoaXMuYnV0dG9uLmFkZENsYXNzKCAidWktZGlzYWJsZWQiICkuYXR0ciggImFyaWEtZGlzYWJsZWQiLCB0cnVlICk7DQoJCXJldHVybiB0aGlzLl9zZXRPcHRpb24oICJkaXNhYmxlZCIsIHRydWUgKTsNCgl9LA0KDQoJcmVmcmVzaDogZnVuY3Rpb24oKSB7DQoJCXZhciAkZWwgPSB0aGlzLmVsZW1lbnQ7DQoNCgkJaWYgKCAkZWwucHJvcCgiZGlzYWJsZWQiKSApIHsNCgkJCXRoaXMuZGlzYWJsZSgpOw0KCQl9IGVsc2Ugew0KCQkJdGhpcy5lbmFibGUoKTsNCgkJfQ0KDQoJCS8vIHRoZSB0ZXh0V3JhcHBlciBpcyBzdG9yZWQgYXMgYSBkYXRhIGVsZW1lbnQgb24gdGhlIGJ1dHRvbiBvYmplY3QNCgkJLy8gdG8gcHJldmVudCByZWZlcmVuY2luZyBieSBpdCdzIGltcGxlbWVudGF0aW9uIGRldGFpbHMgKGVnICdjbGFzcycpDQoJCXRoaXMuYnV0dG9uLmRhdGEoICd0ZXh0V3JhcHBlcicgKS50ZXh0KCAkZWwudGV4dCgpIHx8ICRlbC52YWwoKSApOw0KCX0NCn0pOw0KDQovL2F1dG8gc2VsZi1pbml0IHdpZGdldHMNCiQoIGRvY3VtZW50ICkuYmluZCggInBhZ2VjcmVhdGUgY3JlYXRlIiwgZnVuY3Rpb24oIGUgKXsNCgkkLm1vYmlsZS5idXR0b24ucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oIGUudGFyZ2V0ICk7DQp9KTsNCg0KfSkoIGpRdWVyeSApOy8qDQoqICJzbGlkZXIiIHBsdWdpbg0KKi8NCg0KKCBmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkgew0KDQokLndpZGdldCggIm1vYmlsZS5zbGlkZXIiLCAkLm1vYmlsZS53aWRnZXQsIHsNCglvcHRpb25zOiB7DQoJCXRoZW1lOiBudWxsLA0KCQl0cmFja1RoZW1lOiBudWxsLA0KCQlkaXNhYmxlZDogZmFsc2UsDQoJCWluaXRTZWxlY3RvcjogImlucHV0W3R5cGU9J3JhbmdlJ10sIDpqcW1EYXRhKHR5cGU9J3JhbmdlJyksIDpqcW1EYXRhKHJvbGU9J3NsaWRlcicpIg0KCX0sDQoNCglfY3JlYXRlOiBmdW5jdGlvbigpIHsNCg0KCQkvLyBUT0RPOiBFYWNoIG9mIHRoZXNlIHNob3VsZCBoYXZlIGNvbW1lbnRzIGV4cGxhaW4gd2hhdCB0aGV5J3JlIGZvcg0KCQl2YXIgc2VsZiA9IHRoaXMsDQoNCgkJCWNvbnRyb2wgPSB0aGlzLmVsZW1lbnQsDQoNCgkJCXBhcmVudFRoZW1lID0gJC5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUoIGNvbnRyb2wsICJjIiApLA0KDQoJCQl0aGVtZSA9IHRoaXMub3B0aW9ucy50aGVtZSB8fCBwYXJlbnRUaGVtZSwNCg0KCQkJdHJhY2tUaGVtZSA9IHRoaXMub3B0aW9ucy50cmFja1RoZW1lIHx8IHBhcmVudFRoZW1lLA0KDQoJCQljVHlwZSA9IGNvbnRyb2xbIDAgXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLA0KDQoJCQlzZWxlY3RDbGFzcyA9ICggY1R5cGUgPT0gInNlbGVjdCIgKSA/ICJ1aS1zbGlkZXItc3dpdGNoIiA6ICIiLA0KDQoJCQljb250cm9sSUQgPSBjb250cm9sLmF0dHIoICJpZCIgKSwNCg0KCQkJbGFiZWxJRCA9IGNvbnRyb2xJRCArICItbGFiZWwiLA0KDQoJCQlsYWJlbCA9ICQoICJbZm9yPSciKyBjb250cm9sSUQgKyInXSIgKS5hdHRyKCAiaWQiLCBsYWJlbElEICksDQoNCgkJCXZhbCA9IGZ1bmN0aW9uKCkgew0KCQkJCXJldHVybiAgY1R5cGUgPT0gImlucHV0IiAgPyBwYXJzZUZsb2F0KCBjb250cm9sLnZhbCgpICkgOiBjb250cm9sWzBdLnNlbGVjdGVkSW5kZXg7DQoJCQl9LA0KDQoJCQltaW4gPSAgY1R5cGUgPT0gImlucHV0IiA/IHBhcnNlRmxvYXQoIGNvbnRyb2wuYXR0ciggIm1pbiIgKSApIDogMCwNCg0KCQkJbWF4ID0gIGNUeXBlID09ICJpbnB1dCIgPyBwYXJzZUZsb2F0KCBjb250cm9sLmF0dHIoICJtYXgiICkgKSA6IGNvbnRyb2wuZmluZCggIm9wdGlvbiIgKS5sZW5ndGgtMSwNCg0KCQkJc3RlcCA9IHdpbmRvdy5wYXJzZUZsb2F0KCBjb250cm9sLmF0dHIoICJzdGVwIiApIHx8IDEgKSwNCg0KCQkJc2xpZGVyID0gJCggIjxkaXYgY2xhc3M9J3VpLXNsaWRlciAiICsgc2VsZWN0Q2xhc3MgKyAiIHVpLWJ0bi1kb3duLSIgKyB0cmFja1RoZW1lICsNCgkJCQkJCQkJCSIgdWktYnRuLWNvcm5lci1hbGwnIHJvbGU9J2FwcGxpY2F0aW9uJz48L2Rpdj4iICksDQoNCgkJCWhhbmRsZSA9ICQoICI8YSBocmVmPScjJyBjbGFzcz0ndWktc2xpZGVyLWhhbmRsZSc+PC9hPiIgKQ0KCQkJCS5hcHBlbmRUbyggc2xpZGVyICkNCgkJCQkuYnV0dG9uTWFya3VwKHsgY29ybmVyczogdHJ1ZSwgdGhlbWU6IHRoZW1lLCBzaGFkb3c6IHRydWUgfSkNCgkJCQkuYXR0cih7DQoJCQkJCSJyb2xlIjogInNsaWRlciIsDQoJCQkJCSJhcmlhLXZhbHVlbWluIjogbWluLA0KCQkJCQkiYXJpYS12YWx1ZW1heCI6IG1heCwNCgkJCQkJImFyaWEtdmFsdWVub3ciOiB2YWwoKSwNCgkJCQkJImFyaWEtdmFsdWV0ZXh0IjogdmFsKCksDQoJCQkJCSJ0aXRsZSI6IHZhbCgpLA0KCQkJCQkiYXJpYS1sYWJlbGxlZGJ5IjogbGFiZWxJRA0KCQkJCX0pLA0KCQkJb3B0aW9uczsNCg0KCQkkLmV4dGVuZCggdGhpcywgew0KCQkJc2xpZGVyOiBzbGlkZXIsDQoJCQloYW5kbGU6IGhhbmRsZSwNCgkJCWRyYWdnaW5nOiBmYWxzZSwNCgkJCWJlZm9yZVN0YXJ0OiBudWxsLA0KCQkJdXNlck1vZGlmaWVkOiBmYWxzZSwNCgkJCW1vdXNlTW92ZWQ6IGZhbHNlDQoJCX0pOw0KDQoJCWlmICggY1R5cGUgPT0gInNlbGVjdCIgKSB7DQoNCgkJCXNsaWRlci53cmFwSW5uZXIoICI8ZGl2IGNsYXNzPSd1aS1zbGlkZXItaW5uZXJvZmZzZXQnPjwvZGl2PiIgKTsNCgkJCQ0KCQkJLy8gbWFrZSB0aGUgaGFuZGxlIG1vdmUgd2l0aCBhIHNtb290aCB0cmFuc2l0aW9uDQoJCQloYW5kbGUuYWRkQ2xhc3MoICJ1aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nIiApOw0KDQoJCQlvcHRpb25zID0gY29udHJvbC5maW5kKCAib3B0aW9uIiApOw0KDQoJCQljb250cm9sLmZpbmQoICJvcHRpb24iICkuZWFjaChmdW5jdGlvbiggaSApIHsNCg0KCQkJCXZhciBzaWRlID0gIWkgPyAiYiI6ImEiLA0KCQkJCQljb3JuZXJzID0gIWkgPyAicmlnaHQiIDoibGVmdCIsDQoJCQkJCXRoZW1lID0gIWkgPyAiIHVpLWJ0bi1kb3duLSIgKyB0cmFja1RoZW1lIDooICIgIiArICQubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzICk7DQoNCgkJCQkkKCAiPGRpdiBjbGFzcz0ndWktc2xpZGVyLWxhYmVsYmcgdWktc2xpZGVyLWxhYmVsYmctIiArIHNpZGUgKyB0aGVtZSArICIgdWktYnRuLWNvcm5lci0iICsgY29ybmVycyArICInPjwvZGl2PiIgKQ0KCQkJCQkucHJlcGVuZFRvKCBzbGlkZXIgKTsNCg0KCQkJCSQoICI8c3BhbiBjbGFzcz0ndWktc2xpZGVyLWxhYmVsIHVpLXNsaWRlci1sYWJlbC0iICsgc2lkZSArIHRoZW1lICsgIiB1aS1idG4tY29ybmVyLSIgKyBjb3JuZXJzICsgIicgcm9sZT0naW1nJz4iICsgJCggdGhpcyApLmdldEVuY29kZWRUZXh0KCkgKyAiPC9zcGFuPiIgKQ0KCQkJCQkucHJlcGVuZFRvKCBoYW5kbGUgKTsNCgkJCX0pOw0KDQoJCX0NCg0KCQlsYWJlbC5hZGRDbGFzcyggInVpLXNsaWRlciIgKTsNCg0KCQkvLyBtb25pdG9yIHRoZSBpbnB1dCBmb3IgdXBkYXRlZCB2YWx1ZXMNCgkJY29udHJvbC5hZGRDbGFzcyggY1R5cGUgPT09ICJpbnB1dCIgPyAidWktc2xpZGVyLWlucHV0IiA6ICJ1aS1zbGlkZXItc3dpdGNoIiApDQoJCQkuY2hhbmdlKCBmdW5jdGlvbigpIHsNCgkJCQkvLyBpZiB0aGUgdXNlciBkcmFnZ2VkIHRoZSBoYW5kbGUsIHRoZSAiY2hhbmdlIiBldmVudCB3YXMgdHJpZ2dlcmVkIGZyb20gaW5zaWRlIHJlZnJlc2goKTsgZG9uJ3QgY2FsbCByZWZyZXNoKCkgYWdhaW4NCgkJCQlpZiAoIXNlbGYubW91c2VNb3ZlZCkgew0KCQkJCQlzZWxmLnJlZnJlc2goIHZhbCgpLCB0cnVlICk7DQoJCQkJfQ0KCQkJfSkNCgkJCS5rZXl1cCggZnVuY3Rpb24oKSB7IC8vIG5lY2Vzc2FyeT8NCgkJCQlzZWxmLnJlZnJlc2goIHZhbCgpLCB0cnVlLCB0cnVlICk7DQoJCQl9KQ0KCQkJLmJsdXIoIGZ1bmN0aW9uKCkgew0KCQkJCXNlbGYucmVmcmVzaCggdmFsKCksIHRydWUgKTsNCgkJCX0pOw0KDQoJCS8vIHByZXZlbnQgc2NyZWVuIGRyYWcgd2hlbiBzbGlkZXIgYWN0aXZhdGVkDQoJCSQoIGRvY3VtZW50ICkuYmluZCggInZtb3VzZW1vdmUiLCBmdW5jdGlvbiggZXZlbnQgKSB7DQoJCQlpZiAoIHNlbGYuZHJhZ2dpbmcgKSB7DQoJCQkJLy8gc2VsZi5tb3VzZU1vdmVkIG11c3QgYmUgdXBkYXRlZCBiZWZvcmUgcmVmcmVzaCgpIGJlY2F1c2UgaXQgd2lsbCBiZSB1c2VkIGluIHRoZSBjb250cm9sICJjaGFuZ2UiIGV2ZW50DQoJCQkJc2VsZi5tb3VzZU1vdmVkID0gdHJ1ZTsNCgkJCQkNCgkJCQlpZiAoIGNUeXBlID09PSAic2VsZWN0IiApIHsNCgkJCQkJLy8gbWFrZSB0aGUgaGFuZGxlIG1vdmUgaW4gc3luYyB3aXRoIHRoZSBtb3VzZQ0KCQkJCQloYW5kbGUucmVtb3ZlQ2xhc3MoICJ1aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nIiApOw0KCQkJCX0NCgkJCQkNCgkJCQlzZWxmLnJlZnJlc2goIGV2ZW50ICk7DQoJCQkJDQoJCQkJLy8gb25seSBhZnRlciByZWZyZXNoKCkgeW91IGNhbiBjYWxjdWxhdGUgc2VsZi51c2VyTW9kaWZpZWQNCgkJCQlzZWxmLnVzZXJNb2RpZmllZCA9IHNlbGYuYmVmb3JlU3RhcnQgIT09IGNvbnRyb2xbMF0uc2VsZWN0ZWRJbmRleDsNCgkJCQlyZXR1cm4gZmFsc2U7DQoJCQl9DQoJCX0pOw0KDQoJCXNsaWRlci5iaW5kKCAidm1vdXNlZG93biIsIGZ1bmN0aW9uKCBldmVudCApIHsNCgkJCXNlbGYuZHJhZ2dpbmcgPSB0cnVlOw0KCQkJc2VsZi51c2VyTW9kaWZpZWQgPSBmYWxzZTsNCgkJCXNlbGYubW91c2VNb3ZlZCA9IGZhbHNlOw0KDQoJCQlpZiAoIGNUeXBlID09PSAic2VsZWN0IiApIHsNCgkJCQlzZWxmLmJlZm9yZVN0YXJ0ID0gY29udHJvbFswXS5zZWxlY3RlZEluZGV4Ow0KCQkJfQ0KCQkJDQoJCQlzZWxmLnJlZnJlc2goIGV2ZW50ICk7DQoJCQlyZXR1cm4gZmFsc2U7DQoJCX0pOw0KDQoJCXNsaWRlci5hZGQoIGRvY3VtZW50ICkNCgkJCS5iaW5kKCAidm1vdXNldXAiLCBmdW5jdGlvbigpIHsNCgkJCQlpZiAoIHNlbGYuZHJhZ2dpbmcgKSB7DQoNCgkJCQkJc2VsZi5kcmFnZ2luZyA9IGZhbHNlOw0KDQoJCQkJCWlmICggY1R5cGUgPT09ICJzZWxlY3QiKSB7DQoJCQkJCQ0KCQkJCQkJLy8gbWFrZSB0aGUgaGFuZGxlIG1vdmUgd2l0aCBhIHNtb290aCB0cmFuc2l0aW9uDQoJCQkJCQloYW5kbGUuYWRkQ2xhc3MoICJ1aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nIiApOw0KCQkJCQkNCgkJCQkJCWlmICggc2VsZi5tb3VzZU1vdmVkICkgew0KCQkJCQkJDQoJCQkJCQkJLy8gdGhpcyBpcyBhIGRyYWcsIGNoYW5nZSB0aGUgdmFsdWUgb25seSBpZiB1c2VyIGRyYWdnZWQgZW5vdWdoDQoJCQkJCQkJaWYgKCBzZWxmLnVzZXJNb2RpZmllZCApIHsNCgkJCQkJCQkJc2VsZi5yZWZyZXNoKCBzZWxmLmJlZm9yZVN0YXJ0ID09IDAgPyAxIDogMCApOw0KCQkJCQkJCX0NCgkJCQkJCQllbHNlIHsNCgkJCQkJCQkJc2VsZi5yZWZyZXNoKCBzZWxmLmJlZm9yZVN0YXJ0ICk7DQoJCQkJCQkJfQ0KCQkJCQkJCQ0KCQkJCQkJfQ0KCQkJCQkJZWxzZSB7DQoJCQkJCQkJLy8gdGhpcyBpcyBqdXN0IGEgY2xpY2ssIGNoYW5nZSB0aGUgdmFsdWUNCgkJCQkJCQlzZWxmLnJlZnJlc2goIHNlbGYuYmVmb3JlU3RhcnQgPT0gMCA/IDEgOiAwICk7DQoJCQkJCQl9DQoJCQkJCQkNCgkJCQkJfQ0KCQkJCQkNCgkJCQkJc2VsZi5tb3VzZU1vdmVkID0gZmFsc2U7DQoJCQkJCQ0KCQkJCQlyZXR1cm4gZmFsc2U7DQoJCQkJfQ0KCQkJfSk7DQoNCgkJc2xpZGVyLmluc2VydEFmdGVyKCBjb250cm9sICk7DQoNCgkJLy8gTk9URSBmb3JjZSBmb2N1cyBvbiBoYW5kbGUNCgkJdGhpcy5oYW5kbGUNCgkJCS5iaW5kKCAidm1vdXNlZG93biIsIGZ1bmN0aW9uKCkgew0KCQkJCSQoIHRoaXMgKS5mb2N1cygpOw0KCQkJfSkNCgkJCS5iaW5kKCAidmNsaWNrIiwgZmFsc2UgKTsNCg0KCQl0aGlzLmhhbmRsZQ0KCQkJLmJpbmQoICJrZXlkb3duIiwgZnVuY3Rpb24oIGV2ZW50ICkgew0KCQkJCXZhciBpbmRleCA9IHZhbCgpOw0KDQoJCQkJaWYgKCBzZWxmLm9wdGlvbnMuZGlzYWJsZWQgKSB7DQoJCQkJCXJldHVybjsNCgkJCQl9DQoNCgkJCQkvLyBJbiBhbGwgY2FzZXMgcHJldmVudCB0aGUgZGVmYXVsdCBhbmQgbWFyayB0aGUgaGFuZGxlIGFzIGFjdGl2ZQ0KCQkJCXN3aXRjaCAoIGV2ZW50LmtleUNvZGUgKSB7DQoJCQkJIGNhc2UgJC5tb2JpbGUua2V5Q29kZS5IT01FOg0KCQkJCSBjYXNlICQubW9iaWxlLmtleUNvZGUuRU5EOg0KCQkJCSBjYXNlICQubW9iaWxlLmtleUNvZGUuUEFHRV9VUDoNCgkJCQkgY2FzZSAkLm1vYmlsZS5rZXlDb2RlLlBBR0VfRE9XTjoNCgkJCQkgY2FzZSAkLm1vYmlsZS5rZXlDb2RlLlVQOg0KCQkJCSBjYXNlICQubW9iaWxlLmtleUNvZGUuUklHSFQ6DQoJCQkJIGNhc2UgJC5tb2JpbGUua2V5Q29kZS5ET1dOOg0KCQkJCSBjYXNlICQubW9iaWxlLmtleUNvZGUuTEVGVDoNCgkJCQkJZXZlbnQucHJldmVudERlZmF1bHQoKTsNCg0KCQkJCQlpZiAoICFzZWxmLl9rZXlTbGlkaW5nICkgew0KCQkJCQkJc2VsZi5fa2V5U2xpZGluZyA9IHRydWU7DQoJCQkJCQkkKCB0aGlzICkuYWRkQ2xhc3MoICJ1aS1zdGF0ZS1hY3RpdmUiICk7DQoJCQkJCX0NCgkJCQkJYnJlYWs7DQoJCQkJfQ0KDQoJCQkJLy8gbW92ZSB0aGUgc2xpZGVyIGFjY29yZGluZyB0byB0aGUga2V5cHJlc3MNCgkJCQlzd2l0Y2ggKCBldmVudC5rZXlDb2RlICkgew0KCQkJCSBjYXNlICQubW9iaWxlLmtleUNvZGUuSE9NRToNCgkJCQkJc2VsZi5yZWZyZXNoKCBtaW4gKTsNCgkJCQkJYnJlYWs7DQoJCQkJIGNhc2UgJC5tb2JpbGUua2V5Q29kZS5FTkQ6DQoJCQkJCXNlbGYucmVmcmVzaCggbWF4ICk7DQoJCQkJCWJyZWFrOw0KCQkJCSBjYXNlICQubW9iaWxlLmtleUNvZGUuUEFHRV9VUDoNCgkJCQkgY2FzZSAkLm1vYmlsZS5rZXlDb2RlLlVQOg0KCQkJCSBjYXNlICQubW9iaWxlLmtleUNvZGUuUklHSFQ6DQoJCQkJCXNlbGYucmVmcmVzaCggaW5kZXggKyBzdGVwICk7DQoJCQkJCWJyZWFrOw0KCQkJCSBjYXNlICQubW9iaWxlLmtleUNvZGUuUEFHRV9ET1dOOg0KCQkJCSBjYXNlICQubW9iaWxlLmtleUNvZGUuRE9XTjoNCgkJCQkgY2FzZSAkLm1vYmlsZS5rZXlDb2RlLkxFRlQ6DQoJCQkJCXNlbGYucmVmcmVzaCggaW5kZXggLSBzdGVwICk7DQoJCQkJCWJyZWFrOw0KCQkJCX0NCgkJCX0pIC8vIHJlbW92ZSBhY3RpdmUgbWFyaw0KCQkJLmtleXVwKCBmdW5jdGlvbiggZXZlbnQgKSB7DQoJCQkJaWYgKCBzZWxmLl9rZXlTbGlkaW5nICkgew0KCQkJCQlzZWxmLl9rZXlTbGlkaW5nID0gZmFsc2U7DQoJCQkJCSQoIHRoaXMgKS5yZW1vdmVDbGFzcyggInVpLXN0YXRlLWFjdGl2ZSIgKTsNCgkJCQl9DQoJCQl9KTsNCg0KCQl0aGlzLnJlZnJlc2godW5kZWZpbmVkLCB1bmRlZmluZWQsIHRydWUpOw0KCX0sDQoNCglyZWZyZXNoOiBmdW5jdGlvbiggdmFsLCBpc2Zyb21Db250cm9sLCBwcmV2ZW50SW5wdXRVcGRhdGUgKSB7DQoNCgkJaWYgKCB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgfHwgdGhpcy5lbGVtZW50LmF0dHIoJ2Rpc2FibGVkJykpIHsgDQoJCQl0aGlzLmRpc2FibGUoKTsNCgkJfQ0KDQoJCXZhciBjb250cm9sID0gdGhpcy5lbGVtZW50LCBwZXJjZW50LA0KCQkJY1R5cGUgPSBjb250cm9sWzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksDQoJCQltaW4gPSBjVHlwZSA9PT0gImlucHV0IiA/IHBhcnNlRmxvYXQoIGNvbnRyb2wuYXR0ciggIm1pbiIgKSApIDogMCwNCgkJCW1heCA9IGNUeXBlID09PSAiaW5wdXQiID8gcGFyc2VGbG9hdCggY29udHJvbC5hdHRyKCAibWF4IiApICkgOiBjb250cm9sLmZpbmQoICJvcHRpb24iICkubGVuZ3RoIC0gMTsNCg0KCQlpZiAoIHR5cGVvZiB2YWwgPT09ICJvYmplY3QiICkgew0KCQkJdmFyIGRhdGEgPSB2YWwsDQoJCQkJLy8gYSBzbGlnaHQgdG9sZXJhbmNlIGhlbHBlZCBnZXQgdG8gdGhlIGVuZHMgb2YgdGhlIHNsaWRlcg0KCQkJCXRvbCA9IDg7DQoJCQlpZiAoICF0aGlzLmRyYWdnaW5nIHx8DQoJCQkJCWRhdGEucGFnZVggPCB0aGlzLnNsaWRlci5vZmZzZXQoKS5sZWZ0IC0gdG9sIHx8DQoJCQkJCWRhdGEucGFnZVggPiB0aGlzLnNsaWRlci5vZmZzZXQoKS5sZWZ0ICsgdGhpcy5zbGlkZXIud2lkdGgoKSArIHRvbCApIHsNCgkJCQlyZXR1cm47DQoJCQl9DQoJCQlwZXJjZW50ID0gTWF0aC5yb3VuZCggKCAoIGRhdGEucGFnZVggLSB0aGlzLnNsaWRlci5vZmZzZXQoKS5sZWZ0ICkgLyB0aGlzLnNsaWRlci53aWR0aCgpICkgKiAxMDAgKTsNCgkJfSBlbHNlIHsNCgkJCWlmICggdmFsID09IG51bGwgKSB7DQoJCQkJdmFsID0gY1R5cGUgPT09ICJpbnB1dCIgPyBwYXJzZUZsb2F0KCBjb250cm9sLnZhbCgpICkgOiBjb250cm9sWzBdLnNlbGVjdGVkSW5kZXg7DQoJCQl9DQoJCQlwZXJjZW50ID0gKCBwYXJzZUZsb2F0KCB2YWwgKSAtIG1pbiApIC8gKCBtYXggLSBtaW4gKSAqIDEwMDsNCgkJfQ0KDQoJCWlmICggaXNOYU4oIHBlcmNlbnQgKSApIHsNCgkJCXJldHVybjsNCgkJfQ0KDQoJCWlmICggcGVyY2VudCA8IDAgKSB7DQoJCQlwZXJjZW50ID0gMDsNCgkJfQ0KDQoJCWlmICggcGVyY2VudCA+IDEwMCApIHsNCgkJCXBlcmNlbnQgPSAxMDA7DQoJCX0NCg0KCQl2YXIgbmV3dmFsID0gTWF0aC5yb3VuZCggKCBwZXJjZW50IC8gMTAwICkgKiAoIG1heCAtIG1pbiApICkgKyBtaW47DQoNCgkJaWYgKCBuZXd2YWwgPCBtaW4gKSB7DQoJCQluZXd2YWwgPSBtaW47DQoJCX0NCg0KCQlpZiAoIG5ld3ZhbCA+IG1heCApIHsNCgkJCW5ld3ZhbCA9IG1heDsNCgkJfQ0KDQoJCS8vIEZsaXAgdGhlIHN0YWNrIG9mIHRoZSBiZyBjb2xvcnMNCgkJaWYgKCBwZXJjZW50ID4gNjAgJiYgY1R5cGUgPT09ICJzZWxlY3QiICkgew0KCQkJLy8gVE9ETzogRGVhZCBwYXRoPw0KCQl9DQoJCXRoaXMuaGFuZGxlLmNzcyggImxlZnQiLCBwZXJjZW50ICsgIiUiICk7DQoJCXRoaXMuaGFuZGxlLmF0dHIoIHsNCgkJCQkiYXJpYS12YWx1ZW5vdyI6IGNUeXBlID09PSAiaW5wdXQiID8gbmV3dmFsIDogY29udHJvbC5maW5kKCAib3B0aW9uIiApLmVxKCBuZXd2YWwgKS5hdHRyKCAidmFsdWUiICksDQoJCQkJImFyaWEtdmFsdWV0ZXh0IjogY1R5cGUgPT09ICJpbnB1dCIgPyBuZXd2YWwgOiBjb250cm9sLmZpbmQoICJvcHRpb24iICkuZXEoIG5ld3ZhbCApLmdldEVuY29kZWRUZXh0KCksDQoJCQkJdGl0bGU6IG5ld3ZhbA0KCQkJfSk7DQoNCgkJLy8gYWRkL3JlbW92ZSBjbGFzc2VzIGZvciBmbGlwIHRvZ2dsZSBzd2l0Y2gNCgkJaWYgKCBjVHlwZSA9PT0gInNlbGVjdCIgKSB7DQoJCQlpZiAoIG5ld3ZhbCA9PT0gMCApIHsNCgkJCQl0aGlzLnNsaWRlci5hZGRDbGFzcyggInVpLXNsaWRlci1zd2l0Y2gtYSIgKQ0KCQkJCQkucmVtb3ZlQ2xhc3MoICJ1aS1zbGlkZXItc3dpdGNoLWIiICk7DQoJCQl9IGVsc2Ugew0KCQkJCXRoaXMuc2xpZGVyLmFkZENsYXNzKCAidWktc2xpZGVyLXN3aXRjaC1iIiApDQoJCQkJCS5yZW1vdmVDbGFzcyggInVpLXNsaWRlci1zd2l0Y2gtYSIgKTsNCgkJCX0NCgkJfQ0KDQoJCWlmICggIXByZXZlbnRJbnB1dFVwZGF0ZSApIHsNCgkJCXZhciB2YWx1ZUNoYW5nZWQgPSBmYWxzZTsNCg0KCQkJLy8gdXBkYXRlIGNvbnRyb2wicyB2YWx1ZQ0KCQkJaWYgKCBjVHlwZSA9PT0gImlucHV0IiApIHsNCgkJCQl2YWx1ZUNoYW5nZWQgPSBjb250cm9sLnZhbCgpICE9PSBuZXd2YWw7DQoJCQkJY29udHJvbC52YWwoIG5ld3ZhbCApOw0KCQkJfSBlbHNlIHsNCgkJCQl2YWx1ZUNoYW5nZWQgPSBjb250cm9sWyAwIF0uc2VsZWN0ZWRJbmRleCAhPT0gbmV3dmFsOw0KCQkJCWNvbnRyb2xbIDAgXS5zZWxlY3RlZEluZGV4ID0gbmV3dmFsOw0KCQkJfQ0KCQkJaWYgKCAhaXNmcm9tQ29udHJvbCAmJiB2YWx1ZUNoYW5nZWQgKSB7DQoJCQkJY29udHJvbC50cmlnZ2VyKCAiY2hhbmdlIiApOw0KCQkJfQ0KCQl9DQoJfSwNCg0KCWVuYWJsZTogZnVuY3Rpb24oKSB7DQoJCXRoaXMuZWxlbWVudC5hdHRyKCAiZGlzYWJsZWQiLCBmYWxzZSApOw0KCQl0aGlzLnNsaWRlci5yZW1vdmVDbGFzcyggInVpLWRpc2FibGVkIiApLmF0dHIoICJhcmlhLWRpc2FibGVkIiwgZmFsc2UgKTsNCgkJcmV0dXJuIHRoaXMuX3NldE9wdGlvbiggImRpc2FibGVkIiwgZmFsc2UgKTsNCgl9LA0KDQoJZGlzYWJsZTogZnVuY3Rpb24oKSB7DQoJCXRoaXMuZWxlbWVudC5hdHRyKCAiZGlzYWJsZWQiLCB0cnVlICk7DQoJCXRoaXMuc2xpZGVyLmFkZENsYXNzKCAidWktZGlzYWJsZWQiICkuYXR0ciggImFyaWEtZGlzYWJsZWQiLCB0cnVlICk7DQoJCXJldHVybiB0aGlzLl9zZXRPcHRpb24oICJkaXNhYmxlZCIsIHRydWUgKTsNCgl9DQoNCn0pOw0KDQovL2F1dG8gc2VsZi1pbml0IHdpZGdldHMNCiQoIGRvY3VtZW50ICkuYmluZCggInBhZ2VjcmVhdGUgY3JlYXRlIiwgZnVuY3Rpb24oIGUgKXsNCgkkLm1vYmlsZS5zbGlkZXIucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oIGUudGFyZ2V0ICk7DQp9KTsNCg0KfSkoIGpRdWVyeSApOw0KLyoNCiogInRleHRpbnB1dCIgcGx1Z2luIGZvciB0ZXh0IGlucHV0cywgdGV4dGFyZWFzDQoqLw0KDQooZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHsNCg0KJC53aWRnZXQoICJtb2JpbGUudGV4dGlucHV0IiwgJC5tb2JpbGUud2lkZ2V0LCB7DQoJb3B0aW9uczogew0KCQl0aGVtZTogbnVsbCwNCgkJaW5pdFNlbGVjdG9yOiAiaW5wdXRbdHlwZT0ndGV4dCddLCBpbnB1dFt0eXBlPSdzZWFyY2gnXSwgOmpxbURhdGEodHlwZT0nc2VhcmNoJyksIGlucHV0W3R5cGU9J251bWJlciddLCA6anFtRGF0YSh0eXBlPSdudW1iZXInKSwgaW5wdXRbdHlwZT0ncGFzc3dvcmQnXSwgaW5wdXRbdHlwZT0nZW1haWwnXSwgaW5wdXRbdHlwZT0ndXJsJ10sIGlucHV0W3R5cGU9J3RlbCddLCB0ZXh0YXJlYSwgaW5wdXRbdHlwZT0ndGltZSddLCBpbnB1dFt0eXBlPSdkYXRlJ10sIGlucHV0W3R5cGU9J21vbnRoJ10sIGlucHV0W3R5cGU9J3dlZWsnXSwgaW5wdXRbdHlwZT0nZGF0ZXRpbWUnXSwgaW5wdXRbdHlwZT0nZGF0ZXRpbWUtbG9jYWwnXSwgaW5wdXRbdHlwZT0nY29sb3InXSwgaW5wdXQ6bm90KFt0eXBlXSkiDQoJfSwNCg0KCV9jcmVhdGU6IGZ1bmN0aW9uKCkgew0KDQoJCXZhciBpbnB1dCA9IHRoaXMuZWxlbWVudCwNCgkJCW8gPSB0aGlzLm9wdGlvbnMsDQoJCQl0aGVtZSA9IG8udGhlbWUgfHwgJC5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUoIHRoaXMuZWxlbWVudCwgImMiICksDQoJCQl0aGVtZWNsYXNzICA9ICIgdWktYm9keS0iICsgdGhlbWUsDQoJCQlmb2N1c2VkRWwsIGNsZWFyYnRuOw0KDQoJCSQoICJsYWJlbFtmb3I9JyIgKyBpbnB1dC5hdHRyKCAiaWQiICkgKyAiJ10iICkuYWRkQ2xhc3MoICJ1aS1pbnB1dC10ZXh0IiApOw0KDQoJCWZvY3VzZWRFbCA9IGlucHV0LmFkZENsYXNzKCJ1aS1pbnB1dC10ZXh0IHVpLWJvZHktIisgdGhlbWUgKTsNCg0KCQkvLyBYWFg6IFRlbXBvcmFyeSB3b3JrYXJvdW5kIGZvciBpc3N1ZSA3ODUgKEFwcGxlIGJ1ZyA4OTEwNTg5KS4NCgkJLy8gICAgICBUdXJuIG9mZiBhdXRvY29ycmVjdCBhbmQgYXV0b2NvbXBsZXRlIG9uIG5vbi1pT1MgNSBkZXZpY2VzDQoJCS8vICAgICAgc2luY2UgdGhlIHBvcHVwIHRoZXkgdXNlIGNhbid0IGJlIGRpc21pc3NlZCBieSB0aGUgdXNlci4gTm90ZQ0KCQkvLyAgICAgIHRoYXQgd2UgdGVzdCBmb3IgdGhlIHByZXNlbmNlIG9mIHRoZSBmZWF0dXJlIGJ5IGxvb2tpbmcgZm9yDQoJCS8vICAgICAgdGhlIGF1dG9jb3JyZWN0IHByb3BlcnR5IG9uIHRoZSBpbnB1dCBlbGVtZW50LiBXZSBjdXJyZW50bHkNCgkJLy8gICAgICBoYXZlIG5vIHRlc3QgZm9yIGlPUyA1IG9yIG5ld2VyIHNvIHdlJ3JlIHRlbXBvcmFyaWx5IHVzaW5nDQoJCS8vICAgICAgdGhlIHRvdWNoT3ZlcmZsb3cgc3VwcG9ydCBmbGFnIGZvciBqUU0gMS4wLiBZZXMsIEkgZmVlbCBkaXJ0eS4gLSBqYmxhcw0KCQlpZiAoIHR5cGVvZiBpbnB1dFswXS5hdXRvY29ycmVjdCAhPT0gInVuZGVmaW5lZCIgJiYgISQuc3VwcG9ydC50b3VjaE92ZXJmbG93ICkgew0KCQkJLy8gU2V0IHRoZSBhdHRyaWJ1dGUgaW5zdGVhZCBvZiB0aGUgcHJvcGVydHkganVzdCBpbiBjYXNlIHRoZXJlDQoJCQkvLyBpcyBjb2RlIHRoYXQgYXR0ZW1wdHMgdG8gbWFrZSBtb2RpZmljYXRpb25zIHZpYSBIVE1MLg0KCQkJaW5wdXRbMF0uc2V0QXR0cmlidXRlKCAiYXV0b2NvcnJlY3QiLCAib2ZmIiApOw0KCQkJaW5wdXRbMF0uc2V0QXR0cmlidXRlKCAiYXV0b2NvbXBsZXRlIiwgIm9mZiIgKTsNCgkJfQ0KDQoNCgkJLy8ic2VhcmNoIiBpbnB1dCB3aWRnZXQNCgkJaWYgKCBpbnB1dC5pcyggIlt0eXBlPSdzZWFyY2gnXSw6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSIgKSApIHsNCg0KCQkJZm9jdXNlZEVsID0gaW5wdXQud3JhcCggIjxkaXYgY2xhc3M9J3VpLWlucHV0LXNlYXJjaCB1aS1zaGFkb3ctaW5zZXQgdWktYnRuLWNvcm5lci1hbGwgdWktYnRuLXNoYWRvdyB1aS1pY29uLXNlYXJjaGZpZWxkIiArIHRoZW1lY2xhc3MgKyAiJz48L2Rpdj4iICkucGFyZW50KCk7DQoJCQljbGVhcmJ0biA9ICQoICI8YSBocmVmPScjJyBjbGFzcz0ndWktaW5wdXQtY2xlYXInIHRpdGxlPSdjbGVhciB0ZXh0Jz5jbGVhciB0ZXh0PC9hPiIgKQ0KCQkJCS50YXAoZnVuY3Rpb24oIGV2ZW50ICkgew0KCQkJCQlpbnB1dC52YWwoICIiICkuZm9jdXMoKTsNCgkJCQkJaW5wdXQudHJpZ2dlciggImNoYW5nZSIgKTsNCgkJCQkJY2xlYXJidG4uYWRkQ2xhc3MoICJ1aS1pbnB1dC1jbGVhci1oaWRkZW4iICk7DQoJCQkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7DQoJCQkJfSkNCgkJCQkuYXBwZW5kVG8oIGZvY3VzZWRFbCApDQoJCQkJLmJ1dHRvbk1hcmt1cCh7DQoJCQkJCWljb246ICJkZWxldGUiLA0KCQkJCQlpY29ucG9zOiAibm90ZXh0IiwNCgkJCQkJY29ybmVyczogdHJ1ZSwNCgkJCQkJc2hhZG93OiB0cnVlDQoJCQkJfSk7DQoNCgkJCWZ1bmN0aW9uIHRvZ2dsZUNsZWFyKCkgew0KCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24oKSB7DQoJCQkJCWNsZWFyYnRuLnRvZ2dsZUNsYXNzKCAidWktaW5wdXQtY2xlYXItaGlkZGVuIiwgIWlucHV0LnZhbCgpICk7DQoJCQkJfSwgMCk7DQoJCQl9DQoNCgkJCXRvZ2dsZUNsZWFyKCk7DQoNCgkJCWlucHV0LmJpbmQoJ3Bhc3RlIGN1dCBrZXl1cCBmb2N1cyBjaGFuZ2UgYmx1cicsIHRvZ2dsZUNsZWFyKTsNCg0KCQl9IGVsc2Ugew0KCQkJaW5wdXQuYWRkQ2xhc3MoICJ1aS1jb3JuZXItYWxsIHVpLXNoYWRvdy1pbnNldCIgKyB0aGVtZWNsYXNzICk7DQoJCX0NCg0KCQlpbnB1dC5mb2N1cyhmdW5jdGlvbigpIHsNCgkJCQlmb2N1c2VkRWwuYWRkQ2xhc3MoICJ1aS1mb2N1cyIgKTsNCgkJCX0pDQoJCQkuYmx1cihmdW5jdGlvbigpew0KCQkJCWZvY3VzZWRFbC5yZW1vdmVDbGFzcyggInVpLWZvY3VzIiApOw0KCQkJfSk7DQoNCgkJLy8gQXV0b2dyb3cNCgkJaWYgKCBpbnB1dC5pcyggInRleHRhcmVhIiApICkgew0KCQkJdmFyIGV4dHJhTGluZUhlaWdodCA9IDE1LA0KCQkJCWtleXVwVGltZW91dEJ1ZmZlciA9IDEwMCwNCgkJCQlrZXl1cCA9IGZ1bmN0aW9uKCkgew0KCQkJCQl2YXIgc2Nyb2xsSGVpZ2h0ID0gaW5wdXRbIDAgXS5zY3JvbGxIZWlnaHQsDQoJCQkJCQljbGllbnRIZWlnaHQgPSBpbnB1dFsgMCBdLmNsaWVudEhlaWdodDsNCg0KCQkJCQlpZiAoIGNsaWVudEhlaWdodCA8IHNjcm9sbEhlaWdodCApIHsNCgkJCQkJCWlucHV0LmhlaWdodChzY3JvbGxIZWlnaHQgKyBleHRyYUxpbmVIZWlnaHQpOw0KCQkJCQl9DQoJCQkJfSwNCgkJCQlrZXl1cFRpbWVvdXQ7DQoNCgkJCWlucHV0LmtleXVwKGZ1bmN0aW9uKCkgew0KCQkJCWNsZWFyVGltZW91dCgga2V5dXBUaW1lb3V0ICk7DQoJCQkJa2V5dXBUaW1lb3V0ID0gc2V0VGltZW91dCgga2V5dXAsIGtleXVwVGltZW91dEJ1ZmZlciApOw0KCQkJfSk7DQoNCgkJCS8vIElzc3VlIDUwOTogdGhlIGJyb3dzZXIgaXMgbm90IHByb3ZpZGluZyBzY3JvbGxIZWlnaHQgcHJvcGVybHkgdW50aWwgdGhlIHN0eWxlcyBsb2FkDQoJCQlpZiAoICQudHJpbSggaW5wdXQudmFsKCkgKSApIHsNCgkJCQkvLyBiaW5kIHRvIHRoZSB3aW5kb3cgbG9hZCB0byBtYWtlIHN1cmUgdGhlIGhlaWdodCBpcyBjYWxjdWxhdGVkIGJhc2VkIG9uIEJPVEgNCgkJCQkvLyB0aGUgRE9NIGFuZCBDU1MNCgkJCQkkKCB3aW5kb3cgKS5sb2FkKCBrZXl1cCApOw0KDQoJCQkJLy8gYmluZGluZyB0byBwYWdlY2hhbmdlIGhlcmUgZW5zdXJlcyB0aGF0IGZvciBwYWdlcyBsb2FkZWQgdmlhDQoJCQkJLy8gYWpheCB0aGUgaGVpZ2h0IGlzIHJlY2FsY3VsYXRlZCB3aXRob3V0IHVzZXIgaW5wdXQNCgkJCQkkKCBkb2N1bWVudCApLm9uZSggInBhZ2VjaGFuZ2UiLCBrZXl1cCApOw0KCQkJfQ0KCQl9DQoJfSwNCg0KCWRpc2FibGU6IGZ1bmN0aW9uKCl7DQoJCSggdGhpcy5lbGVtZW50LmF0dHIoICJkaXNhYmxlZCIsIHRydWUgKS5pcyggIlt0eXBlPSdzZWFyY2gnXSw6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSIgKSA/DQoJCQl0aGlzLmVsZW1lbnQucGFyZW50KCkgOiB0aGlzLmVsZW1lbnQgKS5hZGRDbGFzcyggInVpLWRpc2FibGVkIiApOw0KCX0sDQoNCgllbmFibGU6IGZ1bmN0aW9uKCl7DQoJCSggdGhpcy5lbGVtZW50LmF0dHIoICJkaXNhYmxlZCIsIGZhbHNlKS5pcyggIlt0eXBlPSdzZWFyY2gnXSw6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSIgKSA/DQoJCQl0aGlzLmVsZW1lbnQucGFyZW50KCkgOiB0aGlzLmVsZW1lbnQgKS5yZW1vdmVDbGFzcyggInVpLWRpc2FibGVkIiApOw0KCX0NCn0pOw0KDQovL2F1dG8gc2VsZi1pbml0IHdpZGdldHMNCiQoIGRvY3VtZW50ICkuYmluZCggInBhZ2VjcmVhdGUgY3JlYXRlIiwgZnVuY3Rpb24oIGUgKXsNCgkkLm1vYmlsZS50ZXh0aW5wdXQucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oIGUudGFyZ2V0ICk7DQp9KTsNCg0KfSkoIGpRdWVyeSApOw0KLyoNCiogY3VzdG9tICJzZWxlY3RtZW51IiBwbHVnaW4NCiovDQoNCihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkgew0KCXZhciBleHRlbmRTZWxlY3QgPSBmdW5jdGlvbiggd2lkZ2V0ICl7DQoNCgkJdmFyIHNlbGVjdCA9IHdpZGdldC5zZWxlY3QsDQoJCQlzZWxlY3RJRCAgPSB3aWRnZXQuc2VsZWN0SUQsDQoJCQlsYWJlbCA9IHdpZGdldC5sYWJlbCwNCgkJCXRoaXNQYWdlID0gd2lkZ2V0LnNlbGVjdC5jbG9zZXN0KCAiLnVpLXBhZ2UiICksDQoJCQlzY3JlZW4gPSAkKCAiPGRpdj4iLCB7ImNsYXNzIjogInVpLXNlbGVjdG1lbnUtc2NyZWVuIHVpLXNjcmVlbi1oaWRkZW4ifSApLmFwcGVuZFRvKCB0aGlzUGFnZSApLA0KCQkJc2VsZWN0T3B0aW9ucyA9IHdpZGdldC5fc2VsZWN0T3B0aW9ucygpLA0KCQkJaXNNdWx0aXBsZSA9IHdpZGdldC5pc011bHRpcGxlID0gd2lkZ2V0LnNlbGVjdFsgMCBdLm11bHRpcGxlLA0KCQkJYnV0dG9uSWQgPSBzZWxlY3RJRCArICItYnV0dG9uIiwNCgkJCW1lbnVJZCA9IHNlbGVjdElEICsgIi1tZW51IiwNCgkJCW1lbnVQYWdlID0gJCggIjxkaXYgZGF0YS0iICsgJC5tb2JpbGUubnMgKyAicm9sZT0nZGlhbG9nJyBkYXRhLSIgKyQubW9iaWxlLm5zICsgInRoZW1lPSciKyB3aWRnZXQub3B0aW9ucy50aGVtZSArIicgZGF0YS0iICskLm1vYmlsZS5ucyArICJvdmVybGF5LXRoZW1lPSciKyB3aWRnZXQub3B0aW9ucy5vdmVybGF5VGhlbWUgKyInPiIgKw0KCQkJCSI8ZGl2IGRhdGEtIiArICQubW9iaWxlLm5zICsgInJvbGU9J2hlYWRlcic+IiArDQoJCQkJIjxkaXYgY2xhc3M9J3VpLXRpdGxlJz4iICsgbGFiZWwuZ2V0RW5jb2RlZFRleHQoKSArICI8L2Rpdj4iKw0KCQkJCSI8L2Rpdj4iKw0KCQkJCSI8ZGl2IGRhdGEtIiArICQubW9iaWxlLm5zICsgInJvbGU9J2NvbnRlbnQnPjwvZGl2PiIrDQoJCQkJIjwvZGl2PiIgKS5hcHBlbmRUbyggJC5tb2JpbGUucGFnZUNvbnRhaW5lciApLnBhZ2UoKSwNCg0KCQkJbGlzdGJveCA9ICAkKCI8ZGl2PiIsIHsgImNsYXNzIjogInVpLXNlbGVjdG1lbnUgdWktc2VsZWN0bWVudS1oaWRkZW4gdWktb3ZlcmxheS1zaGFkb3cgdWktY29ybmVyLWFsbCB1aS1ib2R5LSIgKyB3aWRnZXQub3B0aW9ucy5vdmVybGF5VGhlbWUgKyAiICIgKyAkLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbiB9ICkuaW5zZXJ0QWZ0ZXIoc2NyZWVuKSwNCg0KCQkJbGlzdCA9ICQoICI8dWw+Iiwgew0KCQkJCSJjbGFzcyI6ICJ1aS1zZWxlY3RtZW51LWxpc3QiLA0KCQkJCSJpZCI6IG1lbnVJZCwNCgkJCQkicm9sZSI6ICJsaXN0Ym94IiwNCgkJCQkiYXJpYS1sYWJlbGxlZGJ5IjogYnV0dG9uSWQNCgkJCX0pLmF0dHIoICJkYXRhLSIgKyAkLm1vYmlsZS5ucyArICJ0aGVtZSIsIHdpZGdldC5vcHRpb25zLnRoZW1lICkuYXBwZW5kVG8oIGxpc3Rib3ggKSwNCg0KCQkJaGVhZGVyID0gJCggIjxkaXY+Iiwgew0KCQkJCSJjbGFzcyI6ICJ1aS1oZWFkZXIgdWktYmFyLSIgKyB3aWRnZXQub3B0aW9ucy50aGVtZQ0KCQkJfSkucHJlcGVuZFRvKCBsaXN0Ym94ICksDQoNCgkJCWhlYWRlclRpdGxlID0gJCggIjxoMT4iLCB7DQoJCQkJImNsYXNzIjogInVpLXRpdGxlIg0KCQkJfSkuYXBwZW5kVG8oIGhlYWRlciApLA0KDQoJCQloZWFkZXJDbG9zZSA9ICQoICI8YT4iLCB7DQoJCQkJInRleHQiOiB3aWRnZXQub3B0aW9ucy5jbG9zZVRleHQsDQoJCQkJImhyZWYiOiAiIyIsDQoJCQkJImNsYXNzIjogInVpLWJ0bi1sZWZ0Ig0KCQkJfSkuYXR0ciggImRhdGEtIiArICQubW9iaWxlLm5zICsgImljb25wb3MiLCAibm90ZXh0IiApLmF0dHIoICJkYXRhLSIgKyAkLm1vYmlsZS5ucyArICJpY29uIiwgImRlbGV0ZSIgKS5hcHBlbmRUbyggaGVhZGVyICkuYnV0dG9uTWFya3VwKCksDQoNCgkJCW1lbnVQYWdlQ29udGVudCA9IG1lbnVQYWdlLmZpbmQoICIudWktY29udGVudCIgKSwNCg0KCQkJbWVudVBhZ2VDbG9zZSA9IG1lbnVQYWdlLmZpbmQoICIudWktaGVhZGVyIGEiICk7DQoNCg0KCQkkLmV4dGVuZCggd2lkZ2V0LCB7DQoJCQlzZWxlY3Q6IHdpZGdldC5zZWxlY3QsDQoJCQlzZWxlY3RJRDogc2VsZWN0SUQsDQoJCQlidXR0b25JZDogYnV0dG9uSWQsDQoJCQltZW51SWQ6IG1lbnVJZCwNCgkJCXRoaXNQYWdlOiB0aGlzUGFnZSwNCgkJCW1lbnVQYWdlOiBtZW51UGFnZSwNCgkJCWxhYmVsOiBsYWJlbCwNCgkJCXNjcmVlbjogc2NyZWVuLA0KCQkJc2VsZWN0T3B0aW9uczogc2VsZWN0T3B0aW9ucywNCgkJCWlzTXVsdGlwbGU6IGlzTXVsdGlwbGUsDQoJCQl0aGVtZTogd2lkZ2V0Lm9wdGlvbnMudGhlbWUsDQoJCQlsaXN0Ym94OiBsaXN0Ym94LA0KCQkJbGlzdDogbGlzdCwNCgkJCWhlYWRlcjogaGVhZGVyLA0KCQkJaGVhZGVyVGl0bGU6IGhlYWRlclRpdGxlLA0KCQkJaGVhZGVyQ2xvc2U6IGhlYWRlckNsb3NlLA0KCQkJbWVudVBhZ2VDb250ZW50OiBtZW51UGFnZUNvbnRlbnQsDQoJCQltZW51UGFnZUNsb3NlOiBtZW51UGFnZUNsb3NlLA0KCQkJcGxhY2Vob2xkZXI6ICIiLA0KDQoJCQlidWlsZDogZnVuY3Rpb24oKSB7DQoJCQkJdmFyIHNlbGYgPSB0aGlzOw0KDQoJCQkJLy8gQ3JlYXRlIGxpc3QgZnJvbSBzZWxlY3QsIHVwZGF0ZSBzdGF0ZQ0KCQkJCXNlbGYucmVmcmVzaCgpOw0KDQoJCQkJc2VsZi5zZWxlY3QuYXR0ciggInRhYmluZGV4IiwgIi0xIiApLmZvY3VzKGZ1bmN0aW9uKCkgew0KCQkJCQkkKCB0aGlzICkuYmx1cigpOw0KCQkJCQlzZWxmLmJ1dHRvbi5mb2N1cygpOw0KCQkJCX0pOw0KDQoJCQkJLy8gQnV0dG9uIGV2ZW50cw0KCQkJCXNlbGYuYnV0dG9uLmJpbmQoICJ2Y2xpY2sga2V5ZG93biIgLCBmdW5jdGlvbiggZXZlbnQgKSB7DQoJCQkJCWlmICggZXZlbnQudHlwZSA9PSAidmNsaWNrIiB8fA0KCQkJCQkJCSBldmVudC5rZXlDb2RlICYmICggZXZlbnQua2V5Q29kZSA9PT0gJC5tb2JpbGUua2V5Q29kZS5FTlRFUiB8fA0KCQkJCQkJCQkJCQkJCQkJCQlldmVudC5rZXlDb2RlID09PSAkLm1vYmlsZS5rZXlDb2RlLlNQQUNFICkgKSB7DQoNCgkJCQkJCXNlbGYub3BlbigpOw0KCQkJCQkJZXZlbnQucHJldmVudERlZmF1bHQoKTsNCgkJCQkJfQ0KCQkJCX0pOw0KDQoJCQkJLy8gRXZlbnRzIGZvciBsaXN0IGl0ZW1zDQoJCQkJc2VsZi5saXN0LmF0dHIoICJyb2xlIiwgImxpc3Rib3giICkNCgkJCQkJLmRlbGVnYXRlKCAiLnVpLWxpPmEiLCAiZm9jdXNpbiIsIGZ1bmN0aW9uKCkgew0KCQkJCQkJJCggdGhpcyApLmF0dHIoICJ0YWJpbmRleCIsICIwIiApOw0KCQkJCQl9KQ0KCQkJCQkuZGVsZWdhdGUoICIudWktbGk+YSIsICJmb2N1c291dCIsIGZ1bmN0aW9uKCkgew0KCQkJCQkJJCggdGhpcyApLmF0dHIoICJ0YWJpbmRleCIsICItMSIgKTsNCgkJCQkJfSkNCgkJCQkJLmRlbGVnYXRlKCAibGk6bm90KC51aS1kaXNhYmxlZCwgLnVpLWxpLWRpdmlkZXIpIiwgImNsaWNrIiwgZnVuY3Rpb24oIGV2ZW50ICkgew0KDQoJCQkJCQkvLyBpbmRleCBvZiBvcHRpb24gdGFnIHRvIGJlIHNlbGVjdGVkDQoJCQkJCQl2YXIgb2xkSW5kZXggPSBzZWxmLnNlbGVjdFsgMCBdLnNlbGVjdGVkSW5kZXgsDQoJCQkJCQkJbmV3SW5kZXggPSBzZWxmLmxpc3QuZmluZCggImxpOm5vdCgudWktbGktZGl2aWRlcikiICkuaW5kZXgoIHRoaXMgKSwNCgkJCQkJCQlvcHRpb24gPSBzZWxmLl9zZWxlY3RPcHRpb25zKCkuZXEoIG5ld0luZGV4IClbIDAgXTsNCg0KCQkJCQkJLy8gdG9nZ2xlIHNlbGVjdGVkIHN0YXR1cyBvbiB0aGUgdGFnIGZvciBtdWx0aSBzZWxlY3RzDQoJCQkJCQlvcHRpb24uc2VsZWN0ZWQgPSBzZWxmLmlzTXVsdGlwbGUgPyAhb3B0aW9uLnNlbGVjdGVkIDogdHJ1ZTsNCg0KCQkJCQkJLy8gdG9nZ2xlIGNoZWNrYm94IGNsYXNzIGZvciBtdWx0aXBsZSBzZWxlY3RzDQoJCQkJCQlpZiAoIHNlbGYuaXNNdWx0aXBsZSApIHsNCgkJCQkJCQkkKCB0aGlzICkuZmluZCggIi51aS1pY29uIiApDQoJCQkJCQkJCS50b2dnbGVDbGFzcyggInVpLWljb24tY2hlY2tib3gtb24iLCBvcHRpb24uc2VsZWN0ZWQgKQ0KCQkJCQkJCQkudG9nZ2xlQ2xhc3MoICJ1aS1pY29uLWNoZWNrYm94LW9mZiIsICFvcHRpb24uc2VsZWN0ZWQgKTsNCgkJCQkJCX0NCg0KCQkJCQkJLy8gdHJpZ2dlciBjaGFuZ2UgaWYgdmFsdWUgY2hhbmdlZA0KCQkJCQkJaWYgKCBzZWxmLmlzTXVsdGlwbGUgfHwgb2xkSW5kZXggIT09IG5ld0luZGV4ICkgew0KCQkJCQkJCXNlbGYuc2VsZWN0LnRyaWdnZXIoICJjaGFuZ2UiICk7DQoJCQkJCQl9DQoNCgkJCQkJCS8vaGlkZSBjdXN0b20gc2VsZWN0IGZvciBzaW5nbGUgc2VsZWN0cyBvbmx5DQoJCQkJCQlpZiAoICFzZWxmLmlzTXVsdGlwbGUgKSB7DQoJCQkJCQkJc2VsZi5jbG9zZSgpOw0KCQkJCQkJfQ0KDQoJCQkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOw0KCQkJCQl9KQ0KCQkJCQkua2V5ZG93bihmdW5jdGlvbiggZXZlbnQgKSB7ICAvL2tleWJvYXJkIGV2ZW50cyBmb3IgbWVudSBpdGVtcw0KCQkJCQkJdmFyIHRhcmdldCA9ICQoIGV2ZW50LnRhcmdldCApLA0KCQkJCQkJCWxpID0gdGFyZ2V0LmNsb3Nlc3QoICJsaSIgKSwNCgkJCQkJCQlwcmV2LCBuZXh0Ow0KDQoJCQkJCQkvLyBzd2l0Y2ggbG9naWMgYmFzZWQgb24gd2hpY2gga2V5IHdhcyBwcmVzc2VkDQoJCQkJCQlzd2l0Y2ggKCBldmVudC5rZXlDb2RlICkgew0KCQkJCQkJCS8vIHVwIG9yIGxlZnQgYXJyb3cga2V5cw0KCQkJCQkJIGNhc2UgMzg6DQoJCQkJCQkJcHJldiA9IGxpLnByZXYoKTsNCg0KCQkJCQkJCS8vIGlmIHRoZXJlJ3MgYSBwcmV2aW91cyBvcHRpb24sIGZvY3VzIGl0DQoJCQkJCQkJaWYgKCBwcmV2Lmxlbmd0aCApIHsNCgkJCQkJCQkJdGFyZ2V0DQoJCQkJCQkJCQkuYmx1cigpDQoJCQkJCQkJCQkuYXR0ciggInRhYmluZGV4IiwgIi0xIiApOw0KDQoJCQkJCQkJCXByZXYuZmluZCggImEiICkuZmlyc3QoKS5mb2N1cygpOw0KCQkJCQkJCX0NCg0KCQkJCQkJCXJldHVybiBmYWxzZTsNCgkJCQkJCQlicmVhazsNCg0KCQkJCQkJCS8vIGRvd24gb3IgcmlnaHQgYXJyb3cga2V5cw0KCQkJCQkJIGNhc2UgNDA6DQoJCQkJCQkJbmV4dCA9IGxpLm5leHQoKTsNCg0KCQkJCQkJCS8vIGlmIHRoZXJlJ3MgYSBuZXh0IG9wdGlvbiwgZm9jdXMgaXQNCgkJCQkJCQlpZiAoIG5leHQubGVuZ3RoICkgew0KCQkJCQkJCQl0YXJnZXQNCgkJCQkJCQkJCS5ibHVyKCkNCgkJCQkJCQkJCS5hdHRyKCAidGFiaW5kZXgiLCAiLTEiICk7DQoNCgkJCQkJCQkJbmV4dC5maW5kKCAiYSIgKS5maXJzdCgpLmZvY3VzKCk7DQoJCQkJCQkJfQ0KDQoJCQkJCQkJcmV0dXJuIGZhbHNlOw0KCQkJCQkJCWJyZWFrOw0KDQoJCQkJCQkJLy8gSWYgZW50ZXIgb3Igc3BhY2UgaXMgcHJlc3NlZCwgdHJpZ2dlciBjbGljaw0KCQkJCQkJIGNhc2UgMTM6DQoJCQkJCQkgY2FzZSAzMjoNCgkJCQkJCQl0YXJnZXQudHJpZ2dlciggImNsaWNrIiApOw0KDQoJCQkJCQkJcmV0dXJuIGZhbHNlOw0KCQkJCQkJCWJyZWFrOw0KCQkJCQkJfQ0KCQkJCQl9KTsNCg0KCQkJCS8vIGJ1dHRvbiByZWZvY3VzIGVuc3VyZXMgcHJvcGVyIGhlaWdodCBjYWxjdWxhdGlvbg0KCQkJCS8vIGJ5IHJlbW92aW5nIHRoZSBpbmxpbmUgc3R5bGUgYW5kIGVuc3VyaW5nIHBhZ2UgaW5jbHVzaW9uDQoJCQkJc2VsZi5tZW51UGFnZS5iaW5kKCAicGFnZWhpZGUiLCBmdW5jdGlvbigpIHsNCgkJCQkJc2VsZi5saXN0LmFwcGVuZFRvKCBzZWxmLmxpc3Rib3ggKTsNCgkJCQkJc2VsZi5fZm9jdXNCdXR0b24oKTsNCg0KCQkJCQkvLyBUT0RPIGNlbnRyYWxpemUgcGFnZSByZW1vdmFsIGJpbmRpbmcgLyBoYW5kbGluZyBpbiB0aGUgcGFnZSBwbHVnaW4uDQoJCQkJCS8vIFN1Z2dlc3Rpb24gZnJvbSBAamJsYXMgdG8gZG8gcmVmY291bnRpbmcNCgkJCQkJLy8NCgkJCQkJLy8gVE9ETyBleHRyZW1lbHkgY29uZnVzaW5nIGRlcGVuZGVuY3kgb24gdGhlIG9wZW4gbWV0aG9kIHdoZXJlIHRoZSBwYWdlaGlkZS5yZW1vdmUNCgkJCQkJLy8gYmluZGluZ3MgYXJlIHN0cmlwcGVkIHRvIHByZXZlbnQgdGhlIHBhcmVudCBwYWdlIGZyb20gZGlzYXBwZWFyaW5nLiBUaGUgd2F5DQoJCQkJCS8vIHdlJ3JlIGtlZXBpbmcgcGFnZXMgaW4gdGhlIERPTSByaWdodCBub3cgc3Vja3MNCgkJCQkJLy8NCgkJCQkJLy8gcmViaW5kIHRoZSBwYWdlIHJlbW92ZSB0aGF0IHdhcyB1bmJvdW5kIGluIHRoZSBvcGVuIGZ1bmN0aW9uDQoJCQkJCS8vIHRvIGFsbG93IGZvciB0aGUgcGFyZW50IHBhZ2UgcmVtb3ZhbCBmcm9tIGFjdGlvbnMgb3RoZXIgdGhhbiB0aGUgdXNlDQoJCQkJCS8vIG9mIGEgZGlhbG9nIHNpemVkIGN1c3RvbSBzZWxlY3QNCgkJCQkJLy8NCgkJCQkJLy8gZG9pbmcgdGhpcyBoZXJlIHByb3ZpZGVzIGZvciB0aGUgYmFjayBidXR0b24gb24gdGhlIGN1c3RvbSBzZWxlY3QgZGlhbG9nDQoJCQkJCSQubW9iaWxlLl9iaW5kUGFnZVJlbW92ZS5jYWxsKCBzZWxmLnRoaXNQYWdlICk7DQoJCQkJfSk7DQoNCgkJCQkvLyBFdmVudHMgb24gInNjcmVlbiIgb3ZlcmxheQ0KCQkJCXNlbGYuc2NyZWVuLmJpbmQoICJ2Y2xpY2siLCBmdW5jdGlvbiggZXZlbnQgKSB7DQoJCQkJCXNlbGYuY2xvc2UoKTsNCgkJCQl9KTsNCg0KCQkJCS8vIENsb3NlIGJ1dHRvbiBvbiBzbWFsbCBvdmVybGF5cw0KCQkJCXNlbGYuaGVhZGVyQ2xvc2UuY2xpY2soIGZ1bmN0aW9uKCkgew0KCQkJCQlpZiAoIHNlbGYubWVudVR5cGUgPT0gIm92ZXJsYXkiICkgew0KCQkJCQkJc2VsZi5jbG9zZSgpOw0KCQkJCQkJcmV0dXJuIGZhbHNlOw0KCQkJCQl9DQoJCQkJfSk7DQoNCgkJCQkvLyB0cmFjayB0aGlzIGRlcGVuZGVuY3kgc28gdGhhdCB3aGVuIHRoZSBwYXJlbnQgcGFnZQ0KCQkJCS8vIGlzIHJlbW92ZWQgb24gcGFnZWhpZGUgaXQgd2lsbCBhbHNvIHJlbW92ZSB0aGUgbWVudXBhZ2UNCgkJCQlzZWxmLnRoaXNQYWdlLmFkZERlcGVuZGVudHMoIHRoaXMubWVudVBhZ2UgKTsNCgkJCX0sDQoNCgkJCV9pc1JlYnVpbGRSZXF1aXJlZDogZnVuY3Rpb24oKSB7DQoJCQkJdmFyIGxpc3QgPSB0aGlzLmxpc3QuZmluZCggImxpIiApLA0KCQkJCQlvcHRpb25zID0gdGhpcy5fc2VsZWN0T3B0aW9ucygpOw0KDQoJCQkJLy8gVE9ETyBleGNlZWRpbmdseSBuYWl2ZSBtZXRob2QgdG8gZGV0ZXJtaW5lIGRpZmZlcmVuY2UNCgkJCQkvLyBpZ25vcmVzIHZhbHVlIGNoYW5nZXMgZXRjIGluIGZhdm9yIG9mIGEgZm9yY2VkUmVidWlsZA0KCQkJCS8vIGZyb20gdGhlIHVzZXIgaW4gdGhlIHJlZnJlc2ggbWV0aG9kDQoJCQkJcmV0dXJuIG9wdGlvbnMudGV4dCgpICE9PSBsaXN0LnRleHQoKTsNCgkJCX0sDQoNCgkJCXJlZnJlc2g6IGZ1bmN0aW9uKCBmb3JjZVJlYnVpbGQgLCBmb28gKXsNCgkJCQl2YXIgc2VsZiA9IHRoaXMsDQoJCQkJc2VsZWN0ID0gdGhpcy5lbGVtZW50LA0KCQkJCWlzTXVsdGlwbGUgPSB0aGlzLmlzTXVsdGlwbGUsDQoJCQkJb3B0aW9ucyA9IHRoaXMuX3NlbGVjdE9wdGlvbnMoKSwNCgkJCQlzZWxlY3RlZCA9IHRoaXMuc2VsZWN0ZWQoKSwNCgkJCQkvLyByZXR1cm4gYW4gYXJyYXkgb2YgYWxsIHNlbGVjdGVkIGluZGV4J3MNCgkJCQlpbmRpY2llcyA9IHRoaXMuc2VsZWN0ZWRJbmRpY2VzKCk7DQoNCgkJCQlpZiAoICBmb3JjZVJlYnVpbGQgfHwgdGhpcy5faXNSZWJ1aWxkUmVxdWlyZWQoKSApIHsNCgkJCQkJc2VsZi5fYnVpbGRMaXN0KCk7DQoJCQkJfQ0KDQoJCQkJc2VsZi5zZXRCdXR0b25UZXh0KCk7DQoJCQkJc2VsZi5zZXRCdXR0b25Db3VudCgpOw0KDQoJCQkJc2VsZi5saXN0LmZpbmQoICJsaTpub3QoLnVpLWxpLWRpdmlkZXIpIiApDQoJCQkJCS5yZW1vdmVDbGFzcyggJC5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MgKQ0KCQkJCQkuYXR0ciggImFyaWEtc2VsZWN0ZWQiLCBmYWxzZSApDQoJCQkJCS5lYWNoKGZ1bmN0aW9uKCBpICkgew0KDQoJCQkJCQlpZiAoICQuaW5BcnJheSggaSwgaW5kaWNpZXMgKSA+IC0xICkgew0KCQkJCQkJCXZhciBpdGVtID0gJCggdGhpcyApOw0KDQoJCQkJCQkJLy8gQXJpYSBzZWxlY3RlZCBhdHRyDQoJCQkJCQkJaXRlbS5hdHRyKCAiYXJpYS1zZWxlY3RlZCIsIHRydWUgKTsNCg0KCQkJCQkJCS8vIE11bHRpcGxlIHNlbGVjdHM6IGFkZCB0aGUgIm9uIiBjaGVja2JveCBzdGF0ZSB0byB0aGUgaWNvbg0KCQkJCQkJCWlmICggc2VsZi5pc011bHRpcGxlICkgew0KCQkJCQkJCQlpdGVtLmZpbmQoICIudWktaWNvbiIgKS5yZW1vdmVDbGFzcyggInVpLWljb24tY2hlY2tib3gtb2ZmIiApLmFkZENsYXNzKCAidWktaWNvbi1jaGVja2JveC1vbiIgKTsNCgkJCQkJCQl9IGVsc2Ugew0KCQkJCQkJCQlpdGVtLmFkZENsYXNzKCAkLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyApOw0KCQkJCQkJCX0NCgkJCQkJCX0NCgkJCQkJfSk7DQoJCQl9LA0KDQoJCQljbG9zZTogZnVuY3Rpb24oKSB7DQoJCQkJaWYgKCB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgfHwgIXRoaXMuaXNPcGVuICkgew0KCQkJCQlyZXR1cm47DQoJCQkJfQ0KDQoJCQkJdmFyIHNlbGYgPSB0aGlzOw0KDQoJCQkJaWYgKCBzZWxmLm1lbnVUeXBlID09ICJwYWdlIiApIHsNCgkJCQkJLy8gZG9lc24ndCBzb2x2ZSB0aGUgcG9zc2libGUgaXNzdWUgd2l0aCBjYWxsaW5nIGNoYW5nZSBwYWdlDQoJCQkJCS8vIHdoZXJlIHRoZSBvYmplY3RzIGRvbid0IGRlZmluZSBkYXRhIHVybHMgd2hpY2ggcHJldmVudHMgZGlhbG9nIGtleQ0KCQkJCQkvLyBzdHJpcHBpbmcgLSBjaGFuZ2VQYWdlIGhhcyBpbmNvbWluZyByZWZhY3Rvcg0KCQkJCQl3aW5kb3cuaGlzdG9yeS5iYWNrKCk7DQoJCQkJfSBlbHNlIHsNCgkJCQkJc2VsZi5zY3JlZW4uYWRkQ2xhc3MoICJ1aS1zY3JlZW4taGlkZGVuIiApOw0KCQkJCQlzZWxmLmxpc3Rib3guYWRkQ2xhc3MoICJ1aS1zZWxlY3RtZW51LWhpZGRlbiIgKS5yZW1vdmVBdHRyKCAic3R5bGUiICkucmVtb3ZlQ2xhc3MoICJpbiIgKTsNCgkJCQkJc2VsZi5saXN0LmFwcGVuZFRvKCBzZWxmLmxpc3Rib3ggKTsNCgkJCQkJc2VsZi5fZm9jdXNCdXR0b24oKTsNCgkJCQl9DQoNCgkJCQkvLyBhbGxvdyB0aGUgZGlhbG9nIHRvIGJlIGNsb3NlZCBhZ2Fpbg0KCQkJCXNlbGYuaXNPcGVuID0gZmFsc2U7DQoJCQl9LA0KDQoJCQlvcGVuOiBmdW5jdGlvbigpIHsNCgkJCQlpZiAoIHRoaXMub3B0aW9ucy5kaXNhYmxlZCApIHsNCgkJCQkJcmV0dXJuOw0KCQkJCX0NCg0KCQkJCXZhciBzZWxmID0gdGhpcywNCgkJCQkJbWVudUhlaWdodCA9IHNlbGYubGlzdC5wYXJlbnQoKS5vdXRlckhlaWdodCgpLA0KCQkJCQltZW51V2lkdGggPSBzZWxmLmxpc3QucGFyZW50KCkub3V0ZXJXaWR0aCgpLA0KCQkJCQlhY3RpdmVQYWdlID0gJCggIi51aS1wYWdlLWFjdGl2ZSIgKSwNCgkJCQkJdE92ZXJmbG93ID0gJC5zdXBwb3J0LnRvdWNoT3ZlcmZsb3cgJiYgJC5tb2JpbGUudG91Y2hPdmVyZmxvd0VuYWJsZWQsDQoJCQkJCXRTY3JvbGxFbGVtID0gYWN0aXZlUGFnZS5pcyggIi51aS1uYXRpdmUtZml4ZWQiICkgPyBhY3RpdmVQYWdlLmZpbmQoICIudWktY29udGVudCIgKSA6IGFjdGl2ZVBhZ2U7DQoJCQkJCXNjcm9sbFRvcCA9IHRPdmVyZmxvdyA/IHRTY3JvbGxFbGVtLnNjcm9sbFRvcCgpIDogJCggd2luZG93ICkuc2Nyb2xsVG9wKCksDQoJCQkJCWJ0bk9mZnNldCA9IHNlbGYuYnV0dG9uLm9mZnNldCgpLnRvcCwNCgkJCQkJc2NyZWVuSGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0LA0KCQkJCQlzY3JlZW5XaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoOw0KDQoJCQkJLy9hZGQgYWN0aXZlIGNsYXNzIHRvIGJ1dHRvbg0KCQkJCXNlbGYuYnV0dG9uLmFkZENsYXNzKCAkLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyApOw0KDQoJCQkJLy9yZW1vdmUgYWZ0ZXIgZGVsYXkNCgkJCQlzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHsNCgkJCQkJc2VsZi5idXR0b24ucmVtb3ZlQ2xhc3MoICQubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzICk7DQoJCQkJfSwgMzAwKTsNCg0KCQkJCWZ1bmN0aW9uIGZvY3VzTWVudUl0ZW0oKSB7DQoJCQkJCXNlbGYubGlzdC5maW5kKCAkLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyApLmZvY3VzKCk7DQoJCQkJfQ0KDQoJCQkJaWYgKCBtZW51SGVpZ2h0ID4gc2NyZWVuSGVpZ2h0IC0gODAgfHwgISQuc3VwcG9ydC5zY3JvbGxUb3AgKSB7DQoJCQkJCS8vIHByZXZlbnQgdGhlIHBhcmVudCBwYWdlIGZyb20gYmVpbmcgcmVtb3ZlZCBmcm9tIHRoZSBET00sDQoJCQkJCS8vIG90aGVyd2lzZSB0aGUgcmVzdWx0cyBvZiBzZWxlY3RpbmcgYSBsaXN0IGl0ZW0gaW4gdGhlIGRpYWxvZw0KCQkJCQkvLyBmYWxsIGludG8gYSBibGFjayBob2xlDQoJCQkJCXNlbGYudGhpc1BhZ2UudW5iaW5kKCAicGFnZWhpZGUucmVtb3ZlIiApOw0KDQoJCQkJCS8vZm9yIFdlYk9TL09wZXJhIE1pbmkgKHNldCBsYXN0c2Nyb2xsIHVzaW5nIGJ1dHRvbiBvZmZzZXQpDQoJCQkJCWlmICggc2Nyb2xsVG9wID09IDAgJiYgYnRuT2Zmc2V0ID4gc2NyZWVuSGVpZ2h0ICkgew0KCQkJCQkJc2VsZi50aGlzUGFnZS5vbmUoICJwYWdlaGlkZSIsIGZ1bmN0aW9uKCkgew0KCQkJCQkJCSQoIHRoaXMgKS5qcW1EYXRhKCAibGFzdFNjcm9sbCIsIGJ0bk9mZnNldCApOw0KCQkJCQkJfSk7DQoJCQkJCX0NCg0KCQkJCQlzZWxmLm1lbnVQYWdlLm9uZSggInBhZ2VzaG93IiwgZnVuY3Rpb24oKSB7DQoJCQkJCQkvLyBzaWxlbnRTY3JvbGwoKSBpcyBjYWxsZWQgd2hlbmV2ZXIgYSBwYWdlIGlzIHNob3duIHRvIHJlc3RvcmUNCgkJCQkJCS8vIGFueSBwcmV2aW91cyBzY3JvbGwgcG9zaXRpb24gdGhlIHBhZ2UgbWF5IGhhdmUgaGFkLiBXZSBuZWVkIHRvDQoJCQkJCQkvLyB3YWl0IGZvciB0aGUgInNpbGVudHNjcm9sbCIgZXZlbnQgYmVmb3JlIHNldHRpbmcgZm9jdXMgdG8gYXZvaWQNCgkJCQkJCS8vIHRoZSBicm93c2VyInMgImZlYXR1cmUiIHdoaWNoIG9mZnNldHMgcmVuZGVyaW5nIHRvIG1ha2Ugc3VyZQ0KCQkJCQkJLy8gd2hhdGV2ZXIgaGFzIGZvY3VzIGlzIGluIHZpZXcuDQoJCQkJCQkkKCB3aW5kb3cgKS5vbmUoICJzaWxlbnRzY3JvbGwiLCBmdW5jdGlvbigpIHsNCgkJCQkJCQlmb2N1c01lbnVJdGVtKCk7DQoJCQkJCQl9KTsNCg0KCQkJCQkJc2VsZi5pc09wZW4gPSB0cnVlOw0KCQkJCQl9KTsNCg0KCQkJCQlzZWxmLm1lbnVUeXBlID0gInBhZ2UiOw0KCQkJCQlzZWxmLm1lbnVQYWdlQ29udGVudC5hcHBlbmQoIHNlbGYubGlzdCApOw0KCQkJCQlzZWxmLm1lbnVQYWdlLmZpbmQoImRpdiAudWktdGl0bGUiKS50ZXh0KHNlbGYubGFiZWwudGV4dCgpKTsNCgkJCQkJJC5tb2JpbGUuY2hhbmdlUGFnZSggc2VsZi5tZW51UGFnZSwgew0KCQkJCQkJdHJhbnNpdGlvbjogJC5tb2JpbGUuZGVmYXVsdERpYWxvZ1RyYW5zaXRpb24NCgkJCQkJfSk7DQoJCQkJfSBlbHNlIHsNCgkJCQkJc2VsZi5tZW51VHlwZSA9ICJvdmVybGF5IjsNCg0KCQkJCQlzZWxmLnNjcmVlbi5oZWlnaHQoICQoZG9jdW1lbnQpLmhlaWdodCgpICkNCgkJCQkJCS5yZW1vdmVDbGFzcyggInVpLXNjcmVlbi1oaWRkZW4iICk7DQoNCgkJCQkJLy8gVHJ5IGFuZCBjZW50ZXIgdGhlIG92ZXJsYXkgb3ZlciB0aGUgYnV0dG9uDQoJCQkJCXZhciByb29tdG9wID0gYnRuT2Zmc2V0IC0gc2Nyb2xsVG9wLA0KCQkJCQkJcm9vbWJvdCA9IHNjcm9sbFRvcCArIHNjcmVlbkhlaWdodCAtIGJ0bk9mZnNldCwNCgkJCQkJCWhhbGZoZWlnaHQgPSBtZW51SGVpZ2h0IC8gMiwNCgkJCQkJCW1heHdpZHRoID0gcGFyc2VGbG9hdCggc2VsZi5saXN0LnBhcmVudCgpLmNzcyggIm1heC13aWR0aCIgKSApLA0KCQkJCQkJbmV3dG9wLCBuZXdsZWZ0Ow0KDQoJCQkJCWlmICggcm9vbXRvcCA+IG1lbnVIZWlnaHQgLyAyICYmIHJvb21ib3QgPiBtZW51SGVpZ2h0IC8gMiApIHsNCgkJCQkJCW5ld3RvcCA9IGJ0bk9mZnNldCArICggc2VsZi5idXR0b24ub3V0ZXJIZWlnaHQoKSAvIDIgKSAtIGhhbGZoZWlnaHQ7DQoJCQkJCX0gZWxzZSB7DQoJCQkJCQkvLyAzMHB4IHRvbGVyYW5jZSBvZmYgdGhlIGVkZ2VzDQoJCQkJCQluZXd0b3AgPSByb29tdG9wID4gcm9vbWJvdCA/IHNjcm9sbFRvcCArIHNjcmVlbkhlaWdodCAtIG1lbnVIZWlnaHQgLSAzMCA6IHNjcm9sbFRvcCArIDMwOw0KCQkJCQl9DQoNCgkJCQkJLy8gSWYgdGhlIG1lbnV3aWR0aCBpcyBzbWFsbGVyIHRoYW4gdGhlIHNjcmVlbiBjZW50ZXIgaXMNCgkJCQkJaWYgKCBtZW51V2lkdGggPCBtYXh3aWR0aCApIHsNCgkJCQkJCW5ld2xlZnQgPSAoIHNjcmVlbldpZHRoIC0gbWVudVdpZHRoICkgLyAyOw0KCQkJCQl9IGVsc2Ugew0KDQoJCQkJCQkvL290aGVyd2lzZSBpbnN1cmUgYSA+PSAzMHB4IG9mZnNldCBmcm9tIHRoZSBsZWZ0DQoJCQkJCQluZXdsZWZ0ID0gc2VsZi5idXR0b24ub2Zmc2V0KCkubGVmdCArIHNlbGYuYnV0dG9uLm91dGVyV2lkdGgoKSAvIDIgLSBtZW51V2lkdGggLyAyOw0KDQoJCQkJCQkvLyAzMHB4IHRvbGVyYW5jZSBvZmYgdGhlIGVkZ2VzDQoJCQkJCQlpZiAoIG5ld2xlZnQgPCAzMCApIHsNCgkJCQkJCQluZXdsZWZ0ID0gMzA7DQoJCQkJCQl9IGVsc2UgaWYgKCAobmV3bGVmdCArIG1lbnVXaWR0aCkgPiBzY3JlZW5XaWR0aCApIHsNCgkJCQkJCQluZXdsZWZ0ID0gc2NyZWVuV2lkdGggLSBtZW51V2lkdGggLSAzMDsNCgkJCQkJCX0NCgkJCQkJfQ0KDQoJCQkJCXNlbGYubGlzdGJveC5hcHBlbmQoIHNlbGYubGlzdCApDQoJCQkJCQkucmVtb3ZlQ2xhc3MoICJ1aS1zZWxlY3RtZW51LWhpZGRlbiIgKQ0KCQkJCQkJLmNzcyh7DQoJCQkJCQkJdG9wOiBuZXd0b3AsDQoJCQkJCQkJbGVmdDogbmV3bGVmdA0KCQkJCQkJfSkNCgkJCQkJCS5hZGRDbGFzcyggImluIiApOw0KDQoJCQkJCWZvY3VzTWVudUl0ZW0oKTsNCg0KCQkJCQkvLyBkdXBsaWNhdGUgd2l0aCB2YWx1ZSBzZXQgaW4gcGFnZSBzaG93IGZvciBkaWFsb2cgc2l6ZWQgc2VsZWN0cw0KCQkJCQlzZWxmLmlzT3BlbiA9IHRydWU7DQoJCQkJfQ0KCQkJfSwNCg0KCQkJX2J1aWxkTGlzdDogZnVuY3Rpb24oKSB7DQoJCQkJdmFyIHNlbGYgPSB0aGlzLA0KCQkJCQlvID0gdGhpcy5vcHRpb25zLA0KCQkJCQlwbGFjZWhvbGRlciA9IHRoaXMucGxhY2Vob2xkZXIsDQoJCQkJCW9wdGdyb3VwcyA9IFtdLA0KCQkJCQlsaXMgPSBbXSwNCgkJCQkJZGF0YUljb24gPSBzZWxmLmlzTXVsdGlwbGUgPyAiY2hlY2tib3gtb2ZmIiA6ICJmYWxzZSI7DQoNCgkJCQlzZWxmLmxpc3QuZW1wdHkoKS5maWx0ZXIoICIudWktbGlzdHZpZXciICkubGlzdHZpZXcoICJkZXN0cm95IiApOw0KDQoJCQkJLy8gUG9wdWxhdGUgbWVudSB3aXRoIG9wdGlvbnMgZnJvbSBzZWxlY3QgZWxlbWVudA0KCQkJCXNlbGYuc2VsZWN0LmZpbmQoICJvcHRpb24iICkuZWFjaCggZnVuY3Rpb24oIGkgKSB7DQoNCgkJCQkJdmFyICR0aGlzID0gJCggdGhpcyApLA0KCQkJCQkJJHBhcmVudCA9ICR0aGlzLnBhcmVudCgpLA0KCQkJCQkJdGV4dCA9ICR0aGlzLmdldEVuY29kZWRUZXh0KCksDQoJCQkJCQlhbmNob3IgPSAiPGEgaHJlZj0nIyc+IisgdGV4dCArIjwvYT4iLA0KCQkJCQkJY2xhc3NlcyA9IFtdLA0KCQkJCQkJZXh0cmFBdHRycyA9IFtdOw0KDQoJCQkJCS8vIEFyZSB3ZSBpbnNpZGUgYW4gb3B0Z3JvdXA/DQoJCQkJCWlmICggJHBhcmVudC5pcyggIm9wdGdyb3VwIiApICkgew0KCQkJCQkJdmFyIG9wdExhYmVsID0gJHBhcmVudC5hdHRyKCAibGFiZWwiICk7DQoNCgkJCQkJCS8vIGhhcyB0aGlzIG9wdGdyb3VwIGFscmVhZHkgYmVlbiBidWlsdCB5ZXQ/DQoJCQkJCQlpZiAoICQuaW5BcnJheSggb3B0TGFiZWwsIG9wdGdyb3VwcyApID09PSAtMSApIHsNCgkJCQkJCQlsaXMucHVzaCggIjxsaSBkYXRhLSIgKyAkLm1vYmlsZS5ucyArICJyb2xlPSdsaXN0LWRpdmlkZXInPiIrIG9wdExhYmVsICsiPC9saT4iICk7DQoJCQkJCQkJb3B0Z3JvdXBzLnB1c2goIG9wdExhYmVsICk7DQoJCQkJCQl9DQoJCQkJCX0NCg0KCQkJCQkvLyBGaW5kIHBsYWNlaG9sZGVyIHRleHQNCgkJCQkJLy8gVE9ETzogQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHVzZSBnZXRBdHRyaWJ1dGU/IF5SVw0KCQkJCQlpZiAoICF0aGlzLmdldEF0dHJpYnV0ZSggInZhbHVlIiApIHx8IHRleHQubGVuZ3RoID09IDAgfHwgJHRoaXMuanFtRGF0YSggInBsYWNlaG9sZGVyIiApICkgew0KCQkJCQkJaWYgKCBvLmhpZGVQbGFjZWhvbGRlck1lbnVJdGVtcyApIHsNCgkJCQkJCQljbGFzc2VzLnB1c2goICJ1aS1zZWxlY3RtZW51LXBsYWNlaG9sZGVyIiApOw0KCQkJCQkJfQ0KCQkJCQkJcGxhY2Vob2xkZXIgPSBzZWxmLnBsYWNlaG9sZGVyID0gdGV4dDsNCgkJCQkJfQ0KDQoJCQkJCS8vIHN1cHBvcnQgZGlzYWJsZWQgb3B0aW9uIHRhZ3MNCgkJCQkJaWYgKCB0aGlzLmRpc2FibGVkICkgew0KCQkJCQkJY2xhc3Nlcy5wdXNoKCAidWktZGlzYWJsZWQiICk7DQoJCQkJCQlleHRyYUF0dHJzLnB1c2goICJhcmlhLWRpc2FibGVkPSd0cnVlJyIgKTsNCgkJCQkJfQ0KDQoJCQkJCWxpcy5wdXNoKCAiPGxpIGRhdGEtIiArICQubW9iaWxlLm5zICsgIm9wdGlvbi1pbmRleD0nIiArIGkgKyAiJyBkYXRhLSIgKyAkLm1vYmlsZS5ucyArICJpY29uPSciKyBkYXRhSWNvbiArIicgY2xhc3M9JyIrIGNsYXNzZXMuam9pbigiICIpICsgIicgIiArIGV4dHJhQXR0cnMuam9pbigiICIpICsiPiIrIGFuY2hvciArIjwvbGk+IiApOw0KCQkJCX0pOw0KDQoJCQkJc2VsZi5saXN0Lmh0bWwoIGxpcy5qb2luKCIgIikgKTsNCg0KCQkJCXNlbGYubGlzdC5maW5kKCAibGkiICkNCgkJCQkJLmF0dHIoeyAicm9sZSI6ICJvcHRpb24iLCAidGFiaW5kZXgiOiAiLTEiIH0pDQoJCQkJCS5maXJzdCgpLmF0dHIoICJ0YWJpbmRleCIsICIwIiApOw0KDQoJCQkJLy8gSGlkZSBoZWFkZXIgY2xvc2UgbGluayBmb3Igc2luZ2xlIHNlbGVjdHMNCgkJCQlpZiAoICF0aGlzLmlzTXVsdGlwbGUgKSB7DQoJCQkJCXRoaXMuaGVhZGVyQ2xvc2UuaGlkZSgpOw0KCQkJCX0NCg0KCQkJCS8vIEhpZGUgaGVhZGVyIGlmIGl0J3Mgbm90IGEgbXVsdGlzZWxlY3QgYW5kIHRoZXJlJ3Mgbm8gcGxhY2Vob2xkZXINCgkJCQlpZiAoICF0aGlzLmlzTXVsdGlwbGUgJiYgIXBsYWNlaG9sZGVyLmxlbmd0aCApIHsNCgkJCQkJdGhpcy5oZWFkZXIuaGlkZSgpOw0KCQkJCX0gZWxzZSB7DQoJCQkJCXRoaXMuaGVhZGVyVGl0bGUudGV4dCggdGhpcy5wbGFjZWhvbGRlciApOw0KCQkJCX0NCg0KCQkJCS8vIE5vdyBwb3B1bGF0ZWQsIGNyZWF0ZSBsaXN0dmlldw0KCQkJCXNlbGYubGlzdC5saXN0dmlldygpOw0KCQkJfSwNCg0KCQkJX2J1dHRvbjogZnVuY3Rpb24oKXsNCgkJCQlyZXR1cm4gJCggIjxhPiIsIHsNCgkJCQkJImhyZWYiOiAiIyIsDQoJCQkJCSJyb2xlIjogImJ1dHRvbiIsDQoJCQkJCS8vIFRPRE8gdmFsdWUgaXMgdW5kZWZpbmVkIGF0IGNyZWF0aW9uDQoJCQkJCSJpZCI6IHRoaXMuYnV0dG9uSWQsDQoJCQkJCSJhcmlhLWhhc3BvcHVwIjogInRydWUiLA0KDQoJCQkJCS8vIFRPRE8gdmFsdWUgaXMgdW5kZWZpbmVkIGF0IGNyZWF0aW9uDQoJCQkJCSJhcmlhLW93bnMiOiB0aGlzLm1lbnVJZA0KCQkJCX0pOw0KCQkJfQ0KCQl9KTsNCgl9Ow0KDQoJJCggInNlbGVjdCIgKS5saXZlKCAic2VsZWN0bWVudWJlZm9yZWNyZWF0ZSIsIGZ1bmN0aW9uKCl7DQoJCXZhciBzZWxlY3RtZW51V2lkZ2V0ID0gJCggdGhpcyApLmRhdGEoICJzZWxlY3RtZW51IiApOw0KDQoJCWlmKCAhc2VsZWN0bWVudVdpZGdldC5vcHRpb25zLm5hdGl2ZU1lbnUgKXsNCgkJCWV4dGVuZFNlbGVjdCggc2VsZWN0bWVudVdpZGdldCApOw0KCQl9DQoJfSk7DQp9KSggalF1ZXJ5ICk7DQovKg0KKiAic2VsZWN0bWVudSIgcGx1Z2luDQoqLw0KDQooZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHsNCg0KJC53aWRnZXQoICJtb2JpbGUuc2VsZWN0bWVudSIsICQubW9iaWxlLndpZGdldCwgew0KCW9wdGlvbnM6IHsNCgkJdGhlbWU6IG51bGwsDQoJCWRpc2FibGVkOiBmYWxzZSwNCgkJaWNvbjogImFycm93LWQiLA0KCQlpY29ucG9zOiAicmlnaHQiLA0KCQlpbmxpbmU6IG51bGwsDQoJCWNvcm5lcnM6IHRydWUsDQoJCXNoYWRvdzogdHJ1ZSwNCgkJaWNvbnNoYWRvdzogdHJ1ZSwNCgkJbWVudVBhZ2VUaGVtZTogImIiLA0KCQlvdmVybGF5VGhlbWU6ICJhIiwNCgkJaGlkZVBsYWNlaG9sZGVyTWVudUl0ZW1zOiB0cnVlLA0KCQljbG9zZVRleHQ6ICJDbG9zZSIsDQoJCW5hdGl2ZU1lbnU6IHRydWUsDQoJCWluaXRTZWxlY3RvcjogInNlbGVjdDpub3QoOmpxbURhdGEocm9sZT0nc2xpZGVyJykpIg0KCX0sDQoNCglfYnV0dG9uOiBmdW5jdGlvbigpew0KCQlyZXR1cm4gJCggIjxkaXYvPiIgKTsNCgl9LA0KDQoJX3NldERpc2FibGVkOiBmdW5jdGlvbiggdmFsdWUgKSB7DQoJCXRoaXMuZWxlbWVudC5hdHRyKCAiZGlzYWJsZWQiLCB2YWx1ZSApOw0KCQl0aGlzLmJ1dHRvbi5hdHRyKCAiYXJpYS1kaXNhYmxlZCIsIHZhbHVlICk7DQoJCXJldHVybiB0aGlzLl9zZXRPcHRpb24oICJkaXNhYmxlZCIsIHZhbHVlICk7DQoJfSwNCg0KCV9mb2N1c0J1dHRvbiA6IGZ1bmN0aW9uKCkgew0KCQl2YXIgc2VsZiA9IHRoaXM7DQoNCgkJc2V0VGltZW91dCggZnVuY3Rpb24oKSB7DQoJCQlzZWxmLmJ1dHRvbi5mb2N1cygpOw0KCQl9LCA0MCk7DQoJfSwNCg0KICBfc2VsZWN0T3B0aW9uczogZnVuY3Rpb24oKSB7DQogICAgcmV0dXJuIHRoaXMuc2VsZWN0LmZpbmQoICJvcHRpb24iICk7DQogIH0sDQoNCgkvLyBzZXR1cCBpdGVtcyB0aGF0IGFyZSBnZW5lcmFsbHkgbmVjZXNzYXJ5IGZvciBzZWxlY3QgbWVudSBleHRlbnNpb24NCglfcHJlRXh0ZW5zaW9uOiBmdW5jdGlvbigpew0KCQl0aGlzLnNlbGVjdCA9IHRoaXMuZWxlbWVudC53cmFwKCAiPGRpdiBjbGFzcz0ndWktc2VsZWN0Jz4iICk7DQoJCXRoaXMuc2VsZWN0SUQgID0gdGhpcy5zZWxlY3QuYXR0ciggImlkIiApOw0KCQl0aGlzLmxhYmVsID0gJCggImxhYmVsW2Zvcj0nIisgdGhpcy5zZWxlY3RJRCArIiddIiApLmFkZENsYXNzKCAidWktc2VsZWN0IiApOw0KCQl0aGlzLmlzTXVsdGlwbGUgPSB0aGlzLnNlbGVjdFsgMCBdLm11bHRpcGxlOw0KCQlpZiAoICF0aGlzLm9wdGlvbnMudGhlbWUgKSB7DQoJCQl0aGlzLm9wdGlvbnMudGhlbWUgPSAkLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSggdGhpcy5zZWxlY3QsICJjIiApOw0KCQl9DQoJfSwNCg0KCV9jcmVhdGU6IGZ1bmN0aW9uKCkgew0KCQl0aGlzLl9wcmVFeHRlbnNpb24oKTsNCg0KIAkJLy8gQWxsb3dzIGZvciBleHRlbnNpb24gb2YgdGhlIG5hdGl2ZSBzZWxlY3QgZm9yIGN1c3RvbSBzZWxlY3RzIGFuZCBvdGhlciBwbHVnaW5zDQoJCS8vIHNlZSBzZWxlY3QuY3VzdG9tIGZvciBleGFtcGxlIGV4dGVuc2lvbg0KCQkvLyBUT0RPIGV4cGxvcmUgcGx1Z2luIHJlZ2lzdHJhdGlvbg0KCQl0aGlzLl90cmlnZ2VyKCAiYmVmb3JlQ3JlYXRlIiApOw0KDQoJCXRoaXMuYnV0dG9uID0gdGhpcy5fYnV0dG9uKCk7DQoNCgkJdmFyIHNlbGYgPSB0aGlzLA0KDQoNCgkJCW9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsDQoNCgkJCS8vIElFIHRocm93cyBhbiBleGNlcHRpb24gYXQgb3B0aW9ucy5pdGVtKCkgZnVuY3Rpb24gd2hlbg0KCQkJLy8gdGhlcmUgaXMgbm8gc2VsZWN0ZWQgaXRlbQ0KCQkJLy8gc2VsZWN0IGZpcnN0IGluIHRoaXMgY2FzZQ0KCQkJc2VsZWN0ZWRJbmRleCA9IHRoaXMuc2VsZWN0WyAwIF0uc2VsZWN0ZWRJbmRleCA9PSAtMSA/IDAgOiB0aGlzLnNlbGVjdFsgMCBdLnNlbGVjdGVkSW5kZXgsDQoNCgkJCS8vIFRPRE8gdmFsdWVzIGJ1dHRvbklkIGFuZCBtZW51SWQgYXJlIHVuZGVmaW5lZCBoZXJlDQoJCQlidXR0b24gPSB0aGlzLmJ1dHRvbg0KCQkJCS50ZXh0KCAkKCB0aGlzLnNlbGVjdFsgMCBdLm9wdGlvbnMuaXRlbSggc2VsZWN0ZWRJbmRleCApICkudGV4dCgpICkNCgkJCQkuaW5zZXJ0QmVmb3JlKCB0aGlzLnNlbGVjdCApDQoJCQkJLmJ1dHRvbk1hcmt1cCggew0KCQkJCQl0aGVtZTogb3B0aW9ucy50aGVtZSwNCgkJCQkJaWNvbjogb3B0aW9ucy5pY29uLA0KCQkJCQlpY29ucG9zOiBvcHRpb25zLmljb25wb3MsDQoJCQkJCWlubGluZTogb3B0aW9ucy5pbmxpbmUsDQoJCQkJCWNvcm5lcnM6IG9wdGlvbnMuY29ybmVycywNCgkJCQkJc2hhZG93OiBvcHRpb25zLnNoYWRvdywNCgkJCQkJaWNvbnNoYWRvdzogb3B0aW9ucy5pY29uc2hhZG93DQoJCQkJfSk7DQoNCgkJLy8gT3BlcmEgZG9lcyBub3QgcHJvcGVybHkgc3VwcG9ydCBvcGFjaXR5IG9uIHNlbGVjdCBlbGVtZW50cw0KCQkvLyBJbiBNaW5pLCBpdCBoaWRlcyB0aGUgZWxlbWVudCwgYnV0IG5vdCBpdHMgdGV4dA0KCQkvLyBPbiB0aGUgZGVza3RvcCxpdCBzZWVtcyB0byBkbyB0aGUgb3Bwb3NpdGUNCgkJLy8gZm9yIHRoZXNlIHJlYXNvbnMsIHVzaW5nIHRoZSBuYXRpdmVNZW51IG9wdGlvbiByZXN1bHRzIGluIGEgZnVsbCBuYXRpdmUgc2VsZWN0IGluIE9wZXJhDQoJCWlmICggb3B0aW9ucy5uYXRpdmVNZW51ICYmIHdpbmRvdy5vcGVyYSAmJiB3aW5kb3cub3BlcmEudmVyc2lvbiApIHsNCgkJCXRoaXMuc2VsZWN0LmFkZENsYXNzKCAidWktc2VsZWN0LW5hdGl2ZW9ubHkiICk7DQoJCX0NCg0KCQkvLyBBZGQgY291bnRlciBmb3IgbXVsdGkgc2VsZWN0cw0KCQlpZiAoIHRoaXMuaXNNdWx0aXBsZSApIHsNCgkJCXRoaXMuYnV0dG9uQ291bnQgPSAkKCAiPHNwYW4+IiApDQoJCQkJLmFkZENsYXNzKCAidWktbGktY291bnQgdWktYnRuLXVwLWMgdWktYnRuLWNvcm5lci1hbGwiICkNCgkJCQkuaGlkZSgpDQoJCQkJLmFwcGVuZFRvKCBidXR0b24uYWRkQ2xhc3MoJ3VpLWxpLWhhcy1jb3VudCcpICk7DQoJCX0NCg0KCQkvLyBEaXNhYmxlIGlmIHNwZWNpZmllZA0KCQlpZiAoIG9wdGlvbnMuZGlzYWJsZWQgfHwgdGhpcy5lbGVtZW50LmF0dHIoJ2Rpc2FibGVkJykpIHsNCgkJCXRoaXMuZGlzYWJsZSgpOw0KCQl9DQoNCgkJLy8gRXZlbnRzIG9uIG5hdGl2ZSBzZWxlY3QNCgkJdGhpcy5zZWxlY3QuY2hhbmdlKCBmdW5jdGlvbigpIHsNCgkJCXNlbGYucmVmcmVzaCgpOw0KCQl9KTsNCg0KCQl0aGlzLmJ1aWxkKCk7DQoJfSwNCg0KCWJ1aWxkOiBmdW5jdGlvbigpIHsNCgkJdmFyIHNlbGYgPSB0aGlzOw0KDQoJCXRoaXMuc2VsZWN0DQoJCQkuYXBwZW5kVG8oIHNlbGYuYnV0dG9uICkNCgkJCS5iaW5kKCAidm1vdXNlZG93biIsIGZ1bmN0aW9uKCkgew0KCQkJCS8vIEFkZCBhY3RpdmUgY2xhc3MgdG8gYnV0dG9uDQoJCQkJc2VsZi5idXR0b24uYWRkQ2xhc3MoICQubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzICk7DQoJCQl9KQ0KCQkJLmJpbmQoICJmb2N1cyB2bW91c2VvdmVyIiwgZnVuY3Rpb24oKSB7DQoJCQkJc2VsZi5idXR0b24udHJpZ2dlciggInZtb3VzZW92ZXIiICk7DQoJCQl9KQ0KCQkJLmJpbmQoICJ2bW91c2Vtb3ZlIiwgZnVuY3Rpb24oKSB7DQoJCQkJLy8gUmVtb3ZlIGFjdGl2ZSBjbGFzcyBvbiBzY3JvbGwvdG91Y2htb3ZlDQoJCQkJc2VsZi5idXR0b24ucmVtb3ZlQ2xhc3MoICQubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzICk7DQoJCQl9KQ0KCQkJLmJpbmQoICJjaGFuZ2UgYmx1ciB2bW91c2VvdXQiLCBmdW5jdGlvbigpIHsNCgkJCQlzZWxmLmJ1dHRvbi50cmlnZ2VyKCAidm1vdXNlb3V0IiApDQoJCQkJCS5yZW1vdmVDbGFzcyggJC5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MgKTsNCgkJCX0pDQoJCQkuYmluZCggImNoYW5nZSBibHVyIiwgZnVuY3Rpb24oKSB7DQoJCQkJc2VsZi5idXR0b24ucmVtb3ZlQ2xhc3MoICJ1aS1idG4tZG93bi0iICsgc2VsZi5vcHRpb25zLnRoZW1lICk7DQoJCQl9KTsNCgl9LA0KDQoJc2VsZWN0ZWQ6IGZ1bmN0aW9uKCkgew0KCQlyZXR1cm4gdGhpcy5fc2VsZWN0T3B0aW9ucygpLmZpbHRlciggIjpzZWxlY3RlZCIgKTsNCgl9LA0KDQoJc2VsZWN0ZWRJbmRpY2VzOiBmdW5jdGlvbigpIHsNCgkJdmFyIHNlbGYgPSB0aGlzOw0KDQoJCXJldHVybiB0aGlzLnNlbGVjdGVkKCkubWFwKCBmdW5jdGlvbigpIHsNCgkJCXJldHVybiBzZWxmLl9zZWxlY3RPcHRpb25zKCkuaW5kZXgoIHRoaXMgKTsNCgkJfSkuZ2V0KCk7DQoJfSwNCg0KCXNldEJ1dHRvblRleHQ6IGZ1bmN0aW9uKCkgew0KCQl2YXIgc2VsZiA9IHRoaXMsIHNlbGVjdGVkID0gdGhpcy5zZWxlY3RlZCgpOw0KDQoJCXRoaXMuYnV0dG9uLmZpbmQoICIudWktYnRuLXRleHQiICkudGV4dCggZnVuY3Rpb24oKSB7DQoJCQlpZiAoICFzZWxmLmlzTXVsdGlwbGUgKSB7DQoJCQkJcmV0dXJuIHNlbGVjdGVkLnRleHQoKTsNCgkJCX0NCg0KCQkJcmV0dXJuIHNlbGVjdGVkLmxlbmd0aCA/IHNlbGVjdGVkLm1hcCggZnVuY3Rpb24oKSB7DQoJCQkJcmV0dXJuICQoIHRoaXMgKS50ZXh0KCk7DQoJCQl9KS5nZXQoKS5qb2luKCAiLCAiICkgOiBzZWxmLnBsYWNlaG9sZGVyOw0KCQl9KTsNCgl9LA0KDQoJc2V0QnV0dG9uQ291bnQ6IGZ1bmN0aW9uKCkgew0KCQl2YXIgc2VsZWN0ZWQgPSB0aGlzLnNlbGVjdGVkKCk7DQoNCgkJLy8gbXVsdGlwbGUgY291bnQgaW5zaWRlIGJ1dHRvbg0KCQlpZiAoIHRoaXMuaXNNdWx0aXBsZSApIHsNCgkJCXRoaXMuYnV0dG9uQ291bnRbIHNlbGVjdGVkLmxlbmd0aCA+IDEgPyAic2hvdyIgOiAiaGlkZSIgXSgpLnRleHQoIHNlbGVjdGVkLmxlbmd0aCApOw0KCQl9DQoJfSwNCg0KCXJlZnJlc2g6IGZ1bmN0aW9uKCkgew0KCQl0aGlzLnNldEJ1dHRvblRleHQoKTsNCgkJdGhpcy5zZXRCdXR0b25Db3VudCgpOw0KCX0sDQoNCgkvLyBvcGVuIGFuZCBjbG9zZSBwcmVzZXJ2ZWQgaW4gbmF0aXZlIHNlbGVjdHMNCgkvLyB0byBzaW1wbGlmeSB1c2VycyBjb2RlIHdoZW4gbG9vcGluZyBvdmVyIHNlbGVjdHMNCglvcGVuOiAkLm5vb3AsDQoJY2xvc2U6ICQubm9vcCwNCg0KCWRpc2FibGU6IGZ1bmN0aW9uKCkgew0KCQl0aGlzLl9zZXREaXNhYmxlZCggdHJ1ZSApOw0KCQl0aGlzLmJ1dHRvbi5hZGRDbGFzcyggInVpLWRpc2FibGVkIiApOw0KCX0sDQoNCgllbmFibGU6IGZ1bmN0aW9uKCkgew0KCQl0aGlzLl9zZXREaXNhYmxlZCggZmFsc2UgKTsNCgkJdGhpcy5idXR0b24ucmVtb3ZlQ2xhc3MoICJ1aS1kaXNhYmxlZCIgKTsNCgl9DQp9KTsNCg0KLy9hdXRvIHNlbGYtaW5pdCB3aWRnZXRzDQokKCBkb2N1bWVudCApLmJpbmQoICJwYWdlY3JlYXRlIGNyZWF0ZSIsIGZ1bmN0aW9uKCBlICl7DQoJJC5tb2JpbGUuc2VsZWN0bWVudS5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbiggZS50YXJnZXQgKTsNCn0pOw0KfSkoIGpRdWVyeSApOw0KLyoNCiogImJ1dHRvbnMiIHBsdWdpbiAtIGZvciBtYWtpbmcgYnV0dG9uLWxpa2UgbGlua3MNCiovDQoNCiggZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHsNCg0KJC5mbi5idXR0b25NYXJrdXAgPSBmdW5jdGlvbiggb3B0aW9ucyApIHsNCglvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsNCg0KCWZvciAoIHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKysgKSB7DQoJCXZhciBlbCA9IHRoaXMuZXEoIGkgKSwNCgkJCWUgPSBlbFsgMCBdLA0KCQkJbyA9ICQuZXh0ZW5kKCB7fSwgJC5mbi5idXR0b25NYXJrdXAuZGVmYXVsdHMsIHsNCgkJCQlpY29uOiAgICAgICBvcHRpb25zLmljb24gICAgICAgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuaWNvbiAgICAgICA6IGVsLmpxbURhdGEoICJpY29uIiApLA0KCQkJCWljb25wb3M6ICAgIG9wdGlvbnMuaWNvbnBvcyAgICAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5pY29ucG9zICAgIDogZWwuanFtRGF0YSggImljb25wb3MiICksDQoJCQkJdGhlbWU6ICAgICAgb3B0aW9ucy50aGVtZSAgICAgICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnRoZW1lICAgICAgOiBlbC5qcW1EYXRhKCAidGhlbWUiICksDQoJCQkJaW5saW5lOiAgICAgb3B0aW9ucy5pbmxpbmUgICAgICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmlubGluZSAgICAgOiBlbC5qcW1EYXRhKCAiaW5saW5lIiApLA0KCQkJCXNoYWRvdzogICAgIG9wdGlvbnMuc2hhZG93ICAgICAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zaGFkb3cgICAgIDogZWwuanFtRGF0YSggInNoYWRvdyIgKSwNCgkJCQljb3JuZXJzOiAgICBvcHRpb25zLmNvcm5lcnMgICAgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY29ybmVycyAgICA6IGVsLmpxbURhdGEoICJjb3JuZXJzIiApLA0KCQkJCWljb25zaGFkb3c6IG9wdGlvbnMuaWNvbnNoYWRvdyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5pY29uc2hhZG93IDogZWwuanFtRGF0YSggImljb25zaGFkb3ciICkNCgkJCX0sIG9wdGlvbnMgKSwNCg0KCQkJLy8gQ2xhc3NlcyBEZWZpbmVkDQoJCQlpbm5lckNsYXNzID0gInVpLWJ0bi1pbm5lciIsDQoJCQl0ZXh0Q2xhc3MgPSAidWktYnRuLXRleHQiLA0KCQkJYnV0dG9uQ2xhc3MsIGljb25DbGFzcywNCg0KCQkJLy8gQnV0dG9uIGlubmVyIG1hcmt1cA0KCQkJYnV0dG9uSW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBvLndyYXBwZXJFbHMgKSwNCgkJCWJ1dHRvblRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBvLndyYXBwZXJFbHMgKSwNCgkJCWJ1dHRvbkljb24gPSBvLmljb24gPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAic3BhbiIgKSA6IG51bGw7DQoNCgkJaWYgKCBhdHRhY2hFdmVudHMgKSB7DQoJCQlhdHRhY2hFdmVudHMoKTsNCgkJfQ0KDQoJCS8vIGlmIG5vdCwgdHJ5IHRvIGZpbmQgY2xvc2VzdCB0aGVtZSBjb250YWluZXINCgkJaWYgKCAhby50aGVtZSApIHsNCgkJCW8udGhlbWUgPSAkLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSggZWwsICJjIiApOw0KCQl9DQoNCgkJYnV0dG9uQ2xhc3MgPSAidWktYnRuIHVpLWJ0bi11cC0iICsgby50aGVtZTsNCg0KCQlpZiAoIG8uaW5saW5lICkgew0KCQkJYnV0dG9uQ2xhc3MgKz0gIiB1aS1idG4taW5saW5lIjsNCgkJfQ0KDQoJCWlmICggby5pY29uICkgew0KCQkJby5pY29uID0gInVpLWljb24tIiArIG8uaWNvbjsNCgkJCW8uaWNvbnBvcyA9IG8uaWNvbnBvcyB8fCAibGVmdCI7DQoNCgkJCWljb25DbGFzcyA9ICJ1aS1pY29uICIgKyBvLmljb247DQoNCgkJCWlmICggby5pY29uc2hhZG93ICkgew0KCQkJCWljb25DbGFzcyArPSAiIHVpLWljb24tc2hhZG93IjsNCgkJCX0NCgkJfQ0KDQoJCWlmICggby5pY29ucG9zICkgew0KCQkJYnV0dG9uQ2xhc3MgKz0gIiB1aS1idG4taWNvbi0iICsgby5pY29ucG9zOw0KDQoJCQlpZiAoIG8uaWNvbnBvcyA9PSAibm90ZXh0IiAmJiAhZWwuYXR0ciggInRpdGxlIiApICkgew0KCQkJCWVsLmF0dHIoICJ0aXRsZSIsIGVsLmdldEVuY29kZWRUZXh0KCkgKTsNCgkJCX0NCgkJfQ0KDQoJCWlmICggby5jb3JuZXJzICkgew0KCQkJYnV0dG9uQ2xhc3MgKz0gIiB1aS1idG4tY29ybmVyLWFsbCI7DQoJCQlpbm5lckNsYXNzICs9ICIgdWktYnRuLWNvcm5lci1hbGwiOw0KCQl9DQoNCgkJaWYgKCBvLnNoYWRvdyApIHsNCgkJCWJ1dHRvbkNsYXNzICs9ICIgdWktc2hhZG93IjsNCgkJfQ0KDQoJCWUuc2V0QXR0cmlidXRlKCAiZGF0YS0iICsgJC5tb2JpbGUubnMgKyAidGhlbWUiLCBvLnRoZW1lICk7DQoJCWVsLmFkZENsYXNzKCBidXR0b25DbGFzcyApOw0KDQoJCWJ1dHRvbklubmVyLmNsYXNzTmFtZSA9IGlubmVyQ2xhc3M7DQoJCWJ1dHRvbklubmVyLnNldEF0dHJpYnV0ZSgiYXJpYS1oaWRkZW4iLCAidHJ1ZSIpOw0KDQoJCWJ1dHRvblRleHQuY2xhc3NOYW1lID0gdGV4dENsYXNzOw0KCQlidXR0b25Jbm5lci5hcHBlbmRDaGlsZCggYnV0dG9uVGV4dCApOw0KDQoJCWlmICggYnV0dG9uSWNvbiApIHsNCgkJCWJ1dHRvbkljb24uY2xhc3NOYW1lID0gaWNvbkNsYXNzOw0KCQkJYnV0dG9uSW5uZXIuYXBwZW5kQ2hpbGQoIGJ1dHRvbkljb24gKTsNCgkJfQ0KDQoJCXdoaWxlICggZS5maXJzdENoaWxkICkgew0KCQkJYnV0dG9uVGV4dC5hcHBlbmRDaGlsZCggZS5maXJzdENoaWxkICk7DQoJCX0NCg0KCQllLmFwcGVuZENoaWxkKCBidXR0b25Jbm5lciApOw0KCQkNCgkJLy8gVE9ETyBvYnZpb3VzbHkgaXQgd291bGQgYmUgbmljZSB0byBwdWxsIHRoaXMgZWxlbWVudCBvdXQgaW5zdGVhZCBvZg0KCQkvLyByZXRyaWV2aW5nIGl0IGZyb20gdGhlIERPTSBhZ2FpbiwgYnV0IHRoaXMgY2hhbmdlIGlzIG11Y2ggbGVzcyBvYnRydXNpdmUNCgkJLy8gYW5kIDEuMCBkcmF3cyBuaWdoDQoJCSQuZGF0YSggZSwgJ3RleHRXcmFwcGVyJywgJCggYnV0dG9uVGV4dCApICk7DQoJfQ0KDQoJcmV0dXJuIHRoaXM7DQp9Ow0KDQokLmZuLmJ1dHRvbk1hcmt1cC5kZWZhdWx0cyA9IHsNCgljb3JuZXJzOiB0cnVlLA0KCXNoYWRvdzogdHJ1ZSwNCglpY29uc2hhZG93OiB0cnVlLA0KCWlubGluZTogZmFsc2UsDQoJd3JhcHBlckVsczogInNwYW4iDQp9Ow0KDQpmdW5jdGlvbiBjbG9zZXN0RW5hYmxlZEJ1dHRvbiggZWxlbWVudCApIHsNCiAgICB2YXIgY25hbWU7DQoNCiAgICB3aGlsZSAoIGVsZW1lbnQgKSB7DQoJCS8vIE5vdGUgdGhhdCB3ZSBjaGVjayBmb3IgdHlwZW9mIGNsYXNzTmFtZSBiZWxvdyBiZWNhdXNlIHRoZSBlbGVtZW50IHdlDQoJCS8vIGhhbmRlZCBjb3VsZCBiZSBpbiBhbiBTVkcgRE9NIHdoZXJlIGNsYXNzTmFtZSBvbiBTVkcgZWxlbWVudHMgaXMgZGVmaW5lZCB0bw0KCQkvLyBiZSBvZiBhIGRpZmZlcmVudCB0eXBlIChTVkdBbmltYXRlZFN0cmluZykuIFdlIG9ubHkgb3BlcmF0ZSBvbiBIVE1MIERPTQ0KCQkvLyBlbGVtZW50cywgc28gd2UgbG9vayBmb3IgcGxhaW4gInN0cmluZyIuDQoNCiAgICAgICAgY25hbWUgPSAoIHR5cGVvZiBlbGVtZW50LmNsYXNzTmFtZSA9PT0gJ3N0cmluZycgKSAmJiBlbGVtZW50LmNsYXNzTmFtZS5zcGxpdCgnICcpOw0KDQogICAgICAgIGlmICggY25hbWUgJiYgJC5pbkFycmF5KCAidWktYnRuIiwgY25hbWUgKSA+IC0xICYmICQuaW5BcnJheSggInVpLWRpc2FibGVkIiwgY25hbWUgKSA8IDAgKSB7DQogICAgICAgICAgICBicmVhazsNCiAgICAgICAgfQ0KICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlOw0KICAgIH0NCg0KICAgIHJldHVybiBlbGVtZW50Ow0KfQ0KDQp2YXIgYXR0YWNoRXZlbnRzID0gZnVuY3Rpb24oKSB7DQoJJCggZG9jdW1lbnQgKS5iaW5kKCB7DQoJCSJ2bW91c2Vkb3duIjogZnVuY3Rpb24oIGV2ZW50ICkgew0KCQkJdmFyIGJ0biA9IGNsb3Nlc3RFbmFibGVkQnV0dG9uKCBldmVudC50YXJnZXQgKSwNCgkJCQkkYnRuLCB0aGVtZTsNCg0KCQkJaWYgKCBidG4gKSB7DQoJCQkJJGJ0biA9ICQoIGJ0biApOw0KCQkJCXRoZW1lID0gJGJ0bi5hdHRyKCAiZGF0YS0iICsgJC5tb2JpbGUubnMgKyAidGhlbWUiICk7DQoJCQkJJGJ0bi5yZW1vdmVDbGFzcyggInVpLWJ0bi11cC0iICsgdGhlbWUgKS5hZGRDbGFzcyggInVpLWJ0bi1kb3duLSIgKyB0aGVtZSApOw0KCQkJfQ0KCQl9LA0KCQkidm1vdXNlY2FuY2VsIHZtb3VzZXVwIjogZnVuY3Rpb24oIGV2ZW50ICkgew0KCQkJdmFyIGJ0biA9IGNsb3Nlc3RFbmFibGVkQnV0dG9uKCBldmVudC50YXJnZXQgKSwNCgkJCQkkYnRuLCB0aGVtZTsNCg0KCQkJaWYgKCBidG4gKSB7DQoJCQkJJGJ0biA9ICQoIGJ0biApOw0KCQkJCXRoZW1lID0gJGJ0bi5hdHRyKCAiZGF0YS0iICsgJC5tb2JpbGUubnMgKyAidGhlbWUiICk7DQoJCQkJJGJ0bi5yZW1vdmVDbGFzcyggInVpLWJ0bi1kb3duLSIgKyB0aGVtZSApLmFkZENsYXNzKCAidWktYnRuLXVwLSIgKyB0aGVtZSApOw0KCQkJfQ0KCQl9LA0KCQkidm1vdXNlb3ZlciBmb2N1cyI6IGZ1bmN0aW9uKCBldmVudCApIHsNCgkJCXZhciBidG4gPSBjbG9zZXN0RW5hYmxlZEJ1dHRvbiggZXZlbnQudGFyZ2V0ICksDQoJCQkJJGJ0biwgdGhlbWU7DQoNCgkJCWlmICggYnRuICkgew0KCQkJCSRidG4gPSAkKCBidG4gKTsNCgkJCQl0aGVtZSA9ICRidG4uYXR0ciggImRhdGEtIiArICQubW9iaWxlLm5zICsgInRoZW1lIiApOw0KCQkJCSRidG4ucmVtb3ZlQ2xhc3MoICJ1aS1idG4tdXAtIiArIHRoZW1lICkuYWRkQ2xhc3MoICJ1aS1idG4taG92ZXItIiArIHRoZW1lICk7DQoJCQl9DQoJCX0sDQoJCSJ2bW91c2VvdXQgYmx1ciI6IGZ1bmN0aW9uKCBldmVudCApIHsNCgkJCXZhciBidG4gPSBjbG9zZXN0RW5hYmxlZEJ1dHRvbiggZXZlbnQudGFyZ2V0ICksDQoJCQkJJGJ0biwgdGhlbWU7DQoNCgkJCWlmICggYnRuICkgew0KCQkJCSRidG4gPSAkKCBidG4gKTsNCgkJCQl0aGVtZSA9ICRidG4uYXR0ciggImRhdGEtIiArICQubW9iaWxlLm5zICsgInRoZW1lIiApOw0KCQkJCSRidG4ucmVtb3ZlQ2xhc3MoICJ1aS1idG4taG92ZXItIiArIHRoZW1lICArICIgdWktYnRuLWRvd24tIiArIHRoZW1lICkuYWRkQ2xhc3MoICJ1aS1idG4tdXAtIiArIHRoZW1lICk7DQoJCQl9DQoJCX0NCgl9KTsNCg0KCWF0dGFjaEV2ZW50cyA9IG51bGw7DQp9Ow0KDQovL2xpbmtzIGluIGJhcnMsIG9yIHRob3NlIHdpdGggIGRhdGEtcm9sZSBiZWNvbWUgYnV0dG9ucw0KLy9hdXRvIHNlbGYtaW5pdCB3aWRnZXRzDQokKCBkb2N1bWVudCApLmJpbmQoICJwYWdlY3JlYXRlIGNyZWF0ZSIsIGZ1bmN0aW9uKCBlICl7DQoNCgkkKCAiOmpxbURhdGEocm9sZT0nYnV0dG9uJyksIC51aS1iYXIgPiBhLCAudWktaGVhZGVyID4gYSwgLnVpLWZvb3RlciA+IGEsIC51aS1iYXIgPiA6anFtRGF0YShyb2xlPSdjb250cm9sZ3JvdXAnKSA+IGEiLCBlLnRhcmdldCApDQoJCS5ub3QoICIudWktYnRuLCA6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIgKQ0KCQkuYnV0dG9uTWFya3VwKCk7DQp9KTsNCg0KfSkoIGpRdWVyeSApOw0KLyogDQoqICJjb250cm9sZ3JvdXAiIHBsdWdpbiAtIGNvcm5lci1yb3VuZGluZyBmb3IgZ3JvdXBzIG9mIGJ1dHRvbnMsIGNoZWNrcywgcmFkaW9zLCBldGMNCiovDQoNCihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkgew0KDQokLmZuLmNvbnRyb2xncm91cCA9IGZ1bmN0aW9uKCBvcHRpb25zICkgew0KDQoJcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHsNCg0KCQl2YXIgJGVsID0gJCggdGhpcyApLA0KCQkJbyA9ICQuZXh0ZW5kKHsNCgkJCQkJCWRpcmVjdGlvbjogJGVsLmpxbURhdGEoICJ0eXBlIiApIHx8ICJ2ZXJ0aWNhbCIsDQoJCQkJCQlzaGFkb3c6IGZhbHNlLA0KCQkJCQkJZXhjbHVkZUludmlzaWJsZTogdHJ1ZQ0KCQkJCQl9LCBvcHRpb25zICksDQoJCQlncm91cGhlYWRpbmcgPSAkZWwuY2hpbGRyZW4oICJsZWdlbmQiICksDQoJCQlmbENvcm5lcnMgPSBvLmRpcmVjdGlvbiA9PSAiaG9yaXpvbnRhbCIgPyBbICJ1aS1jb3JuZXItbGVmdCIsICJ1aS1jb3JuZXItcmlnaHQiIF0gOiBbICJ1aS1jb3JuZXItdG9wIiwgInVpLWNvcm5lci1ib3R0b20iIF0sDQoJCQl0eXBlID0gJGVsLmZpbmQoICJpbnB1dCIgKS5maXJzdCgpLmF0dHIoICJ0eXBlIiApOw0KDQoJCS8vIFJlcGxhY2UgbGVnZW5kIHdpdGggbW9yZSBzdHlsYWJsZSByZXBsYWNlbWVudCBkaXYNCgkJaWYgKCBncm91cGhlYWRpbmcubGVuZ3RoICkgew0KCQkJJGVsLndyYXBJbm5lciggIjxkaXYgY2xhc3M9J3VpLWNvbnRyb2xncm91cC1jb250cm9scyc+PC9kaXY+IiApOw0KCQkJJCggIjxkaXYgcm9sZT0naGVhZGluZycgY2xhc3M9J3VpLWNvbnRyb2xncm91cC1sYWJlbCc+IiArIGdyb3VwaGVhZGluZy5odG1sKCkgKyAiPC9kaXY+IiApLmluc2VydEJlZm9yZSggJGVsLmNoaWxkcmVuKDApICk7DQoJCQlncm91cGhlYWRpbmcucmVtb3ZlKCk7DQoJCX0NCg0KCQkkZWwuYWRkQ2xhc3MoICJ1aS1jb3JuZXItYWxsIHVpLWNvbnRyb2xncm91cCB1aS1jb250cm9sZ3JvdXAtIiArIG8uZGlyZWN0aW9uICk7DQoNCgkJLy8gVE9ETzogVGhpcyBzaG91bGQgYmUgbW92ZWQgb3V0IHRvIHRoZSBjbG9zdXJlDQoJCS8vIG90aGVyd2lzZSBpdCBpcyByZWRlZmluZWQgZWFjaCB0aW1lIGNvbnRyb2xncm91cCgpIGlzIGNhbGxlZA0KCQlmdW5jdGlvbiBmbGlwQ2xhc3NlcyggZWxzICkgew0KCQkJZWxzLnJlbW92ZUNsYXNzKCAidWktYnRuLWNvcm5lci1hbGwgdWktc2hhZG93IiApDQoJCQkJLmVxKCAwICkuYWRkQ2xhc3MoIGZsQ29ybmVyc1sgMCBdICkNCgkJCQkuZW5kKCkNCgkJCQkubGFzdCgpLmFkZENsYXNzKCBmbENvcm5lcnNbIDEgXSApLmFkZENsYXNzKCAidWktY29udHJvbGdyb3VwLWxhc3QiICk7DQoJCX0NCg0KCQlmbGlwQ2xhc3NlcyggJGVsLmZpbmQoICIudWktYnRuIiArICggby5leGNsdWRlSW52aXNpYmxlID8gIjp2aXNpYmxlIiA6ICIiICkgKSApOw0KCQlmbGlwQ2xhc3NlcyggJGVsLmZpbmQoICIudWktYnRuLWlubmVyIiApICk7DQoNCgkJaWYgKCBvLnNoYWRvdyApIHsNCgkJCSRlbC5hZGRDbGFzcyggInVpLXNoYWRvdyIgKTsNCgkJfQ0KCX0pOw0KfTsNCg0KLy9hdXRvIHNlbGYtaW5pdCB3aWRnZXRzDQokKCBkb2N1bWVudCApLmJpbmQoICJwYWdlY3JlYXRlIGNyZWF0ZSIsIGZ1bmN0aW9uKCBlICl7DQoJJCggIjpqcW1EYXRhKHJvbGU9J2NvbnRyb2xncm91cCcpIiwgZS50YXJnZXQgKS5jb250cm9sZ3JvdXAoeyBleGNsdWRlSW52aXNpYmxlOiBmYWxzZSB9KTsNCn0pOw0KDQp9KShqUXVlcnkpOy8qDQoqICJsaW5rcyIgcGx1Z2luIC0gc2ltcGxlIGNsYXNzIGFkZGl0aW9ucyBmb3IgbGlua3MNCiovDQoNCihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkgew0KDQokKCBkb2N1bWVudCApLmJpbmQoICJwYWdlY3JlYXRlIGNyZWF0ZSIsIGZ1bmN0aW9uKCBlICl7DQoJDQoJLy9saW5rcyB3aXRoaW4gY29udGVudCBhcmVhcw0KCSQoIGUudGFyZ2V0ICkNCgkJLmZpbmQoICJhIiApDQoJCS5ub3QoICIudWktYnRuLCAudWktbGluay1pbmhlcml0LCA6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIgKQ0KCQkuYWRkQ2xhc3MoICJ1aS1saW5rIiApOw0KDQp9KTsNCg0KfSkoIGpRdWVyeSApOy8qDQoqICJmaXhIZWFkZXJGb290ZXIiIHBsdWdpbiAtIG9uLWRlbWFuZCBwb3NpdGlvbmluZyBmb3IgaGVhZGVycyxmb290ZXJzDQoqLw0KDQooZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHsNCg0KdmFyIHNsaWRlRG93bkNsYXNzID0gInVpLWhlYWRlci1maXhlZCB1aS1maXhlZC1pbmxpbmUgZmFkZSIsDQoJc2xpZGVVcENsYXNzID0gInVpLWZvb3Rlci1maXhlZCB1aS1maXhlZC1pbmxpbmUgZmFkZSIsDQoNCglzbGlkZURvd25TZWxlY3RvciA9ICIudWktaGVhZGVyOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykiLA0KCXNsaWRlVXBTZWxlY3RvciA9ICIudWktZm9vdGVyOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykiOw0KDQokLmZuLmZpeEhlYWRlckZvb3RlciA9IGZ1bmN0aW9uKCBvcHRpb25zICkgew0KDQoJaWYgKCAhJC5zdXBwb3J0LnNjcm9sbFRvcCB8fCAoICQuc3VwcG9ydC50b3VjaE92ZXJmbG93ICYmICQubW9iaWxlLnRvdWNoT3ZlcmZsb3dFbmFibGVkICkgKSB7DQoJCXJldHVybiB0aGlzOw0KCX0NCg0KCXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7DQoJCXZhciAkdGhpcyA9ICQoIHRoaXMgKTsNCg0KCQlpZiAoICR0aGlzLmpxbURhdGEoICJmdWxsc2NyZWVuIiApICkgew0KCQkJJHRoaXMuYWRkQ2xhc3MoICJ1aS1wYWdlLWZ1bGxzY3JlZW4iICk7DQoJCX0NCg0KCQkvLyBTaG91bGQgYmUgc2xpZGVkb3duDQoJCSR0aGlzLmZpbmQoIHNsaWRlRG93blNlbGVjdG9yICkuYWRkQ2xhc3MoIHNsaWRlRG93bkNsYXNzICk7DQoNCgkJLy8gU2hvdWxkIGJlIHNsaWRldXANCgkJJHRoaXMuZmluZCggc2xpZGVVcFNlbGVjdG9yICkuYWRkQ2xhc3MoIHNsaWRlVXBDbGFzcyApOw0KCX0pOw0KfTsNCg0KLy8gc2luZ2xlIGNvbnRyb2xsZXIgZm9yIGFsbCBzaG93aW5nLGhpZGluZyx0b2dnbGluZw0KJC5tb2JpbGUuZml4ZWRUb29sYmFycyA9IChmdW5jdGlvbigpIHsNCg0KCWlmICggISQuc3VwcG9ydC5zY3JvbGxUb3AgfHwgKCAkLnN1cHBvcnQudG91Y2hPdmVyZmxvdyAmJiAkLm1vYmlsZS50b3VjaE92ZXJmbG93RW5hYmxlZCApICkgew0KCQlyZXR1cm47DQoJfQ0KDQoJdmFyIHN0aWNreUZvb3RlciwgZGVsYXlUaW1lciwNCgkJY3VycmVudHN0YXRlID0gImlubGluZSIsDQoJCWF1dG9IaWRlTW9kZSA9IGZhbHNlLA0KCQlzaG93RGVsYXkgPSAxMDAsDQoJCWlnbm9yZVRhcmdldHMgPSAiYSxpbnB1dCx0ZXh0YXJlYSxzZWxlY3QsYnV0dG9uLGxhYmVsLC51aS1oZWFkZXItZml4ZWQsLnVpLWZvb3Rlci1maXhlZCIsDQoJCXRvb2xiYXJTZWxlY3RvciA9ICIudWktaGVhZGVyLWZpeGVkOmZpcnN0LCAudWktZm9vdGVyLWZpeGVkOm5vdCgudWktZm9vdGVyLWR1cGxpY2F0ZSk6bGFzdCIsDQoJCS8vIGZvciBzdG9yaW5nIHF1aWNrIHJlZmVyZW5jZXMgdG8gZHVwbGljYXRlIGZvb3RlcnMNCgkJc3VwcG9ydFRvdWNoID0gJC5zdXBwb3J0LnRvdWNoLA0KCQl0b3VjaFN0YXJ0RXZlbnQgPSBzdXBwb3J0VG91Y2ggPyAidG91Y2hzdGFydCIgOiAibW91c2Vkb3duIiwNCgkJdG91Y2hTdG9wRXZlbnQgPSBzdXBwb3J0VG91Y2ggPyAidG91Y2hlbmQiIDogIm1vdXNldXAiLA0KCQlzdGF0ZUJlZm9yZSA9IG51bGwsDQoJCXNjcm9sbFRyaWdnZXJlZCA9IGZhbHNlLA0KCQl0b3VjaFRvZ2dsZUVuYWJsZWQgPSB0cnVlOw0KDQoJZnVuY3Rpb24gc2hvd0V2ZW50Q2FsbGJhY2soIGV2ZW50ICkgew0KCQkvLyBBbiBldmVudCB0aGF0IGFmZmVjdHMgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIHZpc3VhbCB2aWV3cG9ydCBoYXMNCgkJLy8gYmVlbiB0cmlnZ2VyZWQuIElmIHRoZSBoZWFkZXIgYW5kL29yIGZvb3RlciBmb3IgdGhlIGN1cnJlbnQgcGFnZSBhcmUgaW4gb3ZlcmxheQ0KCQkvLyBtb2RlLCB3ZSB3YW50IHRvIGhpZGUgdGhlbSwgYW5kIHRoZW4gZmlyZSBvZmYgYSB0aW1lciB0byBzaG93IHRoZW0gYXQgYSBsYXRlcg0KCQkvLyBwb2ludC4gRXZlbnRzIGxpa2UgYSByZXNpemUgY2FuIGJlIHRyaWdnZXJlZCBjb250aW51b3VzbHkgZHVyaW5nIGEgc2Nyb2xsLCBvbg0KCQkvLyBzb21lIHBsYXRmb3Jtcywgc28gdGhlIHRpbWVyIGlzIHVzZWQgdG8gZGVsYXkgdGhlIGFjdHVhbCBwb3NpdGlvbmluZyB1bnRpbCB0aGUNCgkJLy8gZmxvb2Qgb2YgZXZlbnRzIGhhdmUgc3Vic2lkZWQuDQoJCS8vDQoJCS8vIElmIHdlIGFyZSBpbiBhdXRvSGlkZU1vZGUsIHdlIGRvbid0IGRvIGFueXRoaW5nIGJlY2F1c2Ugd2Uga25vdyB0aGUgc2Nyb2xsDQoJCS8vIGNhbGxiYWNrcyBmb3IgdGhlIHBsdWdpbiB3aWxsIGZpcmUgb2ZmIGEgc2hvdyB3aGVuIHRoZSBzY3JvbGxpbmcgaGFzIHN0b3BwZWQuDQoJCWlmICggIWF1dG9IaWRlTW9kZSAmJiBjdXJyZW50c3RhdGUgPT09ICJvdmVybGF5IiApIHsNCgkJCWlmICggIWRlbGF5VGltZXIgKSB7DQoJCQkJJC5tb2JpbGUuZml4ZWRUb29sYmFycy5oaWRlKCB0cnVlICk7DQoJCQl9DQoNCgkJCSQubW9iaWxlLmZpeGVkVG9vbGJhcnMuc3RhcnRTaG93VGltZXIoKTsNCgkJfQ0KCX0NCg0KCSQoZnVuY3Rpb24oKSB7DQoJCXZhciAkZG9jdW1lbnQgPSAkKCBkb2N1bWVudCApLA0KCQkJJHdpbmRvdyA9ICQoIHdpbmRvdyApOw0KDQoJCSRkb2N1bWVudA0KCQkJLmJpbmQoICJ2bW91c2Vkb3duIiwgZnVuY3Rpb24oIGV2ZW50ICkgew0KCQkJCWlmICggdG91Y2hUb2dnbGVFbmFibGVkICkgew0KCQkJCQlzdGF0ZUJlZm9yZSA9IGN1cnJlbnRzdGF0ZTsNCgkJCQl9DQoJCQl9KQ0KCQkJLmJpbmQoICJ2Y2xpY2siLCBmdW5jdGlvbiggZXZlbnQgKSB7DQoJCQkJaWYgKCB0b3VjaFRvZ2dsZUVuYWJsZWQgKSB7DQoNCgkJCQkJaWYgKCAkKGV2ZW50LnRhcmdldCkuY2xvc2VzdCggaWdub3JlVGFyZ2V0cyApLmxlbmd0aCApIHsNCgkJCQkJCXJldHVybjsNCgkJCQkJfQ0KDQoJCQkJCWlmICggIXNjcm9sbFRyaWdnZXJlZCApIHsNCgkJCQkJCSQubW9iaWxlLmZpeGVkVG9vbGJhcnMudG9nZ2xlKCBzdGF0ZUJlZm9yZSApOw0KCQkJCQkJc3RhdGVCZWZvcmUgPSBudWxsOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfSkNCgkJCS5iaW5kKCAic2lsZW50c2Nyb2xsIiwgc2hvd0V2ZW50Q2FsbGJhY2sgKTsNCg0KDQoJCS8vIFRoZSBiZWxvdyBjaGVja3MgZmlyc3QgZm9yIGEgJChkb2N1bWVudCkuc2Nyb2xsVG9wKCkgdmFsdWUsIGFuZCBpZiB6ZXJvLCBiaW5kcyBzY3JvbGwgZXZlbnRzIHRvICQod2luZG93KSBpbnN0ZWFkLg0KCQkvLyBJZiB0aGUgc2Nyb2xsVG9wIHZhbHVlIGlzIGFjdHVhbGx5IHplcm8sIGJvdGggd2lsbCByZXR1cm4gemVybyBhbnl3YXkuDQoJCS8vDQoJCS8vIFdvcmtzIHdpdGggJChkb2N1bWVudCksIG5vdCAkKHdpbmRvdykgOiBPcGVyYSBNb2JpbGUgKFdpbk1PIHBob25lOyBraW5kYSBicm9rZW4gYW55d2F5KQ0KCQkvLyBXb3JrcyB3aXRoICQod2luZG93KSwgbm90ICQoZG9jdW1lbnQpIDogSUUgNy84DQoJCS8vIFdvcmtzIHdpdGggZWl0aGVyICQod2luZG93KSBvciAkKGRvY3VtZW50KSA6IENocm9tZSwgRkYgMy42LzQsIEFuZHJvaWQgMS42LzIuMSwgaU9TDQoJCS8vIE5lZWRzIHdvcmsgZWl0aGVyIHdheSA6IEJCNSwgT3BlcmEgTW9iaWxlIChpT1MpDQoNCgkJKCAoICRkb2N1bWVudC5zY3JvbGxUb3AoKSA9PT0gMCApID8gJHdpbmRvdyA6ICRkb2N1bWVudCApDQoJCQkuYmluZCggInNjcm9sbHN0YXJ0IiwgZnVuY3Rpb24oIGV2ZW50ICkgew0KDQoJCQkJc2Nyb2xsVHJpZ2dlcmVkID0gdHJ1ZTsNCg0KCQkJCWlmICggc3RhdGVCZWZvcmUgPT09IG51bGwgKSB7DQoJCQkJCXN0YXRlQmVmb3JlID0gY3VycmVudHN0YXRlOw0KCQkJCX0NCg0KCQkJCS8vIFdlIG9ubHkgZW50ZXIgYXV0b0hpZGVNb2RlIGlmIHRoZSBoZWFkZXJzL2Zvb3RlcnMgYXJlIGluDQoJCQkJLy8gYW4gb3ZlcmxheSBzdGF0ZSBvciB0aGUgc2hvdyB0aW1lciB3YXMgc3RhcnRlZC4gSWYgdGhlDQoJCQkJLy8gc2hvdyB0aW1lciBpcyBzZXQsIGNsZWFyIGl0IHNvIHRoZSBoZWFkZXJzL2Zvb3RlcnMgZG9uJ3QNCgkJCQkvLyBzaG93IHVwIHVudGlsIGFmdGVyIHdlJ3JlIGRvbmUgc2Nyb2xsaW5nLg0KCQkJCXZhciBpc092ZXJsYXlTdGF0ZSA9IHN0YXRlQmVmb3JlID09ICJvdmVybGF5IjsNCg0KCQkJCWF1dG9IaWRlTW9kZSA9IGlzT3ZlcmxheVN0YXRlIHx8ICEhZGVsYXlUaW1lcjsNCg0KCQkJCWlmICggYXV0b0hpZGVNb2RlICkgew0KCQkJCQkkLm1vYmlsZS5maXhlZFRvb2xiYXJzLmNsZWFyU2hvd1RpbWVyKCk7DQoNCgkJCQkJaWYgKCBpc092ZXJsYXlTdGF0ZSApIHsNCgkJCQkJCSQubW9iaWxlLmZpeGVkVG9vbGJhcnMuaGlkZSggdHJ1ZSApOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfSkNCgkJCS5iaW5kKCAic2Nyb2xsc3RvcCIsIGZ1bmN0aW9uKCBldmVudCApIHsNCg0KCQkJCWlmICggJCggZXZlbnQudGFyZ2V0ICkuY2xvc2VzdCggaWdub3JlVGFyZ2V0cyApLmxlbmd0aCApIHsNCgkJCQkJcmV0dXJuOw0KCQkJCX0NCg0KCQkJCXNjcm9sbFRyaWdnZXJlZCA9IGZhbHNlOw0KDQoJCQkJaWYgKCBhdXRvSGlkZU1vZGUgKSB7DQoJCQkJCSQubW9iaWxlLmZpeGVkVG9vbGJhcnMuc3RhcnRTaG93VGltZXIoKTsNCgkJCQkJYXV0b0hpZGVNb2RlID0gZmFsc2U7DQoJCQkJfQ0KCQkJCXN0YXRlQmVmb3JlID0gbnVsbDsNCgkJCX0pOw0KDQoJCQkkd2luZG93LmJpbmQoICJyZXNpemUgdXBkYXRlbGF5b3V0Iiwgc2hvd0V2ZW50Q2FsbGJhY2sgKTsNCgl9KTsNCg0KCS8vIDEuIEJlZm9yZSBwYWdlIGlzIHNob3duLCBjaGVjayBmb3IgZHVwbGljYXRlIGZvb3Rlcg0KCS8vIDIuIEFmdGVyIHBhZ2UgaXMgc2hvd24sIGFwcGVuZCBmb290ZXIgdG8gbmV3IHBhZ2UNCgkkKCAiLnVpLXBhZ2UiICkNCgkJLmxpdmUoICJwYWdlYmVmb3Jlc2hvdyIsIGZ1bmN0aW9uKCBldmVudCwgdWkgKSB7DQoNCgkJCXZhciBwYWdlID0gJCggZXZlbnQudGFyZ2V0ICksDQoJCQkJZm9vdGVyID0gcGFnZS5maW5kKCAiOmpxbURhdGEocm9sZT0nZm9vdGVyJykiICksDQoJCQkJaWQgPSBmb290ZXIuZGF0YSggImlkIiApLA0KCQkJCXByZXZQYWdlID0gdWkucHJldlBhZ2UsDQoJCQkJcHJldkZvb3RlciA9IHByZXZQYWdlICYmIHByZXZQYWdlLmZpbmQoICI6anFtRGF0YShyb2xlPSdmb290ZXInKSIgKSwNCgkJCQlwcmV2Rm9vdGVyTWF0Y2hlcyA9IHByZXZGb290ZXIubGVuZ3RoICYmIHByZXZGb290ZXIuanFtRGF0YSggImlkIiApID09PSBpZDsNCg0KCQkJaWYgKCBpZCAmJiBwcmV2Rm9vdGVyTWF0Y2hlcyApIHsNCgkJCQlzdGlja3lGb290ZXIgPSBmb290ZXI7DQoJCQkJc2V0VG9wKCBzdGlja3lGb290ZXIucmVtb3ZlQ2xhc3MoICJmYWRlIGluIG91dCIgKS5hcHBlbmRUbyggJC5tb2JpbGUucGFnZUNvbnRhaW5lciApICk7DQoJCQl9DQoJCX0pDQoJCS5saXZlKCAicGFnZXNob3ciLCBmdW5jdGlvbiggZXZlbnQsIHVpICkgew0KDQoJCQl2YXIgJHRoaXMgPSAkKCB0aGlzICk7DQoNCgkJCWlmICggc3RpY2t5Rm9vdGVyICYmIHN0aWNreUZvb3Rlci5sZW5ndGggKSB7DQoNCgkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgew0KCQkJCQlzZXRUb3AoIHN0aWNreUZvb3Rlci5hcHBlbmRUbyggJHRoaXMgKS5hZGRDbGFzcyggImZhZGUiICkgKTsNCgkJCQkJc3RpY2t5Rm9vdGVyID0gbnVsbDsNCgkJCQl9LCA1MDApOw0KCQkJfQ0KDQoJCQkkLm1vYmlsZS5maXhlZFRvb2xiYXJzLnNob3coIHRydWUsIHRoaXMgKTsNCgkJfSk7DQoNCgkvLyBXaGVuIGEgY29sbGFwc2lhYmxlIGlzIGhpZGRlbiBvciBzaG93biB3ZSBuZWVkIHRvIHRyaWdnZXIgdGhlIGZpeGVkIHRvb2xiYXIgdG8gcmVwb3NpdGlvbiBpdHNlbGYgKCMxNjM1KQ0KCSQoICIudWktY29sbGFwc2libGUtY29udGFpbiIgKS5saXZlKCAiY29sbGFwc2UgZXhwYW5kIiwgc2hvd0V2ZW50Q2FsbGJhY2sgKTsNCg0KCS8vIGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgaXMgYnJva2VuIGluIGlPUyAzLjIuMSBvbiB0aGUgaVBhZC4gVGhlDQoJLy8gY29vcmRpbmF0ZXMgaW5zaWRlIG9mIHRoZSByZWN0IGl0IHJldHVybnMgZG9uJ3QgaGF2ZSB0aGUgcGFnZSBzY3JvbGwgcG9zaXRpb24NCgkvLyBmYWN0b3JlZCBvdXQgb2YgaXQgbGlrZSB0aGUgb3RoZXIgcGxhdGZvcm1zIGRvLiBUbyBnZXQgYXJvdW5kIHRoaXMsDQoJLy8gd2UnbGwganVzdCBjYWxjdWxhdGUgdGhlIHRvcCBvZmZzZXQgdGhlIG9sZCBmYXNoaW9uZWQgd2F5IHVudGlsIGNvcmUgaGFzDQoJLy8gYSBjaGFuY2UgdG8gZmlndXJlIG91dCBob3cgdG8gaGFuZGxlIHRoaXMgc2l0dWF0aW9uLg0KCS8vDQoJLy8gVE9ETzogV2UnbGwgbmVlZCB0byBnZXQgcmlkIG9mIGdldE9mZnNldFRvcCgpIG9uY2UgYSBmaXggZ2V0cyBmb2xkZWQgaW50byBjb3JlLg0KDQoJZnVuY3Rpb24gZ2V0T2Zmc2V0VG9wKCBlbGUgKSB7DQoJCXZhciB0b3AgPSAwLA0KCQkJb3AsIGJvZHk7DQoNCgkJaWYgKCBlbGUgKSB7DQoJCQlib2R5ID0gZG9jdW1lbnQuYm9keTsNCgkJCW9wID0gZWxlLm9mZnNldFBhcmVudDsNCgkJCXRvcCA9IGVsZS5vZmZzZXRUb3A7DQoNCgkJCXdoaWxlICggZWxlICYmIGVsZSAhPSBib2R5ICkgew0KCQkJCXRvcCArPSBlbGUuc2Nyb2xsVG9wIHx8IDA7DQoNCgkJCQlpZiAoIGVsZSA9PSBvcCApIHsNCgkJCQkJdG9wICs9IG9wLm9mZnNldFRvcDsNCgkJCQkJb3AgPSBlbGUub2Zmc2V0UGFyZW50Ow0KCQkJCX0NCg0KCQkJCWVsZSA9IGVsZS5wYXJlbnROb2RlOw0KCQkJfQ0KCQl9DQoJCXJldHVybiB0b3A7DQoJfQ0KDQoJZnVuY3Rpb24gc2V0VG9wKCBlbCApIHsNCgkJdmFyIGZyb21Ub3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCksDQoJCQl0aGlzVG9wID0gZ2V0T2Zmc2V0VG9wKCBlbFsgMCBdICksIC8vIGVsLm9mZnNldCgpLnRvcCByZXR1cm5zIHRoZSB3cm9uZyB2YWx1ZSBvbiBpUGFkIGlPUyAzLjIuMSwgY2FsbCBvdXIgd29ya2Fyb3VuZCBpbnN0ZWFkLg0KCQkJdGhpc0NTU3RvcCA9IGVsLmNzcyggInRvcCIgKSA9PSAiYXV0byIgPyAwIDogcGFyc2VGbG9hdChlbC5jc3MoICJ0b3AiICkpLA0KCQkJc2NyZWVuSGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0LA0KCQkJdGhpc0hlaWdodCA9IGVsLm91dGVySGVpZ2h0KCksDQoJCQl1c2VSZWxhdGl2ZSA9IGVsLnBhcmVudHMoICIudWktcGFnZTpub3QoLnVpLXBhZ2UtZnVsbHNjcmVlbikiICkubGVuZ3RoLA0KCQkJcmVsdmFsOw0KDQoJCWlmICggZWwuaXMoICIudWktaGVhZGVyLWZpeGVkIiApICkgew0KDQoJCQlyZWx2YWwgPSBmcm9tVG9wIC0gdGhpc1RvcCArIHRoaXNDU1N0b3A7DQoNCgkJCWlmICggcmVsdmFsIDwgdGhpc1RvcCApIHsNCgkJCQlyZWx2YWwgPSAwOw0KCQkJfQ0KDQoJCQlyZXR1cm4gZWwuY3NzKCAidG9wIiwgdXNlUmVsYXRpdmUgPyByZWx2YWwgOiBmcm9tVG9wICk7DQoJCX0gZWxzZSB7DQoJCQkvLyByZWx2YWwgPSAtMSAqICh0aGlzVG9wIC0gKGZyb21Ub3AgKyBzY3JlZW5IZWlnaHQpICsgdGhpc0NTU3RvcCArIHRoaXNIZWlnaHQpOw0KCQkJLy8gaWYgKCByZWx2YWwgPiB0aGlzVG9wICkgeyByZWx2YWwgPSAwOyB9DQoJCQlyZWx2YWwgPSBmcm9tVG9wICsgc2NyZWVuSGVpZ2h0IC0gdGhpc0hlaWdodCAtICh0aGlzVG9wIC0gdGhpc0NTU3RvcCApOw0KDQoJCQlyZXR1cm4gZWwuY3NzKCAidG9wIiwgdXNlUmVsYXRpdmUgPyByZWx2YWwgOiBmcm9tVG9wICsgc2NyZWVuSGVpZ2h0IC0gdGhpc0hlaWdodCApOw0KCQl9DQoJfQ0KDQoJLy8gRXhwb3NlZCBtZXRob2RzDQoJcmV0dXJuIHsNCg0KCQlzaG93OiBmdW5jdGlvbiggaW1tZWRpYXRlbHksIHBhZ2UgKSB7DQoNCgkJCSQubW9iaWxlLmZpeGVkVG9vbGJhcnMuY2xlYXJTaG93VGltZXIoKTsNCg0KCQkJY3VycmVudHN0YXRlID0gIm92ZXJsYXkiOw0KDQoJCQl2YXIgJGFwID0gcGFnZSA/ICQoIHBhZ2UgKSA6DQoJCQkJCSggJC5tb2JpbGUuYWN0aXZlUGFnZSA/ICQubW9iaWxlLmFjdGl2ZVBhZ2UgOg0KCQkJCQkJJCggIi51aS1wYWdlLWFjdGl2ZSIgKSApOw0KDQoJCQlyZXR1cm4gJGFwLmNoaWxkcmVuKCB0b29sYmFyU2VsZWN0b3IgKS5lYWNoKGZ1bmN0aW9uKCkgew0KDQoJCQkJdmFyIGVsID0gJCggdGhpcyApLA0KCQkJCQlmcm9tVG9wID0gJCggd2luZG93ICkuc2Nyb2xsVG9wKCksDQoJCQkJCS8vIGVsLm9mZnNldCgpLnRvcCByZXR1cm5zIHRoZSB3cm9uZyB2YWx1ZSBvbiBpUGFkIGlPUyAzLjIuMSwgY2FsbCBvdXIgd29ya2Fyb3VuZCBpbnN0ZWFkLg0KCQkJCQl0aGlzVG9wID0gZ2V0T2Zmc2V0VG9wKCBlbFsgMCBdICksDQoJCQkJCXNjcmVlbkhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCwNCgkJCQkJdGhpc0hlaWdodCA9IGVsLm91dGVySGVpZ2h0KCksDQoJCQkJCWFscmVhZHlWaXNpYmxlID0gKCBlbC5pcyggIi51aS1oZWFkZXItZml4ZWQiICkgJiYgZnJvbVRvcCA8PSB0aGlzVG9wICsgdGhpc0hlaWdodCApIHx8DQoJCQkJCQkJCQkJCQkJCSggZWwuaXMoICIudWktZm9vdGVyLWZpeGVkIiApICYmIHRoaXNUb3AgPD0gZnJvbVRvcCArIHNjcmVlbkhlaWdodCApOw0KDQoJCQkJLy8gQWRkIHN0YXRlIGNsYXNzDQoJCQkJZWwuYWRkQ2xhc3MoICJ1aS1maXhlZC1vdmVybGF5IiApLnJlbW92ZUNsYXNzKCAidWktZml4ZWQtaW5saW5lIiApOw0KDQoJCQkJaWYgKCAhYWxyZWFkeVZpc2libGUgJiYgIWltbWVkaWF0ZWx5ICkgew0KCQkJCQllbC5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpIHsNCgkJCQkJCWVsLnJlbW92ZUNsYXNzKCAiaW4iICk7DQoJCQkJCX0pLmFkZENsYXNzKCAiaW4iICk7DQoJCQkJfQ0KCQkJCXNldFRvcChlbCk7DQoJCQl9KTsNCgkJfSwNCg0KCQloaWRlOiBmdW5jdGlvbiggaW1tZWRpYXRlbHkgKSB7DQoNCgkJCWN1cnJlbnRzdGF0ZSA9ICJpbmxpbmUiOw0KDQoJCQl2YXIgJGFwID0gJC5tb2JpbGUuYWN0aXZlUGFnZSA/ICQubW9iaWxlLmFjdGl2ZVBhZ2UgOg0KCQkJCQkJCQkJJCggIi51aS1wYWdlLWFjdGl2ZSIgKTsNCg0KCQkJcmV0dXJuICRhcC5jaGlsZHJlbiggdG9vbGJhclNlbGVjdG9yICkuZWFjaChmdW5jdGlvbigpIHsNCg0KCQkJCXZhciBlbCA9ICQodGhpcyksDQoJCQkJCXRoaXNDU1N0b3AgPSBlbC5jc3MoICJ0b3AiICksDQoJCQkJCWNsYXNzZXM7DQoNCgkJCQl0aGlzQ1NTdG9wID0gdGhpc0NTU3RvcCA9PSAiYXV0byIgPyAwIDoNCgkJCQkJCQkJCQkJcGFyc2VGbG9hdCh0aGlzQ1NTdG9wKTsNCg0KCQkJCS8vIEFkZCBzdGF0ZSBjbGFzcw0KCQkJCWVsLmFkZENsYXNzKCAidWktZml4ZWQtaW5saW5lIiApLnJlbW92ZUNsYXNzKCAidWktZml4ZWQtb3ZlcmxheSIgKTsNCg0KCQkJCWlmICggdGhpc0NTU3RvcCA8IDAgfHwgKCBlbC5pcyggIi51aS1oZWFkZXItZml4ZWQiICkgJiYgdGhpc0NTU3RvcCAhPT0gMCApICkgew0KDQoJCQkJCWlmICggaW1tZWRpYXRlbHkgKSB7DQoJCQkJCQllbC5jc3MoICJ0b3AiLCAwKTsNCgkJCQkJfSBlbHNlIHsNCg0KCQkJCQkJaWYgKCBlbC5jc3MoICJ0b3AiICkgIT09ICJhdXRvIiAmJiBwYXJzZUZsb2F0KCBlbC5jc3MoICJ0b3AiICkgKSAhPT0gMCApIHsNCg0KCQkJCQkJCWNsYXNzZXMgPSAib3V0IHJldmVyc2UiOw0KDQoJCQkJCQkJZWwuYW5pbWF0aW9uQ29tcGxldGUoZnVuY3Rpb24oKSB7DQoJCQkJCQkJCWVsLnJlbW92ZUNsYXNzKCBjbGFzc2VzICkuY3NzKCAidG9wIiwgMCApOw0KCQkJCQkJCX0pLmFkZENsYXNzKCBjbGFzc2VzICk7DQoJCQkJCQl9DQoJCQkJCX0NCgkJCQl9DQoJCQl9KTsNCgkJfSwNCg0KCQlzdGFydFNob3dUaW1lcjogZnVuY3Rpb24oKSB7DQoNCgkJCSQubW9iaWxlLmZpeGVkVG9vbGJhcnMuY2xlYXJTaG93VGltZXIoKTsNCg0KCQkJdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKCBhcmd1bWVudHMgKTsNCg0KCQkJZGVsYXlUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7DQoJCQkJZGVsYXlUaW1lciA9IHVuZGVmaW5lZDsNCgkJCQkkLm1vYmlsZS5maXhlZFRvb2xiYXJzLnNob3cuYXBwbHkoIG51bGwsIGFyZ3MgKTsNCgkJCX0sIHNob3dEZWxheSk7DQoJCX0sDQoNCgkJY2xlYXJTaG93VGltZXI6IGZ1bmN0aW9uKCkgew0KCQkJaWYgKCBkZWxheVRpbWVyICkgew0KCQkJCWNsZWFyVGltZW91dCggZGVsYXlUaW1lciApOw0KCQkJfQ0KCQkJZGVsYXlUaW1lciA9IHVuZGVmaW5lZDsNCgkJfSwNCg0KCQl0b2dnbGU6IGZ1bmN0aW9uKCBmcm9tICkgew0KCQkJaWYgKCBmcm9tICkgew0KCQkJCWN1cnJlbnRzdGF0ZSA9IGZyb207DQoJCQl9DQoJCQlyZXR1cm4gKCBjdXJyZW50c3RhdGUgPT09ICJvdmVybGF5IiApID8gJC5tb2JpbGUuZml4ZWRUb29sYmFycy5oaWRlKCkgOg0KCQkJCQkJCQkkLm1vYmlsZS5maXhlZFRvb2xiYXJzLnNob3coKTsNCgkJfSwNCg0KCQlzZXRUb3VjaFRvZ2dsZUVuYWJsZWQ6IGZ1bmN0aW9uKCBlbmFibGVkICkgew0KCQkJdG91Y2hUb2dnbGVFbmFibGVkID0gZW5hYmxlZDsNCgkJfQ0KCX07DQp9KSgpOw0KDQovL2F1dG8gc2VsZi1pbml0IHdpZGdldHMNCiQoIGRvY3VtZW50ICkuYmluZCggInBhZ2VjcmVhdGUgY3JlYXRlIiwgZnVuY3Rpb24oIGV2ZW50ICkgew0KDQoJaWYgKCAkKCAiOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykiLCBldmVudC50YXJnZXQgKS5sZW5ndGggKSB7DQoNCgkJJCggZXZlbnQudGFyZ2V0ICkuZWFjaChmdW5jdGlvbigpIHsNCg0KCQkJaWYgKCAhJC5zdXBwb3J0LnNjcm9sbFRvcCB8fCAoICQuc3VwcG9ydC50b3VjaE92ZXJmbG93ICYmICQubW9iaWxlLnRvdWNoT3ZlcmZsb3dFbmFibGVkICkgKSB7DQoJCQkJcmV0dXJuIHRoaXM7DQoJCQl9DQoNCgkJCXZhciAkdGhpcyA9ICQoIHRoaXMgKTsNCg0KCQkJaWYgKCAkdGhpcy5qcW1EYXRhKCAiZnVsbHNjcmVlbiIgKSApIHsNCgkJCQkkdGhpcy5hZGRDbGFzcyggInVpLXBhZ2UtZnVsbHNjcmVlbiIgKTsNCgkJCX0NCg0KCQkJLy8gU2hvdWxkIGJlIHNsaWRlZG93bg0KCQkJJHRoaXMuZmluZCggc2xpZGVEb3duU2VsZWN0b3IgKS5hZGRDbGFzcyggc2xpZGVEb3duQ2xhc3MgKTsNCg0KCQkJLy8gU2hvdWxkIGJlIHNsaWRldXANCgkJCSR0aGlzLmZpbmQoIHNsaWRlVXBTZWxlY3RvciApLmFkZENsYXNzKCBzbGlkZVVwQ2xhc3MgKTsNCg0KCQl9KQ0KDQoJfQ0KfSk7DQoNCn0pKCBqUXVlcnkgKTsNCi8qDQoqICJmaXhIZWFkZXJGb290ZXIiIG5hdGl2ZSBwbHVnaW4gLSBCZWhhdmlvciBmb3IgImZpeGVkIiBoZWFkZXJzLGZvb3RlcnMsIGFuZCBzY3JvbGxpbmcgaW5uZXIgY29udGVudA0KKi8NCg0KKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7DQoNCi8vIEVuYWJsZSB0b3VjaCBvdmVyZmxvdyBzY3JvbGxpbmcgd2hlbiBpdCdzIG5hdGl2ZWx5IHN1cHBvcnRlZA0KJC5tb2JpbGUudG91Y2hPdmVyZmxvd0VuYWJsZWQgPSBmYWxzZTsNCg0KLy8gRW5hYmxlZCB6b29tIHdoZW4gdG91Y2ggb3ZlcmZsb3cgaXMgZW5hYmxlZC4gQ2FuIGNhdXNlIHVzYWJpbGl0eSBpc3N1ZXMsIHVuZm9ydHVuYXRlbHkNCiQubW9iaWxlLnRvdWNoT3ZlcmZsb3dab29tRW5hYmxlZCA9IGZhbHNlOw0KDQokKCBkb2N1bWVudCApLmJpbmQoICJwYWdlY3JlYXRlIiwgZnVuY3Rpb24oIGV2ZW50ICkgew0KCWlmKCAkLnN1cHBvcnQudG91Y2hPdmVyZmxvdyAmJiAkLm1vYmlsZS50b3VjaE92ZXJmbG93RW5hYmxlZCApew0KCQkNCgkJdmFyICR0YXJnZXQgPSAkKCBldmVudC50YXJnZXQgKSwNCgkJCXNjcm9sbFN0YXJ0WSA9IDA7DQoJCQkNCgkJaWYoICR0YXJnZXQuaXMoICI6anFtRGF0YShyb2xlPSdwYWdlJykiICkgKXsNCgkJCQ0KCQkJJHRhcmdldC5lYWNoKGZ1bmN0aW9uKCkgew0KCQkJCXZhciAkcGFnZSA9ICQoIHRoaXMgKSwNCgkJCQkJJGZpeGllcyA9ICRwYWdlLmZpbmQoICI6anFtRGF0YShyb2xlPSdoZWFkZXInKSwgOmpxbURhdGEocm9sZT0nZm9vdGVyJykiICkuZmlsdGVyKCAiOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykiICksDQoJCQkJCWZ1bGxTY3JlZW4gPSAkcGFnZS5qcW1EYXRhKCAiZnVsbHNjcmVlbiIgKSwNCgkJCQkJJHNjcm9sbEVsZW0gPSAkZml4aWVzLmxlbmd0aCA/ICRwYWdlLmZpbmQoICIudWktY29udGVudCIgKSA6ICRwYWdlOw0KCQkJCQ0KCQkJCSRwYWdlLmFkZENsYXNzKCAidWktbW9iaWxlLXRvdWNoLW92ZXJmbG93IiApOw0KCQkJCQ0KCQkJCSRzY3JvbGxFbGVtLmJpbmQoICJzY3JvbGxzdG9wIiwgZnVuY3Rpb24oKXsNCgkJCQkJaWYoICRzY3JvbGxFbGVtLnNjcm9sbFRvcCgpID4gMCApew0KCQkJCQkJd2luZG93LnNjcm9sbFRvKCAwLCAkLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbCApOw0KCQkJCQl9DQoJCQkJfSk7CQ0KCQkJCQ0KCQkJCWlmKCAkZml4aWVzLmxlbmd0aCApew0KCQkJCQkNCgkJCQkJJHBhZ2UuYWRkQ2xhc3MoICJ1aS1uYXRpdmUtZml4ZWQiICk7DQoJCQkJCQ0KCQkJCQlpZiggZnVsbFNjcmVlbiApew0KDQoJCQkJCQkkcGFnZS5hZGRDbGFzcyggInVpLW5hdGl2ZS1mdWxsc2NyZWVuIiApOw0KDQoJCQkJCQkkZml4aWVzLmFkZENsYXNzKCAiZmFkZSBpbiIgKTsNCg0KCQkJCQkJJCggZG9jdW1lbnQgKS5iaW5kKCAidmNsaWNrIiwgZnVuY3Rpb24oKXsNCgkJCQkJCQkkZml4aWVzDQoJCQkJCQkJCS5yZW1vdmVDbGFzcyggInVpLW5hdGl2ZS1iYXJzLWhpZGRlbiIgKQ0KCQkJCQkJCQkudG9nZ2xlQ2xhc3MoICJpbiBvdXQiICkNCgkJCQkJCQkJLmFuaW1hdGlvbkNvbXBsZXRlKGZ1bmN0aW9uKCl7DQoJCQkJCQkJCQkkKHRoaXMpLm5vdCggIi5pbiIgKS5hZGRDbGFzcyggInVpLW5hdGl2ZS1iYXJzLWhpZGRlbiIgKTsNCgkJCQkJCQkJfSk7DQoJCQkJCQl9KTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0pOw0KCQl9DQoJfQ0KfSk7DQoNCn0pKCBqUXVlcnkgKTsNCi8qDQoqICJpbml0IiAtIEluaXRpYWxpemUgdGhlIGZyYW1ld29yaw0KKi8NCg0KKGZ1bmN0aW9uKCAkLCB3aW5kb3csIHVuZGVmaW5lZCApIHsNCgl2YXIJJGh0bWwgPSAkKCAiaHRtbCIgKSwNCgkJCSRoZWFkID0gJCggImhlYWQiICksDQoJCQkkd2luZG93ID0gJCggd2luZG93ICk7DQoNCiAJLy8gdHJpZ2dlciBtb2JpbGVpbml0IGV2ZW50IC0gdXNlZnVsIGhvb2sgZm9yIGNvbmZpZ3VyaW5nICQubW9iaWxlIHNldHRpbmdzIGJlZm9yZSB0aGV5J3JlIHVzZWQNCgkkKCB3aW5kb3cuZG9jdW1lbnQgKS50cmlnZ2VyKCAibW9iaWxlaW5pdCIgKTsNCg0KCS8vIHN1cHBvcnQgY29uZGl0aW9ucw0KCS8vIGlmIGRldmljZSBzdXBwb3J0IGNvbmRpdGlvbihzKSBhcmVuJ3QgbWV0LCBsZWF2ZSB0aGluZ3MgYXMgdGhleSBhcmUgLT4gYSBiYXNpYywgdXNhYmxlIGV4cGVyaWVuY2UsDQoJLy8gb3RoZXJ3aXNlLCBwcm9jZWVkIHdpdGggdGhlIGVuaGFuY2VtZW50cw0KCWlmICggISQubW9iaWxlLmdyYWRlQSgpICkgew0KCQlyZXR1cm47DQoJfQ0KDQoJLy8gb3ZlcnJpZGUgYWpheEVuYWJsZWQgb24gcGxhdGZvcm1zIHRoYXQgaGF2ZSBrbm93biBjb25mbGljdHMgd2l0aCBoYXNoIGhpc3RvcnkgdXBkYXRlcw0KCS8vIG9yIGdlbmVyYWxseSB3b3JrIGJldHRlciBicm93c2luZyBpbiByZWd1bGFyIGh0dHAgZm9yIGZ1bGwgcGFnZSByZWZyZXNoZXMgKEJCNSwgT3BlcmEgTWluaSkNCglpZiAoICQubW9iaWxlLmFqYXhCbGFja2xpc3QgKSB7DQoJCSQubW9iaWxlLmFqYXhFbmFibGVkID0gZmFsc2U7DQoJfQ0KDQoJLy8gYWRkIG1vYmlsZSwgaW5pdGlhbCBsb2FkICJyZW5kZXJpbmciIGNsYXNzZXMgdG8gZG9jRWwNCgkkaHRtbC5hZGRDbGFzcyggInVpLW1vYmlsZSB1aS1tb2JpbGUtcmVuZGVyaW5nIiApOw0KDQoJLy8gbG9hZGluZyBkaXYgd2hpY2ggYXBwZWFycyBkdXJpbmcgQWpheCByZXF1ZXN0cw0KCS8vIHdpbGwgbm90IGFwcGVhciBpZiAkLm1vYmlsZS5sb2FkaW5nTWVzc2FnZSBpcyBmYWxzZQ0KCXZhciAkbG9hZGVyID0gJCggIjxkaXYgY2xhc3M9J3VpLWxvYWRlciB1aS1ib2R5LWEgdWktY29ybmVyLWFsbCc+PHNwYW4gY2xhc3M9J3VpLWljb24gdWktaWNvbi1sb2FkaW5nIHNwaW4nPjwvc3Bhbj48aDE+PC9oMT48L2Rpdj4iICk7DQoNCgkkLmV4dGVuZCgkLm1vYmlsZSwgew0KCQkvLyB0dXJuIG9uL29mZiBwYWdlIGxvYWRpbmcgbWVzc2FnZS4NCgkJc2hvd1BhZ2VMb2FkaW5nTXNnOiBmdW5jdGlvbigpIHsNCgkJCWlmICggJC5tb2JpbGUubG9hZGluZ01lc3NhZ2UgKSB7DQoJCQkJdmFyIGFjdGl2ZUJ0biA9ICQoICIuIiArICQubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzICkuZmlyc3QoKTsNCg0KCQkJCSRsb2FkZXINCgkJCQkJLmZpbmQoICJoMSIgKQ0KCQkJCQkJLnRleHQoICQubW9iaWxlLmxvYWRpbmdNZXNzYWdlICkNCgkJCQkJCS5lbmQoKQ0KCQkJCQkuYXBwZW5kVG8oICQubW9iaWxlLnBhZ2VDb250YWluZXIgKQ0KCQkJCQkvLyBwb3NpdGlvbiBhdCB5IGNlbnRlciAoaWYgc2Nyb2xsVG9wIHN1cHBvcnRlZCksIGFib3ZlIHRoZSBhY3RpdmVCdG4gKGlmIGRlZmluZWQpLCBvciBqdXN0IDEwMHB4IGZyb20gdG9wDQoJCQkJCS5jc3Moew0KCQkJCQkJdG9wOiAkLnN1cHBvcnQuc2Nyb2xsVG9wICYmICR3aW5kb3cuc2Nyb2xsVG9wKCkgKyAkd2luZG93LmhlaWdodCgpIC8gMiB8fA0KCQkJCQkJYWN0aXZlQnRuLmxlbmd0aCAmJiBhY3RpdmVCdG4ub2Zmc2V0KCkudG9wIHx8IDEwMA0KCQkJCQl9KTsNCgkJCX0NCg0KCQkJJGh0bWwuYWRkQ2xhc3MoICJ1aS1sb2FkaW5nIiApOw0KCQl9LA0KDQoJCWhpZGVQYWdlTG9hZGluZ01zZzogZnVuY3Rpb24oKSB7DQoJCQkkaHRtbC5yZW1vdmVDbGFzcyggInVpLWxvYWRpbmciICk7DQoJCX0sDQoNCgkJLy8gZmluZCBhbmQgZW5oYW5jZSB0aGUgcGFnZXMgaW4gdGhlIGRvbSBhbmQgdHJhbnNpdGlvbiB0byB0aGUgZmlyc3QgcGFnZS4NCgkJaW5pdGlhbGl6ZVBhZ2U6IGZ1bmN0aW9uKCkgew0KCQkJLy8gZmluZCBwcmVzZW50IHBhZ2VzDQoJCQl2YXIgJHBhZ2VzID0gJCggIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSIgKTsNCg0KCQkJLy8gaWYgbm8gcGFnZXMgYXJlIGZvdW5kLCBjcmVhdGUgb25lIHdpdGggYm9keSdzIGlubmVyIGh0bWwNCgkJCWlmICggISRwYWdlcy5sZW5ndGggKSB7DQoJCQkJJHBhZ2VzID0gJCggImJvZHkiICkud3JhcElubmVyKCAiPGRpdiBkYXRhLSIgKyAkLm1vYmlsZS5ucyArICJyb2xlPSdwYWdlJz48L2Rpdj4iICkuY2hpbGRyZW4oIDAgKTsNCgkJCX0NCg0KCQkJLy8gYWRkIGRpYWxvZ3MsIHNldCBkYXRhLXVybCBhdHRycw0KCQkJJHBhZ2VzLmFkZCggIjpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIiApLmVhY2goZnVuY3Rpb24oKSB7DQoJCQkJdmFyICR0aGlzID0gJCh0aGlzKTsNCg0KCQkJCS8vIHVubGVzcyB0aGUgZGF0YSB1cmwgaXMgYWxyZWFkeSBzZXQgc2V0IGl0IHRvIHRoZSBwYXRobmFtZQ0KCQkJCWlmICggISR0aGlzLmpxbURhdGEoInVybCIpICkgew0KCQkJCQkkdGhpcy5hdHRyKCAiZGF0YS0iICsgJC5tb2JpbGUubnMgKyAidXJsIiwgJHRoaXMuYXR0ciggImlkIiApIHx8IGxvY2F0aW9uLnBhdGhuYW1lICsgbG9jYXRpb24uc2VhcmNoICk7DQoJCQkJfQ0KCQkJfSk7DQoNCgkJCS8vIGRlZmluZSBmaXJzdCBwYWdlIGluIGRvbSBjYXNlIG9uZSBiYWNrcyBvdXQgdG8gdGhlIGRpcmVjdG9yeSByb290IChub3QgYWx3YXlzIHRoZSBmaXJzdCBwYWdlIHZpc2l0ZWQsIGJ1dCBkZWZpbmVkIGFzIGZhbGxiYWNrKQ0KCQkJJC5tb2JpbGUuZmlyc3RQYWdlID0gJHBhZ2VzLmZpcnN0KCk7DQoNCgkJCS8vIGRlZmluZSBwYWdlIGNvbnRhaW5lcg0KCQkJJC5tb2JpbGUucGFnZUNvbnRhaW5lciA9ICRwYWdlcy5maXJzdCgpLnBhcmVudCgpLmFkZENsYXNzKCAidWktbW9iaWxlLXZpZXdwb3J0IiApOw0KDQoJCQkvLyBhbGVydCBsaXN0ZW5lcnMgdGhhdCB0aGUgcGFnZWNvbnRhaW5lciBoYXMgYmVlbiBkZXRlcm1pbmVkIGZvciBiaW5kaW5nDQoJCQkvLyB0byBldmVudHMgdHJpZ2dlcmVkIG9uIGl0DQoJCQkkd2luZG93LnRyaWdnZXIoICJwYWdlY29udGFpbmVyY3JlYXRlIiApOw0KDQoJCQkvLyBjdWUgcGFnZSBsb2FkaW5nIG1lc3NhZ2UNCgkJCSQubW9iaWxlLnNob3dQYWdlTG9hZGluZ01zZygpOw0KDQoJCQkvLyBpZiBoYXNoY2hhbmdlIGxpc3RlbmluZyBpcyBkaXNhYmxlZCBvciB0aGVyZSdzIG5vIGhhc2ggZGVlcGxpbmssIGNoYW5nZSB0byB0aGUgZmlyc3QgcGFnZSBpbiB0aGUgRE9NDQoJCQlpZiAoICEkLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZCB8fCAhJC5tb2JpbGUucGF0aC5zdHJpcEhhc2goIGxvY2F0aW9uLmhhc2ggKSApIHsNCgkJCQkkLm1vYmlsZS5jaGFuZ2VQYWdlKCAkLm1vYmlsZS5maXJzdFBhZ2UsIHsgdHJhbnNpdGlvbjogIm5vbmUiLCByZXZlcnNlOiB0cnVlLCBjaGFuZ2VIYXNoOiBmYWxzZSwgZnJvbUhhc2hDaGFuZ2U6IHRydWUgfSApOw0KCQkJfQ0KCQkJLy8gb3RoZXJ3aXNlLCB0cmlnZ2VyIGEgaGFzaGNoYW5nZSB0byBsb2FkIGEgZGVlcGxpbmsNCgkJCWVsc2Ugew0KCQkJCSR3aW5kb3cudHJpZ2dlciggImhhc2hjaGFuZ2UiLCBbIHRydWUgXSApOw0KCQkJfQ0KCQl9DQoJfSk7DQoJDQoJLy8gVGhpcyBmdW5jdGlvbiBpbmplY3RzIGEgbWV0YSB2aWV3cG9ydCB0YWcgdG8gcHJldmVudCBzY2FsaW5nLiBPZmYgYnkgZGVmYXVsdCwgb24gYnkgZGVmYXVsdCB3aGVuIHRvdWNoT3ZlcmZsb3cgc2Nyb2xsaW5nIGlzIGVuYWJsZWQNCglmdW5jdGlvbiBkaXNhYmxlWm9vbSgpIHsNCgkJdmFyIGNvbnQgPSAidXNlci1zY2FsYWJsZT1ubyIsDQoJCQltZXRhID0gJCggIm1ldGFbbmFtZT0ndmlld3BvcnQnXSIgKTsNCgkJCQ0KCQlpZiggbWV0YS5sZW5ndGggKXsNCgkJCW1ldGEuYXR0ciggImNvbnRlbnQiLCBtZXRhLmF0dHIoICJjb250ZW50IiApICsgIiwgIiArIGNvbnQgKTsNCgkJfQ0KCQllbHNlew0KCQkJJCggImhlYWQiICkucHJlcGVuZCggIjxtZXRhPiIsIHsgIm5hbWUiOiAidmlld3BvcnQiLCAiY29udGVudCI6IGNvbnQgfSApOw0KCQl9DQoJfQ0KCQ0KCS8vIGlmIHRvdWNoLW92ZXJmbG93IGlzIGVuYWJsZWQsIGRpc2FibGUgdXNlciBzY2FsaW5nLCBhcyBpdCBjcmVhdGVzIHVzYWJpbGl0eSBpc3N1ZXMNCglpZiggJC5zdXBwb3J0LnRvdWNoT3ZlcmZsb3cgJiYgJC5tb2JpbGUudG91Y2hPdmVyZmxvd0VuYWJsZWQgJiYgISQubW9iaWxlLnRvdWNoT3ZlcmZsb3dab29tRW5hYmxlZCApew0KCQlkaXNhYmxlWm9vbSgpOw0KCX0NCg0KCS8vIGluaXRpYWxpemUgZXZlbnRzIG5vdywgYWZ0ZXIgbW9iaWxlaW5pdCBoYXMgb2NjdXJyZWQNCgkkLm1vYmlsZS5fcmVnaXN0ZXJJbnRlcm5hbEV2ZW50cygpOw0KDQoJLy8gY2hlY2sgd2hpY2ggc2Nyb2xsVG9wIHZhbHVlIHNob3VsZCBiZSB1c2VkIGJ5IHNjcm9sbGluZyB0byAxIGltbWVkaWF0ZWx5IGF0IGRvbXJlYWR5DQoJLy8gdGhlbiBjaGVjayB3aGF0IHRoZSBzY3JvbGwgdG9wIGlzLiBBbmRyb2lkIHdpbGwgcmVwb3J0IDAuLi4gb3RoZXJzIDENCgkvLyBub3RlIHRoYXQgdGhpcyBpbml0aWFsIHNjcm9sbCB3b24ndCBoaWRlIHRoZSBhZGRyZXNzIGJhci4gSXQncyBqdXN0IGZvciB0aGUgY2hlY2suDQoJJChmdW5jdGlvbigpIHsNCgkJd2luZG93LnNjcm9sbFRvKCAwLCAxICk7DQoNCgkJLy8gaWYgZGVmYXVsdEhvbWVTY3JvbGwgaGFzbid0IGJlZW4gc2V0IHlldCwgc2VlIGlmIHNjcm9sbFRvcCBpcyAxDQoJCS8vIGl0IHNob3VsZCBiZSAxIGluIG1vc3QgYnJvd3NlcnMsIGJ1dCBhbmRyb2lkIHRyZWF0cyAxIGFzIDAgKGZvciBoaWRpbmcgYWRkciBiYXIpDQoJCS8vIHNvIGlmIGl0J3MgMSwgdXNlIDAgZnJvbSBub3cgb24NCgkJJC5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwgPSAoICEkLnN1cHBvcnQuc2Nyb2xsVG9wIHx8ICQod2luZG93KS5zY3JvbGxUb3AoKSA9PT0gMSApID8gMCA6IDE7DQoNCgkJLy9kb20tcmVhZHkgaW5pdHMNCgkJaWYoICQubW9iaWxlLmF1dG9Jbml0aWFsaXplUGFnZSApew0KCQkJJC5tb2JpbGUuaW5pdGlhbGl6ZVBhZ2UoKTsNCgkJfQ0KDQoJCS8vIHdpbmRvdyBsb2FkIGV2ZW50DQoJCS8vIGhpZGUgaU9TIGJyb3dzZXIgY2hyb21lIG9uIGxvYWQNCgkJJHdpbmRvdy5sb2FkKCAkLm1vYmlsZS5zaWxlbnRTY3JvbGwgKTsNCgl9KTsNCn0pKCBqUXVlcnksIHRoaXMgKTs=]]></item_file_attachment>
    <item_file_attachment_ext><![CDATA[.js]]></item_file_attachment_ext>
    <item_file_attachment_filename><![CDATA[jquery.mobile-1.0rc2.js]]></item_file_attachment_filename>
    <item_file_attachment_size><![CDATA[221783]]></item_file_attachment_size>
    <item_file_attachment_type><![CDATA[application/unknown]]></item_file_attachment_type>
    <name><![CDATA[jquery.mobile-1.0rc2]]></name>
  </item>
  <item>
    <mig_id>jquery-ui.min</mig_id>
    <community>siteAdmin</community>
    <contenttype>nciJavaScriptInternalInfo</contenttype>
    <folder>/configuration/js</folder>
    <long_title><![CDATA[jquery-ui.min]]></long_title>
    <pretty_url_name><![CDATA[jquery-ui.min]]></pretty_url_name>
    <item_file_attachment><![CDATA[LyohCiAqIGpRdWVyeSBVSSAxLjguMTIKICoKICogQ29weXJpZ2h0IDIwMTEsIEFVVEhPUlMudHh0IChodHRwOi8vanF1ZXJ5dWkuY29tL2Fib3V0KQogKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgb3IgR1BMIFZlcnNpb24gMiBsaWNlbnNlcy4KICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQogKgogKiBodHRwOi8vZG9jcy5qcXVlcnkuY29tL1VJCiAqLwooZnVuY3Rpb24oYixkKXtmdW5jdGlvbiBlKGYpe3JldHVybiFiKGYpLnBhcmVudHMoKS5hbmRTZWxmKCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIGIuY3VyQ1NTKHRoaXMsInZpc2liaWxpdHkiKT09PSJoaWRkZW4ifHxiLmV4cHIuZmlsdGVycy5oaWRkZW4odGhpcyl9KS5sZW5ndGh9Yi51aT1iLnVpfHx7fTtpZighYi51aS52ZXJzaW9uKXtiLmV4dGVuZChiLnVpLHt2ZXJzaW9uOiIxLjguMTIiLGtleUNvZGU6e0FMVDoxOCxCQUNLU1BBQ0U6OCxDQVBTX0xPQ0s6MjAsQ09NTUE6MTg4LENPTU1BTkQ6OTEsQ09NTUFORF9MRUZUOjkxLENPTU1BTkRfUklHSFQ6OTMsQ09OVFJPTDoxNyxERUxFVEU6NDYsRE9XTjo0MCxFTkQ6MzUsRU5URVI6MTMsRVNDQVBFOjI3LEhPTUU6MzYsSU5TRVJUOjQ1LExFRlQ6MzcsTUVOVTo5MyxOVU1QQURfQUREOjEwNyxOVU1QQURfREVDSU1BTDoxMTAsTlVNUEFEX0RJVklERToxMTEsTlVNUEFEX0VOVEVSOjEwOCxOVU1QQURfTVVMVElQTFk6MTA2LApOVU1QQURfU1VCVFJBQ1Q6MTA5LFBBR0VfRE9XTjozNCxQQUdFX1VQOjMzLFBFUklPRDoxOTAsUklHSFQ6MzksU0hJRlQ6MTYsU1BBQ0U6MzIsVEFCOjksVVA6MzgsV0lORE9XUzo5MX19KTtiLmZuLmV4dGVuZCh7X2ZvY3VzOmIuZm4uZm9jdXMsZm9jdXM6ZnVuY3Rpb24oZixnKXtyZXR1cm4gdHlwZW9mIGY9PT0ibnVtYmVyIj90aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYT10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtiKGEpLmZvY3VzKCk7ZyYmZy5jYWxsKGEpfSxmKX0pOnRoaXMuX2ZvY3VzLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sc2Nyb2xsUGFyZW50OmZ1bmN0aW9uKCl7dmFyIGY7Zj1iLmJyb3dzZXIubXNpZSYmLyhzdGF0aWN8cmVsYXRpdmUpLy50ZXN0KHRoaXMuY3NzKCJwb3NpdGlvbiIpKXx8L2Fic29sdXRlLy50ZXN0KHRoaXMuY3NzKCJwb3NpdGlvbiIpKT90aGlzLnBhcmVudHMoKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4vKHJlbGF0aXZlfGFic29sdXRlfGZpeGVkKS8udGVzdChiLmN1ckNTUyh0aGlzLAoicG9zaXRpb24iLDEpKSYmLyhhdXRvfHNjcm9sbCkvLnRlc3QoYi5jdXJDU1ModGhpcywib3ZlcmZsb3ciLDEpK2IuY3VyQ1NTKHRoaXMsIm92ZXJmbG93LXkiLDEpK2IuY3VyQ1NTKHRoaXMsIm92ZXJmbG93LXgiLDEpKX0pLmVxKDApOnRoaXMucGFyZW50cygpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybi8oYXV0b3xzY3JvbGwpLy50ZXN0KGIuY3VyQ1NTKHRoaXMsIm92ZXJmbG93IiwxKStiLmN1ckNTUyh0aGlzLCJvdmVyZmxvdy15IiwxKStiLmN1ckNTUyh0aGlzLCJvdmVyZmxvdy14IiwxKSl9KS5lcSgwKTtyZXR1cm4vZml4ZWQvLnRlc3QodGhpcy5jc3MoInBvc2l0aW9uIikpfHwhZi5sZW5ndGg/Yihkb2N1bWVudCk6Zn0sekluZGV4OmZ1bmN0aW9uKGYpe2lmKGYhPT1kKXJldHVybiB0aGlzLmNzcygiekluZGV4IixmKTtpZih0aGlzLmxlbmd0aCl7Zj1iKHRoaXNbMF0pO2Zvcih2YXIgZztmLmxlbmd0aCYmZlswXSE9PWRvY3VtZW50Oyl7Zz1mLmNzcygicG9zaXRpb24iKTsKaWYoZz09PSJhYnNvbHV0ZSJ8fGc9PT0icmVsYXRpdmUifHxnPT09ImZpeGVkIil7Zz1wYXJzZUludChmLmNzcygiekluZGV4IiksMTApO2lmKCFpc05hTihnKSYmZyE9PTApcmV0dXJuIGd9Zj1mLnBhcmVudCgpfX1yZXR1cm4gMH0sZGlzYWJsZVNlbGVjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJpbmQoKGIuc3VwcG9ydC5zZWxlY3RzdGFydD8ic2VsZWN0c3RhcnQiOiJtb3VzZWRvd24iKSsiLnVpLWRpc2FibGVTZWxlY3Rpb24iLGZ1bmN0aW9uKGYpe2YucHJldmVudERlZmF1bHQoKX0pfSxlbmFibGVTZWxlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmJpbmQoIi51aS1kaXNhYmxlU2VsZWN0aW9uIil9fSk7Yi5lYWNoKFsiV2lkdGgiLCJIZWlnaHQiXSxmdW5jdGlvbihmLGcpe2Z1bmN0aW9uIGEoaixuLG8sbCl7Yi5lYWNoKGMsZnVuY3Rpb24oKXtuLT1wYXJzZUZsb2F0KGIuY3VyQ1NTKGosInBhZGRpbmciK3RoaXMsdHJ1ZSkpfHwwO2lmKG8pbi09cGFyc2VGbG9hdChiLmN1ckNTUyhqLAoiYm9yZGVyIit0aGlzKyJXaWR0aCIsdHJ1ZSkpfHwwO2lmKGwpbi09cGFyc2VGbG9hdChiLmN1ckNTUyhqLCJtYXJnaW4iK3RoaXMsdHJ1ZSkpfHwwfSk7cmV0dXJuIG59dmFyIGM9Zz09PSJXaWR0aCI/WyJMZWZ0IiwiUmlnaHQiXTpbIlRvcCIsIkJvdHRvbSJdLGg9Zy50b0xvd2VyQ2FzZSgpLGk9e2lubmVyV2lkdGg6Yi5mbi5pbm5lcldpZHRoLGlubmVySGVpZ2h0OmIuZm4uaW5uZXJIZWlnaHQsb3V0ZXJXaWR0aDpiLmZuLm91dGVyV2lkdGgsb3V0ZXJIZWlnaHQ6Yi5mbi5vdXRlckhlaWdodH07Yi5mblsiaW5uZXIiK2ddPWZ1bmN0aW9uKGope2lmKGo9PT1kKXJldHVybiBpWyJpbm5lciIrZ10uY2FsbCh0aGlzKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Yih0aGlzKS5jc3MoaCxhKHRoaXMsaikrInB4Iil9KX07Yi5mblsib3V0ZXIiK2ddPWZ1bmN0aW9uKGosbil7aWYodHlwZW9mIGohPT0ibnVtYmVyIilyZXR1cm4gaVsib3V0ZXIiK2ddLmNhbGwodGhpcyxqKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Yih0aGlzKS5jc3MoaCwKYSh0aGlzLGosdHJ1ZSxuKSsicHgiKX0pfX0pO2IuZXh0ZW5kKGIuZXhwclsiOiJdLHtkYXRhOmZ1bmN0aW9uKGYsZyxhKXtyZXR1cm4hIWIuZGF0YShmLGFbM10pfSxmb2N1c2FibGU6ZnVuY3Rpb24oZil7dmFyIGc9Zi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGE9Yi5hdHRyKGYsInRhYmluZGV4Iik7aWYoImFyZWEiPT09Zyl7Zz1mLnBhcmVudE5vZGU7YT1nLm5hbWU7aWYoIWYuaHJlZnx8IWF8fGcubm9kZU5hbWUudG9Mb3dlckNhc2UoKSE9PSJtYXAiKXJldHVybiBmYWxzZTtmPWIoImltZ1t1c2VtYXA9IyIrYSsiXSIpWzBdO3JldHVybiEhZiYmZShmKX1yZXR1cm4oL2lucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b258b2JqZWN0Ly50ZXN0KGcpPyFmLmRpc2FibGVkOiJhIj09Zz9mLmhyZWZ8fCFpc05hTihhKTohaXNOYU4oYSkpJiZlKGYpfSx0YWJiYWJsZTpmdW5jdGlvbihmKXt2YXIgZz1iLmF0dHIoZiwidGFiaW5kZXgiKTtyZXR1cm4oaXNOYU4oZyl8fGc+PTApJiZiKGYpLmlzKCI6Zm9jdXNhYmxlIil9fSk7CmIoZnVuY3Rpb24oKXt2YXIgZj1kb2N1bWVudC5ib2R5LGc9Zi5hcHBlbmRDaGlsZChnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpKTtiLmV4dGVuZChnLnN0eWxlLHttaW5IZWlnaHQ6IjEwMHB4IixoZWlnaHQ6ImF1dG8iLHBhZGRpbmc6MCxib3JkZXJXaWR0aDowfSk7Yi5zdXBwb3J0Lm1pbkhlaWdodD1nLm9mZnNldEhlaWdodD09PTEwMDtiLnN1cHBvcnQuc2VsZWN0c3RhcnQ9Im9uc2VsZWN0c3RhcnQiaW4gZztmLnJlbW92ZUNoaWxkKGcpLnN0eWxlLmRpc3BsYXk9Im5vbmUifSk7Yi5leHRlbmQoYi51aSx7cGx1Z2luOnthZGQ6ZnVuY3Rpb24oZixnLGEpe2Y9Yi51aVtmXS5wcm90b3R5cGU7Zm9yKHZhciBjIGluIGEpe2YucGx1Z2luc1tjXT1mLnBsdWdpbnNbY118fFtdO2YucGx1Z2luc1tjXS5wdXNoKFtnLGFbY11dKX19LGNhbGw6ZnVuY3Rpb24oZixnLGEpe2lmKChnPWYucGx1Z2luc1tnXSkmJmYuZWxlbWVudFswXS5wYXJlbnROb2RlKWZvcih2YXIgYz0wO2M8Zy5sZW5ndGg7YysrKWYub3B0aW9uc1tnW2NdWzBdXSYmCmdbY11bMV0uYXBwbHkoZi5lbGVtZW50LGEpfX0sY29udGFpbnM6ZnVuY3Rpb24oZixnKXtyZXR1cm4gZG9jdW1lbnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24/Zi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihnKSYxNjpmIT09ZyYmZi5jb250YWlucyhnKX0saGFzU2Nyb2xsOmZ1bmN0aW9uKGYsZyl7aWYoYihmKS5jc3MoIm92ZXJmbG93Iik9PT0iaGlkZGVuIilyZXR1cm4gZmFsc2U7Zz1nJiZnPT09ImxlZnQiPyJzY3JvbGxMZWZ0Ijoic2Nyb2xsVG9wIjt2YXIgYT1mYWxzZTtpZihmW2ddPjApcmV0dXJuIHRydWU7ZltnXT0xO2E9ZltnXT4wO2ZbZ109MDtyZXR1cm4gYX0saXNPdmVyQXhpczpmdW5jdGlvbihmLGcsYSl7cmV0dXJuIGY+ZyYmZjxnK2F9LGlzT3ZlcjpmdW5jdGlvbihmLGcsYSxjLGgsaSl7cmV0dXJuIGIudWkuaXNPdmVyQXhpcyhmLGEsaCkmJmIudWkuaXNPdmVyQXhpcyhnLGMsaSl9fSl9fSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGIsZCl7aWYoYi5jbGVhbkRhdGEpe3ZhciBlPWIuY2xlYW5EYXRhO2IuY2xlYW5EYXRhPWZ1bmN0aW9uKGcpe2Zvcih2YXIgYT0wLGM7KGM9Z1thXSkhPW51bGw7YSsrKWIoYykudHJpZ2dlckhhbmRsZXIoInJlbW92ZSIpO2UoZyl9fWVsc2V7dmFyIGY9Yi5mbi5yZW1vdmU7Yi5mbi5yZW1vdmU9ZnVuY3Rpb24oZyxhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7aWYoIWEpaWYoIWd8fGIuZmlsdGVyKGcsW3RoaXNdKS5sZW5ndGgpYigiKiIsdGhpcykuYWRkKFt0aGlzXSkuZWFjaChmdW5jdGlvbigpe2IodGhpcykudHJpZ2dlckhhbmRsZXIoInJlbW92ZSIpfSk7cmV0dXJuIGYuY2FsbChiKHRoaXMpLGcsYSl9KX19Yi53aWRnZXQ9ZnVuY3Rpb24oZyxhLGMpe3ZhciBoPWcuc3BsaXQoIi4iKVswXSxpO2c9Zy5zcGxpdCgiLiIpWzFdO2k9aCsiLSIrZztpZighYyl7Yz1hO2E9Yi5XaWRnZXR9Yi5leHByWyI6Il1baV09ZnVuY3Rpb24oail7cmV0dXJuISFiLmRhdGEoaiwKZyl9O2JbaF09YltoXXx8e307YltoXVtnXT1mdW5jdGlvbihqLG4pe2FyZ3VtZW50cy5sZW5ndGgmJnRoaXMuX2NyZWF0ZVdpZGdldChqLG4pfTthPW5ldyBhO2Eub3B0aW9ucz1iLmV4dGVuZCh0cnVlLHt9LGEub3B0aW9ucyk7YltoXVtnXS5wcm90b3R5cGU9Yi5leHRlbmQodHJ1ZSxhLHtuYW1lc3BhY2U6aCx3aWRnZXROYW1lOmcsd2lkZ2V0RXZlbnRQcmVmaXg6YltoXVtnXS5wcm90b3R5cGUud2lkZ2V0RXZlbnRQcmVmaXh8fGcsd2lkZ2V0QmFzZUNsYXNzOml9LGMpO2Iud2lkZ2V0LmJyaWRnZShnLGJbaF1bZ10pfTtiLndpZGdldC5icmlkZ2U9ZnVuY3Rpb24oZyxhKXtiLmZuW2ddPWZ1bmN0aW9uKGMpe3ZhciBoPXR5cGVvZiBjPT09InN0cmluZyIsaT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksaj10aGlzO2M9IWgmJmkubGVuZ3RoP2IuZXh0ZW5kLmFwcGx5KG51bGwsW3RydWUsY10uY29uY2F0KGkpKTpjO2lmKGgmJmMuY2hhckF0KDApPT09Il8iKXJldHVybiBqOwpoP3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBuPWIuZGF0YSh0aGlzLGcpLG89biYmYi5pc0Z1bmN0aW9uKG5bY10pP25bY10uYXBwbHkobixpKTpuO2lmKG8hPT1uJiZvIT09ZCl7aj1vO3JldHVybiBmYWxzZX19KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgbj1iLmRhdGEodGhpcyxnKTtuP24ub3B0aW9uKGN8fHt9KS5faW5pdCgpOmIuZGF0YSh0aGlzLGcsbmV3IGEoYyx0aGlzKSl9KTtyZXR1cm4gan19O2IuV2lkZ2V0PWZ1bmN0aW9uKGcsYSl7YXJndW1lbnRzLmxlbmd0aCYmdGhpcy5fY3JlYXRlV2lkZ2V0KGcsYSl9O2IuV2lkZ2V0LnByb3RvdHlwZT17d2lkZ2V0TmFtZToid2lkZ2V0Iix3aWRnZXRFdmVudFByZWZpeDoiIixvcHRpb25zOntkaXNhYmxlZDpmYWxzZX0sX2NyZWF0ZVdpZGdldDpmdW5jdGlvbihnLGEpe2IuZGF0YShhLHRoaXMud2lkZ2V0TmFtZSx0aGlzKTt0aGlzLmVsZW1lbnQ9YihhKTt0aGlzLm9wdGlvbnM9Yi5leHRlbmQodHJ1ZSx7fSx0aGlzLm9wdGlvbnMsCnRoaXMuX2dldENyZWF0ZU9wdGlvbnMoKSxnKTt2YXIgYz10aGlzO3RoaXMuZWxlbWVudC5iaW5kKCJyZW1vdmUuIit0aGlzLndpZGdldE5hbWUsZnVuY3Rpb24oKXtjLmRlc3Ryb3koKX0pO3RoaXMuX2NyZWF0ZSgpO3RoaXMuX3RyaWdnZXIoImNyZWF0ZSIpO3RoaXMuX2luaXQoKX0sX2dldENyZWF0ZU9wdGlvbnM6ZnVuY3Rpb24oKXtyZXR1cm4gYi5tZXRhZGF0YSYmYi5tZXRhZGF0YS5nZXQodGhpcy5lbGVtZW50WzBdKVt0aGlzLndpZGdldE5hbWVdfSxfY3JlYXRlOmZ1bmN0aW9uKCl7fSxfaW5pdDpmdW5jdGlvbigpe30sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC51bmJpbmQoIi4iK3RoaXMud2lkZ2V0TmFtZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldE5hbWUpO3RoaXMud2lkZ2V0KCkudW5iaW5kKCIuIit0aGlzLndpZGdldE5hbWUpLnJlbW92ZUF0dHIoImFyaWEtZGlzYWJsZWQiKS5yZW1vdmVDbGFzcyh0aGlzLndpZGdldEJhc2VDbGFzcysiLWRpc2FibGVkIHVpLXN0YXRlLWRpc2FibGVkIil9LAp3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50fSxvcHRpb246ZnVuY3Rpb24oZyxhKXt2YXIgYz1nO2lmKGFyZ3VtZW50cy5sZW5ndGg9PT0wKXJldHVybiBiLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMpO2lmKHR5cGVvZiBnPT09InN0cmluZyIpe2lmKGE9PT1kKXJldHVybiB0aGlzLm9wdGlvbnNbZ107Yz17fTtjW2ddPWF9dGhpcy5fc2V0T3B0aW9ucyhjKTtyZXR1cm4gdGhpc30sX3NldE9wdGlvbnM6ZnVuY3Rpb24oZyl7dmFyIGE9dGhpcztiLmVhY2goZyxmdW5jdGlvbihjLGgpe2EuX3NldE9wdGlvbihjLGgpfSk7cmV0dXJuIHRoaXN9LF9zZXRPcHRpb246ZnVuY3Rpb24oZyxhKXt0aGlzLm9wdGlvbnNbZ109YTtpZihnPT09ImRpc2FibGVkIil0aGlzLndpZGdldCgpW2E/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXSh0aGlzLndpZGdldEJhc2VDbGFzcysiLWRpc2FibGVkIHVpLXN0YXRlLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsYSk7cmV0dXJuIHRoaXN9LAplbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsZmFsc2UpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLHRydWUpfSxfdHJpZ2dlcjpmdW5jdGlvbihnLGEsYyl7dmFyIGg9dGhpcy5vcHRpb25zW2ddO2E9Yi5FdmVudChhKTthLnR5cGU9KGc9PT10aGlzLndpZGdldEV2ZW50UHJlZml4P2c6dGhpcy53aWRnZXRFdmVudFByZWZpeCtnKS50b0xvd2VyQ2FzZSgpO2M9Y3x8e307aWYoYS5vcmlnaW5hbEV2ZW50KXtnPWIuZXZlbnQucHJvcHMubGVuZ3RoO2Zvcih2YXIgaTtnOyl7aT1iLmV2ZW50LnByb3BzWy0tZ107YVtpXT1hLm9yaWdpbmFsRXZlbnRbaV19fXRoaXMuZWxlbWVudC50cmlnZ2VyKGEsYyk7cmV0dXJuIShiLmlzRnVuY3Rpb24oaCkmJmguY2FsbCh0aGlzLmVsZW1lbnRbMF0sYSxjKT09PWZhbHNlfHxhLmlzRGVmYXVsdFByZXZlbnRlZCgpKX19fSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGIpe2Iud2lkZ2V0KCJ1aS5tb3VzZSIse29wdGlvbnM6e2NhbmNlbDoiOmlucHV0LG9wdGlvbiIsZGlzdGFuY2U6MSxkZWxheTowfSxfbW91c2VJbml0OmZ1bmN0aW9uKCl7dmFyIGQ9dGhpczt0aGlzLmVsZW1lbnQuYmluZCgibW91c2Vkb3duLiIrdGhpcy53aWRnZXROYW1lLGZ1bmN0aW9uKGUpe3JldHVybiBkLl9tb3VzZURvd24oZSl9KS5iaW5kKCJjbGljay4iK3RoaXMud2lkZ2V0TmFtZSxmdW5jdGlvbihlKXtpZih0cnVlPT09Yi5kYXRhKGUudGFyZ2V0LGQud2lkZ2V0TmFtZSsiLnByZXZlbnRDbGlja0V2ZW50Iikpe2IucmVtb3ZlRGF0YShlLnRhcmdldCxkLndpZGdldE5hbWUrIi5wcmV2ZW50Q2xpY2tFdmVudCIpO2Uuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7cmV0dXJuIGZhbHNlfX0pO3RoaXMuc3RhcnRlZD1mYWxzZX0sX21vdXNlRGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC51bmJpbmQoIi4iK3RoaXMud2lkZ2V0TmFtZSl9LF9tb3VzZURvd246ZnVuY3Rpb24oZCl7ZC5vcmlnaW5hbEV2ZW50PQpkLm9yaWdpbmFsRXZlbnR8fHt9O2lmKCFkLm9yaWdpbmFsRXZlbnQubW91c2VIYW5kbGVkKXt0aGlzLl9tb3VzZVN0YXJ0ZWQmJnRoaXMuX21vdXNlVXAoZCk7dGhpcy5fbW91c2VEb3duRXZlbnQ9ZDt2YXIgZT10aGlzLGY9ZC53aGljaD09MSxnPXR5cGVvZiB0aGlzLm9wdGlvbnMuY2FuY2VsPT0ic3RyaW5nIj9iKGQudGFyZ2V0KS5wYXJlbnRzKCkuYWRkKGQudGFyZ2V0KS5maWx0ZXIodGhpcy5vcHRpb25zLmNhbmNlbCkubGVuZ3RoOmZhbHNlO2lmKCFmfHxnfHwhdGhpcy5fbW91c2VDYXB0dXJlKGQpKXJldHVybiB0cnVlO3RoaXMubW91c2VEZWxheU1ldD0hdGhpcy5vcHRpb25zLmRlbGF5O2lmKCF0aGlzLm1vdXNlRGVsYXlNZXQpdGhpcy5fbW91c2VEZWxheVRpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLm1vdXNlRGVsYXlNZXQ9dHJ1ZX0sdGhpcy5vcHRpb25zLmRlbGF5KTtpZih0aGlzLl9tb3VzZURpc3RhbmNlTWV0KGQpJiZ0aGlzLl9tb3VzZURlbGF5TWV0KGQpKXt0aGlzLl9tb3VzZVN0YXJ0ZWQ9CnRoaXMuX21vdXNlU3RhcnQoZCkhPT1mYWxzZTtpZighdGhpcy5fbW91c2VTdGFydGVkKXtkLnByZXZlbnREZWZhdWx0KCk7cmV0dXJuIHRydWV9fXRydWU9PT1iLmRhdGEoZC50YXJnZXQsdGhpcy53aWRnZXROYW1lKyIucHJldmVudENsaWNrRXZlbnQiKSYmYi5yZW1vdmVEYXRhKGQudGFyZ2V0LHRoaXMud2lkZ2V0TmFtZSsiLnByZXZlbnRDbGlja0V2ZW50Iik7dGhpcy5fbW91c2VNb3ZlRGVsZWdhdGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGUuX21vdXNlTW92ZShhKX07dGhpcy5fbW91c2VVcERlbGVnYXRlPWZ1bmN0aW9uKGEpe3JldHVybiBlLl9tb3VzZVVwKGEpfTtiKGRvY3VtZW50KS5iaW5kKCJtb3VzZW1vdmUuIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUpLmJpbmQoIm1vdXNldXAuIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VVcERlbGVnYXRlKTtkLnByZXZlbnREZWZhdWx0KCk7cmV0dXJuIGQub3JpZ2luYWxFdmVudC5tb3VzZUhhbmRsZWQ9CnRydWV9fSxfbW91c2VNb3ZlOmZ1bmN0aW9uKGQpe2lmKGIuYnJvd3Nlci5tc2llJiYhKGRvY3VtZW50LmRvY3VtZW50TW9kZT49OSkmJiFkLmJ1dHRvbilyZXR1cm4gdGhpcy5fbW91c2VVcChkKTtpZih0aGlzLl9tb3VzZVN0YXJ0ZWQpe3RoaXMuX21vdXNlRHJhZyhkKTtyZXR1cm4gZC5wcmV2ZW50RGVmYXVsdCgpfWlmKHRoaXMuX21vdXNlRGlzdGFuY2VNZXQoZCkmJnRoaXMuX21vdXNlRGVsYXlNZXQoZCkpKHRoaXMuX21vdXNlU3RhcnRlZD10aGlzLl9tb3VzZVN0YXJ0KHRoaXMuX21vdXNlRG93bkV2ZW50LGQpIT09ZmFsc2UpP3RoaXMuX21vdXNlRHJhZyhkKTp0aGlzLl9tb3VzZVVwKGQpO3JldHVybiF0aGlzLl9tb3VzZVN0YXJ0ZWR9LF9tb3VzZVVwOmZ1bmN0aW9uKGQpe2IoZG9jdW1lbnQpLnVuYmluZCgibW91c2Vtb3ZlLiIrdGhpcy53aWRnZXROYW1lLHRoaXMuX21vdXNlTW92ZURlbGVnYXRlKS51bmJpbmQoIm1vdXNldXAuIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VVcERlbGVnYXRlKTsKaWYodGhpcy5fbW91c2VTdGFydGVkKXt0aGlzLl9tb3VzZVN0YXJ0ZWQ9ZmFsc2U7ZC50YXJnZXQ9PXRoaXMuX21vdXNlRG93bkV2ZW50LnRhcmdldCYmYi5kYXRhKGQudGFyZ2V0LHRoaXMud2lkZ2V0TmFtZSsiLnByZXZlbnRDbGlja0V2ZW50Iix0cnVlKTt0aGlzLl9tb3VzZVN0b3AoZCl9cmV0dXJuIGZhbHNlfSxfbW91c2VEaXN0YW5jZU1ldDpmdW5jdGlvbihkKXtyZXR1cm4gTWF0aC5tYXgoTWF0aC5hYnModGhpcy5fbW91c2VEb3duRXZlbnQucGFnZVgtZC5wYWdlWCksTWF0aC5hYnModGhpcy5fbW91c2VEb3duRXZlbnQucGFnZVktZC5wYWdlWSkpPj10aGlzLm9wdGlvbnMuZGlzdGFuY2V9LF9tb3VzZURlbGF5TWV0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW91c2VEZWxheU1ldH0sX21vdXNlU3RhcnQ6ZnVuY3Rpb24oKXt9LF9tb3VzZURyYWc6ZnVuY3Rpb24oKXt9LF9tb3VzZVN0b3A6ZnVuY3Rpb24oKXt9LF9tb3VzZUNhcHR1cmU6ZnVuY3Rpb24oKXtyZXR1cm4gdHJ1ZX19KX0pKGpRdWVyeSk7CihmdW5jdGlvbihiKXtiLndpZGdldCgidWkuZHJhZ2dhYmxlIixiLnVpLm1vdXNlLHt3aWRnZXRFdmVudFByZWZpeDoiZHJhZyIsb3B0aW9uczp7YWRkQ2xhc3Nlczp0cnVlLGFwcGVuZFRvOiJwYXJlbnQiLGF4aXM6ZmFsc2UsY29ubmVjdFRvU29ydGFibGU6ZmFsc2UsY29udGFpbm1lbnQ6ZmFsc2UsY3Vyc29yOiJhdXRvIixjdXJzb3JBdDpmYWxzZSxncmlkOmZhbHNlLGhhbmRsZTpmYWxzZSxoZWxwZXI6Im9yaWdpbmFsIixpZnJhbWVGaXg6ZmFsc2Usb3BhY2l0eTpmYWxzZSxyZWZyZXNoUG9zaXRpb25zOmZhbHNlLHJldmVydDpmYWxzZSxyZXZlcnREdXJhdGlvbjo1MDAsc2NvcGU6ImRlZmF1bHQiLHNjcm9sbDp0cnVlLHNjcm9sbFNlbnNpdGl2aXR5OjIwLHNjcm9sbFNwZWVkOjIwLHNuYXA6ZmFsc2Usc25hcE1vZGU6ImJvdGgiLHNuYXBUb2xlcmFuY2U6MjAsc3RhY2s6ZmFsc2UsekluZGV4OmZhbHNlfSxfY3JlYXRlOmZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLmhlbHBlcj09CiJvcmlnaW5hbCImJiEvXig/OnJ8YXxmKS8udGVzdCh0aGlzLmVsZW1lbnQuY3NzKCJwb3NpdGlvbiIpKSl0aGlzLmVsZW1lbnRbMF0uc3R5bGUucG9zaXRpb249InJlbGF0aXZlIjt0aGlzLm9wdGlvbnMuYWRkQ2xhc3NlcyYmdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1kcmFnZ2FibGUiKTt0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktZHJhZ2dhYmxlLWRpc2FibGVkIik7dGhpcy5fbW91c2VJbml0KCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtpZih0aGlzLmVsZW1lbnQuZGF0YSgiZHJhZ2dhYmxlIikpe3RoaXMuZWxlbWVudC5yZW1vdmVEYXRhKCJkcmFnZ2FibGUiKS51bmJpbmQoIi5kcmFnZ2FibGUiKS5yZW1vdmVDbGFzcygidWktZHJhZ2dhYmxlIHVpLWRyYWdnYWJsZS1kcmFnZ2luZyB1aS1kcmFnZ2FibGUtZGlzYWJsZWQiKTt0aGlzLl9tb3VzZURlc3Ryb3koKTtyZXR1cm4gdGhpc319LF9tb3VzZUNhcHR1cmU6ZnVuY3Rpb24oZCl7dmFyIGU9CnRoaXMub3B0aW9ucztpZih0aGlzLmhlbHBlcnx8ZS5kaXNhYmxlZHx8YihkLnRhcmdldCkuaXMoIi51aS1yZXNpemFibGUtaGFuZGxlIikpcmV0dXJuIGZhbHNlO3RoaXMuaGFuZGxlPXRoaXMuX2dldEhhbmRsZShkKTtpZighdGhpcy5oYW5kbGUpcmV0dXJuIGZhbHNlO3JldHVybiB0cnVlfSxfbW91c2VTdGFydDpmdW5jdGlvbihkKXt2YXIgZT10aGlzLm9wdGlvbnM7dGhpcy5oZWxwZXI9dGhpcy5fY3JlYXRlSGVscGVyKGQpO3RoaXMuX2NhY2hlSGVscGVyUHJvcG9ydGlvbnMoKTtpZihiLnVpLmRkbWFuYWdlciliLnVpLmRkbWFuYWdlci5jdXJyZW50PXRoaXM7dGhpcy5fY2FjaGVNYXJnaW5zKCk7dGhpcy5jc3NQb3NpdGlvbj10aGlzLmhlbHBlci5jc3MoInBvc2l0aW9uIik7dGhpcy5zY3JvbGxQYXJlbnQ9dGhpcy5oZWxwZXIuc2Nyb2xsUGFyZW50KCk7dGhpcy5vZmZzZXQ9dGhpcy5wb3NpdGlvbkFicz10aGlzLmVsZW1lbnQub2Zmc2V0KCk7dGhpcy5vZmZzZXQ9e3RvcDp0aGlzLm9mZnNldC50b3AtCnRoaXMubWFyZ2lucy50b3AsbGVmdDp0aGlzLm9mZnNldC5sZWZ0LXRoaXMubWFyZ2lucy5sZWZ0fTtiLmV4dGVuZCh0aGlzLm9mZnNldCx7Y2xpY2s6e2xlZnQ6ZC5wYWdlWC10aGlzLm9mZnNldC5sZWZ0LHRvcDpkLnBhZ2VZLXRoaXMub2Zmc2V0LnRvcH0scGFyZW50OnRoaXMuX2dldFBhcmVudE9mZnNldCgpLHJlbGF0aXZlOnRoaXMuX2dldFJlbGF0aXZlT2Zmc2V0KCl9KTt0aGlzLm9yaWdpbmFsUG9zaXRpb249dGhpcy5wb3NpdGlvbj10aGlzLl9nZW5lcmF0ZVBvc2l0aW9uKGQpO3RoaXMub3JpZ2luYWxQYWdlWD1kLnBhZ2VYO3RoaXMub3JpZ2luYWxQYWdlWT1kLnBhZ2VZO2UuY3Vyc29yQXQmJnRoaXMuX2FkanVzdE9mZnNldEZyb21IZWxwZXIoZS5jdXJzb3JBdCk7ZS5jb250YWlubWVudCYmdGhpcy5fc2V0Q29udGFpbm1lbnQoKTtpZih0aGlzLl90cmlnZ2VyKCJzdGFydCIsZCk9PT1mYWxzZSl7dGhpcy5fY2xlYXIoKTtyZXR1cm4gZmFsc2V9dGhpcy5fY2FjaGVIZWxwZXJQcm9wb3J0aW9ucygpOwpiLnVpLmRkbWFuYWdlciYmIWUuZHJvcEJlaGF2aW91ciYmYi51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHModGhpcyxkKTt0aGlzLmhlbHBlci5hZGRDbGFzcygidWktZHJhZ2dhYmxlLWRyYWdnaW5nIik7dGhpcy5fbW91c2VEcmFnKGQsdHJ1ZSk7cmV0dXJuIHRydWV9LF9tb3VzZURyYWc6ZnVuY3Rpb24oZCxlKXt0aGlzLnBvc2l0aW9uPXRoaXMuX2dlbmVyYXRlUG9zaXRpb24oZCk7dGhpcy5wb3NpdGlvbkFicz10aGlzLl9jb252ZXJ0UG9zaXRpb25UbygiYWJzb2x1dGUiKTtpZighZSl7ZT10aGlzLl91aUhhc2goKTtpZih0aGlzLl90cmlnZ2VyKCJkcmFnIixkLGUpPT09ZmFsc2Upe3RoaXMuX21vdXNlVXAoe30pO3JldHVybiBmYWxzZX10aGlzLnBvc2l0aW9uPWUucG9zaXRpb259aWYoIXRoaXMub3B0aW9ucy5heGlzfHx0aGlzLm9wdGlvbnMuYXhpcyE9InkiKXRoaXMuaGVscGVyWzBdLnN0eWxlLmxlZnQ9dGhpcy5wb3NpdGlvbi5sZWZ0KyJweCI7aWYoIXRoaXMub3B0aW9ucy5heGlzfHwKdGhpcy5vcHRpb25zLmF4aXMhPSJ4Iil0aGlzLmhlbHBlclswXS5zdHlsZS50b3A9dGhpcy5wb3NpdGlvbi50b3ArInB4IjtiLnVpLmRkbWFuYWdlciYmYi51aS5kZG1hbmFnZXIuZHJhZyh0aGlzLGQpO3JldHVybiBmYWxzZX0sX21vdXNlU3RvcDpmdW5jdGlvbihkKXt2YXIgZT1mYWxzZTtpZihiLnVpLmRkbWFuYWdlciYmIXRoaXMub3B0aW9ucy5kcm9wQmVoYXZpb3VyKWU9Yi51aS5kZG1hbmFnZXIuZHJvcCh0aGlzLGQpO2lmKHRoaXMuZHJvcHBlZCl7ZT10aGlzLmRyb3BwZWQ7dGhpcy5kcm9wcGVkPWZhbHNlfWlmKCghdGhpcy5lbGVtZW50WzBdfHwhdGhpcy5lbGVtZW50WzBdLnBhcmVudE5vZGUpJiZ0aGlzLm9wdGlvbnMuaGVscGVyPT0ib3JpZ2luYWwiKXJldHVybiBmYWxzZTtpZih0aGlzLm9wdGlvbnMucmV2ZXJ0PT0iaW52YWxpZCImJiFlfHx0aGlzLm9wdGlvbnMucmV2ZXJ0PT0idmFsaWQiJiZlfHx0aGlzLm9wdGlvbnMucmV2ZXJ0PT09dHJ1ZXx8Yi5pc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy5yZXZlcnQpJiYKdGhpcy5vcHRpb25zLnJldmVydC5jYWxsKHRoaXMuZWxlbWVudCxlKSl7dmFyIGY9dGhpcztiKHRoaXMuaGVscGVyKS5hbmltYXRlKHRoaXMub3JpZ2luYWxQb3NpdGlvbixwYXJzZUludCh0aGlzLm9wdGlvbnMucmV2ZXJ0RHVyYXRpb24sMTApLGZ1bmN0aW9uKCl7Zi5fdHJpZ2dlcigic3RvcCIsZCkhPT1mYWxzZSYmZi5fY2xlYXIoKX0pfWVsc2UgdGhpcy5fdHJpZ2dlcigic3RvcCIsZCkhPT1mYWxzZSYmdGhpcy5fY2xlYXIoKTtyZXR1cm4gZmFsc2V9LGNhbmNlbDpmdW5jdGlvbigpe3RoaXMuaGVscGVyLmlzKCIudWktZHJhZ2dhYmxlLWRyYWdnaW5nIik/dGhpcy5fbW91c2VVcCh7fSk6dGhpcy5fY2xlYXIoKTtyZXR1cm4gdGhpc30sX2dldEhhbmRsZTpmdW5jdGlvbihkKXt2YXIgZT0hdGhpcy5vcHRpb25zLmhhbmRsZXx8IWIodGhpcy5vcHRpb25zLmhhbmRsZSx0aGlzLmVsZW1lbnQpLmxlbmd0aD90cnVlOmZhbHNlO2IodGhpcy5vcHRpb25zLmhhbmRsZSx0aGlzLmVsZW1lbnQpLmZpbmQoIioiKS5hbmRTZWxmKCkuZWFjaChmdW5jdGlvbigpe2lmKHRoaXM9PQpkLnRhcmdldCllPXRydWV9KTtyZXR1cm4gZX0sX2NyZWF0ZUhlbHBlcjpmdW5jdGlvbihkKXt2YXIgZT10aGlzLm9wdGlvbnM7ZD1iLmlzRnVuY3Rpb24oZS5oZWxwZXIpP2IoZS5oZWxwZXIuYXBwbHkodGhpcy5lbGVtZW50WzBdLFtkXSkpOmUuaGVscGVyPT0iY2xvbmUiP3RoaXMuZWxlbWVudC5jbG9uZSgpOnRoaXMuZWxlbWVudDtkLnBhcmVudHMoImJvZHkiKS5sZW5ndGh8fGQuYXBwZW5kVG8oZS5hcHBlbmRUbz09InBhcmVudCI/dGhpcy5lbGVtZW50WzBdLnBhcmVudE5vZGU6ZS5hcHBlbmRUbyk7ZFswXSE9dGhpcy5lbGVtZW50WzBdJiYhLyhmaXhlZHxhYnNvbHV0ZSkvLnRlc3QoZC5jc3MoInBvc2l0aW9uIikpJiZkLmNzcygicG9zaXRpb24iLCJhYnNvbHV0ZSIpO3JldHVybiBkfSxfYWRqdXN0T2Zmc2V0RnJvbUhlbHBlcjpmdW5jdGlvbihkKXtpZih0eXBlb2YgZD09InN0cmluZyIpZD1kLnNwbGl0KCIgIik7aWYoYi5pc0FycmF5KGQpKWQ9e2xlZnQ6K2RbMF0sdG9wOitkWzFdfHwKMH07aWYoImxlZnQiaW4gZCl0aGlzLm9mZnNldC5jbGljay5sZWZ0PWQubGVmdCt0aGlzLm1hcmdpbnMubGVmdDtpZigicmlnaHQiaW4gZCl0aGlzLm9mZnNldC5jbGljay5sZWZ0PXRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgtZC5yaWdodCt0aGlzLm1hcmdpbnMubGVmdDtpZigidG9wImluIGQpdGhpcy5vZmZzZXQuY2xpY2sudG9wPWQudG9wK3RoaXMubWFyZ2lucy50b3A7aWYoImJvdHRvbSJpbiBkKXRoaXMub2Zmc2V0LmNsaWNrLnRvcD10aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC1kLmJvdHRvbSt0aGlzLm1hcmdpbnMudG9wfSxfZ2V0UGFyZW50T2Zmc2V0OmZ1bmN0aW9uKCl7dGhpcy5vZmZzZXRQYXJlbnQ9dGhpcy5oZWxwZXIub2Zmc2V0UGFyZW50KCk7dmFyIGQ9dGhpcy5vZmZzZXRQYXJlbnQub2Zmc2V0KCk7aWYodGhpcy5jc3NQb3NpdGlvbj09ImFic29sdXRlIiYmdGhpcy5zY3JvbGxQYXJlbnRbMF0hPWRvY3VtZW50JiZiLnVpLmNvbnRhaW5zKHRoaXMuc2Nyb2xsUGFyZW50WzBdLAp0aGlzLm9mZnNldFBhcmVudFswXSkpe2QubGVmdCs9dGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpO2QudG9wKz10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKX1pZih0aGlzLm9mZnNldFBhcmVudFswXT09ZG9jdW1lbnQuYm9keXx8dGhpcy5vZmZzZXRQYXJlbnRbMF0udGFnTmFtZSYmdGhpcy5vZmZzZXRQYXJlbnRbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpPT0iaHRtbCImJmIuYnJvd3Nlci5tc2llKWQ9e3RvcDowLGxlZnQ6MH07cmV0dXJue3RvcDpkLnRvcCsocGFyc2VJbnQodGhpcy5vZmZzZXRQYXJlbnQuY3NzKCJib3JkZXJUb3BXaWR0aCIpLDEwKXx8MCksbGVmdDpkLmxlZnQrKHBhcnNlSW50KHRoaXMub2Zmc2V0UGFyZW50LmNzcygiYm9yZGVyTGVmdFdpZHRoIiksMTApfHwwKX19LF9nZXRSZWxhdGl2ZU9mZnNldDpmdW5jdGlvbigpe2lmKHRoaXMuY3NzUG9zaXRpb249PSJyZWxhdGl2ZSIpe3ZhciBkPXRoaXMuZWxlbWVudC5wb3NpdGlvbigpO3JldHVybnt0b3A6ZC50b3AtCihwYXJzZUludCh0aGlzLmhlbHBlci5jc3MoInRvcCIpLDEwKXx8MCkrdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCksbGVmdDpkLmxlZnQtKHBhcnNlSW50KHRoaXMuaGVscGVyLmNzcygibGVmdCIpLDEwKXx8MCkrdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpfX1lbHNlIHJldHVybnt0b3A6MCxsZWZ0OjB9fSxfY2FjaGVNYXJnaW5zOmZ1bmN0aW9uKCl7dGhpcy5tYXJnaW5zPXtsZWZ0OnBhcnNlSW50KHRoaXMuZWxlbWVudC5jc3MoIm1hcmdpbkxlZnQiKSwxMCl8fDAsdG9wOnBhcnNlSW50KHRoaXMuZWxlbWVudC5jc3MoIm1hcmdpblRvcCIpLDEwKXx8MCxyaWdodDpwYXJzZUludCh0aGlzLmVsZW1lbnQuY3NzKCJtYXJnaW5SaWdodCIpLDEwKXx8MCxib3R0b206cGFyc2VJbnQodGhpcy5lbGVtZW50LmNzcygibWFyZ2luQm90dG9tIiksMTApfHwwfX0sX2NhY2hlSGVscGVyUHJvcG9ydGlvbnM6ZnVuY3Rpb24oKXt0aGlzLmhlbHBlclByb3BvcnRpb25zPXt3aWR0aDp0aGlzLmhlbHBlci5vdXRlcldpZHRoKCksCmhlaWdodDp0aGlzLmhlbHBlci5vdXRlckhlaWdodCgpfX0sX3NldENvbnRhaW5tZW50OmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5vcHRpb25zO2lmKGQuY29udGFpbm1lbnQ9PSJwYXJlbnQiKWQuY29udGFpbm1lbnQ9dGhpcy5oZWxwZXJbMF0ucGFyZW50Tm9kZTtpZihkLmNvbnRhaW5tZW50PT0iZG9jdW1lbnQifHxkLmNvbnRhaW5tZW50PT0id2luZG93Iil0aGlzLmNvbnRhaW5tZW50PVsoZC5jb250YWlubWVudD09ImRvY3VtZW50Ij8wOmIod2luZG93KS5zY3JvbGxMZWZ0KCkpLXRoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQtdGhpcy5vZmZzZXQucGFyZW50LmxlZnQsKGQuY29udGFpbm1lbnQ9PSJkb2N1bWVudCI/MDpiKHdpbmRvdykuc2Nyb2xsVG9wKCkpLXRoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcC10aGlzLm9mZnNldC5wYXJlbnQudG9wLChkLmNvbnRhaW5tZW50PT0iZG9jdW1lbnQiPzA6Yih3aW5kb3cpLnNjcm9sbExlZnQoKSkrYihkLmNvbnRhaW5tZW50PT0iZG9jdW1lbnQiPwpkb2N1bWVudDp3aW5kb3cpLndpZHRoKCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC10aGlzLm1hcmdpbnMubGVmdCwoZC5jb250YWlubWVudD09ImRvY3VtZW50Ij8wOmIod2luZG93KS5zY3JvbGxUb3AoKSkrKGIoZC5jb250YWlubWVudD09ImRvY3VtZW50Ij9kb2N1bWVudDp3aW5kb3cpLmhlaWdodCgpfHxkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0KS10aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC10aGlzLm1hcmdpbnMudG9wXTtpZighL14oZG9jdW1lbnR8d2luZG93fHBhcmVudCkkLy50ZXN0KGQuY29udGFpbm1lbnQpJiZkLmNvbnRhaW5tZW50LmNvbnN0cnVjdG9yIT1BcnJheSl7dmFyIGU9YihkLmNvbnRhaW5tZW50KVswXTtpZihlKXtkPWIoZC5jb250YWlubWVudCkub2Zmc2V0KCk7dmFyIGY9YihlKS5jc3MoIm92ZXJmbG93IikhPSJoaWRkZW4iO3RoaXMuY29udGFpbm1lbnQ9W2QubGVmdCsocGFyc2VJbnQoYihlKS5jc3MoImJvcmRlckxlZnRXaWR0aCIpLAoxMCl8fDApKyhwYXJzZUludChiKGUpLmNzcygicGFkZGluZ0xlZnQiKSwxMCl8fDApLGQudG9wKyhwYXJzZUludChiKGUpLmNzcygiYm9yZGVyVG9wV2lkdGgiKSwxMCl8fDApKyhwYXJzZUludChiKGUpLmNzcygicGFkZGluZ1RvcCIpLDEwKXx8MCksZC5sZWZ0KyhmP01hdGgubWF4KGUuc2Nyb2xsV2lkdGgsZS5vZmZzZXRXaWR0aCk6ZS5vZmZzZXRXaWR0aCktKHBhcnNlSW50KGIoZSkuY3NzKCJib3JkZXJMZWZ0V2lkdGgiKSwxMCl8fDApLShwYXJzZUludChiKGUpLmNzcygicGFkZGluZ1JpZ2h0IiksMTApfHwwKS10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLXRoaXMubWFyZ2lucy5sZWZ0LXRoaXMubWFyZ2lucy5yaWdodCxkLnRvcCsoZj9NYXRoLm1heChlLnNjcm9sbEhlaWdodCxlLm9mZnNldEhlaWdodCk6ZS5vZmZzZXRIZWlnaHQpLShwYXJzZUludChiKGUpLmNzcygiYm9yZGVyVG9wV2lkdGgiKSwxMCl8fDApLShwYXJzZUludChiKGUpLmNzcygicGFkZGluZ0JvdHRvbSIpLAoxMCl8fDApLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3AtdGhpcy5tYXJnaW5zLmJvdHRvbV19fWVsc2UgaWYoZC5jb250YWlubWVudC5jb25zdHJ1Y3Rvcj09QXJyYXkpdGhpcy5jb250YWlubWVudD1kLmNvbnRhaW5tZW50fSxfY29udmVydFBvc2l0aW9uVG86ZnVuY3Rpb24oZCxlKXtpZighZSllPXRoaXMucG9zaXRpb247ZD1kPT0iYWJzb2x1dGUiPzE6LTE7dmFyIGY9dGhpcy5jc3NQb3NpdGlvbj09ImFic29sdXRlIiYmISh0aGlzLnNjcm9sbFBhcmVudFswXSE9ZG9jdW1lbnQmJmIudWkuY29udGFpbnModGhpcy5zY3JvbGxQYXJlbnRbMF0sdGhpcy5vZmZzZXRQYXJlbnRbMF0pKT90aGlzLm9mZnNldFBhcmVudDp0aGlzLnNjcm9sbFBhcmVudCxnPS8oaHRtbHxib2R5KS9pLnRlc3QoZlswXS50YWdOYW1lKTtyZXR1cm57dG9wOmUudG9wK3RoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcCpkK3RoaXMub2Zmc2V0LnBhcmVudC50b3AqZC0oYi5icm93c2VyLnNhZmFyaSYmCmIuYnJvd3Nlci52ZXJzaW9uPDUyNiYmdGhpcy5jc3NQb3NpdGlvbj09ImZpeGVkIj8wOih0aGlzLmNzc1Bvc2l0aW9uPT0iZml4ZWQiPy10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKTpnPzA6Zi5zY3JvbGxUb3AoKSkqZCksbGVmdDplLmxlZnQrdGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdCpkK3RoaXMub2Zmc2V0LnBhcmVudC5sZWZ0KmQtKGIuYnJvd3Nlci5zYWZhcmkmJmIuYnJvd3Nlci52ZXJzaW9uPDUyNiYmdGhpcy5jc3NQb3NpdGlvbj09ImZpeGVkIj8wOih0aGlzLmNzc1Bvc2l0aW9uPT0iZml4ZWQiPy10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCk6Zz8wOmYuc2Nyb2xsTGVmdCgpKSpkKX19LF9nZW5lcmF0ZVBvc2l0aW9uOmZ1bmN0aW9uKGQpe3ZhciBlPXRoaXMub3B0aW9ucyxmPXRoaXMuY3NzUG9zaXRpb249PSJhYnNvbHV0ZSImJiEodGhpcy5zY3JvbGxQYXJlbnRbMF0hPWRvY3VtZW50JiZiLnVpLmNvbnRhaW5zKHRoaXMuc2Nyb2xsUGFyZW50WzBdLAp0aGlzLm9mZnNldFBhcmVudFswXSkpP3RoaXMub2Zmc2V0UGFyZW50OnRoaXMuc2Nyb2xsUGFyZW50LGc9LyhodG1sfGJvZHkpL2kudGVzdChmWzBdLnRhZ05hbWUpLGE9ZC5wYWdlWCxjPWQucGFnZVk7aWYodGhpcy5vcmlnaW5hbFBvc2l0aW9uKXtpZih0aGlzLmNvbnRhaW5tZW50KXtpZihkLnBhZ2VYLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ8dGhpcy5jb250YWlubWVudFswXSlhPXRoaXMuY29udGFpbm1lbnRbMF0rdGhpcy5vZmZzZXQuY2xpY2subGVmdDtpZihkLnBhZ2VZLXRoaXMub2Zmc2V0LmNsaWNrLnRvcDx0aGlzLmNvbnRhaW5tZW50WzFdKWM9dGhpcy5jb250YWlubWVudFsxXSt0aGlzLm9mZnNldC5jbGljay50b3A7aWYoZC5wYWdlWC10aGlzLm9mZnNldC5jbGljay5sZWZ0PnRoaXMuY29udGFpbm1lbnRbMl0pYT10aGlzLmNvbnRhaW5tZW50WzJdK3RoaXMub2Zmc2V0LmNsaWNrLmxlZnQ7aWYoZC5wYWdlWS10aGlzLm9mZnNldC5jbGljay50b3A+dGhpcy5jb250YWlubWVudFszXSljPQp0aGlzLmNvbnRhaW5tZW50WzNdK3RoaXMub2Zmc2V0LmNsaWNrLnRvcH1pZihlLmdyaWQpe2M9dGhpcy5vcmlnaW5hbFBhZ2VZK01hdGgucm91bmQoKGMtdGhpcy5vcmlnaW5hbFBhZ2VZKS9lLmdyaWRbMV0pKmUuZ3JpZFsxXTtjPXRoaXMuY29udGFpbm1lbnQ/IShjLXRoaXMub2Zmc2V0LmNsaWNrLnRvcDx0aGlzLmNvbnRhaW5tZW50WzFdfHxjLXRoaXMub2Zmc2V0LmNsaWNrLnRvcD50aGlzLmNvbnRhaW5tZW50WzNdKT9jOiEoYy10aGlzLm9mZnNldC5jbGljay50b3A8dGhpcy5jb250YWlubWVudFsxXSk/Yy1lLmdyaWRbMV06YytlLmdyaWRbMV06YzthPXRoaXMub3JpZ2luYWxQYWdlWCtNYXRoLnJvdW5kKChhLXRoaXMub3JpZ2luYWxQYWdlWCkvZS5ncmlkWzBdKSplLmdyaWRbMF07YT10aGlzLmNvbnRhaW5tZW50PyEoYS10aGlzLm9mZnNldC5jbGljay5sZWZ0PHRoaXMuY29udGFpbm1lbnRbMF18fGEtdGhpcy5vZmZzZXQuY2xpY2subGVmdD50aGlzLmNvbnRhaW5tZW50WzJdKT8KYTohKGEtdGhpcy5vZmZzZXQuY2xpY2subGVmdDx0aGlzLmNvbnRhaW5tZW50WzBdKT9hLWUuZ3JpZFswXTphK2UuZ3JpZFswXTphfX1yZXR1cm57dG9wOmMtdGhpcy5vZmZzZXQuY2xpY2sudG9wLXRoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcC10aGlzLm9mZnNldC5wYXJlbnQudG9wKyhiLmJyb3dzZXIuc2FmYXJpJiZiLmJyb3dzZXIudmVyc2lvbjw1MjYmJnRoaXMuY3NzUG9zaXRpb249PSJmaXhlZCI/MDp0aGlzLmNzc1Bvc2l0aW9uPT0iZml4ZWQiPy10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKTpnPzA6Zi5zY3JvbGxUb3AoKSksbGVmdDphLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQtdGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdC10aGlzLm9mZnNldC5wYXJlbnQubGVmdCsoYi5icm93c2VyLnNhZmFyaSYmYi5icm93c2VyLnZlcnNpb248NTI2JiZ0aGlzLmNzc1Bvc2l0aW9uPT0iZml4ZWQiPzA6dGhpcy5jc3NQb3NpdGlvbj09ImZpeGVkIj8tdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpOgpnPzA6Zi5zY3JvbGxMZWZ0KCkpfX0sX2NsZWFyOmZ1bmN0aW9uKCl7dGhpcy5oZWxwZXIucmVtb3ZlQ2xhc3MoInVpLWRyYWdnYWJsZS1kcmFnZ2luZyIpO3RoaXMuaGVscGVyWzBdIT10aGlzLmVsZW1lbnRbMF0mJiF0aGlzLmNhbmNlbEhlbHBlclJlbW92YWwmJnRoaXMuaGVscGVyLnJlbW92ZSgpO3RoaXMuaGVscGVyPW51bGw7dGhpcy5jYW5jZWxIZWxwZXJSZW1vdmFsPWZhbHNlfSxfdHJpZ2dlcjpmdW5jdGlvbihkLGUsZil7Zj1mfHx0aGlzLl91aUhhc2goKTtiLnVpLnBsdWdpbi5jYWxsKHRoaXMsZCxbZSxmXSk7aWYoZD09ImRyYWciKXRoaXMucG9zaXRpb25BYnM9dGhpcy5fY29udmVydFBvc2l0aW9uVG8oImFic29sdXRlIik7cmV0dXJuIGIuV2lkZ2V0LnByb3RvdHlwZS5fdHJpZ2dlci5jYWxsKHRoaXMsZCxlLGYpfSxwbHVnaW5zOnt9LF91aUhhc2g6ZnVuY3Rpb24oKXtyZXR1cm57aGVscGVyOnRoaXMuaGVscGVyLHBvc2l0aW9uOnRoaXMucG9zaXRpb24sb3JpZ2luYWxQb3NpdGlvbjp0aGlzLm9yaWdpbmFsUG9zaXRpb24sCm9mZnNldDp0aGlzLnBvc2l0aW9uQWJzfX19KTtiLmV4dGVuZChiLnVpLmRyYWdnYWJsZSx7dmVyc2lvbjoiMS44LjEyIn0pO2IudWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwiY29ubmVjdFRvU29ydGFibGUiLHtzdGFydDpmdW5jdGlvbihkLGUpe3ZhciBmPWIodGhpcykuZGF0YSgiZHJhZ2dhYmxlIiksZz1mLm9wdGlvbnMsYT1iLmV4dGVuZCh7fSxlLHtpdGVtOmYuZWxlbWVudH0pO2Yuc29ydGFibGVzPVtdO2IoZy5jb25uZWN0VG9Tb3J0YWJsZSkuZWFjaChmdW5jdGlvbigpe3ZhciBjPWIuZGF0YSh0aGlzLCJzb3J0YWJsZSIpO2lmKGMmJiFjLm9wdGlvbnMuZGlzYWJsZWQpe2Yuc29ydGFibGVzLnB1c2goe2luc3RhbmNlOmMsc2hvdWxkUmV2ZXJ0OmMub3B0aW9ucy5yZXZlcnR9KTtjLnJlZnJlc2hQb3NpdGlvbnMoKTtjLl90cmlnZ2VyKCJhY3RpdmF0ZSIsZCxhKX19KX0sc3RvcDpmdW5jdGlvbihkLGUpe3ZhciBmPWIodGhpcykuZGF0YSgiZHJhZ2dhYmxlIiksZz1iLmV4dGVuZCh7fSwKZSx7aXRlbTpmLmVsZW1lbnR9KTtiLmVhY2goZi5zb3J0YWJsZXMsZnVuY3Rpb24oKXtpZih0aGlzLmluc3RhbmNlLmlzT3Zlcil7dGhpcy5pbnN0YW5jZS5pc092ZXI9MDtmLmNhbmNlbEhlbHBlclJlbW92YWw9dHJ1ZTt0aGlzLmluc3RhbmNlLmNhbmNlbEhlbHBlclJlbW92YWw9ZmFsc2U7aWYodGhpcy5zaG91bGRSZXZlcnQpdGhpcy5pbnN0YW5jZS5vcHRpb25zLnJldmVydD10cnVlO3RoaXMuaW5zdGFuY2UuX21vdXNlU3RvcChkKTt0aGlzLmluc3RhbmNlLm9wdGlvbnMuaGVscGVyPXRoaXMuaW5zdGFuY2Uub3B0aW9ucy5faGVscGVyO2Yub3B0aW9ucy5oZWxwZXI9PSJvcmlnaW5hbCImJnRoaXMuaW5zdGFuY2UuY3VycmVudEl0ZW0uY3NzKHt0b3A6ImF1dG8iLGxlZnQ6ImF1dG8ifSl9ZWxzZXt0aGlzLmluc3RhbmNlLmNhbmNlbEhlbHBlclJlbW92YWw9ZmFsc2U7dGhpcy5pbnN0YW5jZS5fdHJpZ2dlcigiZGVhY3RpdmF0ZSIsZCxnKX19KX0sZHJhZzpmdW5jdGlvbihkLGUpe3ZhciBmPQpiKHRoaXMpLmRhdGEoImRyYWdnYWJsZSIpLGc9dGhpcztiLmVhY2goZi5zb3J0YWJsZXMsZnVuY3Rpb24oKXt0aGlzLmluc3RhbmNlLnBvc2l0aW9uQWJzPWYucG9zaXRpb25BYnM7dGhpcy5pbnN0YW5jZS5oZWxwZXJQcm9wb3J0aW9ucz1mLmhlbHBlclByb3BvcnRpb25zO3RoaXMuaW5zdGFuY2Uub2Zmc2V0LmNsaWNrPWYub2Zmc2V0LmNsaWNrO2lmKHRoaXMuaW5zdGFuY2UuX2ludGVyc2VjdHNXaXRoKHRoaXMuaW5zdGFuY2UuY29udGFpbmVyQ2FjaGUpKXtpZighdGhpcy5pbnN0YW5jZS5pc092ZXIpe3RoaXMuaW5zdGFuY2UuaXNPdmVyPTE7dGhpcy5pbnN0YW5jZS5jdXJyZW50SXRlbT1iKGcpLmNsb25lKCkuYXBwZW5kVG8odGhpcy5pbnN0YW5jZS5lbGVtZW50KS5kYXRhKCJzb3J0YWJsZS1pdGVtIix0cnVlKTt0aGlzLmluc3RhbmNlLm9wdGlvbnMuX2hlbHBlcj10aGlzLmluc3RhbmNlLm9wdGlvbnMuaGVscGVyO3RoaXMuaW5zdGFuY2Uub3B0aW9ucy5oZWxwZXI9ZnVuY3Rpb24oKXtyZXR1cm4gZS5oZWxwZXJbMF19OwpkLnRhcmdldD10aGlzLmluc3RhbmNlLmN1cnJlbnRJdGVtWzBdO3RoaXMuaW5zdGFuY2UuX21vdXNlQ2FwdHVyZShkLHRydWUpO3RoaXMuaW5zdGFuY2UuX21vdXNlU3RhcnQoZCx0cnVlLHRydWUpO3RoaXMuaW5zdGFuY2Uub2Zmc2V0LmNsaWNrLnRvcD1mLm9mZnNldC5jbGljay50b3A7dGhpcy5pbnN0YW5jZS5vZmZzZXQuY2xpY2subGVmdD1mLm9mZnNldC5jbGljay5sZWZ0O3RoaXMuaW5zdGFuY2Uub2Zmc2V0LnBhcmVudC5sZWZ0LT1mLm9mZnNldC5wYXJlbnQubGVmdC10aGlzLmluc3RhbmNlLm9mZnNldC5wYXJlbnQubGVmdDt0aGlzLmluc3RhbmNlLm9mZnNldC5wYXJlbnQudG9wLT1mLm9mZnNldC5wYXJlbnQudG9wLXRoaXMuaW5zdGFuY2Uub2Zmc2V0LnBhcmVudC50b3A7Zi5fdHJpZ2dlcigidG9Tb3J0YWJsZSIsZCk7Zi5kcm9wcGVkPXRoaXMuaW5zdGFuY2UuZWxlbWVudDtmLmN1cnJlbnRJdGVtPWYuZWxlbWVudDt0aGlzLmluc3RhbmNlLmZyb21PdXRzaWRlPWZ9dGhpcy5pbnN0YW5jZS5jdXJyZW50SXRlbSYmCnRoaXMuaW5zdGFuY2UuX21vdXNlRHJhZyhkKX1lbHNlIGlmKHRoaXMuaW5zdGFuY2UuaXNPdmVyKXt0aGlzLmluc3RhbmNlLmlzT3Zlcj0wO3RoaXMuaW5zdGFuY2UuY2FuY2VsSGVscGVyUmVtb3ZhbD10cnVlO3RoaXMuaW5zdGFuY2Uub3B0aW9ucy5yZXZlcnQ9ZmFsc2U7dGhpcy5pbnN0YW5jZS5fdHJpZ2dlcigib3V0IixkLHRoaXMuaW5zdGFuY2UuX3VpSGFzaCh0aGlzLmluc3RhbmNlKSk7dGhpcy5pbnN0YW5jZS5fbW91c2VTdG9wKGQsdHJ1ZSk7dGhpcy5pbnN0YW5jZS5vcHRpb25zLmhlbHBlcj10aGlzLmluc3RhbmNlLm9wdGlvbnMuX2hlbHBlcjt0aGlzLmluc3RhbmNlLmN1cnJlbnRJdGVtLnJlbW92ZSgpO3RoaXMuaW5zdGFuY2UucGxhY2Vob2xkZXImJnRoaXMuaW5zdGFuY2UucGxhY2Vob2xkZXIucmVtb3ZlKCk7Zi5fdHJpZ2dlcigiZnJvbVNvcnRhYmxlIixkKTtmLmRyb3BwZWQ9ZmFsc2V9fSl9fSk7Yi51aS5wbHVnaW4uYWRkKCJkcmFnZ2FibGUiLCJjdXJzb3IiLAp7c3RhcnQ6ZnVuY3Rpb24oKXt2YXIgZD1iKCJib2R5IiksZT1iKHRoaXMpLmRhdGEoImRyYWdnYWJsZSIpLm9wdGlvbnM7aWYoZC5jc3MoImN1cnNvciIpKWUuX2N1cnNvcj1kLmNzcygiY3Vyc29yIik7ZC5jc3MoImN1cnNvciIsZS5jdXJzb3IpfSxzdG9wOmZ1bmN0aW9uKCl7dmFyIGQ9Yih0aGlzKS5kYXRhKCJkcmFnZ2FibGUiKS5vcHRpb25zO2QuX2N1cnNvciYmYigiYm9keSIpLmNzcygiY3Vyc29yIixkLl9jdXJzb3IpfX0pO2IudWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwiaWZyYW1lRml4Iix7c3RhcnQ6ZnVuY3Rpb24oKXt2YXIgZD1iKHRoaXMpLmRhdGEoImRyYWdnYWJsZSIpLm9wdGlvbnM7YihkLmlmcmFtZUZpeD09PXRydWU/ImlmcmFtZSI6ZC5pZnJhbWVGaXgpLmVhY2goZnVuY3Rpb24oKXtiKCc8ZGl2IGNsYXNzPSJ1aS1kcmFnZ2FibGUtaWZyYW1lRml4IiBzdHlsZT0iYmFja2dyb3VuZDogI2ZmZjsiPjwvZGl2PicpLmNzcyh7d2lkdGg6dGhpcy5vZmZzZXRXaWR0aCsKInB4IixoZWlnaHQ6dGhpcy5vZmZzZXRIZWlnaHQrInB4Iixwb3NpdGlvbjoiYWJzb2x1dGUiLG9wYWNpdHk6IjAuMDAxIix6SW5kZXg6MUUzfSkuY3NzKGIodGhpcykub2Zmc2V0KCkpLmFwcGVuZFRvKCJib2R5Iil9KX0sc3RvcDpmdW5jdGlvbigpe2IoImRpdi51aS1kcmFnZ2FibGUtaWZyYW1lRml4IikuZWFjaChmdW5jdGlvbigpe3RoaXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzKX0pfX0pO2IudWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwib3BhY2l0eSIse3N0YXJ0OmZ1bmN0aW9uKGQsZSl7ZD1iKGUuaGVscGVyKTtlPWIodGhpcykuZGF0YSgiZHJhZ2dhYmxlIikub3B0aW9ucztpZihkLmNzcygib3BhY2l0eSIpKWUuX29wYWNpdHk9ZC5jc3MoIm9wYWNpdHkiKTtkLmNzcygib3BhY2l0eSIsZS5vcGFjaXR5KX0sc3RvcDpmdW5jdGlvbihkLGUpe2Q9Yih0aGlzKS5kYXRhKCJkcmFnZ2FibGUiKS5vcHRpb25zO2QuX29wYWNpdHkmJmIoZS5oZWxwZXIpLmNzcygib3BhY2l0eSIsCmQuX29wYWNpdHkpfX0pO2IudWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwic2Nyb2xsIix7c3RhcnQ6ZnVuY3Rpb24oKXt2YXIgZD1iKHRoaXMpLmRhdGEoImRyYWdnYWJsZSIpO2lmKGQuc2Nyb2xsUGFyZW50WzBdIT1kb2N1bWVudCYmZC5zY3JvbGxQYXJlbnRbMF0udGFnTmFtZSE9IkhUTUwiKWQub3ZlcmZsb3dPZmZzZXQ9ZC5zY3JvbGxQYXJlbnQub2Zmc2V0KCl9LGRyYWc6ZnVuY3Rpb24oZCl7dmFyIGU9Yih0aGlzKS5kYXRhKCJkcmFnZ2FibGUiKSxmPWUub3B0aW9ucyxnPWZhbHNlO2lmKGUuc2Nyb2xsUGFyZW50WzBdIT1kb2N1bWVudCYmZS5zY3JvbGxQYXJlbnRbMF0udGFnTmFtZSE9IkhUTUwiKXtpZighZi5heGlzfHxmLmF4aXMhPSJ4IilpZihlLm92ZXJmbG93T2Zmc2V0LnRvcCtlLnNjcm9sbFBhcmVudFswXS5vZmZzZXRIZWlnaHQtZC5wYWdlWTxmLnNjcm9sbFNlbnNpdGl2aXR5KWUuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcD1nPWUuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcCsKZi5zY3JvbGxTcGVlZDtlbHNlIGlmKGQucGFnZVktZS5vdmVyZmxvd09mZnNldC50b3A8Zi5zY3JvbGxTZW5zaXRpdml0eSllLnNjcm9sbFBhcmVudFswXS5zY3JvbGxUb3A9Zz1lLnNjcm9sbFBhcmVudFswXS5zY3JvbGxUb3AtZi5zY3JvbGxTcGVlZDtpZighZi5heGlzfHxmLmF4aXMhPSJ5IilpZihlLm92ZXJmbG93T2Zmc2V0LmxlZnQrZS5zY3JvbGxQYXJlbnRbMF0ub2Zmc2V0V2lkdGgtZC5wYWdlWDxmLnNjcm9sbFNlbnNpdGl2aXR5KWUuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQ9Zz1lLnNjcm9sbFBhcmVudFswXS5zY3JvbGxMZWZ0K2Yuc2Nyb2xsU3BlZWQ7ZWxzZSBpZihkLnBhZ2VYLWUub3ZlcmZsb3dPZmZzZXQubGVmdDxmLnNjcm9sbFNlbnNpdGl2aXR5KWUuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQ9Zz1lLnNjcm9sbFBhcmVudFswXS5zY3JvbGxMZWZ0LWYuc2Nyb2xsU3BlZWR9ZWxzZXtpZighZi5heGlzfHxmLmF4aXMhPSJ4IilpZihkLnBhZ2VZLWIoZG9jdW1lbnQpLnNjcm9sbFRvcCgpPApmLnNjcm9sbFNlbnNpdGl2aXR5KWc9Yihkb2N1bWVudCkuc2Nyb2xsVG9wKGIoZG9jdW1lbnQpLnNjcm9sbFRvcCgpLWYuc2Nyb2xsU3BlZWQpO2Vsc2UgaWYoYih3aW5kb3cpLmhlaWdodCgpLShkLnBhZ2VZLWIoZG9jdW1lbnQpLnNjcm9sbFRvcCgpKTxmLnNjcm9sbFNlbnNpdGl2aXR5KWc9Yihkb2N1bWVudCkuc2Nyb2xsVG9wKGIoZG9jdW1lbnQpLnNjcm9sbFRvcCgpK2Yuc2Nyb2xsU3BlZWQpO2lmKCFmLmF4aXN8fGYuYXhpcyE9InkiKWlmKGQucGFnZVgtYihkb2N1bWVudCkuc2Nyb2xsTGVmdCgpPGYuc2Nyb2xsU2Vuc2l0aXZpdHkpZz1iKGRvY3VtZW50KS5zY3JvbGxMZWZ0KGIoZG9jdW1lbnQpLnNjcm9sbExlZnQoKS1mLnNjcm9sbFNwZWVkKTtlbHNlIGlmKGIod2luZG93KS53aWR0aCgpLShkLnBhZ2VYLWIoZG9jdW1lbnQpLnNjcm9sbExlZnQoKSk8Zi5zY3JvbGxTZW5zaXRpdml0eSlnPWIoZG9jdW1lbnQpLnNjcm9sbExlZnQoYihkb2N1bWVudCkuc2Nyb2xsTGVmdCgpKwpmLnNjcm9sbFNwZWVkKX1nIT09ZmFsc2UmJmIudWkuZGRtYW5hZ2VyJiYhZi5kcm9wQmVoYXZpb3VyJiZiLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyhlLGQpfX0pO2IudWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwic25hcCIse3N0YXJ0OmZ1bmN0aW9uKCl7dmFyIGQ9Yih0aGlzKS5kYXRhKCJkcmFnZ2FibGUiKSxlPWQub3B0aW9ucztkLnNuYXBFbGVtZW50cz1bXTtiKGUuc25hcC5jb25zdHJ1Y3RvciE9U3RyaW5nP2Uuc25hcC5pdGVtc3x8IjpkYXRhKGRyYWdnYWJsZSkiOmUuc25hcCkuZWFjaChmdW5jdGlvbigpe3ZhciBmPWIodGhpcyksZz1mLm9mZnNldCgpO3RoaXMhPWQuZWxlbWVudFswXSYmZC5zbmFwRWxlbWVudHMucHVzaCh7aXRlbTp0aGlzLHdpZHRoOmYub3V0ZXJXaWR0aCgpLGhlaWdodDpmLm91dGVySGVpZ2h0KCksdG9wOmcudG9wLGxlZnQ6Zy5sZWZ0fSl9KX0sZHJhZzpmdW5jdGlvbihkLGUpe2Zvcih2YXIgZj1iKHRoaXMpLmRhdGEoImRyYWdnYWJsZSIpLApnPWYub3B0aW9ucyxhPWcuc25hcFRvbGVyYW5jZSxjPWUub2Zmc2V0LmxlZnQsaD1jK2YuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgsaT1lLm9mZnNldC50b3Asaj1pK2YuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LG49Zi5zbmFwRWxlbWVudHMubGVuZ3RoLTE7bj49MDtuLS0pe3ZhciBvPWYuc25hcEVsZW1lbnRzW25dLmxlZnQsbD1vK2Yuc25hcEVsZW1lbnRzW25dLndpZHRoLGs9Zi5zbmFwRWxlbWVudHNbbl0udG9wLG09aytmLnNuYXBFbGVtZW50c1tuXS5oZWlnaHQ7aWYoby1hPGMmJmM8bCthJiZrLWE8aSYmaTxtK2F8fG8tYTxjJiZjPGwrYSYmay1hPGomJmo8bSthfHxvLWE8aCYmaDxsK2EmJmstYTxpJiZpPG0rYXx8by1hPGgmJmg8bCthJiZrLWE8aiYmajxtK2Epe2lmKGcuc25hcE1vZGUhPSJpbm5lciIpe3ZhciBwPU1hdGguYWJzKGstaik8PWEscT1NYXRoLmFicyhtLWkpPD1hLHM9TWF0aC5hYnMoby1oKTw9YSxyPU1hdGguYWJzKGwtYyk8PWE7aWYocCllLnBvc2l0aW9uLnRvcD0KZi5fY29udmVydFBvc2l0aW9uVG8oInJlbGF0aXZlIix7dG9wOmstZi5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQsbGVmdDowfSkudG9wLWYubWFyZ2lucy50b3A7aWYocSllLnBvc2l0aW9uLnRvcD1mLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6bSxsZWZ0OjB9KS50b3AtZi5tYXJnaW5zLnRvcDtpZihzKWUucG9zaXRpb24ubGVmdD1mLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6MCxsZWZ0Om8tZi5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aH0pLmxlZnQtZi5tYXJnaW5zLmxlZnQ7aWYocillLnBvc2l0aW9uLmxlZnQ9Zi5fY29udmVydFBvc2l0aW9uVG8oInJlbGF0aXZlIix7dG9wOjAsbGVmdDpsfSkubGVmdC1mLm1hcmdpbnMubGVmdH12YXIgdT1wfHxxfHxzfHxyO2lmKGcuc25hcE1vZGUhPSJvdXRlciIpe3A9TWF0aC5hYnMoay1pKTw9YTtxPU1hdGguYWJzKG0taik8PWE7cz1NYXRoLmFicyhvLWMpPD1hO3I9TWF0aC5hYnMobC1oKTw9YTtpZihwKWUucG9zaXRpb24udG9wPQpmLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6ayxsZWZ0OjB9KS50b3AtZi5tYXJnaW5zLnRvcDtpZihxKWUucG9zaXRpb24udG9wPWYuX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIse3RvcDptLWYuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LGxlZnQ6MH0pLnRvcC1mLm1hcmdpbnMudG9wO2lmKHMpZS5wb3NpdGlvbi5sZWZ0PWYuX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIse3RvcDowLGxlZnQ6b30pLmxlZnQtZi5tYXJnaW5zLmxlZnQ7aWYocillLnBvc2l0aW9uLmxlZnQ9Zi5fY29udmVydFBvc2l0aW9uVG8oInJlbGF0aXZlIix7dG9wOjAsbGVmdDpsLWYuaGVscGVyUHJvcG9ydGlvbnMud2lkdGh9KS5sZWZ0LWYubWFyZ2lucy5sZWZ0fWlmKCFmLnNuYXBFbGVtZW50c1tuXS5zbmFwcGluZyYmKHB8fHF8fHN8fHJ8fHUpKWYub3B0aW9ucy5zbmFwLnNuYXAmJmYub3B0aW9ucy5zbmFwLnNuYXAuY2FsbChmLmVsZW1lbnQsZCxiLmV4dGVuZChmLl91aUhhc2goKSwKe3NuYXBJdGVtOmYuc25hcEVsZW1lbnRzW25dLml0ZW19KSk7Zi5zbmFwRWxlbWVudHNbbl0uc25hcHBpbmc9cHx8cXx8c3x8cnx8dX1lbHNle2Yuc25hcEVsZW1lbnRzW25dLnNuYXBwaW5nJiZmLm9wdGlvbnMuc25hcC5yZWxlYXNlJiZmLm9wdGlvbnMuc25hcC5yZWxlYXNlLmNhbGwoZi5lbGVtZW50LGQsYi5leHRlbmQoZi5fdWlIYXNoKCkse3NuYXBJdGVtOmYuc25hcEVsZW1lbnRzW25dLml0ZW19KSk7Zi5zbmFwRWxlbWVudHNbbl0uc25hcHBpbmc9ZmFsc2V9fX19KTtiLnVpLnBsdWdpbi5hZGQoImRyYWdnYWJsZSIsInN0YWNrIix7c3RhcnQ6ZnVuY3Rpb24oKXt2YXIgZD1iKHRoaXMpLmRhdGEoImRyYWdnYWJsZSIpLm9wdGlvbnM7ZD1iLm1ha2VBcnJheShiKGQuc3RhY2spKS5zb3J0KGZ1bmN0aW9uKGYsZyl7cmV0dXJuKHBhcnNlSW50KGIoZikuY3NzKCJ6SW5kZXgiKSwxMCl8fDApLShwYXJzZUludChiKGcpLmNzcygiekluZGV4IiksMTApfHwwKX0pO2lmKGQubGVuZ3RoKXt2YXIgZT0KcGFyc2VJbnQoZFswXS5zdHlsZS56SW5kZXgpfHwwO2IoZCkuZWFjaChmdW5jdGlvbihmKXt0aGlzLnN0eWxlLnpJbmRleD1lK2Z9KTt0aGlzWzBdLnN0eWxlLnpJbmRleD1lK2QubGVuZ3RofX19KTtiLnVpLnBsdWdpbi5hZGQoImRyYWdnYWJsZSIsInpJbmRleCIse3N0YXJ0OmZ1bmN0aW9uKGQsZSl7ZD1iKGUuaGVscGVyKTtlPWIodGhpcykuZGF0YSgiZHJhZ2dhYmxlIikub3B0aW9ucztpZihkLmNzcygiekluZGV4IikpZS5fekluZGV4PWQuY3NzKCJ6SW5kZXgiKTtkLmNzcygiekluZGV4IixlLnpJbmRleCl9LHN0b3A6ZnVuY3Rpb24oZCxlKXtkPWIodGhpcykuZGF0YSgiZHJhZ2dhYmxlIikub3B0aW9ucztkLl96SW5kZXgmJmIoZS5oZWxwZXIpLmNzcygiekluZGV4IixkLl96SW5kZXgpfX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGIpe2Iud2lkZ2V0KCJ1aS5kcm9wcGFibGUiLHt3aWRnZXRFdmVudFByZWZpeDoiZHJvcCIsb3B0aW9uczp7YWNjZXB0OiIqIixhY3RpdmVDbGFzczpmYWxzZSxhZGRDbGFzc2VzOnRydWUsZ3JlZWR5OmZhbHNlLGhvdmVyQ2xhc3M6ZmFsc2Usc2NvcGU6ImRlZmF1bHQiLHRvbGVyYW5jZToiaW50ZXJzZWN0In0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBkPXRoaXMub3B0aW9ucyxlPWQuYWNjZXB0O3RoaXMuaXNvdmVyPTA7dGhpcy5pc291dD0xO3RoaXMuYWNjZXB0PWIuaXNGdW5jdGlvbihlKT9lOmZ1bmN0aW9uKGYpe3JldHVybiBmLmlzKGUpfTt0aGlzLnByb3BvcnRpb25zPXt3aWR0aDp0aGlzLmVsZW1lbnRbMF0ub2Zmc2V0V2lkdGgsaGVpZ2h0OnRoaXMuZWxlbWVudFswXS5vZmZzZXRIZWlnaHR9O2IudWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbZC5zY29wZV09Yi51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1tkLnNjb3BlXXx8W107Yi51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1tkLnNjb3BlXS5wdXNoKHRoaXMpOwpkLmFkZENsYXNzZXMmJnRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktZHJvcHBhYmxlIil9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtmb3IodmFyIGQ9Yi51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1t0aGlzLm9wdGlvbnMuc2NvcGVdLGU9MDtlPGQubGVuZ3RoO2UrKylkW2VdPT10aGlzJiZkLnNwbGljZShlLDEpO3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktZHJvcHBhYmxlIHVpLWRyb3BwYWJsZS1kaXNhYmxlZCIpLnJlbW92ZURhdGEoImRyb3BwYWJsZSIpLnVuYmluZCgiLmRyb3BwYWJsZSIpO3JldHVybiB0aGlzfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGQsZSl7aWYoZD09ImFjY2VwdCIpdGhpcy5hY2NlcHQ9Yi5pc0Z1bmN0aW9uKGUpP2U6ZnVuY3Rpb24oZil7cmV0dXJuIGYuaXMoZSl9O2IuV2lkZ2V0LnByb3RvdHlwZS5fc2V0T3B0aW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sX2FjdGl2YXRlOmZ1bmN0aW9uKGQpe3ZhciBlPWIudWkuZGRtYW5hZ2VyLmN1cnJlbnQ7dGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzJiYKdGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyk7ZSYmdGhpcy5fdHJpZ2dlcigiYWN0aXZhdGUiLGQsdGhpcy51aShlKSl9LF9kZWFjdGl2YXRlOmZ1bmN0aW9uKGQpe3ZhciBlPWIudWkuZGRtYW5hZ2VyLmN1cnJlbnQ7dGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKTtlJiZ0aGlzLl90cmlnZ2VyKCJkZWFjdGl2YXRlIixkLHRoaXMudWkoZSkpfSxfb3ZlcjpmdW5jdGlvbihkKXt2YXIgZT1iLnVpLmRkbWFuYWdlci5jdXJyZW50O2lmKCEoIWV8fChlLmN1cnJlbnRJdGVtfHxlLmVsZW1lbnQpWzBdPT10aGlzLmVsZW1lbnRbMF0pKWlmKHRoaXMuYWNjZXB0LmNhbGwodGhpcy5lbGVtZW50WzBdLGUuY3VycmVudEl0ZW18fGUuZWxlbWVudCkpe3RoaXMub3B0aW9ucy5ob3ZlckNsYXNzJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmhvdmVyQ2xhc3MpOwp0aGlzLl90cmlnZ2VyKCJvdmVyIixkLHRoaXMudWkoZSkpfX0sX291dDpmdW5jdGlvbihkKXt2YXIgZT1iLnVpLmRkbWFuYWdlci5jdXJyZW50O2lmKCEoIWV8fChlLmN1cnJlbnRJdGVtfHxlLmVsZW1lbnQpWzBdPT10aGlzLmVsZW1lbnRbMF0pKWlmKHRoaXMuYWNjZXB0LmNhbGwodGhpcy5lbGVtZW50WzBdLGUuY3VycmVudEl0ZW18fGUuZWxlbWVudCkpe3RoaXMub3B0aW9ucy5ob3ZlckNsYXNzJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmhvdmVyQ2xhc3MpO3RoaXMuX3RyaWdnZXIoIm91dCIsZCx0aGlzLnVpKGUpKX19LF9kcm9wOmZ1bmN0aW9uKGQsZSl7dmFyIGY9ZXx8Yi51aS5kZG1hbmFnZXIuY3VycmVudDtpZighZnx8KGYuY3VycmVudEl0ZW18fGYuZWxlbWVudClbMF09PXRoaXMuZWxlbWVudFswXSlyZXR1cm4gZmFsc2U7dmFyIGc9ZmFsc2U7dGhpcy5lbGVtZW50LmZpbmQoIjpkYXRhKGRyb3BwYWJsZSkiKS5ub3QoIi51aS1kcmFnZ2FibGUtZHJhZ2dpbmciKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGE9CmIuZGF0YSh0aGlzLCJkcm9wcGFibGUiKTtpZihhLm9wdGlvbnMuZ3JlZWR5JiYhYS5vcHRpb25zLmRpc2FibGVkJiZhLm9wdGlvbnMuc2NvcGU9PWYub3B0aW9ucy5zY29wZSYmYS5hY2NlcHQuY2FsbChhLmVsZW1lbnRbMF0sZi5jdXJyZW50SXRlbXx8Zi5lbGVtZW50KSYmYi51aS5pbnRlcnNlY3QoZixiLmV4dGVuZChhLHtvZmZzZXQ6YS5lbGVtZW50Lm9mZnNldCgpfSksYS5vcHRpb25zLnRvbGVyYW5jZSkpe2c9dHJ1ZTtyZXR1cm4gZmFsc2V9fSk7aWYoZylyZXR1cm4gZmFsc2U7aWYodGhpcy5hY2NlcHQuY2FsbCh0aGlzLmVsZW1lbnRbMF0sZi5jdXJyZW50SXRlbXx8Zi5lbGVtZW50KSl7dGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKTt0aGlzLm9wdGlvbnMuaG92ZXJDbGFzcyYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5ob3ZlckNsYXNzKTt0aGlzLl90cmlnZ2VyKCJkcm9wIiwKZCx0aGlzLnVpKGYpKTtyZXR1cm4gdGhpcy5lbGVtZW50fXJldHVybiBmYWxzZX0sdWk6ZnVuY3Rpb24oZCl7cmV0dXJue2RyYWdnYWJsZTpkLmN1cnJlbnRJdGVtfHxkLmVsZW1lbnQsaGVscGVyOmQuaGVscGVyLHBvc2l0aW9uOmQucG9zaXRpb24sb2Zmc2V0OmQucG9zaXRpb25BYnN9fX0pO2IuZXh0ZW5kKGIudWkuZHJvcHBhYmxlLHt2ZXJzaW9uOiIxLjguMTIifSk7Yi51aS5pbnRlcnNlY3Q9ZnVuY3Rpb24oZCxlLGYpe2lmKCFlLm9mZnNldClyZXR1cm4gZmFsc2U7dmFyIGc9KGQucG9zaXRpb25BYnN8fGQucG9zaXRpb24uYWJzb2x1dGUpLmxlZnQsYT1nK2QuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgsYz0oZC5wb3NpdGlvbkFic3x8ZC5wb3NpdGlvbi5hYnNvbHV0ZSkudG9wLGg9YytkLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCxpPWUub2Zmc2V0LmxlZnQsaj1pK2UucHJvcG9ydGlvbnMud2lkdGgsbj1lLm9mZnNldC50b3Asbz1uK2UucHJvcG9ydGlvbnMuaGVpZ2h0Owpzd2l0Y2goZil7Y2FzZSAiZml0IjpyZXR1cm4gaTw9ZyYmYTw9aiYmbjw9YyYmaDw9bztjYXNlICJpbnRlcnNlY3QiOnJldHVybiBpPGcrZC5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC8yJiZhLWQuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgvMjxqJiZuPGMrZC5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQvMiYmaC1kLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC8yPG87Y2FzZSAicG9pbnRlciI6cmV0dXJuIGIudWkuaXNPdmVyKChkLnBvc2l0aW9uQWJzfHxkLnBvc2l0aW9uLmFic29sdXRlKS50b3ArKGQuY2xpY2tPZmZzZXR8fGQub2Zmc2V0LmNsaWNrKS50b3AsKGQucG9zaXRpb25BYnN8fGQucG9zaXRpb24uYWJzb2x1dGUpLmxlZnQrKGQuY2xpY2tPZmZzZXR8fGQub2Zmc2V0LmNsaWNrKS5sZWZ0LG4saSxlLnByb3BvcnRpb25zLmhlaWdodCxlLnByb3BvcnRpb25zLndpZHRoKTtjYXNlICJ0b3VjaCI6cmV0dXJuKGM+PW4mJmM8PW98fGg+PW4mJmg8PW98fGM8biYmaD5vKSYmKGc+PQppJiZnPD1qfHxhPj1pJiZhPD1qfHxnPGkmJmE+aik7ZGVmYXVsdDpyZXR1cm4gZmFsc2V9fTtiLnVpLmRkbWFuYWdlcj17Y3VycmVudDpudWxsLGRyb3BwYWJsZXM6eyJkZWZhdWx0IjpbXX0scHJlcGFyZU9mZnNldHM6ZnVuY3Rpb24oZCxlKXt2YXIgZj1iLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW2Qub3B0aW9ucy5zY29wZV18fFtdLGc9ZT9lLnR5cGU6bnVsbCxhPShkLmN1cnJlbnRJdGVtfHxkLmVsZW1lbnQpLmZpbmQoIjpkYXRhKGRyb3BwYWJsZSkiKS5hbmRTZWxmKCksYz0wO2E6Zm9yKDtjPGYubGVuZ3RoO2MrKylpZighKGZbY10ub3B0aW9ucy5kaXNhYmxlZHx8ZCYmIWZbY10uYWNjZXB0LmNhbGwoZltjXS5lbGVtZW50WzBdLGQuY3VycmVudEl0ZW18fGQuZWxlbWVudCkpKXtmb3IodmFyIGg9MDtoPGEubGVuZ3RoO2grKylpZihhW2hdPT1mW2NdLmVsZW1lbnRbMF0pe2ZbY10ucHJvcG9ydGlvbnMuaGVpZ2h0PTA7Y29udGludWUgYX1mW2NdLnZpc2libGU9ZltjXS5lbGVtZW50LmNzcygiZGlzcGxheSIpIT0KIm5vbmUiO2lmKGZbY10udmlzaWJsZSl7Zz09Im1vdXNlZG93biImJmZbY10uX2FjdGl2YXRlLmNhbGwoZltjXSxlKTtmW2NdLm9mZnNldD1mW2NdLmVsZW1lbnQub2Zmc2V0KCk7ZltjXS5wcm9wb3J0aW9ucz17d2lkdGg6ZltjXS5lbGVtZW50WzBdLm9mZnNldFdpZHRoLGhlaWdodDpmW2NdLmVsZW1lbnRbMF0ub2Zmc2V0SGVpZ2h0fX19fSxkcm9wOmZ1bmN0aW9uKGQsZSl7dmFyIGY9ZmFsc2U7Yi5lYWNoKGIudWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbZC5vcHRpb25zLnNjb3BlXXx8W10sZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMpe2lmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMudmlzaWJsZSYmYi51aS5pbnRlcnNlY3QoZCx0aGlzLHRoaXMub3B0aW9ucy50b2xlcmFuY2UpKWY9Znx8dGhpcy5fZHJvcC5jYWxsKHRoaXMsZSk7aWYoIXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmdGhpcy52aXNpYmxlJiZ0aGlzLmFjY2VwdC5jYWxsKHRoaXMuZWxlbWVudFswXSxkLmN1cnJlbnRJdGVtfHwKZC5lbGVtZW50KSl7dGhpcy5pc291dD0xO3RoaXMuaXNvdmVyPTA7dGhpcy5fZGVhY3RpdmF0ZS5jYWxsKHRoaXMsZSl9fX0pO3JldHVybiBmfSxkcmFnOmZ1bmN0aW9uKGQsZSl7ZC5vcHRpb25zLnJlZnJlc2hQb3NpdGlvbnMmJmIudWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKGQsZSk7Yi5lYWNoKGIudWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbZC5vcHRpb25zLnNjb3BlXXx8W10sZnVuY3Rpb24oKXtpZighKHRoaXMub3B0aW9ucy5kaXNhYmxlZHx8dGhpcy5ncmVlZHlDaGlsZHx8IXRoaXMudmlzaWJsZSkpe3ZhciBmPWIudWkuaW50ZXJzZWN0KGQsdGhpcyx0aGlzLm9wdGlvbnMudG9sZXJhbmNlKTtpZihmPSFmJiZ0aGlzLmlzb3Zlcj09MT8iaXNvdXQiOmYmJnRoaXMuaXNvdmVyPT0wPyJpc292ZXIiOm51bGwpe3ZhciBnO2lmKHRoaXMub3B0aW9ucy5ncmVlZHkpe3ZhciBhPXRoaXMuZWxlbWVudC5wYXJlbnRzKCI6ZGF0YShkcm9wcGFibGUpOmVxKDApIik7aWYoYS5sZW5ndGgpe2c9CmIuZGF0YShhWzBdLCJkcm9wcGFibGUiKTtnLmdyZWVkeUNoaWxkPWY9PSJpc292ZXIiPzE6MH19aWYoZyYmZj09Imlzb3ZlciIpe2cuaXNvdmVyPTA7Zy5pc291dD0xO2cuX291dC5jYWxsKGcsZSl9dGhpc1tmXT0xO3RoaXNbZj09Imlzb3V0Ij8iaXNvdmVyIjoiaXNvdXQiXT0wO3RoaXNbZj09Imlzb3ZlciI/Il9vdmVyIjoiX291dCJdLmNhbGwodGhpcyxlKTtpZihnJiZmPT0iaXNvdXQiKXtnLmlzb3V0PTA7Zy5pc292ZXI9MTtnLl9vdmVyLmNhbGwoZyxlKX19fX0pfX19KShqUXVlcnkpOwooZnVuY3Rpb24oYil7Yi53aWRnZXQoInVpLnJlc2l6YWJsZSIsYi51aS5tb3VzZSx7d2lkZ2V0RXZlbnRQcmVmaXg6InJlc2l6ZSIsb3B0aW9uczp7YWxzb1Jlc2l6ZTpmYWxzZSxhbmltYXRlOmZhbHNlLGFuaW1hdGVEdXJhdGlvbjoic2xvdyIsYW5pbWF0ZUVhc2luZzoic3dpbmciLGFzcGVjdFJhdGlvOmZhbHNlLGF1dG9IaWRlOmZhbHNlLGNvbnRhaW5tZW50OmZhbHNlLGdob3N0OmZhbHNlLGdyaWQ6ZmFsc2UsaGFuZGxlczoiZSxzLHNlIixoZWxwZXI6ZmFsc2UsbWF4SGVpZ2h0Om51bGwsbWF4V2lkdGg6bnVsbCxtaW5IZWlnaHQ6MTAsbWluV2lkdGg6MTAsekluZGV4OjFFM30sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBmPXRoaXMsZz10aGlzLm9wdGlvbnM7dGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1yZXNpemFibGUiKTtiLmV4dGVuZCh0aGlzLHtfYXNwZWN0UmF0aW86ISFnLmFzcGVjdFJhdGlvLGFzcGVjdFJhdGlvOmcuYXNwZWN0UmF0aW8sb3JpZ2luYWxFbGVtZW50OnRoaXMuZWxlbWVudCwKX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHM6W10sX2hlbHBlcjpnLmhlbHBlcnx8Zy5naG9zdHx8Zy5hbmltYXRlP2cuaGVscGVyfHwidWktcmVzaXphYmxlLWhlbHBlciI6bnVsbH0pO2lmKHRoaXMuZWxlbWVudFswXS5ub2RlTmFtZS5tYXRjaCgvY2FudmFzfHRleHRhcmVhfGlucHV0fHNlbGVjdHxidXR0b258aW1nL2kpKXsvcmVsYXRpdmUvLnRlc3QodGhpcy5lbGVtZW50LmNzcygicG9zaXRpb24iKSkmJmIuYnJvd3Nlci5vcGVyYSYmdGhpcy5lbGVtZW50LmNzcyh7cG9zaXRpb246InJlbGF0aXZlIix0b3A6ImF1dG8iLGxlZnQ6ImF1dG8ifSk7dGhpcy5lbGVtZW50LndyYXAoYignPGRpdiBjbGFzcz0idWktd3JhcHBlciIgc3R5bGU9Im92ZXJmbG93OiBoaWRkZW47Ij48L2Rpdj4nKS5jc3Moe3Bvc2l0aW9uOnRoaXMuZWxlbWVudC5jc3MoInBvc2l0aW9uIiksd2lkdGg6dGhpcy5lbGVtZW50Lm91dGVyV2lkdGgoKSxoZWlnaHQ6dGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCksCnRvcDp0aGlzLmVsZW1lbnQuY3NzKCJ0b3AiKSxsZWZ0OnRoaXMuZWxlbWVudC5jc3MoImxlZnQiKX0pKTt0aGlzLmVsZW1lbnQ9dGhpcy5lbGVtZW50LnBhcmVudCgpLmRhdGEoInJlc2l6YWJsZSIsdGhpcy5lbGVtZW50LmRhdGEoInJlc2l6YWJsZSIpKTt0aGlzLmVsZW1lbnRJc1dyYXBwZXI9dHJ1ZTt0aGlzLmVsZW1lbnQuY3NzKHttYXJnaW5MZWZ0OnRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygibWFyZ2luTGVmdCIpLG1hcmdpblRvcDp0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoIm1hcmdpblRvcCIpLG1hcmdpblJpZ2h0OnRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygibWFyZ2luUmlnaHQiKSxtYXJnaW5Cb3R0b206dGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJtYXJnaW5Cb3R0b20iKX0pO3RoaXMub3JpZ2luYWxFbGVtZW50LmNzcyh7bWFyZ2luTGVmdDowLG1hcmdpblRvcDowLG1hcmdpblJpZ2h0OjAsbWFyZ2luQm90dG9tOjB9KTt0aGlzLm9yaWdpbmFsUmVzaXplU3R5bGU9CnRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygicmVzaXplIik7dGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJyZXNpemUiLCJub25lIik7dGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cy5wdXNoKHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcyh7cG9zaXRpb246InN0YXRpYyIsem9vbToxLGRpc3BsYXk6ImJsb2NrIn0pKTt0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3Moe21hcmdpbjp0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoIm1hcmdpbiIpfSk7dGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemUoKX10aGlzLmhhbmRsZXM9Zy5oYW5kbGVzfHwoIWIoIi51aS1yZXNpemFibGUtaGFuZGxlIix0aGlzLmVsZW1lbnQpLmxlbmd0aD8iZSxzLHNlIjp7bjoiLnVpLXJlc2l6YWJsZS1uIixlOiIudWktcmVzaXphYmxlLWUiLHM6Ii51aS1yZXNpemFibGUtcyIsdzoiLnVpLXJlc2l6YWJsZS13IixzZToiLnVpLXJlc2l6YWJsZS1zZSIsc3c6Ii51aS1yZXNpemFibGUtc3ciLG5lOiIudWktcmVzaXphYmxlLW5lIiwKbnc6Ii51aS1yZXNpemFibGUtbncifSk7aWYodGhpcy5oYW5kbGVzLmNvbnN0cnVjdG9yPT1TdHJpbmcpe2lmKHRoaXMuaGFuZGxlcz09ImFsbCIpdGhpcy5oYW5kbGVzPSJuLGUscyx3LHNlLHN3LG5lLG53Ijt2YXIgYT10aGlzLmhhbmRsZXMuc3BsaXQoIiwiKTt0aGlzLmhhbmRsZXM9e307Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBoPWIudHJpbShhW2NdKSxpPWIoJzxkaXYgY2xhc3M9InVpLXJlc2l6YWJsZS1oYW5kbGUgJysoInVpLXJlc2l6YWJsZS0iK2gpKyciPjwvZGl2PicpOy9zd3xzZXxuZXxudy8udGVzdChoKSYmaS5jc3Moe3pJbmRleDorK2cuekluZGV4fSk7InNlIj09aCYmaS5hZGRDbGFzcygidWktaWNvbiB1aS1pY29uLWdyaXBzbWFsbC1kaWFnb25hbC1zZSIpO3RoaXMuaGFuZGxlc1toXT0iLnVpLXJlc2l6YWJsZS0iK2g7dGhpcy5lbGVtZW50LmFwcGVuZChpKX19dGhpcy5fcmVuZGVyQXhpcz1mdW5jdGlvbihqKXtqPWp8fHRoaXMuZWxlbWVudDtmb3IodmFyIG4gaW4gdGhpcy5oYW5kbGVzKXtpZih0aGlzLmhhbmRsZXNbbl0uY29uc3RydWN0b3I9PQpTdHJpbmcpdGhpcy5oYW5kbGVzW25dPWIodGhpcy5oYW5kbGVzW25dLHRoaXMuZWxlbWVudCkuc2hvdygpO2lmKHRoaXMuZWxlbWVudElzV3JhcHBlciYmdGhpcy5vcmlnaW5hbEVsZW1lbnRbMF0ubm9kZU5hbWUubWF0Y2goL3RleHRhcmVhfGlucHV0fHNlbGVjdHxidXR0b24vaSkpe3ZhciBvPWIodGhpcy5oYW5kbGVzW25dLHRoaXMuZWxlbWVudCksbD0wO2w9L3N3fG5lfG53fHNlfG58cy8udGVzdChuKT9vLm91dGVySGVpZ2h0KCk6by5vdXRlcldpZHRoKCk7bz1bInBhZGRpbmciLC9uZXxud3xuLy50ZXN0KG4pPyJUb3AiOi9zZXxzd3xzLy50ZXN0KG4pPyJCb3R0b20iOi9eZSQvLnRlc3Qobik/IlJpZ2h0IjoiTGVmdCJdLmpvaW4oIiIpO2ouY3NzKG8sbCk7dGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemUoKX1iKHRoaXMuaGFuZGxlc1tuXSl9fTt0aGlzLl9yZW5kZXJBeGlzKHRoaXMuZWxlbWVudCk7dGhpcy5faGFuZGxlcz1iKCIudWktcmVzaXphYmxlLWhhbmRsZSIsdGhpcy5lbGVtZW50KS5kaXNhYmxlU2VsZWN0aW9uKCk7CnRoaXMuX2hhbmRsZXMubW91c2VvdmVyKGZ1bmN0aW9uKCl7aWYoIWYucmVzaXppbmcpe2lmKHRoaXMuY2xhc3NOYW1lKXZhciBqPXRoaXMuY2xhc3NOYW1lLm1hdGNoKC91aS1yZXNpemFibGUtKHNlfHN3fG5lfG53fG58ZXxzfHcpL2kpO2YuYXhpcz1qJiZqWzFdP2pbMV06InNlIn19KTtpZihnLmF1dG9IaWRlKXt0aGlzLl9oYW5kbGVzLmhpZGUoKTtiKHRoaXMuZWxlbWVudCkuYWRkQ2xhc3MoInVpLXJlc2l6YWJsZS1hdXRvaGlkZSIpLmhvdmVyKGZ1bmN0aW9uKCl7Yih0aGlzKS5yZW1vdmVDbGFzcygidWktcmVzaXphYmxlLWF1dG9oaWRlIik7Zi5faGFuZGxlcy5zaG93KCl9LGZ1bmN0aW9uKCl7aWYoIWYucmVzaXppbmcpe2IodGhpcykuYWRkQ2xhc3MoInVpLXJlc2l6YWJsZS1hdXRvaGlkZSIpO2YuX2hhbmRsZXMuaGlkZSgpfX0pfXRoaXMuX21vdXNlSW5pdCgpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fbW91c2VEZXN0cm95KCk7dmFyIGY9ZnVuY3Rpb24oYSl7YihhKS5yZW1vdmVDbGFzcygidWktcmVzaXphYmxlIHVpLXJlc2l6YWJsZS1kaXNhYmxlZCB1aS1yZXNpemFibGUtcmVzaXppbmciKS5yZW1vdmVEYXRhKCJyZXNpemFibGUiKS51bmJpbmQoIi5yZXNpemFibGUiKS5maW5kKCIudWktcmVzaXphYmxlLWhhbmRsZSIpLnJlbW92ZSgpfTsKaWYodGhpcy5lbGVtZW50SXNXcmFwcGVyKXtmKHRoaXMuZWxlbWVudCk7dmFyIGc9dGhpcy5lbGVtZW50O2cuYWZ0ZXIodGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKHtwb3NpdGlvbjpnLmNzcygicG9zaXRpb24iKSx3aWR0aDpnLm91dGVyV2lkdGgoKSxoZWlnaHQ6Zy5vdXRlckhlaWdodCgpLHRvcDpnLmNzcygidG9wIiksbGVmdDpnLmNzcygibGVmdCIpfSkpLnJlbW92ZSgpfXRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygicmVzaXplIix0aGlzLm9yaWdpbmFsUmVzaXplU3R5bGUpO2YodGhpcy5vcmlnaW5hbEVsZW1lbnQpO3JldHVybiB0aGlzfSxfbW91c2VDYXB0dXJlOmZ1bmN0aW9uKGYpe3ZhciBnPWZhbHNlO2Zvcih2YXIgYSBpbiB0aGlzLmhhbmRsZXMpaWYoYih0aGlzLmhhbmRsZXNbYV0pWzBdPT1mLnRhcmdldClnPXRydWU7cmV0dXJuIXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmZ30sX21vdXNlU3RhcnQ6ZnVuY3Rpb24oZil7dmFyIGc9dGhpcy5vcHRpb25zLGE9dGhpcy5lbGVtZW50LnBvc2l0aW9uKCksCmM9dGhpcy5lbGVtZW50O3RoaXMucmVzaXppbmc9dHJ1ZTt0aGlzLmRvY3VtZW50U2Nyb2xsPXt0b3A6Yihkb2N1bWVudCkuc2Nyb2xsVG9wKCksbGVmdDpiKGRvY3VtZW50KS5zY3JvbGxMZWZ0KCl9O2lmKGMuaXMoIi51aS1kcmFnZ2FibGUiKXx8L2Fic29sdXRlLy50ZXN0KGMuY3NzKCJwb3NpdGlvbiIpKSljLmNzcyh7cG9zaXRpb246ImFic29sdXRlIix0b3A6YS50b3AsbGVmdDphLmxlZnR9KTtiLmJyb3dzZXIub3BlcmEmJi9yZWxhdGl2ZS8udGVzdChjLmNzcygicG9zaXRpb24iKSkmJmMuY3NzKHtwb3NpdGlvbjoicmVsYXRpdmUiLHRvcDoiYXV0byIsbGVmdDoiYXV0byJ9KTt0aGlzLl9yZW5kZXJQcm94eSgpO2E9ZCh0aGlzLmhlbHBlci5jc3MoImxlZnQiKSk7dmFyIGg9ZCh0aGlzLmhlbHBlci5jc3MoInRvcCIpKTtpZihnLmNvbnRhaW5tZW50KXthKz1iKGcuY29udGFpbm1lbnQpLnNjcm9sbExlZnQoKXx8MDtoKz1iKGcuY29udGFpbm1lbnQpLnNjcm9sbFRvcCgpfHwwfXRoaXMub2Zmc2V0PQp0aGlzLmhlbHBlci5vZmZzZXQoKTt0aGlzLnBvc2l0aW9uPXtsZWZ0OmEsdG9wOmh9O3RoaXMuc2l6ZT10aGlzLl9oZWxwZXI/e3dpZHRoOmMub3V0ZXJXaWR0aCgpLGhlaWdodDpjLm91dGVySGVpZ2h0KCl9Ont3aWR0aDpjLndpZHRoKCksaGVpZ2h0OmMuaGVpZ2h0KCl9O3RoaXMub3JpZ2luYWxTaXplPXRoaXMuX2hlbHBlcj97d2lkdGg6Yy5vdXRlcldpZHRoKCksaGVpZ2h0OmMub3V0ZXJIZWlnaHQoKX06e3dpZHRoOmMud2lkdGgoKSxoZWlnaHQ6Yy5oZWlnaHQoKX07dGhpcy5vcmlnaW5hbFBvc2l0aW9uPXtsZWZ0OmEsdG9wOmh9O3RoaXMuc2l6ZURpZmY9e3dpZHRoOmMub3V0ZXJXaWR0aCgpLWMud2lkdGgoKSxoZWlnaHQ6Yy5vdXRlckhlaWdodCgpLWMuaGVpZ2h0KCl9O3RoaXMub3JpZ2luYWxNb3VzZVBvc2l0aW9uPXtsZWZ0OmYucGFnZVgsdG9wOmYucGFnZVl9O3RoaXMuYXNwZWN0UmF0aW89dHlwZW9mIGcuYXNwZWN0UmF0aW89PSJudW1iZXIiP2cuYXNwZWN0UmF0aW86CnRoaXMub3JpZ2luYWxTaXplLndpZHRoL3RoaXMub3JpZ2luYWxTaXplLmhlaWdodHx8MTtnPWIoIi51aS1yZXNpemFibGUtIit0aGlzLmF4aXMpLmNzcygiY3Vyc29yIik7YigiYm9keSIpLmNzcygiY3Vyc29yIixnPT0iYXV0byI/dGhpcy5heGlzKyItcmVzaXplIjpnKTtjLmFkZENsYXNzKCJ1aS1yZXNpemFibGUtcmVzaXppbmciKTt0aGlzLl9wcm9wYWdhdGUoInN0YXJ0IixmKTtyZXR1cm4gdHJ1ZX0sX21vdXNlRHJhZzpmdW5jdGlvbihmKXt2YXIgZz10aGlzLmhlbHBlcixhPXRoaXMub3JpZ2luYWxNb3VzZVBvc2l0aW9uLGM9dGhpcy5fY2hhbmdlW3RoaXMuYXhpc107aWYoIWMpcmV0dXJuIGZhbHNlO2E9Yy5hcHBseSh0aGlzLFtmLGYucGFnZVgtYS5sZWZ0fHwwLGYucGFnZVktYS50b3B8fDBdKTtpZih0aGlzLl9hc3BlY3RSYXRpb3x8Zi5zaGlmdEtleSlhPXRoaXMuX3VwZGF0ZVJhdGlvKGEsZik7YT10aGlzLl9yZXNwZWN0U2l6ZShhLGYpO3RoaXMuX3Byb3BhZ2F0ZSgicmVzaXplIiwKZik7Zy5jc3Moe3RvcDp0aGlzLnBvc2l0aW9uLnRvcCsicHgiLGxlZnQ6dGhpcy5wb3NpdGlvbi5sZWZ0KyJweCIsd2lkdGg6dGhpcy5zaXplLndpZHRoKyJweCIsaGVpZ2h0OnRoaXMuc2l6ZS5oZWlnaHQrInB4In0pOyF0aGlzLl9oZWxwZXImJnRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHMubGVuZ3RoJiZ0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZSgpO3RoaXMuX3VwZGF0ZUNhY2hlKGEpO3RoaXMuX3RyaWdnZXIoInJlc2l6ZSIsZix0aGlzLnVpKCkpO3JldHVybiBmYWxzZX0sX21vdXNlU3RvcDpmdW5jdGlvbihmKXt0aGlzLnJlc2l6aW5nPWZhbHNlO3ZhciBnPXRoaXMub3B0aW9ucyxhPXRoaXM7aWYodGhpcy5faGVscGVyKXt2YXIgYz10aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLGg9Yy5sZW5ndGgmJi90ZXh0YXJlYS9pLnRlc3QoY1swXS5ub2RlTmFtZSk7Yz1oJiZiLnVpLmhhc1Njcm9sbChjWzBdLCJsZWZ0Iik/MDphLnNpemVEaWZmLmhlaWdodDsKaD1oPzA6YS5zaXplRGlmZi53aWR0aDtoPXt3aWR0aDphLmhlbHBlci53aWR0aCgpLWgsaGVpZ2h0OmEuaGVscGVyLmhlaWdodCgpLWN9O2M9cGFyc2VJbnQoYS5lbGVtZW50LmNzcygibGVmdCIpLDEwKSsoYS5wb3NpdGlvbi5sZWZ0LWEub3JpZ2luYWxQb3NpdGlvbi5sZWZ0KXx8bnVsbDt2YXIgaT1wYXJzZUludChhLmVsZW1lbnQuY3NzKCJ0b3AiKSwxMCkrKGEucG9zaXRpb24udG9wLWEub3JpZ2luYWxQb3NpdGlvbi50b3ApfHxudWxsO2cuYW5pbWF0ZXx8dGhpcy5lbGVtZW50LmNzcyhiLmV4dGVuZChoLHt0b3A6aSxsZWZ0OmN9KSk7YS5oZWxwZXIuaGVpZ2h0KGEuc2l6ZS5oZWlnaHQpO2EuaGVscGVyLndpZHRoKGEuc2l6ZS53aWR0aCk7dGhpcy5faGVscGVyJiYhZy5hbmltYXRlJiZ0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZSgpfWIoImJvZHkiKS5jc3MoImN1cnNvciIsImF1dG8iKTt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXJlc2l6YWJsZS1yZXNpemluZyIpOwp0aGlzLl9wcm9wYWdhdGUoInN0b3AiLGYpO3RoaXMuX2hlbHBlciYmdGhpcy5oZWxwZXIucmVtb3ZlKCk7cmV0dXJuIGZhbHNlfSxfdXBkYXRlQ2FjaGU6ZnVuY3Rpb24oZil7dGhpcy5vZmZzZXQ9dGhpcy5oZWxwZXIub2Zmc2V0KCk7aWYoZShmLmxlZnQpKXRoaXMucG9zaXRpb24ubGVmdD1mLmxlZnQ7aWYoZShmLnRvcCkpdGhpcy5wb3NpdGlvbi50b3A9Zi50b3A7aWYoZShmLmhlaWdodCkpdGhpcy5zaXplLmhlaWdodD1mLmhlaWdodDtpZihlKGYud2lkdGgpKXRoaXMuc2l6ZS53aWR0aD1mLndpZHRofSxfdXBkYXRlUmF0aW86ZnVuY3Rpb24oZil7dmFyIGc9dGhpcy5wb3NpdGlvbixhPXRoaXMuc2l6ZSxjPXRoaXMuYXhpcztpZihmLmhlaWdodClmLndpZHRoPWEuaGVpZ2h0KnRoaXMuYXNwZWN0UmF0aW87ZWxzZSBpZihmLndpZHRoKWYuaGVpZ2h0PWEud2lkdGgvdGhpcy5hc3BlY3RSYXRpbztpZihjPT0ic3ciKXtmLmxlZnQ9Zy5sZWZ0KyhhLndpZHRoLWYud2lkdGgpO2YudG9wPQpudWxsfWlmKGM9PSJudyIpe2YudG9wPWcudG9wKyhhLmhlaWdodC1mLmhlaWdodCk7Zi5sZWZ0PWcubGVmdCsoYS53aWR0aC1mLndpZHRoKX1yZXR1cm4gZn0sX3Jlc3BlY3RTaXplOmZ1bmN0aW9uKGYpe3ZhciBnPXRoaXMub3B0aW9ucyxhPXRoaXMuYXhpcyxjPWUoZi53aWR0aCkmJmcubWF4V2lkdGgmJmcubWF4V2lkdGg8Zi53aWR0aCxoPWUoZi5oZWlnaHQpJiZnLm1heEhlaWdodCYmZy5tYXhIZWlnaHQ8Zi5oZWlnaHQsaT1lKGYud2lkdGgpJiZnLm1pbldpZHRoJiZnLm1pbldpZHRoPmYud2lkdGgsaj1lKGYuaGVpZ2h0KSYmZy5taW5IZWlnaHQmJmcubWluSGVpZ2h0PmYuaGVpZ2h0O2lmKGkpZi53aWR0aD1nLm1pbldpZHRoO2lmKGopZi5oZWlnaHQ9Zy5taW5IZWlnaHQ7aWYoYylmLndpZHRoPWcubWF4V2lkdGg7aWYoaClmLmhlaWdodD1nLm1heEhlaWdodDt2YXIgbj10aGlzLm9yaWdpbmFsUG9zaXRpb24ubGVmdCt0aGlzLm9yaWdpbmFsU2l6ZS53aWR0aCxvPXRoaXMucG9zaXRpb24udG9wKwp0aGlzLnNpemUuaGVpZ2h0LGw9L3N3fG53fHcvLnRlc3QoYSk7YT0vbnd8bmV8bi8udGVzdChhKTtpZihpJiZsKWYubGVmdD1uLWcubWluV2lkdGg7aWYoYyYmbClmLmxlZnQ9bi1nLm1heFdpZHRoO2lmKGomJmEpZi50b3A9by1nLm1pbkhlaWdodDtpZihoJiZhKWYudG9wPW8tZy5tYXhIZWlnaHQ7aWYoKGc9IWYud2lkdGgmJiFmLmhlaWdodCkmJiFmLmxlZnQmJmYudG9wKWYudG9wPW51bGw7ZWxzZSBpZihnJiYhZi50b3AmJmYubGVmdClmLmxlZnQ9bnVsbDtyZXR1cm4gZn0sX3Byb3BvcnRpb25hbGx5UmVzaXplOmZ1bmN0aW9uKCl7aWYodGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cy5sZW5ndGgpZm9yKHZhciBmPXRoaXMuaGVscGVyfHx0aGlzLmVsZW1lbnQsZz0wO2c8dGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cy5sZW5ndGg7ZysrKXt2YXIgYT10aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzW2ddO2lmKCF0aGlzLmJvcmRlckRpZil7dmFyIGM9ClthLmNzcygiYm9yZGVyVG9wV2lkdGgiKSxhLmNzcygiYm9yZGVyUmlnaHRXaWR0aCIpLGEuY3NzKCJib3JkZXJCb3R0b21XaWR0aCIpLGEuY3NzKCJib3JkZXJMZWZ0V2lkdGgiKV0saD1bYS5jc3MoInBhZGRpbmdUb3AiKSxhLmNzcygicGFkZGluZ1JpZ2h0IiksYS5jc3MoInBhZGRpbmdCb3R0b20iKSxhLmNzcygicGFkZGluZ0xlZnQiKV07dGhpcy5ib3JkZXJEaWY9Yi5tYXAoYyxmdW5jdGlvbihpLGope2k9cGFyc2VJbnQoaSwxMCl8fDA7aj1wYXJzZUludChoW2pdLDEwKXx8MDtyZXR1cm4gaStqfSl9Yi5icm93c2VyLm1zaWUmJihiKGYpLmlzKCI6aGlkZGVuIil8fGIoZikucGFyZW50cygiOmhpZGRlbiIpLmxlbmd0aCl8fGEuY3NzKHtoZWlnaHQ6Zi5oZWlnaHQoKS10aGlzLmJvcmRlckRpZlswXS10aGlzLmJvcmRlckRpZlsyXXx8MCx3aWR0aDpmLndpZHRoKCktdGhpcy5ib3JkZXJEaWZbMV0tdGhpcy5ib3JkZXJEaWZbM118fDB9KX19LF9yZW5kZXJQcm94eTpmdW5jdGlvbigpe3ZhciBmPQp0aGlzLm9wdGlvbnM7dGhpcy5lbGVtZW50T2Zmc2V0PXRoaXMuZWxlbWVudC5vZmZzZXQoKTtpZih0aGlzLl9oZWxwZXIpe3RoaXMuaGVscGVyPXRoaXMuaGVscGVyfHxiKCc8ZGl2IHN0eWxlPSJvdmVyZmxvdzpoaWRkZW47Ij48L2Rpdj4nKTt2YXIgZz1iLmJyb3dzZXIubXNpZSYmYi5icm93c2VyLnZlcnNpb248NyxhPWc/MTowO2c9Zz8yOi0xO3RoaXMuaGVscGVyLmFkZENsYXNzKHRoaXMuX2hlbHBlcikuY3NzKHt3aWR0aDp0aGlzLmVsZW1lbnQub3V0ZXJXaWR0aCgpK2csaGVpZ2h0OnRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpK2cscG9zaXRpb246ImFic29sdXRlIixsZWZ0OnRoaXMuZWxlbWVudE9mZnNldC5sZWZ0LWErInB4Iix0b3A6dGhpcy5lbGVtZW50T2Zmc2V0LnRvcC1hKyJweCIsekluZGV4OisrZi56SW5kZXh9KTt0aGlzLmhlbHBlci5hcHBlbmRUbygiYm9keSIpLmRpc2FibGVTZWxlY3Rpb24oKX1lbHNlIHRoaXMuaGVscGVyPXRoaXMuZWxlbWVudH0sX2NoYW5nZTp7ZTpmdW5jdGlvbihmLApnKXtyZXR1cm57d2lkdGg6dGhpcy5vcmlnaW5hbFNpemUud2lkdGgrZ319LHc6ZnVuY3Rpb24oZixnKXtyZXR1cm57bGVmdDp0aGlzLm9yaWdpbmFsUG9zaXRpb24ubGVmdCtnLHdpZHRoOnRoaXMub3JpZ2luYWxTaXplLndpZHRoLWd9fSxuOmZ1bmN0aW9uKGYsZyxhKXtyZXR1cm57dG9wOnRoaXMub3JpZ2luYWxQb3NpdGlvbi50b3ArYSxoZWlnaHQ6dGhpcy5vcmlnaW5hbFNpemUuaGVpZ2h0LWF9fSxzOmZ1bmN0aW9uKGYsZyxhKXtyZXR1cm57aGVpZ2h0OnRoaXMub3JpZ2luYWxTaXplLmhlaWdodCthfX0sc2U6ZnVuY3Rpb24oZixnLGEpe3JldHVybiBiLmV4dGVuZCh0aGlzLl9jaGFuZ2Uucy5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fY2hhbmdlLmUuYXBwbHkodGhpcyxbZixnLGFdKSl9LHN3OmZ1bmN0aW9uKGYsZyxhKXtyZXR1cm4gYi5leHRlbmQodGhpcy5fY2hhbmdlLnMuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX2NoYW5nZS53LmFwcGx5KHRoaXMsW2YsZywKYV0pKX0sbmU6ZnVuY3Rpb24oZixnLGEpe3JldHVybiBiLmV4dGVuZCh0aGlzLl9jaGFuZ2Uubi5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fY2hhbmdlLmUuYXBwbHkodGhpcyxbZixnLGFdKSl9LG53OmZ1bmN0aW9uKGYsZyxhKXtyZXR1cm4gYi5leHRlbmQodGhpcy5fY2hhbmdlLm4uYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX2NoYW5nZS53LmFwcGx5KHRoaXMsW2YsZyxhXSkpfX0sX3Byb3BhZ2F0ZTpmdW5jdGlvbihmLGcpe2IudWkucGx1Z2luLmNhbGwodGhpcyxmLFtnLHRoaXMudWkoKV0pO2YhPSJyZXNpemUiJiZ0aGlzLl90cmlnZ2VyKGYsZyx0aGlzLnVpKCkpfSxwbHVnaW5zOnt9LHVpOmZ1bmN0aW9uKCl7cmV0dXJue29yaWdpbmFsRWxlbWVudDp0aGlzLm9yaWdpbmFsRWxlbWVudCxlbGVtZW50OnRoaXMuZWxlbWVudCxoZWxwZXI6dGhpcy5oZWxwZXIscG9zaXRpb246dGhpcy5wb3NpdGlvbixzaXplOnRoaXMuc2l6ZSxvcmlnaW5hbFNpemU6dGhpcy5vcmlnaW5hbFNpemUsCm9yaWdpbmFsUG9zaXRpb246dGhpcy5vcmlnaW5hbFBvc2l0aW9ufX19KTtiLmV4dGVuZChiLnVpLnJlc2l6YWJsZSx7dmVyc2lvbjoiMS44LjEyIn0pO2IudWkucGx1Z2luLmFkZCgicmVzaXphYmxlIiwiYWxzb1Jlc2l6ZSIse3N0YXJ0OmZ1bmN0aW9uKCl7dmFyIGY9Yih0aGlzKS5kYXRhKCJyZXNpemFibGUiKS5vcHRpb25zLGc9ZnVuY3Rpb24oYSl7YihhKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9Yih0aGlzKTtjLmRhdGEoInJlc2l6YWJsZS1hbHNvcmVzaXplIix7d2lkdGg6cGFyc2VJbnQoYy53aWR0aCgpLDEwKSxoZWlnaHQ6cGFyc2VJbnQoYy5oZWlnaHQoKSwxMCksbGVmdDpwYXJzZUludChjLmNzcygibGVmdCIpLDEwKSx0b3A6cGFyc2VJbnQoYy5jc3MoInRvcCIpLDEwKSxwb3NpdGlvbjpjLmNzcygicG9zaXRpb24iKX0pfSl9O2lmKHR5cGVvZiBmLmFsc29SZXNpemU9PSJvYmplY3QiJiYhZi5hbHNvUmVzaXplLnBhcmVudE5vZGUpaWYoZi5hbHNvUmVzaXplLmxlbmd0aCl7Zi5hbHNvUmVzaXplPQpmLmFsc29SZXNpemVbMF07ZyhmLmFsc29SZXNpemUpfWVsc2UgYi5lYWNoKGYuYWxzb1Jlc2l6ZSxmdW5jdGlvbihhKXtnKGEpfSk7ZWxzZSBnKGYuYWxzb1Jlc2l6ZSl9LHJlc2l6ZTpmdW5jdGlvbihmLGcpe3ZhciBhPWIodGhpcykuZGF0YSgicmVzaXphYmxlIik7Zj1hLm9wdGlvbnM7dmFyIGM9YS5vcmlnaW5hbFNpemUsaD1hLm9yaWdpbmFsUG9zaXRpb24saT17aGVpZ2h0OmEuc2l6ZS5oZWlnaHQtYy5oZWlnaHR8fDAsd2lkdGg6YS5zaXplLndpZHRoLWMud2lkdGh8fDAsdG9wOmEucG9zaXRpb24udG9wLWgudG9wfHwwLGxlZnQ6YS5wb3NpdGlvbi5sZWZ0LWgubGVmdHx8MH0saj1mdW5jdGlvbihuLG8pe2IobikuZWFjaChmdW5jdGlvbigpe3ZhciBsPWIodGhpcyksaz1iKHRoaXMpLmRhdGEoInJlc2l6YWJsZS1hbHNvcmVzaXplIiksbT17fSxwPW8mJm8ubGVuZ3RoP286bC5wYXJlbnRzKGcub3JpZ2luYWxFbGVtZW50WzBdKS5sZW5ndGg/WyJ3aWR0aCIsImhlaWdodCJdOlsid2lkdGgiLAoiaGVpZ2h0IiwidG9wIiwibGVmdCJdO2IuZWFjaChwLGZ1bmN0aW9uKHEscyl7aWYoKHE9KGtbc118fDApKyhpW3NdfHwwKSkmJnE+PTApbVtzXT1xfHxudWxsfSk7aWYoYi5icm93c2VyLm9wZXJhJiYvcmVsYXRpdmUvLnRlc3QobC5jc3MoInBvc2l0aW9uIikpKXthLl9yZXZlcnRUb1JlbGF0aXZlUG9zaXRpb249dHJ1ZTtsLmNzcyh7cG9zaXRpb246ImFic29sdXRlIix0b3A6ImF1dG8iLGxlZnQ6ImF1dG8ifSl9bC5jc3MobSl9KX07dHlwZW9mIGYuYWxzb1Jlc2l6ZT09Im9iamVjdCImJiFmLmFsc29SZXNpemUubm9kZVR5cGU/Yi5lYWNoKGYuYWxzb1Jlc2l6ZSxmdW5jdGlvbihuLG8pe2oobixvKX0pOmooZi5hbHNvUmVzaXplKX0sc3RvcDpmdW5jdGlvbigpe3ZhciBmPWIodGhpcykuZGF0YSgicmVzaXphYmxlIiksZz1mLm9wdGlvbnMsYT1mdW5jdGlvbihjKXtiKGMpLmVhY2goZnVuY3Rpb24oKXt2YXIgaD1iKHRoaXMpO2guY3NzKHtwb3NpdGlvbjpoLmRhdGEoInJlc2l6YWJsZS1hbHNvcmVzaXplIikucG9zaXRpb259KX0pfTsKaWYoZi5fcmV2ZXJ0VG9SZWxhdGl2ZVBvc2l0aW9uKXtmLl9yZXZlcnRUb1JlbGF0aXZlUG9zaXRpb249ZmFsc2U7dHlwZW9mIGcuYWxzb1Jlc2l6ZT09Im9iamVjdCImJiFnLmFsc29SZXNpemUubm9kZVR5cGU/Yi5lYWNoKGcuYWxzb1Jlc2l6ZSxmdW5jdGlvbihjKXthKGMpfSk6YShnLmFsc29SZXNpemUpfWIodGhpcykucmVtb3ZlRGF0YSgicmVzaXphYmxlLWFsc29yZXNpemUiKX19KTtiLnVpLnBsdWdpbi5hZGQoInJlc2l6YWJsZSIsImFuaW1hdGUiLHtzdG9wOmZ1bmN0aW9uKGYpe3ZhciBnPWIodGhpcykuZGF0YSgicmVzaXphYmxlIiksYT1nLm9wdGlvbnMsYz1nLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLGg9Yy5sZW5ndGgmJi90ZXh0YXJlYS9pLnRlc3QoY1swXS5ub2RlTmFtZSksaT1oJiZiLnVpLmhhc1Njcm9sbChjWzBdLCJsZWZ0Iik/MDpnLnNpemVEaWZmLmhlaWdodDtoPXt3aWR0aDpnLnNpemUud2lkdGgtKGg/MDpnLnNpemVEaWZmLndpZHRoKSxoZWlnaHQ6Zy5zaXplLmhlaWdodC0KaX07aT1wYXJzZUludChnLmVsZW1lbnQuY3NzKCJsZWZ0IiksMTApKyhnLnBvc2l0aW9uLmxlZnQtZy5vcmlnaW5hbFBvc2l0aW9uLmxlZnQpfHxudWxsO3ZhciBqPXBhcnNlSW50KGcuZWxlbWVudC5jc3MoInRvcCIpLDEwKSsoZy5wb3NpdGlvbi50b3AtZy5vcmlnaW5hbFBvc2l0aW9uLnRvcCl8fG51bGw7Zy5lbGVtZW50LmFuaW1hdGUoYi5leHRlbmQoaCxqJiZpP3t0b3A6aixsZWZ0Oml9Ont9KSx7ZHVyYXRpb246YS5hbmltYXRlRHVyYXRpb24sZWFzaW5nOmEuYW5pbWF0ZUVhc2luZyxzdGVwOmZ1bmN0aW9uKCl7dmFyIG49e3dpZHRoOnBhcnNlSW50KGcuZWxlbWVudC5jc3MoIndpZHRoIiksMTApLGhlaWdodDpwYXJzZUludChnLmVsZW1lbnQuY3NzKCJoZWlnaHQiKSwxMCksdG9wOnBhcnNlSW50KGcuZWxlbWVudC5jc3MoInRvcCIpLDEwKSxsZWZ0OnBhcnNlSW50KGcuZWxlbWVudC5jc3MoImxlZnQiKSwxMCl9O2MmJmMubGVuZ3RoJiZiKGNbMF0pLmNzcyh7d2lkdGg6bi53aWR0aCwKaGVpZ2h0Om4uaGVpZ2h0fSk7Zy5fdXBkYXRlQ2FjaGUobik7Zy5fcHJvcGFnYXRlKCJyZXNpemUiLGYpfX0pfX0pO2IudWkucGx1Z2luLmFkZCgicmVzaXphYmxlIiwiY29udGFpbm1lbnQiLHtzdGFydDpmdW5jdGlvbigpe3ZhciBmPWIodGhpcykuZGF0YSgicmVzaXphYmxlIiksZz1mLmVsZW1lbnQsYT1mLm9wdGlvbnMuY29udGFpbm1lbnQ7aWYoZz1hIGluc3RhbmNlb2YgYj9hLmdldCgwKTovcGFyZW50Ly50ZXN0KGEpP2cucGFyZW50KCkuZ2V0KDApOmEpe2YuY29udGFpbmVyRWxlbWVudD1iKGcpO2lmKC9kb2N1bWVudC8udGVzdChhKXx8YT09ZG9jdW1lbnQpe2YuY29udGFpbmVyT2Zmc2V0PXtsZWZ0OjAsdG9wOjB9O2YuY29udGFpbmVyUG9zaXRpb249e2xlZnQ6MCx0b3A6MH07Zi5wYXJlbnREYXRhPXtlbGVtZW50OmIoZG9jdW1lbnQpLGxlZnQ6MCx0b3A6MCx3aWR0aDpiKGRvY3VtZW50KS53aWR0aCgpLGhlaWdodDpiKGRvY3VtZW50KS5oZWlnaHQoKXx8ZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlLnNjcm9sbEhlaWdodH19ZWxzZXt2YXIgYz0KYihnKSxoPVtdO2IoWyJUb3AiLCJSaWdodCIsIkxlZnQiLCJCb3R0b20iXSkuZWFjaChmdW5jdGlvbihuLG8pe2hbbl09ZChjLmNzcygicGFkZGluZyIrbykpfSk7Zi5jb250YWluZXJPZmZzZXQ9Yy5vZmZzZXQoKTtmLmNvbnRhaW5lclBvc2l0aW9uPWMucG9zaXRpb24oKTtmLmNvbnRhaW5lclNpemU9e2hlaWdodDpjLmlubmVySGVpZ2h0KCktaFszXSx3aWR0aDpjLmlubmVyV2lkdGgoKS1oWzFdfTthPWYuY29udGFpbmVyT2Zmc2V0O3ZhciBpPWYuY29udGFpbmVyU2l6ZS5oZWlnaHQsaj1mLmNvbnRhaW5lclNpemUud2lkdGg7aj1iLnVpLmhhc1Njcm9sbChnLCJsZWZ0Iik/Zy5zY3JvbGxXaWR0aDpqO2k9Yi51aS5oYXNTY3JvbGwoZyk/Zy5zY3JvbGxIZWlnaHQ6aTtmLnBhcmVudERhdGE9e2VsZW1lbnQ6ZyxsZWZ0OmEubGVmdCx0b3A6YS50b3Asd2lkdGg6aixoZWlnaHQ6aX19fX0scmVzaXplOmZ1bmN0aW9uKGYpe3ZhciBnPWIodGhpcykuZGF0YSgicmVzaXphYmxlIiksYT1nLm9wdGlvbnMsCmM9Zy5jb250YWluZXJPZmZzZXQsaD1nLnBvc2l0aW9uO2Y9Zy5fYXNwZWN0UmF0aW98fGYuc2hpZnRLZXk7dmFyIGk9e3RvcDowLGxlZnQ6MH0saj1nLmNvbnRhaW5lckVsZW1lbnQ7aWYoalswXSE9ZG9jdW1lbnQmJi9zdGF0aWMvLnRlc3Qoai5jc3MoInBvc2l0aW9uIikpKWk9YztpZihoLmxlZnQ8KGcuX2hlbHBlcj9jLmxlZnQ6MCkpe2cuc2l6ZS53aWR0aCs9Zy5faGVscGVyP2cucG9zaXRpb24ubGVmdC1jLmxlZnQ6Zy5wb3NpdGlvbi5sZWZ0LWkubGVmdDtpZihmKWcuc2l6ZS5oZWlnaHQ9Zy5zaXplLndpZHRoL2EuYXNwZWN0UmF0aW87Zy5wb3NpdGlvbi5sZWZ0PWEuaGVscGVyP2MubGVmdDowfWlmKGgudG9wPChnLl9oZWxwZXI/Yy50b3A6MCkpe2cuc2l6ZS5oZWlnaHQrPWcuX2hlbHBlcj9nLnBvc2l0aW9uLnRvcC1jLnRvcDpnLnBvc2l0aW9uLnRvcDtpZihmKWcuc2l6ZS53aWR0aD1nLnNpemUuaGVpZ2h0KmEuYXNwZWN0UmF0aW87Zy5wb3NpdGlvbi50b3A9Zy5faGVscGVyPwpjLnRvcDowfWcub2Zmc2V0LmxlZnQ9Zy5wYXJlbnREYXRhLmxlZnQrZy5wb3NpdGlvbi5sZWZ0O2cub2Zmc2V0LnRvcD1nLnBhcmVudERhdGEudG9wK2cucG9zaXRpb24udG9wO2E9TWF0aC5hYnMoKGcuX2hlbHBlcj9nLm9mZnNldC5sZWZ0LWkubGVmdDpnLm9mZnNldC5sZWZ0LWkubGVmdCkrZy5zaXplRGlmZi53aWR0aCk7Yz1NYXRoLmFicygoZy5faGVscGVyP2cub2Zmc2V0LnRvcC1pLnRvcDpnLm9mZnNldC50b3AtYy50b3ApK2cuc2l6ZURpZmYuaGVpZ2h0KTtoPWcuY29udGFpbmVyRWxlbWVudC5nZXQoMCk9PWcuZWxlbWVudC5wYXJlbnQoKS5nZXQoMCk7aT0vcmVsYXRpdmV8YWJzb2x1dGUvLnRlc3QoZy5jb250YWluZXJFbGVtZW50LmNzcygicG9zaXRpb24iKSk7aWYoaCYmaSlhLT1nLnBhcmVudERhdGEubGVmdDtpZihhK2cuc2l6ZS53aWR0aD49Zy5wYXJlbnREYXRhLndpZHRoKXtnLnNpemUud2lkdGg9Zy5wYXJlbnREYXRhLndpZHRoLWE7aWYoZilnLnNpemUuaGVpZ2h0PQpnLnNpemUud2lkdGgvZy5hc3BlY3RSYXRpb31pZihjK2cuc2l6ZS5oZWlnaHQ+PWcucGFyZW50RGF0YS5oZWlnaHQpe2cuc2l6ZS5oZWlnaHQ9Zy5wYXJlbnREYXRhLmhlaWdodC1jO2lmKGYpZy5zaXplLndpZHRoPWcuc2l6ZS5oZWlnaHQqZy5hc3BlY3RSYXRpb319LHN0b3A6ZnVuY3Rpb24oKXt2YXIgZj1iKHRoaXMpLmRhdGEoInJlc2l6YWJsZSIpLGc9Zi5vcHRpb25zLGE9Zi5jb250YWluZXJPZmZzZXQsYz1mLmNvbnRhaW5lclBvc2l0aW9uLGg9Zi5jb250YWluZXJFbGVtZW50LGk9YihmLmhlbHBlciksaj1pLm9mZnNldCgpLG49aS5vdXRlcldpZHRoKCktZi5zaXplRGlmZi53aWR0aDtpPWkub3V0ZXJIZWlnaHQoKS1mLnNpemVEaWZmLmhlaWdodDtmLl9oZWxwZXImJiFnLmFuaW1hdGUmJi9yZWxhdGl2ZS8udGVzdChoLmNzcygicG9zaXRpb24iKSkmJmIodGhpcykuY3NzKHtsZWZ0OmoubGVmdC1jLmxlZnQtYS5sZWZ0LHdpZHRoOm4saGVpZ2h0Oml9KTtmLl9oZWxwZXImJiFnLmFuaW1hdGUmJgovc3RhdGljLy50ZXN0KGguY3NzKCJwb3NpdGlvbiIpKSYmYih0aGlzKS5jc3Moe2xlZnQ6ai5sZWZ0LWMubGVmdC1hLmxlZnQsd2lkdGg6bixoZWlnaHQ6aX0pfX0pO2IudWkucGx1Z2luLmFkZCgicmVzaXphYmxlIiwiZ2hvc3QiLHtzdGFydDpmdW5jdGlvbigpe3ZhciBmPWIodGhpcykuZGF0YSgicmVzaXphYmxlIiksZz1mLm9wdGlvbnMsYT1mLnNpemU7Zi5naG9zdD1mLm9yaWdpbmFsRWxlbWVudC5jbG9uZSgpO2YuZ2hvc3QuY3NzKHtvcGFjaXR5OjAuMjUsZGlzcGxheToiYmxvY2siLHBvc2l0aW9uOiJyZWxhdGl2ZSIsaGVpZ2h0OmEuaGVpZ2h0LHdpZHRoOmEud2lkdGgsbWFyZ2luOjAsbGVmdDowLHRvcDowfSkuYWRkQ2xhc3MoInVpLXJlc2l6YWJsZS1naG9zdCIpLmFkZENsYXNzKHR5cGVvZiBnLmdob3N0PT0ic3RyaW5nIj9nLmdob3N0OiIiKTtmLmdob3N0LmFwcGVuZFRvKGYuaGVscGVyKX0scmVzaXplOmZ1bmN0aW9uKCl7dmFyIGY9Yih0aGlzKS5kYXRhKCJyZXNpemFibGUiKTsKZi5naG9zdCYmZi5naG9zdC5jc3Moe3Bvc2l0aW9uOiJyZWxhdGl2ZSIsaGVpZ2h0OmYuc2l6ZS5oZWlnaHQsd2lkdGg6Zi5zaXplLndpZHRofSl9LHN0b3A6ZnVuY3Rpb24oKXt2YXIgZj1iKHRoaXMpLmRhdGEoInJlc2l6YWJsZSIpO2YuZ2hvc3QmJmYuaGVscGVyJiZmLmhlbHBlci5nZXQoMCkucmVtb3ZlQ2hpbGQoZi5naG9zdC5nZXQoMCkpfX0pO2IudWkucGx1Z2luLmFkZCgicmVzaXphYmxlIiwiZ3JpZCIse3Jlc2l6ZTpmdW5jdGlvbigpe3ZhciBmPWIodGhpcykuZGF0YSgicmVzaXphYmxlIiksZz1mLm9wdGlvbnMsYT1mLnNpemUsYz1mLm9yaWdpbmFsU2l6ZSxoPWYub3JpZ2luYWxQb3NpdGlvbixpPWYuYXhpcztnLmdyaWQ9dHlwZW9mIGcuZ3JpZD09Im51bWJlciI/W2cuZ3JpZCxnLmdyaWRdOmcuZ3JpZDt2YXIgaj1NYXRoLnJvdW5kKChhLndpZHRoLWMud2lkdGgpLyhnLmdyaWRbMF18fDEpKSooZy5ncmlkWzBdfHwxKTtnPU1hdGgucm91bmQoKGEuaGVpZ2h0LWMuaGVpZ2h0KS8KKGcuZ3JpZFsxXXx8MSkpKihnLmdyaWRbMV18fDEpO2lmKC9eKHNlfHN8ZSkkLy50ZXN0KGkpKXtmLnNpemUud2lkdGg9Yy53aWR0aCtqO2Yuc2l6ZS5oZWlnaHQ9Yy5oZWlnaHQrZ31lbHNlIGlmKC9eKG5lKSQvLnRlc3QoaSkpe2Yuc2l6ZS53aWR0aD1jLndpZHRoK2o7Zi5zaXplLmhlaWdodD1jLmhlaWdodCtnO2YucG9zaXRpb24udG9wPWgudG9wLWd9ZWxzZXtpZigvXihzdykkLy50ZXN0KGkpKXtmLnNpemUud2lkdGg9Yy53aWR0aCtqO2Yuc2l6ZS5oZWlnaHQ9Yy5oZWlnaHQrZ31lbHNle2Yuc2l6ZS53aWR0aD1jLndpZHRoK2o7Zi5zaXplLmhlaWdodD1jLmhlaWdodCtnO2YucG9zaXRpb24udG9wPWgudG9wLWd9Zi5wb3NpdGlvbi5sZWZ0PWgubGVmdC1qfX19KTt2YXIgZD1mdW5jdGlvbihmKXtyZXR1cm4gcGFyc2VJbnQoZiwxMCl8fDB9LGU9ZnVuY3Rpb24oZil7cmV0dXJuIWlzTmFOKHBhcnNlSW50KGYsMTApKX19KShqUXVlcnkpOwooZnVuY3Rpb24oYil7Yi53aWRnZXQoInVpLnNlbGVjdGFibGUiLGIudWkubW91c2Use29wdGlvbnM6e2FwcGVuZFRvOiJib2R5IixhdXRvUmVmcmVzaDp0cnVlLGRpc3RhbmNlOjAsZmlsdGVyOiIqIix0b2xlcmFuY2U6InRvdWNoIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBkPXRoaXM7dGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1zZWxlY3RhYmxlIik7dGhpcy5kcmFnZ2VkPWZhbHNlO3ZhciBlO3RoaXMucmVmcmVzaD1mdW5jdGlvbigpe2U9YihkLm9wdGlvbnMuZmlsdGVyLGQuZWxlbWVudFswXSk7ZS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGY9Yih0aGlzKSxnPWYub2Zmc2V0KCk7Yi5kYXRhKHRoaXMsInNlbGVjdGFibGUtaXRlbSIse2VsZW1lbnQ6dGhpcywkZWxlbWVudDpmLGxlZnQ6Zy5sZWZ0LHRvcDpnLnRvcCxyaWdodDpnLmxlZnQrZi5vdXRlcldpZHRoKCksYm90dG9tOmcudG9wK2Yub3V0ZXJIZWlnaHQoKSxzdGFydHNlbGVjdGVkOmZhbHNlLHNlbGVjdGVkOmYuaGFzQ2xhc3MoInVpLXNlbGVjdGVkIiksCnNlbGVjdGluZzpmLmhhc0NsYXNzKCJ1aS1zZWxlY3RpbmciKSx1bnNlbGVjdGluZzpmLmhhc0NsYXNzKCJ1aS11bnNlbGVjdGluZyIpfSl9KX07dGhpcy5yZWZyZXNoKCk7dGhpcy5zZWxlY3RlZXM9ZS5hZGRDbGFzcygidWktc2VsZWN0ZWUiKTt0aGlzLl9tb3VzZUluaXQoKTt0aGlzLmhlbHBlcj1iKCI8ZGl2IGNsYXNzPSd1aS1zZWxlY3RhYmxlLWhlbHBlcic+PC9kaXY+Iil9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGVlcy5yZW1vdmVDbGFzcygidWktc2VsZWN0ZWUiKS5yZW1vdmVEYXRhKCJzZWxlY3RhYmxlLWl0ZW0iKTt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXNlbGVjdGFibGUgdWktc2VsZWN0YWJsZS1kaXNhYmxlZCIpLnJlbW92ZURhdGEoInNlbGVjdGFibGUiKS51bmJpbmQoIi5zZWxlY3RhYmxlIik7dGhpcy5fbW91c2VEZXN0cm95KCk7cmV0dXJuIHRoaXN9LF9tb3VzZVN0YXJ0OmZ1bmN0aW9uKGQpe3ZhciBlPXRoaXM7dGhpcy5vcG9zPVtkLnBhZ2VYLApkLnBhZ2VZXTtpZighdGhpcy5vcHRpb25zLmRpc2FibGVkKXt2YXIgZj10aGlzLm9wdGlvbnM7dGhpcy5zZWxlY3RlZXM9YihmLmZpbHRlcix0aGlzLmVsZW1lbnRbMF0pO3RoaXMuX3RyaWdnZXIoInN0YXJ0IixkKTtiKGYuYXBwZW5kVG8pLmFwcGVuZCh0aGlzLmhlbHBlcik7dGhpcy5oZWxwZXIuY3NzKHtsZWZ0OmQuY2xpZW50WCx0b3A6ZC5jbGllbnRZLHdpZHRoOjAsaGVpZ2h0OjB9KTtmLmF1dG9SZWZyZXNoJiZ0aGlzLnJlZnJlc2goKTt0aGlzLnNlbGVjdGVlcy5maWx0ZXIoIi51aS1zZWxlY3RlZCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgZz1iLmRhdGEodGhpcywic2VsZWN0YWJsZS1pdGVtIik7Zy5zdGFydHNlbGVjdGVkPXRydWU7aWYoIWQubWV0YUtleSl7Zy4kZWxlbWVudC5yZW1vdmVDbGFzcygidWktc2VsZWN0ZWQiKTtnLnNlbGVjdGVkPWZhbHNlO2cuJGVsZW1lbnQuYWRkQ2xhc3MoInVpLXVuc2VsZWN0aW5nIik7Zy51bnNlbGVjdGluZz10cnVlO2UuX3RyaWdnZXIoInVuc2VsZWN0aW5nIiwKZCx7dW5zZWxlY3Rpbmc6Zy5lbGVtZW50fSl9fSk7YihkLnRhcmdldCkucGFyZW50cygpLmFuZFNlbGYoKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGc9Yi5kYXRhKHRoaXMsInNlbGVjdGFibGUtaXRlbSIpO2lmKGcpe3ZhciBhPSFkLm1ldGFLZXl8fCFnLiRlbGVtZW50Lmhhc0NsYXNzKCJ1aS1zZWxlY3RlZCIpO2cuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoYT8idWktdW5zZWxlY3RpbmciOiJ1aS1zZWxlY3RlZCIpLmFkZENsYXNzKGE/InVpLXNlbGVjdGluZyI6InVpLXVuc2VsZWN0aW5nIik7Zy51bnNlbGVjdGluZz0hYTtnLnNlbGVjdGluZz1hOyhnLnNlbGVjdGVkPWEpP2UuX3RyaWdnZXIoInNlbGVjdGluZyIsZCx7c2VsZWN0aW5nOmcuZWxlbWVudH0pOmUuX3RyaWdnZXIoInVuc2VsZWN0aW5nIixkLHt1bnNlbGVjdGluZzpnLmVsZW1lbnR9KTtyZXR1cm4gZmFsc2V9fSl9fSxfbW91c2VEcmFnOmZ1bmN0aW9uKGQpe3ZhciBlPXRoaXM7dGhpcy5kcmFnZ2VkPXRydWU7aWYoIXRoaXMub3B0aW9ucy5kaXNhYmxlZCl7dmFyIGY9CnRoaXMub3B0aW9ucyxnPXRoaXMub3Bvc1swXSxhPXRoaXMub3Bvc1sxXSxjPWQucGFnZVgsaD1kLnBhZ2VZO2lmKGc+Yyl7dmFyIGk9YztjPWc7Zz1pfWlmKGE+aCl7aT1oO2g9YTthPWl9dGhpcy5oZWxwZXIuY3NzKHtsZWZ0OmcsdG9wOmEsd2lkdGg6Yy1nLGhlaWdodDpoLWF9KTt0aGlzLnNlbGVjdGVlcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGo9Yi5kYXRhKHRoaXMsInNlbGVjdGFibGUtaXRlbSIpO2lmKCEoIWp8fGouZWxlbWVudD09ZS5lbGVtZW50WzBdKSl7dmFyIG49ZmFsc2U7aWYoZi50b2xlcmFuY2U9PSJ0b3VjaCIpbj0hKGoubGVmdD5jfHxqLnJpZ2h0PGd8fGoudG9wPmh8fGouYm90dG9tPGEpO2Vsc2UgaWYoZi50b2xlcmFuY2U9PSJmaXQiKW49ai5sZWZ0PmcmJmoucmlnaHQ8YyYmai50b3A+YSYmai5ib3R0b208aDtpZihuKXtpZihqLnNlbGVjdGVkKXtqLiRlbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1zZWxlY3RlZCIpO2ouc2VsZWN0ZWQ9ZmFsc2V9aWYoai51bnNlbGVjdGluZyl7ai4kZWxlbWVudC5yZW1vdmVDbGFzcygidWktdW5zZWxlY3RpbmciKTsKai51bnNlbGVjdGluZz1mYWxzZX1pZighai5zZWxlY3Rpbmcpe2ouJGVsZW1lbnQuYWRkQ2xhc3MoInVpLXNlbGVjdGluZyIpO2ouc2VsZWN0aW5nPXRydWU7ZS5fdHJpZ2dlcigic2VsZWN0aW5nIixkLHtzZWxlY3Rpbmc6ai5lbGVtZW50fSl9fWVsc2V7aWYoai5zZWxlY3RpbmcpaWYoZC5tZXRhS2V5JiZqLnN0YXJ0c2VsZWN0ZWQpe2ouJGVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXNlbGVjdGluZyIpO2ouc2VsZWN0aW5nPWZhbHNlO2ouJGVsZW1lbnQuYWRkQ2xhc3MoInVpLXNlbGVjdGVkIik7ai5zZWxlY3RlZD10cnVlfWVsc2V7ai4kZWxlbWVudC5yZW1vdmVDbGFzcygidWktc2VsZWN0aW5nIik7ai5zZWxlY3Rpbmc9ZmFsc2U7aWYoai5zdGFydHNlbGVjdGVkKXtqLiRlbGVtZW50LmFkZENsYXNzKCJ1aS11bnNlbGVjdGluZyIpO2oudW5zZWxlY3Rpbmc9dHJ1ZX1lLl90cmlnZ2VyKCJ1bnNlbGVjdGluZyIsZCx7dW5zZWxlY3Rpbmc6ai5lbGVtZW50fSl9aWYoai5zZWxlY3RlZClpZighZC5tZXRhS2V5JiYKIWouc3RhcnRzZWxlY3RlZCl7ai4kZWxlbWVudC5yZW1vdmVDbGFzcygidWktc2VsZWN0ZWQiKTtqLnNlbGVjdGVkPWZhbHNlO2ouJGVsZW1lbnQuYWRkQ2xhc3MoInVpLXVuc2VsZWN0aW5nIik7ai51bnNlbGVjdGluZz10cnVlO2UuX3RyaWdnZXIoInVuc2VsZWN0aW5nIixkLHt1bnNlbGVjdGluZzpqLmVsZW1lbnR9KX19fX0pO3JldHVybiBmYWxzZX19LF9tb3VzZVN0b3A6ZnVuY3Rpb24oZCl7dmFyIGU9dGhpczt0aGlzLmRyYWdnZWQ9ZmFsc2U7YigiLnVpLXVuc2VsZWN0aW5nIix0aGlzLmVsZW1lbnRbMF0pLmVhY2goZnVuY3Rpb24oKXt2YXIgZj1iLmRhdGEodGhpcywic2VsZWN0YWJsZS1pdGVtIik7Zi4kZWxlbWVudC5yZW1vdmVDbGFzcygidWktdW5zZWxlY3RpbmciKTtmLnVuc2VsZWN0aW5nPWZhbHNlO2Yuc3RhcnRzZWxlY3RlZD1mYWxzZTtlLl90cmlnZ2VyKCJ1bnNlbGVjdGVkIixkLHt1bnNlbGVjdGVkOmYuZWxlbWVudH0pfSk7YigiLnVpLXNlbGVjdGluZyIsdGhpcy5lbGVtZW50WzBdKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGY9CmIuZGF0YSh0aGlzLCJzZWxlY3RhYmxlLWl0ZW0iKTtmLiRlbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1zZWxlY3RpbmciKS5hZGRDbGFzcygidWktc2VsZWN0ZWQiKTtmLnNlbGVjdGluZz1mYWxzZTtmLnNlbGVjdGVkPXRydWU7Zi5zdGFydHNlbGVjdGVkPXRydWU7ZS5fdHJpZ2dlcigic2VsZWN0ZWQiLGQse3NlbGVjdGVkOmYuZWxlbWVudH0pfSk7dGhpcy5fdHJpZ2dlcigic3RvcCIsZCk7dGhpcy5oZWxwZXIucmVtb3ZlKCk7cmV0dXJuIGZhbHNlfX0pO2IuZXh0ZW5kKGIudWkuc2VsZWN0YWJsZSx7dmVyc2lvbjoiMS44LjEyIn0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGIpe2Iud2lkZ2V0KCJ1aS5zb3J0YWJsZSIsYi51aS5tb3VzZSx7d2lkZ2V0RXZlbnRQcmVmaXg6InNvcnQiLG9wdGlvbnM6e2FwcGVuZFRvOiJwYXJlbnQiLGF4aXM6ZmFsc2UsY29ubmVjdFdpdGg6ZmFsc2UsY29udGFpbm1lbnQ6ZmFsc2UsY3Vyc29yOiJhdXRvIixjdXJzb3JBdDpmYWxzZSxkcm9wT25FbXB0eTp0cnVlLGZvcmNlUGxhY2Vob2xkZXJTaXplOmZhbHNlLGZvcmNlSGVscGVyU2l6ZTpmYWxzZSxncmlkOmZhbHNlLGhhbmRsZTpmYWxzZSxoZWxwZXI6Im9yaWdpbmFsIixpdGVtczoiPiAqIixvcGFjaXR5OmZhbHNlLHBsYWNlaG9sZGVyOmZhbHNlLHJldmVydDpmYWxzZSxzY3JvbGw6dHJ1ZSxzY3JvbGxTZW5zaXRpdml0eToyMCxzY3JvbGxTcGVlZDoyMCxzY29wZToiZGVmYXVsdCIsdG9sZXJhbmNlOiJpbnRlcnNlY3QiLHpJbmRleDoxRTN9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLmNvbnRhaW5lckNhY2hlPXt9O3RoaXMuZWxlbWVudC5hZGRDbGFzcygidWktc29ydGFibGUiKTsKdGhpcy5yZWZyZXNoKCk7dGhpcy5mbG9hdGluZz10aGlzLml0ZW1zLmxlbmd0aD8vbGVmdHxyaWdodC8udGVzdCh0aGlzLml0ZW1zWzBdLml0ZW0uY3NzKCJmbG9hdCIpKXx8L2lubGluZXx0YWJsZS1jZWxsLy50ZXN0KHRoaXMuaXRlbXNbMF0uaXRlbS5jc3MoImRpc3BsYXkiKSk6ZmFsc2U7dGhpcy5vZmZzZXQ9dGhpcy5lbGVtZW50Lm9mZnNldCgpO3RoaXMuX21vdXNlSW5pdCgpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1zb3J0YWJsZSB1aS1zb3J0YWJsZS1kaXNhYmxlZCIpLnJlbW92ZURhdGEoInNvcnRhYmxlIikudW5iaW5kKCIuc29ydGFibGUiKTt0aGlzLl9tb3VzZURlc3Ryb3koKTtmb3IodmFyIGQ9dGhpcy5pdGVtcy5sZW5ndGgtMTtkPj0wO2QtLSl0aGlzLml0ZW1zW2RdLml0ZW0ucmVtb3ZlRGF0YSgic29ydGFibGUtaXRlbSIpO3JldHVybiB0aGlzfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGQsZSl7aWYoZD09PSJkaXNhYmxlZCIpe3RoaXMub3B0aW9uc1tkXT0KZTt0aGlzLndpZGdldCgpW2U/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXSgidWktc29ydGFibGUtZGlzYWJsZWQiKX1lbHNlIGIuV2lkZ2V0LnByb3RvdHlwZS5fc2V0T3B0aW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sX21vdXNlQ2FwdHVyZTpmdW5jdGlvbihkLGUpe2lmKHRoaXMucmV2ZXJ0aW5nKXJldHVybiBmYWxzZTtpZih0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fHRoaXMub3B0aW9ucy50eXBlPT0ic3RhdGljIilyZXR1cm4gZmFsc2U7dGhpcy5fcmVmcmVzaEl0ZW1zKGQpO3ZhciBmPW51bGwsZz10aGlzO2IoZC50YXJnZXQpLnBhcmVudHMoKS5lYWNoKGZ1bmN0aW9uKCl7aWYoYi5kYXRhKHRoaXMsInNvcnRhYmxlLWl0ZW0iKT09Zyl7Zj1iKHRoaXMpO3JldHVybiBmYWxzZX19KTtpZihiLmRhdGEoZC50YXJnZXQsInNvcnRhYmxlLWl0ZW0iKT09ZylmPWIoZC50YXJnZXQpO2lmKCFmKXJldHVybiBmYWxzZTtpZih0aGlzLm9wdGlvbnMuaGFuZGxlJiYhZSl7dmFyIGE9ZmFsc2U7CmIodGhpcy5vcHRpb25zLmhhbmRsZSxmKS5maW5kKCIqIikuYW5kU2VsZigpLmVhY2goZnVuY3Rpb24oKXtpZih0aGlzPT1kLnRhcmdldClhPXRydWV9KTtpZighYSlyZXR1cm4gZmFsc2V9dGhpcy5jdXJyZW50SXRlbT1mO3RoaXMuX3JlbW92ZUN1cnJlbnRzRnJvbUl0ZW1zKCk7cmV0dXJuIHRydWV9LF9tb3VzZVN0YXJ0OmZ1bmN0aW9uKGQsZSxmKXtlPXRoaXMub3B0aW9uczt2YXIgZz10aGlzO3RoaXMuY3VycmVudENvbnRhaW5lcj10aGlzO3RoaXMucmVmcmVzaFBvc2l0aW9ucygpO3RoaXMuaGVscGVyPXRoaXMuX2NyZWF0ZUhlbHBlcihkKTt0aGlzLl9jYWNoZUhlbHBlclByb3BvcnRpb25zKCk7dGhpcy5fY2FjaGVNYXJnaW5zKCk7dGhpcy5zY3JvbGxQYXJlbnQ9dGhpcy5oZWxwZXIuc2Nyb2xsUGFyZW50KCk7dGhpcy5vZmZzZXQ9dGhpcy5jdXJyZW50SXRlbS5vZmZzZXQoKTt0aGlzLm9mZnNldD17dG9wOnRoaXMub2Zmc2V0LnRvcC10aGlzLm1hcmdpbnMudG9wLGxlZnQ6dGhpcy5vZmZzZXQubGVmdC0KdGhpcy5tYXJnaW5zLmxlZnR9O3RoaXMuaGVscGVyLmNzcygicG9zaXRpb24iLCJhYnNvbHV0ZSIpO3RoaXMuY3NzUG9zaXRpb249dGhpcy5oZWxwZXIuY3NzKCJwb3NpdGlvbiIpO2IuZXh0ZW5kKHRoaXMub2Zmc2V0LHtjbGljazp7bGVmdDpkLnBhZ2VYLXRoaXMub2Zmc2V0LmxlZnQsdG9wOmQucGFnZVktdGhpcy5vZmZzZXQudG9wfSxwYXJlbnQ6dGhpcy5fZ2V0UGFyZW50T2Zmc2V0KCkscmVsYXRpdmU6dGhpcy5fZ2V0UmVsYXRpdmVPZmZzZXQoKX0pO3RoaXMub3JpZ2luYWxQb3NpdGlvbj10aGlzLl9nZW5lcmF0ZVBvc2l0aW9uKGQpO3RoaXMub3JpZ2luYWxQYWdlWD1kLnBhZ2VYO3RoaXMub3JpZ2luYWxQYWdlWT1kLnBhZ2VZO2UuY3Vyc29yQXQmJnRoaXMuX2FkanVzdE9mZnNldEZyb21IZWxwZXIoZS5jdXJzb3JBdCk7dGhpcy5kb21Qb3NpdGlvbj17cHJldjp0aGlzLmN1cnJlbnRJdGVtLnByZXYoKVswXSxwYXJlbnQ6dGhpcy5jdXJyZW50SXRlbS5wYXJlbnQoKVswXX07CnRoaXMuaGVscGVyWzBdIT10aGlzLmN1cnJlbnRJdGVtWzBdJiZ0aGlzLmN1cnJlbnRJdGVtLmhpZGUoKTt0aGlzLl9jcmVhdGVQbGFjZWhvbGRlcigpO2UuY29udGFpbm1lbnQmJnRoaXMuX3NldENvbnRhaW5tZW50KCk7aWYoZS5jdXJzb3Ipe2lmKGIoImJvZHkiKS5jc3MoImN1cnNvciIpKXRoaXMuX3N0b3JlZEN1cnNvcj1iKCJib2R5IikuY3NzKCJjdXJzb3IiKTtiKCJib2R5IikuY3NzKCJjdXJzb3IiLGUuY3Vyc29yKX1pZihlLm9wYWNpdHkpe2lmKHRoaXMuaGVscGVyLmNzcygib3BhY2l0eSIpKXRoaXMuX3N0b3JlZE9wYWNpdHk9dGhpcy5oZWxwZXIuY3NzKCJvcGFjaXR5Iik7dGhpcy5oZWxwZXIuY3NzKCJvcGFjaXR5IixlLm9wYWNpdHkpfWlmKGUuekluZGV4KXtpZih0aGlzLmhlbHBlci5jc3MoInpJbmRleCIpKXRoaXMuX3N0b3JlZFpJbmRleD10aGlzLmhlbHBlci5jc3MoInpJbmRleCIpO3RoaXMuaGVscGVyLmNzcygiekluZGV4IixlLnpJbmRleCl9aWYodGhpcy5zY3JvbGxQYXJlbnRbMF0hPQpkb2N1bWVudCYmdGhpcy5zY3JvbGxQYXJlbnRbMF0udGFnTmFtZSE9IkhUTUwiKXRoaXMub3ZlcmZsb3dPZmZzZXQ9dGhpcy5zY3JvbGxQYXJlbnQub2Zmc2V0KCk7dGhpcy5fdHJpZ2dlcigic3RhcnQiLGQsdGhpcy5fdWlIYXNoKCkpO3RoaXMuX3ByZXNlcnZlSGVscGVyUHJvcG9ydGlvbnN8fHRoaXMuX2NhY2hlSGVscGVyUHJvcG9ydGlvbnMoKTtpZighZilmb3IoZj10aGlzLmNvbnRhaW5lcnMubGVuZ3RoLTE7Zj49MDtmLS0pdGhpcy5jb250YWluZXJzW2ZdLl90cmlnZ2VyKCJhY3RpdmF0ZSIsZCxnLl91aUhhc2godGhpcykpO2lmKGIudWkuZGRtYW5hZ2VyKWIudWkuZGRtYW5hZ2VyLmN1cnJlbnQ9dGhpcztiLnVpLmRkbWFuYWdlciYmIWUuZHJvcEJlaGF2aW91ciYmYi51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHModGhpcyxkKTt0aGlzLmRyYWdnaW5nPXRydWU7dGhpcy5oZWxwZXIuYWRkQ2xhc3MoInVpLXNvcnRhYmxlLWhlbHBlciIpO3RoaXMuX21vdXNlRHJhZyhkKTsKcmV0dXJuIHRydWV9LF9tb3VzZURyYWc6ZnVuY3Rpb24oZCl7dGhpcy5wb3NpdGlvbj10aGlzLl9nZW5lcmF0ZVBvc2l0aW9uKGQpO3RoaXMucG9zaXRpb25BYnM9dGhpcy5fY29udmVydFBvc2l0aW9uVG8oImFic29sdXRlIik7aWYoIXRoaXMubGFzdFBvc2l0aW9uQWJzKXRoaXMubGFzdFBvc2l0aW9uQWJzPXRoaXMucG9zaXRpb25BYnM7aWYodGhpcy5vcHRpb25zLnNjcm9sbCl7dmFyIGU9dGhpcy5vcHRpb25zLGY9ZmFsc2U7aWYodGhpcy5zY3JvbGxQYXJlbnRbMF0hPWRvY3VtZW50JiZ0aGlzLnNjcm9sbFBhcmVudFswXS50YWdOYW1lIT0iSFRNTCIpe2lmKHRoaXMub3ZlcmZsb3dPZmZzZXQudG9wK3RoaXMuc2Nyb2xsUGFyZW50WzBdLm9mZnNldEhlaWdodC1kLnBhZ2VZPGUuc2Nyb2xsU2Vuc2l0aXZpdHkpdGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsVG9wPWY9dGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsVG9wK2Uuc2Nyb2xsU3BlZWQ7ZWxzZSBpZihkLnBhZ2VZLXRoaXMub3ZlcmZsb3dPZmZzZXQudG9wPAplLnNjcm9sbFNlbnNpdGl2aXR5KXRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcD1mPXRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcC1lLnNjcm9sbFNwZWVkO2lmKHRoaXMub3ZlcmZsb3dPZmZzZXQubGVmdCt0aGlzLnNjcm9sbFBhcmVudFswXS5vZmZzZXRXaWR0aC1kLnBhZ2VYPGUuc2Nyb2xsU2Vuc2l0aXZpdHkpdGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsTGVmdD1mPXRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQrZS5zY3JvbGxTcGVlZDtlbHNlIGlmKGQucGFnZVgtdGhpcy5vdmVyZmxvd09mZnNldC5sZWZ0PGUuc2Nyb2xsU2Vuc2l0aXZpdHkpdGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsTGVmdD1mPXRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQtZS5zY3JvbGxTcGVlZH1lbHNle2lmKGQucGFnZVktYihkb2N1bWVudCkuc2Nyb2xsVG9wKCk8ZS5zY3JvbGxTZW5zaXRpdml0eSlmPWIoZG9jdW1lbnQpLnNjcm9sbFRvcChiKGRvY3VtZW50KS5zY3JvbGxUb3AoKS0KZS5zY3JvbGxTcGVlZCk7ZWxzZSBpZihiKHdpbmRvdykuaGVpZ2h0KCktKGQucGFnZVktYihkb2N1bWVudCkuc2Nyb2xsVG9wKCkpPGUuc2Nyb2xsU2Vuc2l0aXZpdHkpZj1iKGRvY3VtZW50KS5zY3JvbGxUb3AoYihkb2N1bWVudCkuc2Nyb2xsVG9wKCkrZS5zY3JvbGxTcGVlZCk7aWYoZC5wYWdlWC1iKGRvY3VtZW50KS5zY3JvbGxMZWZ0KCk8ZS5zY3JvbGxTZW5zaXRpdml0eSlmPWIoZG9jdW1lbnQpLnNjcm9sbExlZnQoYihkb2N1bWVudCkuc2Nyb2xsTGVmdCgpLWUuc2Nyb2xsU3BlZWQpO2Vsc2UgaWYoYih3aW5kb3cpLndpZHRoKCktKGQucGFnZVgtYihkb2N1bWVudCkuc2Nyb2xsTGVmdCgpKTxlLnNjcm9sbFNlbnNpdGl2aXR5KWY9Yihkb2N1bWVudCkuc2Nyb2xsTGVmdChiKGRvY3VtZW50KS5zY3JvbGxMZWZ0KCkrZS5zY3JvbGxTcGVlZCl9ZiE9PWZhbHNlJiZiLnVpLmRkbWFuYWdlciYmIWUuZHJvcEJlaGF2aW91ciYmYi51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHModGhpcywKZCl9dGhpcy5wb3NpdGlvbkFicz10aGlzLl9jb252ZXJ0UG9zaXRpb25UbygiYWJzb2x1dGUiKTtpZighdGhpcy5vcHRpb25zLmF4aXN8fHRoaXMub3B0aW9ucy5heGlzIT0ieSIpdGhpcy5oZWxwZXJbMF0uc3R5bGUubGVmdD10aGlzLnBvc2l0aW9uLmxlZnQrInB4IjtpZighdGhpcy5vcHRpb25zLmF4aXN8fHRoaXMub3B0aW9ucy5heGlzIT0ieCIpdGhpcy5oZWxwZXJbMF0uc3R5bGUudG9wPXRoaXMucG9zaXRpb24udG9wKyJweCI7Zm9yKGU9dGhpcy5pdGVtcy5sZW5ndGgtMTtlPj0wO2UtLSl7Zj10aGlzLml0ZW1zW2VdO3ZhciBnPWYuaXRlbVswXSxhPXRoaXMuX2ludGVyc2VjdHNXaXRoUG9pbnRlcihmKTtpZihhKWlmKGchPXRoaXMuY3VycmVudEl0ZW1bMF0mJnRoaXMucGxhY2Vob2xkZXJbYT09MT8ibmV4dCI6InByZXYiXSgpWzBdIT1nJiYhYi51aS5jb250YWlucyh0aGlzLnBsYWNlaG9sZGVyWzBdLGcpJiYodGhpcy5vcHRpb25zLnR5cGU9PSJzZW1pLWR5bmFtaWMiPyFiLnVpLmNvbnRhaW5zKHRoaXMuZWxlbWVudFswXSwKZyk6dHJ1ZSkpe3RoaXMuZGlyZWN0aW9uPWE9PTE/ImRvd24iOiJ1cCI7aWYodGhpcy5vcHRpb25zLnRvbGVyYW5jZT09InBvaW50ZXIifHx0aGlzLl9pbnRlcnNlY3RzV2l0aFNpZGVzKGYpKXRoaXMuX3JlYXJyYW5nZShkLGYpO2Vsc2UgYnJlYWs7dGhpcy5fdHJpZ2dlcigiY2hhbmdlIixkLHRoaXMuX3VpSGFzaCgpKTticmVha319dGhpcy5fY29udGFjdENvbnRhaW5lcnMoZCk7Yi51aS5kZG1hbmFnZXImJmIudWkuZGRtYW5hZ2VyLmRyYWcodGhpcyxkKTt0aGlzLl90cmlnZ2VyKCJzb3J0IixkLHRoaXMuX3VpSGFzaCgpKTt0aGlzLmxhc3RQb3NpdGlvbkFicz10aGlzLnBvc2l0aW9uQWJzO3JldHVybiBmYWxzZX0sX21vdXNlU3RvcDpmdW5jdGlvbihkLGUpe2lmKGQpe2IudWkuZGRtYW5hZ2VyJiYhdGhpcy5vcHRpb25zLmRyb3BCZWhhdmlvdXImJmIudWkuZGRtYW5hZ2VyLmRyb3AodGhpcyxkKTtpZih0aGlzLm9wdGlvbnMucmV2ZXJ0KXt2YXIgZj10aGlzO2U9Zi5wbGFjZWhvbGRlci5vZmZzZXQoKTsKZi5yZXZlcnRpbmc9dHJ1ZTtiKHRoaXMuaGVscGVyKS5hbmltYXRlKHtsZWZ0OmUubGVmdC10aGlzLm9mZnNldC5wYXJlbnQubGVmdC1mLm1hcmdpbnMubGVmdCsodGhpcy5vZmZzZXRQYXJlbnRbMF09PWRvY3VtZW50LmJvZHk/MDp0aGlzLm9mZnNldFBhcmVudFswXS5zY3JvbGxMZWZ0KSx0b3A6ZS50b3AtdGhpcy5vZmZzZXQucGFyZW50LnRvcC1mLm1hcmdpbnMudG9wKyh0aGlzLm9mZnNldFBhcmVudFswXT09ZG9jdW1lbnQuYm9keT8wOnRoaXMub2Zmc2V0UGFyZW50WzBdLnNjcm9sbFRvcCl9LHBhcnNlSW50KHRoaXMub3B0aW9ucy5yZXZlcnQsMTApfHw1MDAsZnVuY3Rpb24oKXtmLl9jbGVhcihkKX0pfWVsc2UgdGhpcy5fY2xlYXIoZCxlKTtyZXR1cm4gZmFsc2V9fSxjYW5jZWw6ZnVuY3Rpb24oKXt2YXIgZD10aGlzO2lmKHRoaXMuZHJhZ2dpbmcpe3RoaXMuX21vdXNlVXAoe3RhcmdldDpudWxsfSk7dGhpcy5vcHRpb25zLmhlbHBlcj09Im9yaWdpbmFsIj90aGlzLmN1cnJlbnRJdGVtLmNzcyh0aGlzLl9zdG9yZWRDU1MpLnJlbW92ZUNsYXNzKCJ1aS1zb3J0YWJsZS1oZWxwZXIiKToKdGhpcy5jdXJyZW50SXRlbS5zaG93KCk7Zm9yKHZhciBlPXRoaXMuY29udGFpbmVycy5sZW5ndGgtMTtlPj0wO2UtLSl7dGhpcy5jb250YWluZXJzW2VdLl90cmlnZ2VyKCJkZWFjdGl2YXRlIixudWxsLGQuX3VpSGFzaCh0aGlzKSk7aWYodGhpcy5jb250YWluZXJzW2VdLmNvbnRhaW5lckNhY2hlLm92ZXIpe3RoaXMuY29udGFpbmVyc1tlXS5fdHJpZ2dlcigib3V0IixudWxsLGQuX3VpSGFzaCh0aGlzKSk7dGhpcy5jb250YWluZXJzW2VdLmNvbnRhaW5lckNhY2hlLm92ZXI9MH19fWlmKHRoaXMucGxhY2Vob2xkZXIpe3RoaXMucGxhY2Vob2xkZXJbMF0ucGFyZW50Tm9kZSYmdGhpcy5wbGFjZWhvbGRlclswXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucGxhY2Vob2xkZXJbMF0pO3RoaXMub3B0aW9ucy5oZWxwZXIhPSJvcmlnaW5hbCImJnRoaXMuaGVscGVyJiZ0aGlzLmhlbHBlclswXS5wYXJlbnROb2RlJiZ0aGlzLmhlbHBlci5yZW1vdmUoKTtiLmV4dGVuZCh0aGlzLHtoZWxwZXI6bnVsbCwKZHJhZ2dpbmc6ZmFsc2UscmV2ZXJ0aW5nOmZhbHNlLF9ub0ZpbmFsU29ydDpudWxsfSk7dGhpcy5kb21Qb3NpdGlvbi5wcmV2P2IodGhpcy5kb21Qb3NpdGlvbi5wcmV2KS5hZnRlcih0aGlzLmN1cnJlbnRJdGVtKTpiKHRoaXMuZG9tUG9zaXRpb24ucGFyZW50KS5wcmVwZW5kKHRoaXMuY3VycmVudEl0ZW0pfXJldHVybiB0aGlzfSxzZXJpYWxpemU6ZnVuY3Rpb24oZCl7dmFyIGU9dGhpcy5fZ2V0SXRlbXNBc2pRdWVyeShkJiZkLmNvbm5lY3RlZCksZj1bXTtkPWR8fHt9O2IoZSkuZWFjaChmdW5jdGlvbigpe3ZhciBnPShiKGQuaXRlbXx8dGhpcykuYXR0cihkLmF0dHJpYnV0ZXx8ImlkIil8fCIiKS5tYXRjaChkLmV4cHJlc3Npb258fC8oLispWy09X10oLispLyk7aWYoZylmLnB1c2goKGQua2V5fHxnWzFdKyJbXSIpKyI9IisoZC5rZXkmJmQuZXhwcmVzc2lvbj9nWzFdOmdbMl0pKX0pOyFmLmxlbmd0aCYmZC5rZXkmJmYucHVzaChkLmtleSsiPSIpO3JldHVybiBmLmpvaW4oIiYiKX0sCnRvQXJyYXk6ZnVuY3Rpb24oZCl7dmFyIGU9dGhpcy5fZ2V0SXRlbXNBc2pRdWVyeShkJiZkLmNvbm5lY3RlZCksZj1bXTtkPWR8fHt9O2UuZWFjaChmdW5jdGlvbigpe2YucHVzaChiKGQuaXRlbXx8dGhpcykuYXR0cihkLmF0dHJpYnV0ZXx8ImlkIil8fCIiKX0pO3JldHVybiBmfSxfaW50ZXJzZWN0c1dpdGg6ZnVuY3Rpb24oZCl7dmFyIGU9dGhpcy5wb3NpdGlvbkFicy5sZWZ0LGY9ZSt0aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLGc9dGhpcy5wb3NpdGlvbkFicy50b3AsYT1nK3RoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LGM9ZC5sZWZ0LGg9YytkLndpZHRoLGk9ZC50b3Asaj1pK2QuaGVpZ2h0LG49dGhpcy5vZmZzZXQuY2xpY2sudG9wLG89dGhpcy5vZmZzZXQuY2xpY2subGVmdDtuPWcrbj5pJiZnK248aiYmZStvPmMmJmUrbzxoO3JldHVybiB0aGlzLm9wdGlvbnMudG9sZXJhbmNlPT0icG9pbnRlciJ8fHRoaXMub3B0aW9ucy5mb3JjZVBvaW50ZXJGb3JDb250YWluZXJzfHwKdGhpcy5vcHRpb25zLnRvbGVyYW5jZSE9InBvaW50ZXIiJiZ0aGlzLmhlbHBlclByb3BvcnRpb25zW3RoaXMuZmxvYXRpbmc/IndpZHRoIjoiaGVpZ2h0Il0+ZFt0aGlzLmZsb2F0aW5nPyJ3aWR0aCI6ImhlaWdodCJdP246YzxlK3RoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgvMiYmZi10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLzI8aCYmaTxnK3RoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LzImJmEtdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQvMjxqfSxfaW50ZXJzZWN0c1dpdGhQb2ludGVyOmZ1bmN0aW9uKGQpe3ZhciBlPWIudWkuaXNPdmVyQXhpcyh0aGlzLnBvc2l0aW9uQWJzLnRvcCt0aGlzLm9mZnNldC5jbGljay50b3AsZC50b3AsZC5oZWlnaHQpO2Q9Yi51aS5pc092ZXJBeGlzKHRoaXMucG9zaXRpb25BYnMubGVmdCt0aGlzLm9mZnNldC5jbGljay5sZWZ0LGQubGVmdCxkLndpZHRoKTtlPWUmJmQ7ZD10aGlzLl9nZXREcmFnVmVydGljYWxEaXJlY3Rpb24oKTsKdmFyIGY9dGhpcy5fZ2V0RHJhZ0hvcml6b250YWxEaXJlY3Rpb24oKTtpZighZSlyZXR1cm4gZmFsc2U7cmV0dXJuIHRoaXMuZmxvYXRpbmc/ZiYmZj09InJpZ2h0Inx8ZD09ImRvd24iPzI6MTpkJiYoZD09ImRvd24iPzI6MSl9LF9pbnRlcnNlY3RzV2l0aFNpZGVzOmZ1bmN0aW9uKGQpe3ZhciBlPWIudWkuaXNPdmVyQXhpcyh0aGlzLnBvc2l0aW9uQWJzLnRvcCt0aGlzLm9mZnNldC5jbGljay50b3AsZC50b3ArZC5oZWlnaHQvMixkLmhlaWdodCk7ZD1iLnVpLmlzT3ZlckF4aXModGhpcy5wb3NpdGlvbkFicy5sZWZ0K3RoaXMub2Zmc2V0LmNsaWNrLmxlZnQsZC5sZWZ0K2Qud2lkdGgvMixkLndpZHRoKTt2YXIgZj10aGlzLl9nZXREcmFnVmVydGljYWxEaXJlY3Rpb24oKSxnPXRoaXMuX2dldERyYWdIb3Jpem9udGFsRGlyZWN0aW9uKCk7cmV0dXJuIHRoaXMuZmxvYXRpbmcmJmc/Zz09InJpZ2h0IiYmZHx8Zz09ImxlZnQiJiYhZDpmJiYoZj09ImRvd24iJiZlfHxmPT0idXAiJiYhZSl9LApfZ2V0RHJhZ1ZlcnRpY2FsRGlyZWN0aW9uOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5wb3NpdGlvbkFicy50b3AtdGhpcy5sYXN0UG9zaXRpb25BYnMudG9wO3JldHVybiBkIT0wJiYoZD4wPyJkb3duIjoidXAiKX0sX2dldERyYWdIb3Jpem9udGFsRGlyZWN0aW9uOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5wb3NpdGlvbkFicy5sZWZ0LXRoaXMubGFzdFBvc2l0aW9uQWJzLmxlZnQ7cmV0dXJuIGQhPTAmJihkPjA/InJpZ2h0IjoibGVmdCIpfSxyZWZyZXNoOmZ1bmN0aW9uKGQpe3RoaXMuX3JlZnJlc2hJdGVtcyhkKTt0aGlzLnJlZnJlc2hQb3NpdGlvbnMoKTtyZXR1cm4gdGhpc30sX2Nvbm5lY3RXaXRoOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5vcHRpb25zO3JldHVybiBkLmNvbm5lY3RXaXRoLmNvbnN0cnVjdG9yPT1TdHJpbmc/W2QuY29ubmVjdFdpdGhdOmQuY29ubmVjdFdpdGh9LF9nZXRJdGVtc0FzalF1ZXJ5OmZ1bmN0aW9uKGQpe3ZhciBlPVtdLGY9W10sZz10aGlzLl9jb25uZWN0V2l0aCgpOwppZihnJiZkKWZvcihkPWcubGVuZ3RoLTE7ZD49MDtkLS0pZm9yKHZhciBhPWIoZ1tkXSksYz1hLmxlbmd0aC0xO2M+PTA7Yy0tKXt2YXIgaD1iLmRhdGEoYVtjXSwic29ydGFibGUiKTtpZihoJiZoIT10aGlzJiYhaC5vcHRpb25zLmRpc2FibGVkKWYucHVzaChbYi5pc0Z1bmN0aW9uKGgub3B0aW9ucy5pdGVtcyk/aC5vcHRpb25zLml0ZW1zLmNhbGwoaC5lbGVtZW50KTpiKGgub3B0aW9ucy5pdGVtcyxoLmVsZW1lbnQpLm5vdCgiLnVpLXNvcnRhYmxlLWhlbHBlciIpLm5vdCgiLnVpLXNvcnRhYmxlLXBsYWNlaG9sZGVyIiksaF0pfWYucHVzaChbYi5pc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy5pdGVtcyk/dGhpcy5vcHRpb25zLml0ZW1zLmNhbGwodGhpcy5lbGVtZW50LG51bGwse29wdGlvbnM6dGhpcy5vcHRpb25zLGl0ZW06dGhpcy5jdXJyZW50SXRlbX0pOmIodGhpcy5vcHRpb25zLml0ZW1zLHRoaXMuZWxlbWVudCkubm90KCIudWktc29ydGFibGUtaGVscGVyIikubm90KCIudWktc29ydGFibGUtcGxhY2Vob2xkZXIiKSwKdGhpc10pO2ZvcihkPWYubGVuZ3RoLTE7ZD49MDtkLS0pZltkXVswXS5lYWNoKGZ1bmN0aW9uKCl7ZS5wdXNoKHRoaXMpfSk7cmV0dXJuIGIoZSl9LF9yZW1vdmVDdXJyZW50c0Zyb21JdGVtczpmdW5jdGlvbigpe2Zvcih2YXIgZD10aGlzLmN1cnJlbnRJdGVtLmZpbmQoIjpkYXRhKHNvcnRhYmxlLWl0ZW0pIiksZT0wO2U8dGhpcy5pdGVtcy5sZW5ndGg7ZSsrKWZvcih2YXIgZj0wO2Y8ZC5sZW5ndGg7ZisrKWRbZl09PXRoaXMuaXRlbXNbZV0uaXRlbVswXSYmdGhpcy5pdGVtcy5zcGxpY2UoZSwxKX0sX3JlZnJlc2hJdGVtczpmdW5jdGlvbihkKXt0aGlzLml0ZW1zPVtdO3RoaXMuY29udGFpbmVycz1bdGhpc107dmFyIGU9dGhpcy5pdGVtcyxmPVtbYi5pc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy5pdGVtcyk/dGhpcy5vcHRpb25zLml0ZW1zLmNhbGwodGhpcy5lbGVtZW50WzBdLGQse2l0ZW06dGhpcy5jdXJyZW50SXRlbX0pOmIodGhpcy5vcHRpb25zLml0ZW1zLHRoaXMuZWxlbWVudCksCnRoaXNdXSxnPXRoaXMuX2Nvbm5lY3RXaXRoKCk7aWYoZylmb3IodmFyIGE9Zy5sZW5ndGgtMTthPj0wO2EtLSlmb3IodmFyIGM9YihnW2FdKSxoPWMubGVuZ3RoLTE7aD49MDtoLS0pe3ZhciBpPWIuZGF0YShjW2hdLCJzb3J0YWJsZSIpO2lmKGkmJmkhPXRoaXMmJiFpLm9wdGlvbnMuZGlzYWJsZWQpe2YucHVzaChbYi5pc0Z1bmN0aW9uKGkub3B0aW9ucy5pdGVtcyk/aS5vcHRpb25zLml0ZW1zLmNhbGwoaS5lbGVtZW50WzBdLGQse2l0ZW06dGhpcy5jdXJyZW50SXRlbX0pOmIoaS5vcHRpb25zLml0ZW1zLGkuZWxlbWVudCksaV0pO3RoaXMuY29udGFpbmVycy5wdXNoKGkpfX1mb3IoYT1mLmxlbmd0aC0xO2E+PTA7YS0tKXtkPWZbYV1bMV07Zz1mW2FdWzBdO2g9MDtmb3IoYz1nLmxlbmd0aDtoPGM7aCsrKXtpPWIoZ1toXSk7aS5kYXRhKCJzb3J0YWJsZS1pdGVtIixkKTtlLnB1c2goe2l0ZW06aSxpbnN0YW5jZTpkLHdpZHRoOjAsaGVpZ2h0OjAsbGVmdDowLHRvcDowfSl9fX0scmVmcmVzaFBvc2l0aW9uczpmdW5jdGlvbihkKXtpZih0aGlzLm9mZnNldFBhcmVudCYmCnRoaXMuaGVscGVyKXRoaXMub2Zmc2V0LnBhcmVudD10aGlzLl9nZXRQYXJlbnRPZmZzZXQoKTtmb3IodmFyIGU9dGhpcy5pdGVtcy5sZW5ndGgtMTtlPj0wO2UtLSl7dmFyIGY9dGhpcy5pdGVtc1tlXTtpZighKGYuaW5zdGFuY2UhPXRoaXMuY3VycmVudENvbnRhaW5lciYmdGhpcy5jdXJyZW50Q29udGFpbmVyJiZmLml0ZW1bMF0hPXRoaXMuY3VycmVudEl0ZW1bMF0pKXt2YXIgZz10aGlzLm9wdGlvbnMudG9sZXJhbmNlRWxlbWVudD9iKHRoaXMub3B0aW9ucy50b2xlcmFuY2VFbGVtZW50LGYuaXRlbSk6Zi5pdGVtO2lmKCFkKXtmLndpZHRoPWcub3V0ZXJXaWR0aCgpO2YuaGVpZ2h0PWcub3V0ZXJIZWlnaHQoKX1nPWcub2Zmc2V0KCk7Zi5sZWZ0PWcubGVmdDtmLnRvcD1nLnRvcH19aWYodGhpcy5vcHRpb25zLmN1c3RvbSYmdGhpcy5vcHRpb25zLmN1c3RvbS5yZWZyZXNoQ29udGFpbmVycyl0aGlzLm9wdGlvbnMuY3VzdG9tLnJlZnJlc2hDb250YWluZXJzLmNhbGwodGhpcyk7ZWxzZSBmb3IoZT0KdGhpcy5jb250YWluZXJzLmxlbmd0aC0xO2U+PTA7ZS0tKXtnPXRoaXMuY29udGFpbmVyc1tlXS5lbGVtZW50Lm9mZnNldCgpO3RoaXMuY29udGFpbmVyc1tlXS5jb250YWluZXJDYWNoZS5sZWZ0PWcubGVmdDt0aGlzLmNvbnRhaW5lcnNbZV0uY29udGFpbmVyQ2FjaGUudG9wPWcudG9wO3RoaXMuY29udGFpbmVyc1tlXS5jb250YWluZXJDYWNoZS53aWR0aD10aGlzLmNvbnRhaW5lcnNbZV0uZWxlbWVudC5vdXRlcldpZHRoKCk7dGhpcy5jb250YWluZXJzW2VdLmNvbnRhaW5lckNhY2hlLmhlaWdodD10aGlzLmNvbnRhaW5lcnNbZV0uZWxlbWVudC5vdXRlckhlaWdodCgpfXJldHVybiB0aGlzfSxfY3JlYXRlUGxhY2Vob2xkZXI6ZnVuY3Rpb24oZCl7dmFyIGU9ZHx8dGhpcyxmPWUub3B0aW9ucztpZighZi5wbGFjZWhvbGRlcnx8Zi5wbGFjZWhvbGRlci5jb25zdHJ1Y3Rvcj09U3RyaW5nKXt2YXIgZz1mLnBsYWNlaG9sZGVyO2YucGxhY2Vob2xkZXI9e2VsZW1lbnQ6ZnVuY3Rpb24oKXt2YXIgYT0KYihkb2N1bWVudC5jcmVhdGVFbGVtZW50KGUuY3VycmVudEl0ZW1bMF0ubm9kZU5hbWUpKS5hZGRDbGFzcyhnfHxlLmN1cnJlbnRJdGVtWzBdLmNsYXNzTmFtZSsiIHVpLXNvcnRhYmxlLXBsYWNlaG9sZGVyIikucmVtb3ZlQ2xhc3MoInVpLXNvcnRhYmxlLWhlbHBlciIpWzBdO2lmKCFnKWEuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIjtyZXR1cm4gYX0sdXBkYXRlOmZ1bmN0aW9uKGEsYyl7aWYoIShnJiYhZi5mb3JjZVBsYWNlaG9sZGVyU2l6ZSkpe2MuaGVpZ2h0KCl8fGMuaGVpZ2h0KGUuY3VycmVudEl0ZW0uaW5uZXJIZWlnaHQoKS1wYXJzZUludChlLmN1cnJlbnRJdGVtLmNzcygicGFkZGluZ1RvcCIpfHwwLDEwKS1wYXJzZUludChlLmN1cnJlbnRJdGVtLmNzcygicGFkZGluZ0JvdHRvbSIpfHwwLDEwKSk7Yy53aWR0aCgpfHxjLndpZHRoKGUuY3VycmVudEl0ZW0uaW5uZXJXaWR0aCgpLXBhcnNlSW50KGUuY3VycmVudEl0ZW0uY3NzKCJwYWRkaW5nTGVmdCIpfHwwLDEwKS1wYXJzZUludChlLmN1cnJlbnRJdGVtLmNzcygicGFkZGluZ1JpZ2h0Iil8fAowLDEwKSl9fX19ZS5wbGFjZWhvbGRlcj1iKGYucGxhY2Vob2xkZXIuZWxlbWVudC5jYWxsKGUuZWxlbWVudCxlLmN1cnJlbnRJdGVtKSk7ZS5jdXJyZW50SXRlbS5hZnRlcihlLnBsYWNlaG9sZGVyKTtmLnBsYWNlaG9sZGVyLnVwZGF0ZShlLGUucGxhY2Vob2xkZXIpfSxfY29udGFjdENvbnRhaW5lcnM6ZnVuY3Rpb24oZCl7Zm9yKHZhciBlPW51bGwsZj1udWxsLGc9dGhpcy5jb250YWluZXJzLmxlbmd0aC0xO2c+PTA7Zy0tKWlmKCFiLnVpLmNvbnRhaW5zKHRoaXMuY3VycmVudEl0ZW1bMF0sdGhpcy5jb250YWluZXJzW2ddLmVsZW1lbnRbMF0pKWlmKHRoaXMuX2ludGVyc2VjdHNXaXRoKHRoaXMuY29udGFpbmVyc1tnXS5jb250YWluZXJDYWNoZSkpe2lmKCEoZSYmYi51aS5jb250YWlucyh0aGlzLmNvbnRhaW5lcnNbZ10uZWxlbWVudFswXSxlLmVsZW1lbnRbMF0pKSl7ZT10aGlzLmNvbnRhaW5lcnNbZ107Zj1nfX1lbHNlIGlmKHRoaXMuY29udGFpbmVyc1tnXS5jb250YWluZXJDYWNoZS5vdmVyKXt0aGlzLmNvbnRhaW5lcnNbZ10uX3RyaWdnZXIoIm91dCIsCmQsdGhpcy5fdWlIYXNoKHRoaXMpKTt0aGlzLmNvbnRhaW5lcnNbZ10uY29udGFpbmVyQ2FjaGUub3Zlcj0wfWlmKGUpaWYodGhpcy5jb250YWluZXJzLmxlbmd0aD09PTEpe3RoaXMuY29udGFpbmVyc1tmXS5fdHJpZ2dlcigib3ZlciIsZCx0aGlzLl91aUhhc2godGhpcykpO3RoaXMuY29udGFpbmVyc1tmXS5jb250YWluZXJDYWNoZS5vdmVyPTF9ZWxzZSBpZih0aGlzLmN1cnJlbnRDb250YWluZXIhPXRoaXMuY29udGFpbmVyc1tmXSl7ZT0xRTQ7Zz1udWxsO2Zvcih2YXIgYT10aGlzLnBvc2l0aW9uQWJzW3RoaXMuY29udGFpbmVyc1tmXS5mbG9hdGluZz8ibGVmdCI6InRvcCJdLGM9dGhpcy5pdGVtcy5sZW5ndGgtMTtjPj0wO2MtLSlpZihiLnVpLmNvbnRhaW5zKHRoaXMuY29udGFpbmVyc1tmXS5lbGVtZW50WzBdLHRoaXMuaXRlbXNbY10uaXRlbVswXSkpe3ZhciBoPXRoaXMuaXRlbXNbY11bdGhpcy5jb250YWluZXJzW2ZdLmZsb2F0aW5nPyJsZWZ0IjoidG9wIl07aWYoTWF0aC5hYnMoaC0KYSk8ZSl7ZT1NYXRoLmFicyhoLWEpO2c9dGhpcy5pdGVtc1tjXX19aWYoZ3x8dGhpcy5vcHRpb25zLmRyb3BPbkVtcHR5KXt0aGlzLmN1cnJlbnRDb250YWluZXI9dGhpcy5jb250YWluZXJzW2ZdO2c/dGhpcy5fcmVhcnJhbmdlKGQsZyxudWxsLHRydWUpOnRoaXMuX3JlYXJyYW5nZShkLG51bGwsdGhpcy5jb250YWluZXJzW2ZdLmVsZW1lbnQsdHJ1ZSk7dGhpcy5fdHJpZ2dlcigiY2hhbmdlIixkLHRoaXMuX3VpSGFzaCgpKTt0aGlzLmNvbnRhaW5lcnNbZl0uX3RyaWdnZXIoImNoYW5nZSIsZCx0aGlzLl91aUhhc2godGhpcykpO3RoaXMub3B0aW9ucy5wbGFjZWhvbGRlci51cGRhdGUodGhpcy5jdXJyZW50Q29udGFpbmVyLHRoaXMucGxhY2Vob2xkZXIpO3RoaXMuY29udGFpbmVyc1tmXS5fdHJpZ2dlcigib3ZlciIsZCx0aGlzLl91aUhhc2godGhpcykpO3RoaXMuY29udGFpbmVyc1tmXS5jb250YWluZXJDYWNoZS5vdmVyPTF9fX0sX2NyZWF0ZUhlbHBlcjpmdW5jdGlvbihkKXt2YXIgZT0KdGhpcy5vcHRpb25zO2Q9Yi5pc0Z1bmN0aW9uKGUuaGVscGVyKT9iKGUuaGVscGVyLmFwcGx5KHRoaXMuZWxlbWVudFswXSxbZCx0aGlzLmN1cnJlbnRJdGVtXSkpOmUuaGVscGVyPT0iY2xvbmUiP3RoaXMuY3VycmVudEl0ZW0uY2xvbmUoKTp0aGlzLmN1cnJlbnRJdGVtO2QucGFyZW50cygiYm9keSIpLmxlbmd0aHx8YihlLmFwcGVuZFRvIT0icGFyZW50Ij9lLmFwcGVuZFRvOnRoaXMuY3VycmVudEl0ZW1bMF0ucGFyZW50Tm9kZSlbMF0uYXBwZW5kQ2hpbGQoZFswXSk7aWYoZFswXT09dGhpcy5jdXJyZW50SXRlbVswXSl0aGlzLl9zdG9yZWRDU1M9e3dpZHRoOnRoaXMuY3VycmVudEl0ZW1bMF0uc3R5bGUud2lkdGgsaGVpZ2h0OnRoaXMuY3VycmVudEl0ZW1bMF0uc3R5bGUuaGVpZ2h0LHBvc2l0aW9uOnRoaXMuY3VycmVudEl0ZW0uY3NzKCJwb3NpdGlvbiIpLHRvcDp0aGlzLmN1cnJlbnRJdGVtLmNzcygidG9wIiksbGVmdDp0aGlzLmN1cnJlbnRJdGVtLmNzcygibGVmdCIpfTtpZihkWzBdLnN0eWxlLndpZHRoPT0KIiJ8fGUuZm9yY2VIZWxwZXJTaXplKWQud2lkdGgodGhpcy5jdXJyZW50SXRlbS53aWR0aCgpKTtpZihkWzBdLnN0eWxlLmhlaWdodD09IiJ8fGUuZm9yY2VIZWxwZXJTaXplKWQuaGVpZ2h0KHRoaXMuY3VycmVudEl0ZW0uaGVpZ2h0KCkpO3JldHVybiBkfSxfYWRqdXN0T2Zmc2V0RnJvbUhlbHBlcjpmdW5jdGlvbihkKXtpZih0eXBlb2YgZD09InN0cmluZyIpZD1kLnNwbGl0KCIgIik7aWYoYi5pc0FycmF5KGQpKWQ9e2xlZnQ6K2RbMF0sdG9wOitkWzFdfHwwfTtpZigibGVmdCJpbiBkKXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ9ZC5sZWZ0K3RoaXMubWFyZ2lucy5sZWZ0O2lmKCJyaWdodCJpbiBkKXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ9dGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC1kLnJpZ2h0K3RoaXMubWFyZ2lucy5sZWZ0O2lmKCJ0b3AiaW4gZCl0aGlzLm9mZnNldC5jbGljay50b3A9ZC50b3ArdGhpcy5tYXJnaW5zLnRvcDtpZigiYm90dG9tImluIGQpdGhpcy5vZmZzZXQuY2xpY2sudG9wPQp0aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC1kLmJvdHRvbSt0aGlzLm1hcmdpbnMudG9wfSxfZ2V0UGFyZW50T2Zmc2V0OmZ1bmN0aW9uKCl7dGhpcy5vZmZzZXRQYXJlbnQ9dGhpcy5oZWxwZXIub2Zmc2V0UGFyZW50KCk7dmFyIGQ9dGhpcy5vZmZzZXRQYXJlbnQub2Zmc2V0KCk7aWYodGhpcy5jc3NQb3NpdGlvbj09ImFic29sdXRlIiYmdGhpcy5zY3JvbGxQYXJlbnRbMF0hPWRvY3VtZW50JiZiLnVpLmNvbnRhaW5zKHRoaXMuc2Nyb2xsUGFyZW50WzBdLHRoaXMub2Zmc2V0UGFyZW50WzBdKSl7ZC5sZWZ0Kz10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCk7ZC50b3ArPXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpfWlmKHRoaXMub2Zmc2V0UGFyZW50WzBdPT1kb2N1bWVudC5ib2R5fHx0aGlzLm9mZnNldFBhcmVudFswXS50YWdOYW1lJiZ0aGlzLm9mZnNldFBhcmVudFswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJodG1sIiYmYi5icm93c2VyLm1zaWUpZD0Ke3RvcDowLGxlZnQ6MH07cmV0dXJue3RvcDpkLnRvcCsocGFyc2VJbnQodGhpcy5vZmZzZXRQYXJlbnQuY3NzKCJib3JkZXJUb3BXaWR0aCIpLDEwKXx8MCksbGVmdDpkLmxlZnQrKHBhcnNlSW50KHRoaXMub2Zmc2V0UGFyZW50LmNzcygiYm9yZGVyTGVmdFdpZHRoIiksMTApfHwwKX19LF9nZXRSZWxhdGl2ZU9mZnNldDpmdW5jdGlvbigpe2lmKHRoaXMuY3NzUG9zaXRpb249PSJyZWxhdGl2ZSIpe3ZhciBkPXRoaXMuY3VycmVudEl0ZW0ucG9zaXRpb24oKTtyZXR1cm57dG9wOmQudG9wLShwYXJzZUludCh0aGlzLmhlbHBlci5jc3MoInRvcCIpLDEwKXx8MCkrdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCksbGVmdDpkLmxlZnQtKHBhcnNlSW50KHRoaXMuaGVscGVyLmNzcygibGVmdCIpLDEwKXx8MCkrdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpfX1lbHNlIHJldHVybnt0b3A6MCxsZWZ0OjB9fSxfY2FjaGVNYXJnaW5zOmZ1bmN0aW9uKCl7dGhpcy5tYXJnaW5zPXtsZWZ0OnBhcnNlSW50KHRoaXMuY3VycmVudEl0ZW0uY3NzKCJtYXJnaW5MZWZ0IiksCjEwKXx8MCx0b3A6cGFyc2VJbnQodGhpcy5jdXJyZW50SXRlbS5jc3MoIm1hcmdpblRvcCIpLDEwKXx8MH19LF9jYWNoZUhlbHBlclByb3BvcnRpb25zOmZ1bmN0aW9uKCl7dGhpcy5oZWxwZXJQcm9wb3J0aW9ucz17d2lkdGg6dGhpcy5oZWxwZXIub3V0ZXJXaWR0aCgpLGhlaWdodDp0aGlzLmhlbHBlci5vdXRlckhlaWdodCgpfX0sX3NldENvbnRhaW5tZW50OmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5vcHRpb25zO2lmKGQuY29udGFpbm1lbnQ9PSJwYXJlbnQiKWQuY29udGFpbm1lbnQ9dGhpcy5oZWxwZXJbMF0ucGFyZW50Tm9kZTtpZihkLmNvbnRhaW5tZW50PT0iZG9jdW1lbnQifHxkLmNvbnRhaW5tZW50PT0id2luZG93Iil0aGlzLmNvbnRhaW5tZW50PVswLXRoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQtdGhpcy5vZmZzZXQucGFyZW50LmxlZnQsMC10aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AtdGhpcy5vZmZzZXQucGFyZW50LnRvcCxiKGQuY29udGFpbm1lbnQ9PSJkb2N1bWVudCI/CmRvY3VtZW50OndpbmRvdykud2lkdGgoKS10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLXRoaXMubWFyZ2lucy5sZWZ0LChiKGQuY29udGFpbm1lbnQ9PSJkb2N1bWVudCI/ZG9jdW1lbnQ6d2luZG93KS5oZWlnaHQoKXx8ZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlLnNjcm9sbEhlaWdodCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQtdGhpcy5tYXJnaW5zLnRvcF07aWYoIS9eKGRvY3VtZW50fHdpbmRvd3xwYXJlbnQpJC8udGVzdChkLmNvbnRhaW5tZW50KSl7dmFyIGU9YihkLmNvbnRhaW5tZW50KVswXTtkPWIoZC5jb250YWlubWVudCkub2Zmc2V0KCk7dmFyIGY9YihlKS5jc3MoIm92ZXJmbG93IikhPSJoaWRkZW4iO3RoaXMuY29udGFpbm1lbnQ9W2QubGVmdCsocGFyc2VJbnQoYihlKS5jc3MoImJvcmRlckxlZnRXaWR0aCIpLDEwKXx8MCkrKHBhcnNlSW50KGIoZSkuY3NzKCJwYWRkaW5nTGVmdCIpLDEwKXx8MCktdGhpcy5tYXJnaW5zLmxlZnQsZC50b3ArKHBhcnNlSW50KGIoZSkuY3NzKCJib3JkZXJUb3BXaWR0aCIpLAoxMCl8fDApKyhwYXJzZUludChiKGUpLmNzcygicGFkZGluZ1RvcCIpLDEwKXx8MCktdGhpcy5tYXJnaW5zLnRvcCxkLmxlZnQrKGY/TWF0aC5tYXgoZS5zY3JvbGxXaWR0aCxlLm9mZnNldFdpZHRoKTplLm9mZnNldFdpZHRoKS0ocGFyc2VJbnQoYihlKS5jc3MoImJvcmRlckxlZnRXaWR0aCIpLDEwKXx8MCktKHBhcnNlSW50KGIoZSkuY3NzKCJwYWRkaW5nUmlnaHQiKSwxMCl8fDApLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgtdGhpcy5tYXJnaW5zLmxlZnQsZC50b3ArKGY/TWF0aC5tYXgoZS5zY3JvbGxIZWlnaHQsZS5vZmZzZXRIZWlnaHQpOmUub2Zmc2V0SGVpZ2h0KS0ocGFyc2VJbnQoYihlKS5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKS0ocGFyc2VJbnQoYihlKS5jc3MoInBhZGRpbmdCb3R0b20iKSwxMCl8fDApLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3BdfX0sX2NvbnZlcnRQb3NpdGlvblRvOmZ1bmN0aW9uKGQsZSl7aWYoIWUpZT0KdGhpcy5wb3NpdGlvbjtkPWQ9PSJhYnNvbHV0ZSI/MTotMTt2YXIgZj10aGlzLmNzc1Bvc2l0aW9uPT0iYWJzb2x1dGUiJiYhKHRoaXMuc2Nyb2xsUGFyZW50WzBdIT1kb2N1bWVudCYmYi51aS5jb250YWlucyh0aGlzLnNjcm9sbFBhcmVudFswXSx0aGlzLm9mZnNldFBhcmVudFswXSkpP3RoaXMub2Zmc2V0UGFyZW50OnRoaXMuc2Nyb2xsUGFyZW50LGc9LyhodG1sfGJvZHkpL2kudGVzdChmWzBdLnRhZ05hbWUpO3JldHVybnt0b3A6ZS50b3ArdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wKmQrdGhpcy5vZmZzZXQucGFyZW50LnRvcCpkLShiLmJyb3dzZXIuc2FmYXJpJiZ0aGlzLmNzc1Bvc2l0aW9uPT0iZml4ZWQiPzA6KHRoaXMuY3NzUG9zaXRpb249PSJmaXhlZCI/LXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpOmc/MDpmLnNjcm9sbFRvcCgpKSpkKSxsZWZ0OmUubGVmdCt0aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0KmQrdGhpcy5vZmZzZXQucGFyZW50LmxlZnQqZC0oYi5icm93c2VyLnNhZmFyaSYmCnRoaXMuY3NzUG9zaXRpb249PSJmaXhlZCI/MDoodGhpcy5jc3NQb3NpdGlvbj09ImZpeGVkIj8tdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpOmc/MDpmLnNjcm9sbExlZnQoKSkqZCl9fSxfZ2VuZXJhdGVQb3NpdGlvbjpmdW5jdGlvbihkKXt2YXIgZT10aGlzLm9wdGlvbnMsZj10aGlzLmNzc1Bvc2l0aW9uPT0iYWJzb2x1dGUiJiYhKHRoaXMuc2Nyb2xsUGFyZW50WzBdIT1kb2N1bWVudCYmYi51aS5jb250YWlucyh0aGlzLnNjcm9sbFBhcmVudFswXSx0aGlzLm9mZnNldFBhcmVudFswXSkpP3RoaXMub2Zmc2V0UGFyZW50OnRoaXMuc2Nyb2xsUGFyZW50LGc9LyhodG1sfGJvZHkpL2kudGVzdChmWzBdLnRhZ05hbWUpO2lmKHRoaXMuY3NzUG9zaXRpb249PSJyZWxhdGl2ZSImJiEodGhpcy5zY3JvbGxQYXJlbnRbMF0hPWRvY3VtZW50JiZ0aGlzLnNjcm9sbFBhcmVudFswXSE9dGhpcy5vZmZzZXRQYXJlbnRbMF0pKXRoaXMub2Zmc2V0LnJlbGF0aXZlPXRoaXMuX2dldFJlbGF0aXZlT2Zmc2V0KCk7CnZhciBhPWQucGFnZVgsYz1kLnBhZ2VZO2lmKHRoaXMub3JpZ2luYWxQb3NpdGlvbil7aWYodGhpcy5jb250YWlubWVudCl7aWYoZC5wYWdlWC10aGlzLm9mZnNldC5jbGljay5sZWZ0PHRoaXMuY29udGFpbm1lbnRbMF0pYT10aGlzLmNvbnRhaW5tZW50WzBdK3RoaXMub2Zmc2V0LmNsaWNrLmxlZnQ7aWYoZC5wYWdlWS10aGlzLm9mZnNldC5jbGljay50b3A8dGhpcy5jb250YWlubWVudFsxXSljPXRoaXMuY29udGFpbm1lbnRbMV0rdGhpcy5vZmZzZXQuY2xpY2sudG9wO2lmKGQucGFnZVgtdGhpcy5vZmZzZXQuY2xpY2subGVmdD50aGlzLmNvbnRhaW5tZW50WzJdKWE9dGhpcy5jb250YWlubWVudFsyXSt0aGlzLm9mZnNldC5jbGljay5sZWZ0O2lmKGQucGFnZVktdGhpcy5vZmZzZXQuY2xpY2sudG9wPnRoaXMuY29udGFpbm1lbnRbM10pYz10aGlzLmNvbnRhaW5tZW50WzNdK3RoaXMub2Zmc2V0LmNsaWNrLnRvcH1pZihlLmdyaWQpe2M9dGhpcy5vcmlnaW5hbFBhZ2VZK01hdGgucm91bmQoKGMtCnRoaXMub3JpZ2luYWxQYWdlWSkvZS5ncmlkWzFdKSplLmdyaWRbMV07Yz10aGlzLmNvbnRhaW5tZW50PyEoYy10aGlzLm9mZnNldC5jbGljay50b3A8dGhpcy5jb250YWlubWVudFsxXXx8Yy10aGlzLm9mZnNldC5jbGljay50b3A+dGhpcy5jb250YWlubWVudFszXSk/YzohKGMtdGhpcy5vZmZzZXQuY2xpY2sudG9wPHRoaXMuY29udGFpbm1lbnRbMV0pP2MtZS5ncmlkWzFdOmMrZS5ncmlkWzFdOmM7YT10aGlzLm9yaWdpbmFsUGFnZVgrTWF0aC5yb3VuZCgoYS10aGlzLm9yaWdpbmFsUGFnZVgpL2UuZ3JpZFswXSkqZS5ncmlkWzBdO2E9dGhpcy5jb250YWlubWVudD8hKGEtdGhpcy5vZmZzZXQuY2xpY2subGVmdDx0aGlzLmNvbnRhaW5tZW50WzBdfHxhLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ+dGhpcy5jb250YWlubWVudFsyXSk/YTohKGEtdGhpcy5vZmZzZXQuY2xpY2subGVmdDx0aGlzLmNvbnRhaW5tZW50WzBdKT9hLWUuZ3JpZFswXTphK2UuZ3JpZFswXTphfX1yZXR1cm57dG9wOmMtCnRoaXMub2Zmc2V0LmNsaWNrLnRvcC10aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AtdGhpcy5vZmZzZXQucGFyZW50LnRvcCsoYi5icm93c2VyLnNhZmFyaSYmdGhpcy5jc3NQb3NpdGlvbj09ImZpeGVkIj8wOnRoaXMuY3NzUG9zaXRpb249PSJmaXhlZCI/LXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpOmc/MDpmLnNjcm9sbFRvcCgpKSxsZWZ0OmEtdGhpcy5vZmZzZXQuY2xpY2subGVmdC10aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0LXRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0KyhiLmJyb3dzZXIuc2FmYXJpJiZ0aGlzLmNzc1Bvc2l0aW9uPT0iZml4ZWQiPzA6dGhpcy5jc3NQb3NpdGlvbj09ImZpeGVkIj8tdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpOmc/MDpmLnNjcm9sbExlZnQoKSl9fSxfcmVhcnJhbmdlOmZ1bmN0aW9uKGQsZSxmLGcpe2Y/ZlswXS5hcHBlbmRDaGlsZCh0aGlzLnBsYWNlaG9sZGVyWzBdKTplLml0ZW1bMF0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5wbGFjZWhvbGRlclswXSwKdGhpcy5kaXJlY3Rpb249PSJkb3duIj9lLml0ZW1bMF06ZS5pdGVtWzBdLm5leHRTaWJsaW5nKTt0aGlzLmNvdW50ZXI9dGhpcy5jb3VudGVyPysrdGhpcy5jb3VudGVyOjE7dmFyIGE9dGhpcyxjPXRoaXMuY291bnRlcjt3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2M9PWEuY291bnRlciYmYS5yZWZyZXNoUG9zaXRpb25zKCFnKX0sMCl9LF9jbGVhcjpmdW5jdGlvbihkLGUpe3RoaXMucmV2ZXJ0aW5nPWZhbHNlO3ZhciBmPVtdOyF0aGlzLl9ub0ZpbmFsU29ydCYmdGhpcy5jdXJyZW50SXRlbVswXS5wYXJlbnROb2RlJiZ0aGlzLnBsYWNlaG9sZGVyLmJlZm9yZSh0aGlzLmN1cnJlbnRJdGVtKTt0aGlzLl9ub0ZpbmFsU29ydD1udWxsO2lmKHRoaXMuaGVscGVyWzBdPT10aGlzLmN1cnJlbnRJdGVtWzBdKXtmb3IodmFyIGcgaW4gdGhpcy5fc3RvcmVkQ1NTKWlmKHRoaXMuX3N0b3JlZENTU1tnXT09ImF1dG8ifHx0aGlzLl9zdG9yZWRDU1NbZ109PSJzdGF0aWMiKXRoaXMuX3N0b3JlZENTU1tnXT0KIiI7dGhpcy5jdXJyZW50SXRlbS5jc3ModGhpcy5fc3RvcmVkQ1NTKS5yZW1vdmVDbGFzcygidWktc29ydGFibGUtaGVscGVyIil9ZWxzZSB0aGlzLmN1cnJlbnRJdGVtLnNob3coKTt0aGlzLmZyb21PdXRzaWRlJiYhZSYmZi5wdXNoKGZ1bmN0aW9uKGEpe3RoaXMuX3RyaWdnZXIoInJlY2VpdmUiLGEsdGhpcy5fdWlIYXNoKHRoaXMuZnJvbU91dHNpZGUpKX0pO2lmKCh0aGlzLmZyb21PdXRzaWRlfHx0aGlzLmRvbVBvc2l0aW9uLnByZXYhPXRoaXMuY3VycmVudEl0ZW0ucHJldigpLm5vdCgiLnVpLXNvcnRhYmxlLWhlbHBlciIpWzBdfHx0aGlzLmRvbVBvc2l0aW9uLnBhcmVudCE9dGhpcy5jdXJyZW50SXRlbS5wYXJlbnQoKVswXSkmJiFlKWYucHVzaChmdW5jdGlvbihhKXt0aGlzLl90cmlnZ2VyKCJ1cGRhdGUiLGEsdGhpcy5fdWlIYXNoKCkpfSk7aWYoIWIudWkuY29udGFpbnModGhpcy5lbGVtZW50WzBdLHRoaXMuY3VycmVudEl0ZW1bMF0pKXtlfHxmLnB1c2goZnVuY3Rpb24oYSl7dGhpcy5fdHJpZ2dlcigicmVtb3ZlIiwKYSx0aGlzLl91aUhhc2goKSl9KTtmb3IoZz10aGlzLmNvbnRhaW5lcnMubGVuZ3RoLTE7Zz49MDtnLS0paWYoYi51aS5jb250YWlucyh0aGlzLmNvbnRhaW5lcnNbZ10uZWxlbWVudFswXSx0aGlzLmN1cnJlbnRJdGVtWzBdKSYmIWUpe2YucHVzaChmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYyl7YS5fdHJpZ2dlcigicmVjZWl2ZSIsYyx0aGlzLl91aUhhc2godGhpcykpfX0uY2FsbCh0aGlzLHRoaXMuY29udGFpbmVyc1tnXSkpO2YucHVzaChmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYyl7YS5fdHJpZ2dlcigidXBkYXRlIixjLHRoaXMuX3VpSGFzaCh0aGlzKSl9fS5jYWxsKHRoaXMsdGhpcy5jb250YWluZXJzW2ddKSl9fWZvcihnPXRoaXMuY29udGFpbmVycy5sZW5ndGgtMTtnPj0wO2ctLSl7ZXx8Zi5wdXNoKGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihjKXthLl90cmlnZ2VyKCJkZWFjdGl2YXRlIixjLHRoaXMuX3VpSGFzaCh0aGlzKSl9fS5jYWxsKHRoaXMsCnRoaXMuY29udGFpbmVyc1tnXSkpO2lmKHRoaXMuY29udGFpbmVyc1tnXS5jb250YWluZXJDYWNoZS5vdmVyKXtmLnB1c2goZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGMpe2EuX3RyaWdnZXIoIm91dCIsYyx0aGlzLl91aUhhc2godGhpcykpfX0uY2FsbCh0aGlzLHRoaXMuY29udGFpbmVyc1tnXSkpO3RoaXMuY29udGFpbmVyc1tnXS5jb250YWluZXJDYWNoZS5vdmVyPTB9fXRoaXMuX3N0b3JlZEN1cnNvciYmYigiYm9keSIpLmNzcygiY3Vyc29yIix0aGlzLl9zdG9yZWRDdXJzb3IpO3RoaXMuX3N0b3JlZE9wYWNpdHkmJnRoaXMuaGVscGVyLmNzcygib3BhY2l0eSIsdGhpcy5fc3RvcmVkT3BhY2l0eSk7aWYodGhpcy5fc3RvcmVkWkluZGV4KXRoaXMuaGVscGVyLmNzcygiekluZGV4Iix0aGlzLl9zdG9yZWRaSW5kZXg9PSJhdXRvIj8iIjp0aGlzLl9zdG9yZWRaSW5kZXgpO3RoaXMuZHJhZ2dpbmc9ZmFsc2U7aWYodGhpcy5jYW5jZWxIZWxwZXJSZW1vdmFsKXtpZighZSl7dGhpcy5fdHJpZ2dlcigiYmVmb3JlU3RvcCIsCmQsdGhpcy5fdWlIYXNoKCkpO2ZvcihnPTA7ZzxmLmxlbmd0aDtnKyspZltnXS5jYWxsKHRoaXMsZCk7dGhpcy5fdHJpZ2dlcigic3RvcCIsZCx0aGlzLl91aUhhc2goKSl9cmV0dXJuIGZhbHNlfWV8fHRoaXMuX3RyaWdnZXIoImJlZm9yZVN0b3AiLGQsdGhpcy5fdWlIYXNoKCkpO3RoaXMucGxhY2Vob2xkZXJbMF0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnBsYWNlaG9sZGVyWzBdKTt0aGlzLmhlbHBlclswXSE9dGhpcy5jdXJyZW50SXRlbVswXSYmdGhpcy5oZWxwZXIucmVtb3ZlKCk7dGhpcy5oZWxwZXI9bnVsbDtpZighZSl7Zm9yKGc9MDtnPGYubGVuZ3RoO2crKylmW2ddLmNhbGwodGhpcyxkKTt0aGlzLl90cmlnZ2VyKCJzdG9wIixkLHRoaXMuX3VpSGFzaCgpKX10aGlzLmZyb21PdXRzaWRlPWZhbHNlO3JldHVybiB0cnVlfSxfdHJpZ2dlcjpmdW5jdGlvbigpe2IuV2lkZ2V0LnByb3RvdHlwZS5fdHJpZ2dlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk9PT1mYWxzZSYmdGhpcy5jYW5jZWwoKX0sCl91aUhhc2g6ZnVuY3Rpb24oZCl7dmFyIGU9ZHx8dGhpcztyZXR1cm57aGVscGVyOmUuaGVscGVyLHBsYWNlaG9sZGVyOmUucGxhY2Vob2xkZXJ8fGIoW10pLHBvc2l0aW9uOmUucG9zaXRpb24sb3JpZ2luYWxQb3NpdGlvbjplLm9yaWdpbmFsUG9zaXRpb24sb2Zmc2V0OmUucG9zaXRpb25BYnMsaXRlbTplLmN1cnJlbnRJdGVtLHNlbmRlcjpkP2QuZWxlbWVudDpudWxsfX19KTtiLmV4dGVuZChiLnVpLnNvcnRhYmxlLHt2ZXJzaW9uOiIxLjguMTIifSl9KShqUXVlcnkpOwpqUXVlcnkuZWZmZWN0c3x8ZnVuY3Rpb24oYixkKXtmdW5jdGlvbiBlKGwpe3ZhciBrO2lmKGwmJmwuY29uc3RydWN0b3I9PUFycmF5JiZsLmxlbmd0aD09MylyZXR1cm4gbDtpZihrPS9yZ2JcKFxzKihbMC05XXsxLDN9KVxzKixccyooWzAtOV17MSwzfSlccyosXHMqKFswLTldezEsM30pXHMqXCkvLmV4ZWMobCkpcmV0dXJuW3BhcnNlSW50KGtbMV0sMTApLHBhcnNlSW50KGtbMl0sMTApLHBhcnNlSW50KGtbM10sMTApXTtpZihrPS9yZ2JcKFxzKihbMC05XSsoPzpcLlswLTldKyk/KVwlXHMqLFxzKihbMC05XSsoPzpcLlswLTldKyk/KVwlXHMqLFxzKihbMC05XSsoPzpcLlswLTldKyk/KVwlXHMqXCkvLmV4ZWMobCkpcmV0dXJuW3BhcnNlRmxvYXQoa1sxXSkqMi41NSxwYXJzZUZsb2F0KGtbMl0pKjIuNTUscGFyc2VGbG9hdChrWzNdKSoyLjU1XTtpZihrPS8jKFthLWZBLUYwLTldezJ9KShbYS1mQS1GMC05XXsyfSkoW2EtZkEtRjAtOV17Mn0pLy5leGVjKGwpKXJldHVybltwYXJzZUludChrWzFdLAoxNikscGFyc2VJbnQoa1syXSwxNikscGFyc2VJbnQoa1szXSwxNildO2lmKGs9LyMoW2EtZkEtRjAtOV0pKFthLWZBLUYwLTldKShbYS1mQS1GMC05XSkvLmV4ZWMobCkpcmV0dXJuW3BhcnNlSW50KGtbMV0ra1sxXSwxNikscGFyc2VJbnQoa1syXStrWzJdLDE2KSxwYXJzZUludChrWzNdK2tbM10sMTYpXTtpZigvcmdiYVwoMCwgMCwgMCwgMFwpLy5leGVjKGwpKXJldHVybiBqLnRyYW5zcGFyZW50O3JldHVybiBqW2IudHJpbShsKS50b0xvd2VyQ2FzZSgpXX1mdW5jdGlvbiBmKGwsayl7dmFyIG07ZG97bT1iLmN1ckNTUyhsLGspO2lmKG0hPSIiJiZtIT0idHJhbnNwYXJlbnQifHxiLm5vZGVOYW1lKGwsImJvZHkiKSlicmVhaztrPSJiYWNrZ3JvdW5kQ29sb3IifXdoaWxlKGw9bC5wYXJlbnROb2RlKTtyZXR1cm4gZShtKX1mdW5jdGlvbiBnKCl7dmFyIGw9ZG9jdW1lbnQuZGVmYXVsdFZpZXc/ZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLG51bGwpOnRoaXMuY3VycmVudFN0eWxlLAprPXt9LG0scDtpZihsJiZsLmxlbmd0aCYmbFswXSYmbFtsWzBdXSlmb3IodmFyIHE9bC5sZW5ndGg7cS0tOyl7bT1sW3FdO2lmKHR5cGVvZiBsW21dPT0ic3RyaW5nIil7cD1tLnJlcGxhY2UoL1wtKFx3KS9nLGZ1bmN0aW9uKHMscil7cmV0dXJuIHIudG9VcHBlckNhc2UoKX0pO2tbcF09bFttXX19ZWxzZSBmb3IobSBpbiBsKWlmKHR5cGVvZiBsW21dPT09InN0cmluZyIpa1ttXT1sW21dO3JldHVybiBrfWZ1bmN0aW9uIGEobCl7dmFyIGssbTtmb3IoayBpbiBsKXttPWxba107aWYobT09bnVsbHx8Yi5pc0Z1bmN0aW9uKG0pfHxrIGluIG98fC9zY3JvbGxiYXIvLnRlc3Qoayl8fCEvY29sb3IvaS50ZXN0KGspJiZpc05hTihwYXJzZUZsb2F0KG0pKSlkZWxldGUgbFtrXX1yZXR1cm4gbH1mdW5jdGlvbiBjKGwsayl7dmFyIG09e186MH0scDtmb3IocCBpbiBrKWlmKGxbcF0hPWtbcF0pbVtwXT1rW3BdO3JldHVybiBtfWZ1bmN0aW9uIGgobCxrLG0scCl7aWYodHlwZW9mIGw9PSJvYmplY3QiKXtwPQprO209bnVsbDtrPWw7bD1rLmVmZmVjdH1pZihiLmlzRnVuY3Rpb24oaykpe3A9azttPW51bGw7az17fX1pZih0eXBlb2Ygaz09Im51bWJlciJ8fGIuZnguc3BlZWRzW2tdKXtwPW07bT1rO2s9e319aWYoYi5pc0Z1bmN0aW9uKG0pKXtwPW07bT1udWxsfWs9a3x8e307bT1tfHxrLmR1cmF0aW9uO209Yi5meC5vZmY/MDp0eXBlb2YgbT09Im51bWJlciI/bTptIGluIGIuZnguc3BlZWRzP2IuZnguc3BlZWRzW21dOmIuZnguc3BlZWRzLl9kZWZhdWx0O3A9cHx8ay5jb21wbGV0ZTtyZXR1cm5bbCxrLG0scF19ZnVuY3Rpb24gaShsKXtpZighbHx8dHlwZW9mIGw9PT0ibnVtYmVyInx8Yi5meC5zcGVlZHNbbF0pcmV0dXJuIHRydWU7aWYodHlwZW9mIGw9PT0ic3RyaW5nIiYmIWIuZWZmZWN0c1tsXSlyZXR1cm4gdHJ1ZTtyZXR1cm4gZmFsc2V9Yi5lZmZlY3RzPXt9O2IuZWFjaChbImJhY2tncm91bmRDb2xvciIsImJvcmRlckJvdHRvbUNvbG9yIiwiYm9yZGVyTGVmdENvbG9yIiwiYm9yZGVyUmlnaHRDb2xvciIsCiJib3JkZXJUb3BDb2xvciIsImJvcmRlckNvbG9yIiwiY29sb3IiLCJvdXRsaW5lQ29sb3IiXSxmdW5jdGlvbihsLGspe2IuZnguc3RlcFtrXT1mdW5jdGlvbihtKXtpZighbS5jb2xvckluaXQpe20uc3RhcnQ9ZihtLmVsZW0sayk7bS5lbmQ9ZShtLmVuZCk7bS5jb2xvckluaXQ9dHJ1ZX1tLmVsZW0uc3R5bGVba109InJnYigiK01hdGgubWF4KE1hdGgubWluKHBhcnNlSW50KG0ucG9zKihtLmVuZFswXS1tLnN0YXJ0WzBdKSttLnN0YXJ0WzBdLDEwKSwyNTUpLDApKyIsIitNYXRoLm1heChNYXRoLm1pbihwYXJzZUludChtLnBvcyoobS5lbmRbMV0tbS5zdGFydFsxXSkrbS5zdGFydFsxXSwxMCksMjU1KSwwKSsiLCIrTWF0aC5tYXgoTWF0aC5taW4ocGFyc2VJbnQobS5wb3MqKG0uZW5kWzJdLW0uc3RhcnRbMl0pK20uc3RhcnRbMl0sMTApLDI1NSksMCkrIikifX0pO3ZhciBqPXthcXVhOlswLDI1NSwyNTVdLGF6dXJlOlsyNDAsMjU1LDI1NV0sYmVpZ2U6WzI0NSwyNDUsMjIwXSxibGFjazpbMCwKMCwwXSxibHVlOlswLDAsMjU1XSxicm93bjpbMTY1LDQyLDQyXSxjeWFuOlswLDI1NSwyNTVdLGRhcmtibHVlOlswLDAsMTM5XSxkYXJrY3lhbjpbMCwxMzksMTM5XSxkYXJrZ3JleTpbMTY5LDE2OSwxNjldLGRhcmtncmVlbjpbMCwxMDAsMF0sZGFya2toYWtpOlsxODksMTgzLDEwN10sZGFya21hZ2VudGE6WzEzOSwwLDEzOV0sZGFya29saXZlZ3JlZW46Wzg1LDEwNyw0N10sZGFya29yYW5nZTpbMjU1LDE0MCwwXSxkYXJrb3JjaGlkOlsxNTMsNTAsMjA0XSxkYXJrcmVkOlsxMzksMCwwXSxkYXJrc2FsbW9uOlsyMzMsMTUwLDEyMl0sZGFya3Zpb2xldDpbMTQ4LDAsMjExXSxmdWNoc2lhOlsyNTUsMCwyNTVdLGdvbGQ6WzI1NSwyMTUsMF0sZ3JlZW46WzAsMTI4LDBdLGluZGlnbzpbNzUsMCwxMzBdLGtoYWtpOlsyNDAsMjMwLDE0MF0sbGlnaHRibHVlOlsxNzMsMjE2LDIzMF0sbGlnaHRjeWFuOlsyMjQsMjU1LDI1NV0sbGlnaHRncmVlbjpbMTQ0LDIzOCwxNDRdLGxpZ2h0Z3JleTpbMjExLAoyMTEsMjExXSxsaWdodHBpbms6WzI1NSwxODIsMTkzXSxsaWdodHllbGxvdzpbMjU1LDI1NSwyMjRdLGxpbWU6WzAsMjU1LDBdLG1hZ2VudGE6WzI1NSwwLDI1NV0sbWFyb29uOlsxMjgsMCwwXSxuYXZ5OlswLDAsMTI4XSxvbGl2ZTpbMTI4LDEyOCwwXSxvcmFuZ2U6WzI1NSwxNjUsMF0scGluazpbMjU1LDE5MiwyMDNdLHB1cnBsZTpbMTI4LDAsMTI4XSx2aW9sZXQ6WzEyOCwwLDEyOF0scmVkOlsyNTUsMCwwXSxzaWx2ZXI6WzE5MiwxOTIsMTkyXSx3aGl0ZTpbMjU1LDI1NSwyNTVdLHllbGxvdzpbMjU1LDI1NSwwXSx0cmFuc3BhcmVudDpbMjU1LDI1NSwyNTVdfSxuPVsiYWRkIiwicmVtb3ZlIiwidG9nZ2xlIl0sbz17Ym9yZGVyOjEsYm9yZGVyQm90dG9tOjEsYm9yZGVyQ29sb3I6MSxib3JkZXJMZWZ0OjEsYm9yZGVyUmlnaHQ6MSxib3JkZXJUb3A6MSxib3JkZXJXaWR0aDoxLG1hcmdpbjoxLHBhZGRpbmc6MX07Yi5lZmZlY3RzLmFuaW1hdGVDbGFzcz1mdW5jdGlvbihsLGssbSwKcCl7aWYoYi5pc0Z1bmN0aW9uKG0pKXtwPW07bT1udWxsfXJldHVybiB0aGlzLnF1ZXVlKCJmeCIsZnVuY3Rpb24oKXt2YXIgcT1iKHRoaXMpLHM9cS5hdHRyKCJzdHlsZSIpfHwiICIscj1hKGcuY2FsbCh0aGlzKSksdSx2PXEuYXR0cigiY2xhc3NOYW1lIik7Yi5lYWNoKG4sZnVuY3Rpb24odyx5KXtsW3ldJiZxW3krIkNsYXNzIl0obFt5XSl9KTt1PWEoZy5jYWxsKHRoaXMpKTtxLmF0dHIoImNsYXNzTmFtZSIsdik7cS5hbmltYXRlKGMocix1KSxrLG0sZnVuY3Rpb24oKXtiLmVhY2gobixmdW5jdGlvbih3LHkpe2xbeV0mJnFbeSsiQ2xhc3MiXShsW3ldKX0pO2lmKHR5cGVvZiBxLmF0dHIoInN0eWxlIik9PSJvYmplY3QiKXtxLmF0dHIoInN0eWxlIikuY3NzVGV4dD0iIjtxLmF0dHIoInN0eWxlIikuY3NzVGV4dD1zfWVsc2UgcS5hdHRyKCJzdHlsZSIscyk7cCYmcC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KTtyPWIucXVldWUodGhpcyk7dT1yLnNwbGljZShyLmxlbmd0aC0xLDEpWzBdOwpyLnNwbGljZSgxLDAsdSk7Yi5kZXF1ZXVlKHRoaXMpfSl9O2IuZm4uZXh0ZW5kKHtfYWRkQ2xhc3M6Yi5mbi5hZGRDbGFzcyxhZGRDbGFzczpmdW5jdGlvbihsLGssbSxwKXtyZXR1cm4gaz9iLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmFwcGx5KHRoaXMsW3thZGQ6bH0sayxtLHBdKTp0aGlzLl9hZGRDbGFzcyhsKX0sX3JlbW92ZUNsYXNzOmIuZm4ucmVtb3ZlQ2xhc3MscmVtb3ZlQ2xhc3M6ZnVuY3Rpb24obCxrLG0scCl7cmV0dXJuIGs/Yi5lZmZlY3RzLmFuaW1hdGVDbGFzcy5hcHBseSh0aGlzLFt7cmVtb3ZlOmx9LGssbSxwXSk6dGhpcy5fcmVtb3ZlQ2xhc3MobCl9LF90b2dnbGVDbGFzczpiLmZuLnRvZ2dsZUNsYXNzLHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGwsayxtLHAscSl7cmV0dXJuIHR5cGVvZiBrPT0iYm9vbGVhbiJ8fGs9PT1kP20/Yi5lZmZlY3RzLmFuaW1hdGVDbGFzcy5hcHBseSh0aGlzLFtrP3thZGQ6bH06e3JlbW92ZTpsfSxtLHAscV0pOnRoaXMuX3RvZ2dsZUNsYXNzKGwsCmspOmIuZWZmZWN0cy5hbmltYXRlQ2xhc3MuYXBwbHkodGhpcyxbe3RvZ2dsZTpsfSxrLG0scF0pfSxzd2l0Y2hDbGFzczpmdW5jdGlvbihsLGssbSxwLHEpe3JldHVybiBiLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmFwcGx5KHRoaXMsW3thZGQ6ayxyZW1vdmU6bH0sbSxwLHFdKX19KTtiLmV4dGVuZChiLmVmZmVjdHMse3ZlcnNpb246IjEuOC4xMiIsc2F2ZTpmdW5jdGlvbihsLGspe2Zvcih2YXIgbT0wO208ay5sZW5ndGg7bSsrKWtbbV0hPT1udWxsJiZsLmRhdGEoImVjLnN0b3JhZ2UuIitrW21dLGxbMF0uc3R5bGVba1ttXV0pfSxyZXN0b3JlOmZ1bmN0aW9uKGwsayl7Zm9yKHZhciBtPTA7bTxrLmxlbmd0aDttKyspa1ttXSE9PW51bGwmJmwuY3NzKGtbbV0sbC5kYXRhKCJlYy5zdG9yYWdlLiIra1ttXSkpfSxzZXRNb2RlOmZ1bmN0aW9uKGwsayl7aWYoaz09InRvZ2dsZSIpaz1sLmlzKCI6aGlkZGVuIik/InNob3ciOiJoaWRlIjtyZXR1cm4ga30sZ2V0QmFzZWxpbmU6ZnVuY3Rpb24obCwKayl7dmFyIG07c3dpdGNoKGxbMF0pe2Nhc2UgInRvcCI6bT0wO2JyZWFrO2Nhc2UgIm1pZGRsZSI6bT0wLjU7YnJlYWs7Y2FzZSAiYm90dG9tIjptPTE7YnJlYWs7ZGVmYXVsdDptPWxbMF0vay5oZWlnaHR9c3dpdGNoKGxbMV0pe2Nhc2UgImxlZnQiOmw9MDticmVhaztjYXNlICJjZW50ZXIiOmw9MC41O2JyZWFrO2Nhc2UgInJpZ2h0IjpsPTE7YnJlYWs7ZGVmYXVsdDpsPWxbMV0vay53aWR0aH1yZXR1cm57eDpsLHk6bX19LGNyZWF0ZVdyYXBwZXI6ZnVuY3Rpb24obCl7aWYobC5wYXJlbnQoKS5pcygiLnVpLWVmZmVjdHMtd3JhcHBlciIpKXJldHVybiBsLnBhcmVudCgpO3ZhciBrPXt3aWR0aDpsLm91dGVyV2lkdGgodHJ1ZSksaGVpZ2h0Omwub3V0ZXJIZWlnaHQodHJ1ZSksImZsb2F0IjpsLmNzcygiZmxvYXQiKX0sbT1iKCI8ZGl2PjwvZGl2PiIpLmFkZENsYXNzKCJ1aS1lZmZlY3RzLXdyYXBwZXIiKS5jc3Moe2ZvbnRTaXplOiIxMDAlIixiYWNrZ3JvdW5kOiJ0cmFuc3BhcmVudCIsCmJvcmRlcjoibm9uZSIsbWFyZ2luOjAscGFkZGluZzowfSk7bC53cmFwKG0pO209bC5wYXJlbnQoKTtpZihsLmNzcygicG9zaXRpb24iKT09InN0YXRpYyIpe20uY3NzKHtwb3NpdGlvbjoicmVsYXRpdmUifSk7bC5jc3Moe3Bvc2l0aW9uOiJyZWxhdGl2ZSJ9KX1lbHNle2IuZXh0ZW5kKGsse3Bvc2l0aW9uOmwuY3NzKCJwb3NpdGlvbiIpLHpJbmRleDpsLmNzcygiei1pbmRleCIpfSk7Yi5lYWNoKFsidG9wIiwibGVmdCIsImJvdHRvbSIsInJpZ2h0Il0sZnVuY3Rpb24ocCxxKXtrW3FdPWwuY3NzKHEpO2lmKGlzTmFOKHBhcnNlSW50KGtbcV0sMTApKSlrW3FdPSJhdXRvIn0pO2wuY3NzKHtwb3NpdGlvbjoicmVsYXRpdmUiLHRvcDowLGxlZnQ6MCxyaWdodDoiYXV0byIsYm90dG9tOiJhdXRvIn0pfXJldHVybiBtLmNzcyhrKS5zaG93KCl9LHJlbW92ZVdyYXBwZXI6ZnVuY3Rpb24obCl7aWYobC5wYXJlbnQoKS5pcygiLnVpLWVmZmVjdHMtd3JhcHBlciIpKXJldHVybiBsLnBhcmVudCgpLnJlcGxhY2VXaXRoKGwpOwpyZXR1cm4gbH0sc2V0VHJhbnNpdGlvbjpmdW5jdGlvbihsLGssbSxwKXtwPXB8fHt9O2IuZWFjaChrLGZ1bmN0aW9uKHEscyl7dW5pdD1sLmNzc1VuaXQocyk7aWYodW5pdFswXT4wKXBbc109dW5pdFswXSptK3VuaXRbMV19KTtyZXR1cm4gcH19KTtiLmZuLmV4dGVuZCh7ZWZmZWN0OmZ1bmN0aW9uKGwpe3ZhciBrPWguYXBwbHkodGhpcyxhcmd1bWVudHMpLG09e29wdGlvbnM6a1sxXSxkdXJhdGlvbjprWzJdLGNhbGxiYWNrOmtbM119O2s9bS5vcHRpb25zLm1vZGU7dmFyIHA9Yi5lZmZlY3RzW2xdO2lmKGIuZngub2ZmfHwhcClyZXR1cm4gaz90aGlzW2tdKG0uZHVyYXRpb24sbS5jYWxsYmFjayk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7bS5jYWxsYmFjayYmbS5jYWxsYmFjay5jYWxsKHRoaXMpfSk7cmV0dXJuIHAuY2FsbCh0aGlzLG0pfSxfc2hvdzpiLmZuLnNob3csc2hvdzpmdW5jdGlvbihsKXtpZihpKGwpKXJldHVybiB0aGlzLl9zaG93LmFwcGx5KHRoaXMsYXJndW1lbnRzKTsKZWxzZXt2YXIgaz1oLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtrWzFdLm1vZGU9InNob3ciO3JldHVybiB0aGlzLmVmZmVjdC5hcHBseSh0aGlzLGspfX0sX2hpZGU6Yi5mbi5oaWRlLGhpZGU6ZnVuY3Rpb24obCl7aWYoaShsKSlyZXR1cm4gdGhpcy5faGlkZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZWxzZXt2YXIgaz1oLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtrWzFdLm1vZGU9ImhpZGUiO3JldHVybiB0aGlzLmVmZmVjdC5hcHBseSh0aGlzLGspfX0sX190b2dnbGU6Yi5mbi50b2dnbGUsdG9nZ2xlOmZ1bmN0aW9uKGwpe2lmKGkobCl8fHR5cGVvZiBsPT09ImJvb2xlYW4ifHxiLmlzRnVuY3Rpb24obCkpcmV0dXJuIHRoaXMuX190b2dnbGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Vsc2V7dmFyIGs9aC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7a1sxXS5tb2RlPSJ0b2dnbGUiO3JldHVybiB0aGlzLmVmZmVjdC5hcHBseSh0aGlzLGspfX0sY3NzVW5pdDpmdW5jdGlvbihsKXt2YXIgaz10aGlzLmNzcyhsKSwKbT1bXTtiLmVhY2goWyJlbSIsInB4IiwiJSIsInB0Il0sZnVuY3Rpb24ocCxxKXtpZihrLmluZGV4T2YocSk+MCltPVtwYXJzZUZsb2F0KGspLHFdfSk7cmV0dXJuIG19fSk7Yi5lYXNpbmcuanN3aW5nPWIuZWFzaW5nLnN3aW5nO2IuZXh0ZW5kKGIuZWFzaW5nLHtkZWY6ImVhc2VPdXRRdWFkIixzd2luZzpmdW5jdGlvbihsLGssbSxwLHEpe3JldHVybiBiLmVhc2luZ1tiLmVhc2luZy5kZWZdKGwsayxtLHAscSl9LGVhc2VJblF1YWQ6ZnVuY3Rpb24obCxrLG0scCxxKXtyZXR1cm4gcCooay89cSkqayttfSxlYXNlT3V0UXVhZDpmdW5jdGlvbihsLGssbSxwLHEpe3JldHVybi1wKihrLz1xKSooay0yKSttfSxlYXNlSW5PdXRRdWFkOmZ1bmN0aW9uKGwsayxtLHAscSl7aWYoKGsvPXEvMik8MSlyZXR1cm4gcC8yKmsqayttO3JldHVybi1wLzIqKC0tayooay0yKS0xKSttfSxlYXNlSW5DdWJpYzpmdW5jdGlvbihsLGssbSxwLHEpe3JldHVybiBwKihrLz1xKSprKmsrbX0sZWFzZU91dEN1YmljOmZ1bmN0aW9uKGwsCmssbSxwLHEpe3JldHVybiBwKigoaz1rL3EtMSkqayprKzEpK219LGVhc2VJbk91dEN1YmljOmZ1bmN0aW9uKGwsayxtLHAscSl7aWYoKGsvPXEvMik8MSlyZXR1cm4gcC8yKmsqayprK207cmV0dXJuIHAvMiooKGstPTIpKmsqaysyKSttfSxlYXNlSW5RdWFydDpmdW5jdGlvbihsLGssbSxwLHEpe3JldHVybiBwKihrLz1xKSprKmsqayttfSxlYXNlT3V0UXVhcnQ6ZnVuY3Rpb24obCxrLG0scCxxKXtyZXR1cm4tcCooKGs9ay9xLTEpKmsqayprLTEpK219LGVhc2VJbk91dFF1YXJ0OmZ1bmN0aW9uKGwsayxtLHAscSl7aWYoKGsvPXEvMik8MSlyZXR1cm4gcC8yKmsqayprKmsrbTtyZXR1cm4tcC8yKigoay09MikqayprKmstMikrbX0sZWFzZUluUXVpbnQ6ZnVuY3Rpb24obCxrLG0scCxxKXtyZXR1cm4gcCooay89cSkqayprKmsqayttfSxlYXNlT3V0UXVpbnQ6ZnVuY3Rpb24obCxrLG0scCxxKXtyZXR1cm4gcCooKGs9ay9xLTEpKmsqayprKmsrMSkrbX0sZWFzZUluT3V0UXVpbnQ6ZnVuY3Rpb24obCwKayxtLHAscSl7aWYoKGsvPXEvMik8MSlyZXR1cm4gcC8yKmsqayprKmsqayttO3JldHVybiBwLzIqKChrLT0yKSprKmsqayprKzIpK219LGVhc2VJblNpbmU6ZnVuY3Rpb24obCxrLG0scCxxKXtyZXR1cm4tcCpNYXRoLmNvcyhrL3EqKE1hdGguUEkvMikpK3ArbX0sZWFzZU91dFNpbmU6ZnVuY3Rpb24obCxrLG0scCxxKXtyZXR1cm4gcCpNYXRoLnNpbihrL3EqKE1hdGguUEkvMikpK219LGVhc2VJbk91dFNpbmU6ZnVuY3Rpb24obCxrLG0scCxxKXtyZXR1cm4tcC8yKihNYXRoLmNvcyhNYXRoLlBJKmsvcSktMSkrbX0sZWFzZUluRXhwbzpmdW5jdGlvbihsLGssbSxwLHEpe3JldHVybiBrPT0wP206cCpNYXRoLnBvdygyLDEwKihrL3EtMSkpK219LGVhc2VPdXRFeHBvOmZ1bmN0aW9uKGwsayxtLHAscSl7cmV0dXJuIGs9PXE/bStwOnAqKC1NYXRoLnBvdygyLC0xMCprL3EpKzEpK219LGVhc2VJbk91dEV4cG86ZnVuY3Rpb24obCxrLG0scCxxKXtpZihrPT0wKXJldHVybiBtO2lmKGs9PQpxKXJldHVybiBtK3A7aWYoKGsvPXEvMik8MSlyZXR1cm4gcC8yKk1hdGgucG93KDIsMTAqKGstMSkpK207cmV0dXJuIHAvMiooLU1hdGgucG93KDIsLTEwKi0taykrMikrbX0sZWFzZUluQ2lyYzpmdW5jdGlvbihsLGssbSxwLHEpe3JldHVybi1wKihNYXRoLnNxcnQoMS0oay89cSkqayktMSkrbX0sZWFzZU91dENpcmM6ZnVuY3Rpb24obCxrLG0scCxxKXtyZXR1cm4gcCpNYXRoLnNxcnQoMS0oaz1rL3EtMSkqaykrbX0sZWFzZUluT3V0Q2lyYzpmdW5jdGlvbihsLGssbSxwLHEpe2lmKChrLz1xLzIpPDEpcmV0dXJuLXAvMiooTWF0aC5zcXJ0KDEtayprKS0xKSttO3JldHVybiBwLzIqKE1hdGguc3FydCgxLShrLT0yKSprKSsxKSttfSxlYXNlSW5FbGFzdGljOmZ1bmN0aW9uKGwsayxtLHAscSl7bD0xLjcwMTU4O3ZhciBzPTAscj1wO2lmKGs9PTApcmV0dXJuIG07aWYoKGsvPXEpPT0xKXJldHVybiBtK3A7c3x8KHM9cSowLjMpO2lmKHI8TWF0aC5hYnMocCkpe3I9cDtsPXMvNH1lbHNlIGw9CnMvKDIqTWF0aC5QSSkqTWF0aC5hc2luKHAvcik7cmV0dXJuLShyKk1hdGgucG93KDIsMTAqKGstPTEpKSpNYXRoLnNpbigoaypxLWwpKjIqTWF0aC5QSS9zKSkrbX0sZWFzZU91dEVsYXN0aWM6ZnVuY3Rpb24obCxrLG0scCxxKXtsPTEuNzAxNTg7dmFyIHM9MCxyPXA7aWYoaz09MClyZXR1cm4gbTtpZigoay89cSk9PTEpcmV0dXJuIG0rcDtzfHwocz1xKjAuMyk7aWYocjxNYXRoLmFicyhwKSl7cj1wO2w9cy80fWVsc2UgbD1zLygyKk1hdGguUEkpKk1hdGguYXNpbihwL3IpO3JldHVybiByKk1hdGgucG93KDIsLTEwKmspKk1hdGguc2luKChrKnEtbCkqMipNYXRoLlBJL3MpK3ArbX0sZWFzZUluT3V0RWxhc3RpYzpmdW5jdGlvbihsLGssbSxwLHEpe2w9MS43MDE1ODt2YXIgcz0wLHI9cDtpZihrPT0wKXJldHVybiBtO2lmKChrLz1xLzIpPT0yKXJldHVybiBtK3A7c3x8KHM9cSowLjMqMS41KTtpZihyPE1hdGguYWJzKHApKXtyPXA7bD1zLzR9ZWxzZSBsPXMvKDIqTWF0aC5QSSkqTWF0aC5hc2luKHAvCnIpO2lmKGs8MSlyZXR1cm4tMC41KnIqTWF0aC5wb3coMiwxMCooay09MSkpKk1hdGguc2luKChrKnEtbCkqMipNYXRoLlBJL3MpK207cmV0dXJuIHIqTWF0aC5wb3coMiwtMTAqKGstPTEpKSpNYXRoLnNpbigoaypxLWwpKjIqTWF0aC5QSS9zKSowLjUrcCttfSxlYXNlSW5CYWNrOmZ1bmN0aW9uKGwsayxtLHAscSxzKXtpZihzPT1kKXM9MS43MDE1ODtyZXR1cm4gcCooay89cSkqayooKHMrMSkqay1zKSttfSxlYXNlT3V0QmFjazpmdW5jdGlvbihsLGssbSxwLHEscyl7aWYocz09ZClzPTEuNzAxNTg7cmV0dXJuIHAqKChrPWsvcS0xKSprKigocysxKSprK3MpKzEpK219LGVhc2VJbk91dEJhY2s6ZnVuY3Rpb24obCxrLG0scCxxLHMpe2lmKHM9PWQpcz0xLjcwMTU4O2lmKChrLz1xLzIpPDEpcmV0dXJuIHAvMiprKmsqKCgocyo9MS41MjUpKzEpKmstcykrbTtyZXR1cm4gcC8yKigoay09MikqayooKChzKj0xLjUyNSkrMSkqaytzKSsyKSttfSxlYXNlSW5Cb3VuY2U6ZnVuY3Rpb24obCwKayxtLHAscSl7cmV0dXJuIHAtYi5lYXNpbmcuZWFzZU91dEJvdW5jZShsLHEtaywwLHAscSkrbX0sZWFzZU91dEJvdW5jZTpmdW5jdGlvbihsLGssbSxwLHEpe3JldHVybihrLz1xKTwxLzIuNzU/cCo3LjU2MjUqayprK206azwyLzIuNzU/cCooNy41NjI1KihrLT0xLjUvMi43NSkqayswLjc1KSttOms8Mi41LzIuNzU/cCooNy41NjI1KihrLT0yLjI1LzIuNzUpKmsrMC45Mzc1KSttOnAqKDcuNTYyNSooay09Mi42MjUvMi43NSkqayswLjk4NDM3NSkrbX0sZWFzZUluT3V0Qm91bmNlOmZ1bmN0aW9uKGwsayxtLHAscSl7aWYoazxxLzIpcmV0dXJuIGIuZWFzaW5nLmVhc2VJbkJvdW5jZShsLGsqMiwwLHAscSkqMC41K207cmV0dXJuIGIuZWFzaW5nLmVhc2VPdXRCb3VuY2UobCxrKjItcSwwLHAscSkqMC41K3AqMC41K219fSl9KGpRdWVyeSk7CihmdW5jdGlvbihiKXtiLmVmZmVjdHMuYmxpbmQ9ZnVuY3Rpb24oZCl7cmV0dXJuIHRoaXMucXVldWUoZnVuY3Rpb24oKXt2YXIgZT1iKHRoaXMpLGY9WyJwb3NpdGlvbiIsInRvcCIsImJvdHRvbSIsImxlZnQiLCJyaWdodCJdLGc9Yi5lZmZlY3RzLnNldE1vZGUoZSxkLm9wdGlvbnMubW9kZXx8ImhpZGUiKSxhPWQub3B0aW9ucy5kaXJlY3Rpb258fCJ2ZXJ0aWNhbCI7Yi5lZmZlY3RzLnNhdmUoZSxmKTtlLnNob3coKTt2YXIgYz1iLmVmZmVjdHMuY3JlYXRlV3JhcHBlcihlKS5jc3Moe292ZXJmbG93OiJoaWRkZW4ifSksaD1hPT0idmVydGljYWwiPyJoZWlnaHQiOiJ3aWR0aCI7YT1hPT0idmVydGljYWwiP2MuaGVpZ2h0KCk6Yy53aWR0aCgpO2c9PSJzaG93IiYmYy5jc3MoaCwwKTt2YXIgaT17fTtpW2hdPWc9PSJzaG93Ij9hOjA7Yy5hbmltYXRlKGksZC5kdXJhdGlvbixkLm9wdGlvbnMuZWFzaW5nLGZ1bmN0aW9uKCl7Zz09ImhpZGUiJiZlLmhpZGUoKTtiLmVmZmVjdHMucmVzdG9yZShlLApmKTtiLmVmZmVjdHMucmVtb3ZlV3JhcHBlcihlKTtkLmNhbGxiYWNrJiZkLmNhbGxiYWNrLmFwcGx5KGVbMF0sYXJndW1lbnRzKTtlLmRlcXVldWUoKX0pfSl9fSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGIpe2IuZWZmZWN0cy5ib3VuY2U9ZnVuY3Rpb24oZCl7cmV0dXJuIHRoaXMucXVldWUoZnVuY3Rpb24oKXt2YXIgZT1iKHRoaXMpLGY9WyJwb3NpdGlvbiIsInRvcCIsImJvdHRvbSIsImxlZnQiLCJyaWdodCJdLGc9Yi5lZmZlY3RzLnNldE1vZGUoZSxkLm9wdGlvbnMubW9kZXx8ImVmZmVjdCIpLGE9ZC5vcHRpb25zLmRpcmVjdGlvbnx8InVwIixjPWQub3B0aW9ucy5kaXN0YW5jZXx8MjAsaD1kLm9wdGlvbnMudGltZXN8fDUsaT1kLmR1cmF0aW9ufHwyNTA7L3Nob3d8aGlkZS8udGVzdChnKSYmZi5wdXNoKCJvcGFjaXR5Iik7Yi5lZmZlY3RzLnNhdmUoZSxmKTtlLnNob3coKTtiLmVmZmVjdHMuY3JlYXRlV3JhcHBlcihlKTt2YXIgaj1hPT0idXAifHxhPT0iZG93biI/InRvcCI6ImxlZnQiO2E9YT09InVwInx8YT09ImxlZnQiPyJwb3MiOiJuZWciO2M9ZC5vcHRpb25zLmRpc3RhbmNlfHwoaj09InRvcCI/ZS5vdXRlckhlaWdodCh7bWFyZ2luOnRydWV9KS8zOmUub3V0ZXJXaWR0aCh7bWFyZ2luOnRydWV9KS8KMyk7aWYoZz09InNob3ciKWUuY3NzKCJvcGFjaXR5IiwwKS5jc3MoaixhPT0icG9zIj8tYzpjKTtpZihnPT0iaGlkZSIpYy89aCoyO2chPSJoaWRlIiYmaC0tO2lmKGc9PSJzaG93Iil7dmFyIG49e29wYWNpdHk6MX07bltqXT0oYT09InBvcyI/Iis9IjoiLT0iKStjO2UuYW5pbWF0ZShuLGkvMixkLm9wdGlvbnMuZWFzaW5nKTtjLz0yO2gtLX1mb3Iobj0wO248aDtuKyspe3ZhciBvPXt9LGw9e307b1tqXT0oYT09InBvcyI/Ii09IjoiKz0iKStjO2xbal09KGE9PSJwb3MiPyIrPSI6Ii09IikrYztlLmFuaW1hdGUobyxpLzIsZC5vcHRpb25zLmVhc2luZykuYW5pbWF0ZShsLGkvMixkLm9wdGlvbnMuZWFzaW5nKTtjPWc9PSJoaWRlIj9jKjI6Yy8yfWlmKGc9PSJoaWRlIil7bj17b3BhY2l0eTowfTtuW2pdPShhPT0icG9zIj8iLT0iOiIrPSIpK2M7ZS5hbmltYXRlKG4saS8yLGQub3B0aW9ucy5lYXNpbmcsZnVuY3Rpb24oKXtlLmhpZGUoKTtiLmVmZmVjdHMucmVzdG9yZShlLGYpO2IuZWZmZWN0cy5yZW1vdmVXcmFwcGVyKGUpOwpkLmNhbGxiYWNrJiZkLmNhbGxiYWNrLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfWVsc2V7bz17fTtsPXt9O29bal09KGE9PSJwb3MiPyItPSI6Iis9IikrYztsW2pdPShhPT0icG9zIj8iKz0iOiItPSIpK2M7ZS5hbmltYXRlKG8saS8yLGQub3B0aW9ucy5lYXNpbmcpLmFuaW1hdGUobCxpLzIsZC5vcHRpb25zLmVhc2luZyxmdW5jdGlvbigpe2IuZWZmZWN0cy5yZXN0b3JlKGUsZik7Yi5lZmZlY3RzLnJlbW92ZVdyYXBwZXIoZSk7ZC5jYWxsYmFjayYmZC5jYWxsYmFjay5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX1lLnF1ZXVlKCJmeCIsZnVuY3Rpb24oKXtlLmRlcXVldWUoKX0pO2UuZGVxdWV1ZSgpfSl9fSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGIpe2IuZWZmZWN0cy5jbGlwPWZ1bmN0aW9uKGQpe3JldHVybiB0aGlzLnF1ZXVlKGZ1bmN0aW9uKCl7dmFyIGU9Yih0aGlzKSxmPVsicG9zaXRpb24iLCJ0b3AiLCJib3R0b20iLCJsZWZ0IiwicmlnaHQiLCJoZWlnaHQiLCJ3aWR0aCJdLGc9Yi5lZmZlY3RzLnNldE1vZGUoZSxkLm9wdGlvbnMubW9kZXx8ImhpZGUiKSxhPWQub3B0aW9ucy5kaXJlY3Rpb258fCJ2ZXJ0aWNhbCI7Yi5lZmZlY3RzLnNhdmUoZSxmKTtlLnNob3coKTt2YXIgYz1iLmVmZmVjdHMuY3JlYXRlV3JhcHBlcihlKS5jc3Moe292ZXJmbG93OiJoaWRkZW4ifSk7Yz1lWzBdLnRhZ05hbWU9PSJJTUciP2M6ZTt2YXIgaD17c2l6ZTphPT0idmVydGljYWwiPyJoZWlnaHQiOiJ3aWR0aCIscG9zaXRpb246YT09InZlcnRpY2FsIj8idG9wIjoibGVmdCJ9O2E9YT09InZlcnRpY2FsIj9jLmhlaWdodCgpOmMud2lkdGgoKTtpZihnPT0ic2hvdyIpe2MuY3NzKGguc2l6ZSwwKTtjLmNzcyhoLnBvc2l0aW9uLAphLzIpfXZhciBpPXt9O2lbaC5zaXplXT1nPT0ic2hvdyI/YTowO2lbaC5wb3NpdGlvbl09Zz09InNob3ciPzA6YS8yO2MuYW5pbWF0ZShpLHtxdWV1ZTpmYWxzZSxkdXJhdGlvbjpkLmR1cmF0aW9uLGVhc2luZzpkLm9wdGlvbnMuZWFzaW5nLGNvbXBsZXRlOmZ1bmN0aW9uKCl7Zz09ImhpZGUiJiZlLmhpZGUoKTtiLmVmZmVjdHMucmVzdG9yZShlLGYpO2IuZWZmZWN0cy5yZW1vdmVXcmFwcGVyKGUpO2QuY2FsbGJhY2smJmQuY2FsbGJhY2suYXBwbHkoZVswXSxhcmd1bWVudHMpO2UuZGVxdWV1ZSgpfX0pfSl9fSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGIpe2IuZWZmZWN0cy5kcm9wPWZ1bmN0aW9uKGQpe3JldHVybiB0aGlzLnF1ZXVlKGZ1bmN0aW9uKCl7dmFyIGU9Yih0aGlzKSxmPVsicG9zaXRpb24iLCJ0b3AiLCJib3R0b20iLCJsZWZ0IiwicmlnaHQiLCJvcGFjaXR5Il0sZz1iLmVmZmVjdHMuc2V0TW9kZShlLGQub3B0aW9ucy5tb2RlfHwiaGlkZSIpLGE9ZC5vcHRpb25zLmRpcmVjdGlvbnx8ImxlZnQiO2IuZWZmZWN0cy5zYXZlKGUsZik7ZS5zaG93KCk7Yi5lZmZlY3RzLmNyZWF0ZVdyYXBwZXIoZSk7dmFyIGM9YT09InVwInx8YT09ImRvd24iPyJ0b3AiOiJsZWZ0IjthPWE9PSJ1cCJ8fGE9PSJsZWZ0Ij8icG9zIjoibmVnIjt2YXIgaD1kLm9wdGlvbnMuZGlzdGFuY2V8fChjPT0idG9wIj9lLm91dGVySGVpZ2h0KHttYXJnaW46dHJ1ZX0pLzI6ZS5vdXRlcldpZHRoKHttYXJnaW46dHJ1ZX0pLzIpO2lmKGc9PSJzaG93IillLmNzcygib3BhY2l0eSIsMCkuY3NzKGMsYT09InBvcyI/LWg6aCk7dmFyIGk9e29wYWNpdHk6Zz09CiJzaG93Ij8xOjB9O2lbY109KGc9PSJzaG93Ij9hPT0icG9zIj8iKz0iOiItPSI6YT09InBvcyI/Ii09IjoiKz0iKStoO2UuYW5pbWF0ZShpLHtxdWV1ZTpmYWxzZSxkdXJhdGlvbjpkLmR1cmF0aW9uLGVhc2luZzpkLm9wdGlvbnMuZWFzaW5nLGNvbXBsZXRlOmZ1bmN0aW9uKCl7Zz09ImhpZGUiJiZlLmhpZGUoKTtiLmVmZmVjdHMucmVzdG9yZShlLGYpO2IuZWZmZWN0cy5yZW1vdmVXcmFwcGVyKGUpO2QuY2FsbGJhY2smJmQuY2FsbGJhY2suYXBwbHkodGhpcyxhcmd1bWVudHMpO2UuZGVxdWV1ZSgpfX0pfSl9fSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGIpe2IuZWZmZWN0cy5leHBsb2RlPWZ1bmN0aW9uKGQpe3JldHVybiB0aGlzLnF1ZXVlKGZ1bmN0aW9uKCl7dmFyIGU9ZC5vcHRpb25zLnBpZWNlcz9NYXRoLnJvdW5kKE1hdGguc3FydChkLm9wdGlvbnMucGllY2VzKSk6MyxmPWQub3B0aW9ucy5waWVjZXM/TWF0aC5yb3VuZChNYXRoLnNxcnQoZC5vcHRpb25zLnBpZWNlcykpOjM7ZC5vcHRpb25zLm1vZGU9ZC5vcHRpb25zLm1vZGU9PSJ0b2dnbGUiP2IodGhpcykuaXMoIjp2aXNpYmxlIik/ImhpZGUiOiJzaG93IjpkLm9wdGlvbnMubW9kZTt2YXIgZz1iKHRoaXMpLnNob3coKS5jc3MoInZpc2liaWxpdHkiLCJoaWRkZW4iKSxhPWcub2Zmc2V0KCk7YS50b3AtPXBhcnNlSW50KGcuY3NzKCJtYXJnaW5Ub3AiKSwxMCl8fDA7YS5sZWZ0LT1wYXJzZUludChnLmNzcygibWFyZ2luTGVmdCIpLDEwKXx8MDtmb3IodmFyIGM9Zy5vdXRlcldpZHRoKHRydWUpLGg9Zy5vdXRlckhlaWdodCh0cnVlKSxpPTA7aTxlO2krKylmb3IodmFyIGo9CjA7ajxmO2orKylnLmNsb25lKCkuYXBwZW5kVG8oImJvZHkiKS53cmFwKCI8ZGl2PjwvZGl2PiIpLmNzcyh7cG9zaXRpb246ImFic29sdXRlIix2aXNpYmlsaXR5OiJ2aXNpYmxlIixsZWZ0Oi1qKihjL2YpLHRvcDotaSooaC9lKX0pLnBhcmVudCgpLmFkZENsYXNzKCJ1aS1lZmZlY3RzLWV4cGxvZGUiKS5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsb3ZlcmZsb3c6ImhpZGRlbiIsd2lkdGg6Yy9mLGhlaWdodDpoL2UsbGVmdDphLmxlZnQraiooYy9mKSsoZC5vcHRpb25zLm1vZGU9PSJzaG93Ij8oai1NYXRoLmZsb29yKGYvMikpKihjL2YpOjApLHRvcDphLnRvcCtpKihoL2UpKyhkLm9wdGlvbnMubW9kZT09InNob3ciPyhpLU1hdGguZmxvb3IoZS8yKSkqKGgvZSk6MCksb3BhY2l0eTpkLm9wdGlvbnMubW9kZT09InNob3ciPzA6MX0pLmFuaW1hdGUoe2xlZnQ6YS5sZWZ0K2oqKGMvZikrKGQub3B0aW9ucy5tb2RlPT0ic2hvdyI/MDooai1NYXRoLmZsb29yKGYvMikpKihjL2YpKSx0b3A6YS50b3ArCmkqKGgvZSkrKGQub3B0aW9ucy5tb2RlPT0ic2hvdyI/MDooaS1NYXRoLmZsb29yKGUvMikpKihoL2UpKSxvcGFjaXR5OmQub3B0aW9ucy5tb2RlPT0ic2hvdyI/MTowfSxkLmR1cmF0aW9ufHw1MDApO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtkLm9wdGlvbnMubW9kZT09InNob3ciP2cuY3NzKHt2aXNpYmlsaXR5OiJ2aXNpYmxlIn0pOmcuY3NzKHt2aXNpYmlsaXR5OiJ2aXNpYmxlIn0pLmhpZGUoKTtkLmNhbGxiYWNrJiZkLmNhbGxiYWNrLmFwcGx5KGdbMF0pO2cuZGVxdWV1ZSgpO2IoImRpdi51aS1lZmZlY3RzLWV4cGxvZGUiKS5yZW1vdmUoKX0sZC5kdXJhdGlvbnx8NTAwKX0pfX0pKGpRdWVyeSk7CihmdW5jdGlvbihiKXtiLmVmZmVjdHMuZmFkZT1mdW5jdGlvbihkKXtyZXR1cm4gdGhpcy5xdWV1ZShmdW5jdGlvbigpe3ZhciBlPWIodGhpcyksZj1iLmVmZmVjdHMuc2V0TW9kZShlLGQub3B0aW9ucy5tb2RlfHwiaGlkZSIpO2UuYW5pbWF0ZSh7b3BhY2l0eTpmfSx7cXVldWU6ZmFsc2UsZHVyYXRpb246ZC5kdXJhdGlvbixlYXNpbmc6ZC5vcHRpb25zLmVhc2luZyxjb21wbGV0ZTpmdW5jdGlvbigpe2QuY2FsbGJhY2smJmQuY2FsbGJhY2suYXBwbHkodGhpcyxhcmd1bWVudHMpO2UuZGVxdWV1ZSgpfX0pfSl9fSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGIpe2IuZWZmZWN0cy5mb2xkPWZ1bmN0aW9uKGQpe3JldHVybiB0aGlzLnF1ZXVlKGZ1bmN0aW9uKCl7dmFyIGU9Yih0aGlzKSxmPVsicG9zaXRpb24iLCJ0b3AiLCJib3R0b20iLCJsZWZ0IiwicmlnaHQiXSxnPWIuZWZmZWN0cy5zZXRNb2RlKGUsZC5vcHRpb25zLm1vZGV8fCJoaWRlIiksYT1kLm9wdGlvbnMuc2l6ZXx8MTUsYz0hIWQub3B0aW9ucy5ob3JpekZpcnN0LGg9ZC5kdXJhdGlvbj9kLmR1cmF0aW9uLzI6Yi5meC5zcGVlZHMuX2RlZmF1bHQvMjtiLmVmZmVjdHMuc2F2ZShlLGYpO2Uuc2hvdygpO3ZhciBpPWIuZWZmZWN0cy5jcmVhdGVXcmFwcGVyKGUpLmNzcyh7b3ZlcmZsb3c6ImhpZGRlbiJ9KSxqPWc9PSJzaG93IiE9YyxuPWo/WyJ3aWR0aCIsImhlaWdodCJdOlsiaGVpZ2h0Iiwid2lkdGgiXTtqPWo/W2kud2lkdGgoKSxpLmhlaWdodCgpXTpbaS5oZWlnaHQoKSxpLndpZHRoKCldO3ZhciBvPS8oWzAtOV0rKSUvLmV4ZWMoYSk7aWYobylhPXBhcnNlSW50KG9bMV0sCjEwKS8xMDAqaltnPT0iaGlkZSI/MDoxXTtpZihnPT0ic2hvdyIpaS5jc3MoYz97aGVpZ2h0OjAsd2lkdGg6YX06e2hlaWdodDphLHdpZHRoOjB9KTtjPXt9O289e307Y1tuWzBdXT1nPT0ic2hvdyI/alswXTphO29bblsxXV09Zz09InNob3ciP2pbMV06MDtpLmFuaW1hdGUoYyxoLGQub3B0aW9ucy5lYXNpbmcpLmFuaW1hdGUobyxoLGQub3B0aW9ucy5lYXNpbmcsZnVuY3Rpb24oKXtnPT0iaGlkZSImJmUuaGlkZSgpO2IuZWZmZWN0cy5yZXN0b3JlKGUsZik7Yi5lZmZlY3RzLnJlbW92ZVdyYXBwZXIoZSk7ZC5jYWxsYmFjayYmZC5jYWxsYmFjay5hcHBseShlWzBdLGFyZ3VtZW50cyk7ZS5kZXF1ZXVlKCl9KX0pfX0pKGpRdWVyeSk7CihmdW5jdGlvbihiKXtiLmVmZmVjdHMuaGlnaGxpZ2h0PWZ1bmN0aW9uKGQpe3JldHVybiB0aGlzLnF1ZXVlKGZ1bmN0aW9uKCl7dmFyIGU9Yih0aGlzKSxmPVsiYmFja2dyb3VuZEltYWdlIiwiYmFja2dyb3VuZENvbG9yIiwib3BhY2l0eSJdLGc9Yi5lZmZlY3RzLnNldE1vZGUoZSxkLm9wdGlvbnMubW9kZXx8InNob3ciKSxhPXtiYWNrZ3JvdW5kQ29sb3I6ZS5jc3MoImJhY2tncm91bmRDb2xvciIpfTtpZihnPT0iaGlkZSIpYS5vcGFjaXR5PTA7Yi5lZmZlY3RzLnNhdmUoZSxmKTtlLnNob3coKS5jc3Moe2JhY2tncm91bmRJbWFnZToibm9uZSIsYmFja2dyb3VuZENvbG9yOmQub3B0aW9ucy5jb2xvcnx8IiNmZmZmOTkifSkuYW5pbWF0ZShhLHtxdWV1ZTpmYWxzZSxkdXJhdGlvbjpkLmR1cmF0aW9uLGVhc2luZzpkLm9wdGlvbnMuZWFzaW5nLGNvbXBsZXRlOmZ1bmN0aW9uKCl7Zz09ImhpZGUiJiZlLmhpZGUoKTtiLmVmZmVjdHMucmVzdG9yZShlLGYpO2c9PSJzaG93IiYmIWIuc3VwcG9ydC5vcGFjaXR5JiYKdGhpcy5zdHlsZS5yZW1vdmVBdHRyaWJ1dGUoImZpbHRlciIpO2QuY2FsbGJhY2smJmQuY2FsbGJhY2suYXBwbHkodGhpcyxhcmd1bWVudHMpO2UuZGVxdWV1ZSgpfX0pfSl9fSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGIpe2IuZWZmZWN0cy5wdWxzYXRlPWZ1bmN0aW9uKGQpe3JldHVybiB0aGlzLnF1ZXVlKGZ1bmN0aW9uKCl7dmFyIGU9Yih0aGlzKSxmPWIuZWZmZWN0cy5zZXRNb2RlKGUsZC5vcHRpb25zLm1vZGV8fCJzaG93Iik7dGltZXM9KGQub3B0aW9ucy50aW1lc3x8NSkqMi0xO2R1cmF0aW9uPWQuZHVyYXRpb24/ZC5kdXJhdGlvbi8yOmIuZnguc3BlZWRzLl9kZWZhdWx0LzI7aXNWaXNpYmxlPWUuaXMoIjp2aXNpYmxlIik7YW5pbWF0ZVRvPTA7aWYoIWlzVmlzaWJsZSl7ZS5jc3MoIm9wYWNpdHkiLDApLnNob3coKTthbmltYXRlVG89MX1pZihmPT0iaGlkZSImJmlzVmlzaWJsZXx8Zj09InNob3ciJiYhaXNWaXNpYmxlKXRpbWVzLS07Zm9yKGY9MDtmPHRpbWVzO2YrKyl7ZS5hbmltYXRlKHtvcGFjaXR5OmFuaW1hdGVUb30sZHVyYXRpb24sZC5vcHRpb25zLmVhc2luZyk7YW5pbWF0ZVRvPShhbmltYXRlVG8rMSklMn1lLmFuaW1hdGUoe29wYWNpdHk6YW5pbWF0ZVRvfSxkdXJhdGlvbiwKZC5vcHRpb25zLmVhc2luZyxmdW5jdGlvbigpe2FuaW1hdGVUbz09MCYmZS5oaWRlKCk7ZC5jYWxsYmFjayYmZC5jYWxsYmFjay5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KTtlLnF1ZXVlKCJmeCIsZnVuY3Rpb24oKXtlLmRlcXVldWUoKX0pLmRlcXVldWUoKX0pfX0pKGpRdWVyeSk7CihmdW5jdGlvbihiKXtiLmVmZmVjdHMucHVmZj1mdW5jdGlvbihkKXtyZXR1cm4gdGhpcy5xdWV1ZShmdW5jdGlvbigpe3ZhciBlPWIodGhpcyksZj1iLmVmZmVjdHMuc2V0TW9kZShlLGQub3B0aW9ucy5tb2RlfHwiaGlkZSIpLGc9cGFyc2VJbnQoZC5vcHRpb25zLnBlcmNlbnQsMTApfHwxNTAsYT1nLzEwMCxjPXtoZWlnaHQ6ZS5oZWlnaHQoKSx3aWR0aDplLndpZHRoKCl9O2IuZXh0ZW5kKGQub3B0aW9ucyx7ZmFkZTp0cnVlLG1vZGU6ZixwZXJjZW50OmY9PSJoaWRlIj9nOjEwMCxmcm9tOmY9PSJoaWRlIj9jOntoZWlnaHQ6Yy5oZWlnaHQqYSx3aWR0aDpjLndpZHRoKmF9fSk7ZS5lZmZlY3QoInNjYWxlIixkLm9wdGlvbnMsZC5kdXJhdGlvbixkLmNhbGxiYWNrKTtlLmRlcXVldWUoKX0pfTtiLmVmZmVjdHMuc2NhbGU9ZnVuY3Rpb24oZCl7cmV0dXJuIHRoaXMucXVldWUoZnVuY3Rpb24oKXt2YXIgZT1iKHRoaXMpLGY9Yi5leHRlbmQodHJ1ZSx7fSxkLm9wdGlvbnMpLGc9Yi5lZmZlY3RzLnNldE1vZGUoZSwKZC5vcHRpb25zLm1vZGV8fCJlZmZlY3QiKSxhPXBhcnNlSW50KGQub3B0aW9ucy5wZXJjZW50LDEwKXx8KHBhcnNlSW50KGQub3B0aW9ucy5wZXJjZW50LDEwKT09MD8wOmc9PSJoaWRlIj8wOjEwMCksYz1kLm9wdGlvbnMuZGlyZWN0aW9ufHwiYm90aCIsaD1kLm9wdGlvbnMub3JpZ2luO2lmKGchPSJlZmZlY3QiKXtmLm9yaWdpbj1ofHxbIm1pZGRsZSIsImNlbnRlciJdO2YucmVzdG9yZT10cnVlfWg9e2hlaWdodDplLmhlaWdodCgpLHdpZHRoOmUud2lkdGgoKX07ZS5mcm9tPWQub3B0aW9ucy5mcm9tfHwoZz09InNob3ciP3toZWlnaHQ6MCx3aWR0aDowfTpoKTthPXt5OmMhPSJob3Jpem9udGFsIj9hLzEwMDoxLHg6YyE9InZlcnRpY2FsIj9hLzEwMDoxfTtlLnRvPXtoZWlnaHQ6aC5oZWlnaHQqYS55LHdpZHRoOmgud2lkdGgqYS54fTtpZihkLm9wdGlvbnMuZmFkZSl7aWYoZz09InNob3ciKXtlLmZyb20ub3BhY2l0eT0wO2UudG8ub3BhY2l0eT0xfWlmKGc9PSJoaWRlIil7ZS5mcm9tLm9wYWNpdHk9CjE7ZS50by5vcGFjaXR5PTB9fWYuZnJvbT1lLmZyb207Zi50bz1lLnRvO2YubW9kZT1nO2UuZWZmZWN0KCJzaXplIixmLGQuZHVyYXRpb24sZC5jYWxsYmFjayk7ZS5kZXF1ZXVlKCl9KX07Yi5lZmZlY3RzLnNpemU9ZnVuY3Rpb24oZCl7cmV0dXJuIHRoaXMucXVldWUoZnVuY3Rpb24oKXt2YXIgZT1iKHRoaXMpLGY9WyJwb3NpdGlvbiIsInRvcCIsImJvdHRvbSIsImxlZnQiLCJyaWdodCIsIndpZHRoIiwiaGVpZ2h0Iiwib3ZlcmZsb3ciLCJvcGFjaXR5Il0sZz1bInBvc2l0aW9uIiwidG9wIiwiYm90dG9tIiwibGVmdCIsInJpZ2h0Iiwib3ZlcmZsb3ciLCJvcGFjaXR5Il0sYT1bIndpZHRoIiwiaGVpZ2h0Iiwib3ZlcmZsb3ciXSxjPVsiZm9udFNpemUiXSxoPVsiYm9yZGVyVG9wV2lkdGgiLCJib3JkZXJCb3R0b21XaWR0aCIsInBhZGRpbmdUb3AiLCJwYWRkaW5nQm90dG9tIl0saT1bImJvcmRlckxlZnRXaWR0aCIsImJvcmRlclJpZ2h0V2lkdGgiLCJwYWRkaW5nTGVmdCIsInBhZGRpbmdSaWdodCJdLApqPWIuZWZmZWN0cy5zZXRNb2RlKGUsZC5vcHRpb25zLm1vZGV8fCJlZmZlY3QiKSxuPWQub3B0aW9ucy5yZXN0b3JlfHxmYWxzZSxvPWQub3B0aW9ucy5zY2FsZXx8ImJvdGgiLGw9ZC5vcHRpb25zLm9yaWdpbixrPXtoZWlnaHQ6ZS5oZWlnaHQoKSx3aWR0aDplLndpZHRoKCl9O2UuZnJvbT1kLm9wdGlvbnMuZnJvbXx8aztlLnRvPWQub3B0aW9ucy50b3x8aztpZihsKXtsPWIuZWZmZWN0cy5nZXRCYXNlbGluZShsLGspO2UuZnJvbS50b3A9KGsuaGVpZ2h0LWUuZnJvbS5oZWlnaHQpKmwueTtlLmZyb20ubGVmdD0oay53aWR0aC1lLmZyb20ud2lkdGgpKmwueDtlLnRvLnRvcD0oay5oZWlnaHQtZS50by5oZWlnaHQpKmwueTtlLnRvLmxlZnQ9KGsud2lkdGgtZS50by53aWR0aCkqbC54fXZhciBtPXtmcm9tOnt5OmUuZnJvbS5oZWlnaHQvay5oZWlnaHQseDplLmZyb20ud2lkdGgvay53aWR0aH0sdG86e3k6ZS50by5oZWlnaHQvay5oZWlnaHQseDplLnRvLndpZHRoL2sud2lkdGh9fTsKaWYobz09ImJveCJ8fG89PSJib3RoIil7aWYobS5mcm9tLnkhPW0udG8ueSl7Zj1mLmNvbmNhdChoKTtlLmZyb209Yi5lZmZlY3RzLnNldFRyYW5zaXRpb24oZSxoLG0uZnJvbS55LGUuZnJvbSk7ZS50bz1iLmVmZmVjdHMuc2V0VHJhbnNpdGlvbihlLGgsbS50by55LGUudG8pfWlmKG0uZnJvbS54IT1tLnRvLngpe2Y9Zi5jb25jYXQoaSk7ZS5mcm9tPWIuZWZmZWN0cy5zZXRUcmFuc2l0aW9uKGUsaSxtLmZyb20ueCxlLmZyb20pO2UudG89Yi5lZmZlY3RzLnNldFRyYW5zaXRpb24oZSxpLG0udG8ueCxlLnRvKX19aWYobz09ImNvbnRlbnQifHxvPT0iYm90aCIpaWYobS5mcm9tLnkhPW0udG8ueSl7Zj1mLmNvbmNhdChjKTtlLmZyb209Yi5lZmZlY3RzLnNldFRyYW5zaXRpb24oZSxjLG0uZnJvbS55LGUuZnJvbSk7ZS50bz1iLmVmZmVjdHMuc2V0VHJhbnNpdGlvbihlLGMsbS50by55LGUudG8pfWIuZWZmZWN0cy5zYXZlKGUsbj9mOmcpO2Uuc2hvdygpO2IuZWZmZWN0cy5jcmVhdGVXcmFwcGVyKGUpOwplLmNzcygib3ZlcmZsb3ciLCJoaWRkZW4iKS5jc3MoZS5mcm9tKTtpZihvPT0iY29udGVudCJ8fG89PSJib3RoIil7aD1oLmNvbmNhdChbIm1hcmdpblRvcCIsIm1hcmdpbkJvdHRvbSJdKS5jb25jYXQoYyk7aT1pLmNvbmNhdChbIm1hcmdpbkxlZnQiLCJtYXJnaW5SaWdodCJdKTthPWYuY29uY2F0KGgpLmNvbmNhdChpKTtlLmZpbmQoIipbd2lkdGhdIikuZWFjaChmdW5jdGlvbigpe2NoaWxkPWIodGhpcyk7biYmYi5lZmZlY3RzLnNhdmUoY2hpbGQsYSk7dmFyIHA9e2hlaWdodDpjaGlsZC5oZWlnaHQoKSx3aWR0aDpjaGlsZC53aWR0aCgpfTtjaGlsZC5mcm9tPXtoZWlnaHQ6cC5oZWlnaHQqbS5mcm9tLnksd2lkdGg6cC53aWR0aCptLmZyb20ueH07Y2hpbGQudG89e2hlaWdodDpwLmhlaWdodCptLnRvLnksd2lkdGg6cC53aWR0aCptLnRvLnh9O2lmKG0uZnJvbS55IT1tLnRvLnkpe2NoaWxkLmZyb209Yi5lZmZlY3RzLnNldFRyYW5zaXRpb24oY2hpbGQsaCxtLmZyb20ueSxjaGlsZC5mcm9tKTsKY2hpbGQudG89Yi5lZmZlY3RzLnNldFRyYW5zaXRpb24oY2hpbGQsaCxtLnRvLnksY2hpbGQudG8pfWlmKG0uZnJvbS54IT1tLnRvLngpe2NoaWxkLmZyb209Yi5lZmZlY3RzLnNldFRyYW5zaXRpb24oY2hpbGQsaSxtLmZyb20ueCxjaGlsZC5mcm9tKTtjaGlsZC50bz1iLmVmZmVjdHMuc2V0VHJhbnNpdGlvbihjaGlsZCxpLG0udG8ueCxjaGlsZC50byl9Y2hpbGQuY3NzKGNoaWxkLmZyb20pO2NoaWxkLmFuaW1hdGUoY2hpbGQudG8sZC5kdXJhdGlvbixkLm9wdGlvbnMuZWFzaW5nLGZ1bmN0aW9uKCl7biYmYi5lZmZlY3RzLnJlc3RvcmUoY2hpbGQsYSl9KX0pfWUuYW5pbWF0ZShlLnRvLHtxdWV1ZTpmYWxzZSxkdXJhdGlvbjpkLmR1cmF0aW9uLGVhc2luZzpkLm9wdGlvbnMuZWFzaW5nLGNvbXBsZXRlOmZ1bmN0aW9uKCl7ZS50by5vcGFjaXR5PT09MCYmZS5jc3MoIm9wYWNpdHkiLGUuZnJvbS5vcGFjaXR5KTtqPT0iaGlkZSImJmUuaGlkZSgpO2IuZWZmZWN0cy5yZXN0b3JlKGUsCm4/ZjpnKTtiLmVmZmVjdHMucmVtb3ZlV3JhcHBlcihlKTtkLmNhbGxiYWNrJiZkLmNhbGxiYWNrLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtlLmRlcXVldWUoKX19KX0pfX0pKGpRdWVyeSk7CihmdW5jdGlvbihiKXtiLmVmZmVjdHMuc2hha2U9ZnVuY3Rpb24oZCl7cmV0dXJuIHRoaXMucXVldWUoZnVuY3Rpb24oKXt2YXIgZT1iKHRoaXMpLGY9WyJwb3NpdGlvbiIsInRvcCIsImJvdHRvbSIsImxlZnQiLCJyaWdodCJdO2IuZWZmZWN0cy5zZXRNb2RlKGUsZC5vcHRpb25zLm1vZGV8fCJlZmZlY3QiKTt2YXIgZz1kLm9wdGlvbnMuZGlyZWN0aW9ufHwibGVmdCIsYT1kLm9wdGlvbnMuZGlzdGFuY2V8fDIwLGM9ZC5vcHRpb25zLnRpbWVzfHwzLGg9ZC5kdXJhdGlvbnx8ZC5vcHRpb25zLmR1cmF0aW9ufHwxNDA7Yi5lZmZlY3RzLnNhdmUoZSxmKTtlLnNob3coKTtiLmVmZmVjdHMuY3JlYXRlV3JhcHBlcihlKTt2YXIgaT1nPT0idXAifHxnPT0iZG93biI/InRvcCI6ImxlZnQiLGo9Zz09InVwInx8Zz09ImxlZnQiPyJwb3MiOiJuZWciO2c9e307dmFyIG49e30sbz17fTtnW2ldPShqPT0icG9zIj8iLT0iOiIrPSIpK2E7bltpXT0oaj09InBvcyI/Iis9IjoiLT0iKSthKjI7b1tpXT0KKGo9PSJwb3MiPyItPSI6Iis9IikrYSoyO2UuYW5pbWF0ZShnLGgsZC5vcHRpb25zLmVhc2luZyk7Zm9yKGE9MTthPGM7YSsrKWUuYW5pbWF0ZShuLGgsZC5vcHRpb25zLmVhc2luZykuYW5pbWF0ZShvLGgsZC5vcHRpb25zLmVhc2luZyk7ZS5hbmltYXRlKG4saCxkLm9wdGlvbnMuZWFzaW5nKS5hbmltYXRlKGcsaC8yLGQub3B0aW9ucy5lYXNpbmcsZnVuY3Rpb24oKXtiLmVmZmVjdHMucmVzdG9yZShlLGYpO2IuZWZmZWN0cy5yZW1vdmVXcmFwcGVyKGUpO2QuY2FsbGJhY2smJmQuY2FsbGJhY2suYXBwbHkodGhpcyxhcmd1bWVudHMpfSk7ZS5xdWV1ZSgiZngiLGZ1bmN0aW9uKCl7ZS5kZXF1ZXVlKCl9KTtlLmRlcXVldWUoKX0pfX0pKGpRdWVyeSk7CihmdW5jdGlvbihiKXtiLmVmZmVjdHMuc2xpZGU9ZnVuY3Rpb24oZCl7cmV0dXJuIHRoaXMucXVldWUoZnVuY3Rpb24oKXt2YXIgZT1iKHRoaXMpLGY9WyJwb3NpdGlvbiIsInRvcCIsImJvdHRvbSIsImxlZnQiLCJyaWdodCJdLGc9Yi5lZmZlY3RzLnNldE1vZGUoZSxkLm9wdGlvbnMubW9kZXx8InNob3ciKSxhPWQub3B0aW9ucy5kaXJlY3Rpb258fCJsZWZ0IjtiLmVmZmVjdHMuc2F2ZShlLGYpO2Uuc2hvdygpO2IuZWZmZWN0cy5jcmVhdGVXcmFwcGVyKGUpLmNzcyh7b3ZlcmZsb3c6ImhpZGRlbiJ9KTt2YXIgYz1hPT0idXAifHxhPT0iZG93biI/InRvcCI6ImxlZnQiO2E9YT09InVwInx8YT09ImxlZnQiPyJwb3MiOiJuZWciO3ZhciBoPWQub3B0aW9ucy5kaXN0YW5jZXx8KGM9PSJ0b3AiP2Uub3V0ZXJIZWlnaHQoe21hcmdpbjp0cnVlfSk6ZS5vdXRlcldpZHRoKHttYXJnaW46dHJ1ZX0pKTtpZihnPT0ic2hvdyIpZS5jc3MoYyxhPT0icG9zIj9pc05hTihoKT8iLSIraDotaDpoKTsKdmFyIGk9e307aVtjXT0oZz09InNob3ciP2E9PSJwb3MiPyIrPSI6Ii09IjphPT0icG9zIj8iLT0iOiIrPSIpK2g7ZS5hbmltYXRlKGkse3F1ZXVlOmZhbHNlLGR1cmF0aW9uOmQuZHVyYXRpb24sZWFzaW5nOmQub3B0aW9ucy5lYXNpbmcsY29tcGxldGU6ZnVuY3Rpb24oKXtnPT0iaGlkZSImJmUuaGlkZSgpO2IuZWZmZWN0cy5yZXN0b3JlKGUsZik7Yi5lZmZlY3RzLnJlbW92ZVdyYXBwZXIoZSk7ZC5jYWxsYmFjayYmZC5jYWxsYmFjay5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZS5kZXF1ZXVlKCl9fSl9KX19KShqUXVlcnkpOwooZnVuY3Rpb24oYil7Yi5lZmZlY3RzLnRyYW5zZmVyPWZ1bmN0aW9uKGQpe3JldHVybiB0aGlzLnF1ZXVlKGZ1bmN0aW9uKCl7dmFyIGU9Yih0aGlzKSxmPWIoZC5vcHRpb25zLnRvKSxnPWYub2Zmc2V0KCk7Zj17dG9wOmcudG9wLGxlZnQ6Zy5sZWZ0LGhlaWdodDpmLmlubmVySGVpZ2h0KCksd2lkdGg6Zi5pbm5lcldpZHRoKCl9O2c9ZS5vZmZzZXQoKTt2YXIgYT1iKCc8ZGl2IGNsYXNzPSJ1aS1lZmZlY3RzLXRyYW5zZmVyIj48L2Rpdj4nKS5hcHBlbmRUbyhkb2N1bWVudC5ib2R5KS5hZGRDbGFzcyhkLm9wdGlvbnMuY2xhc3NOYW1lKS5jc3Moe3RvcDpnLnRvcCxsZWZ0OmcubGVmdCxoZWlnaHQ6ZS5pbm5lckhlaWdodCgpLHdpZHRoOmUuaW5uZXJXaWR0aCgpLHBvc2l0aW9uOiJhYnNvbHV0ZSJ9KS5hbmltYXRlKGYsZC5kdXJhdGlvbixkLm9wdGlvbnMuZWFzaW5nLGZ1bmN0aW9uKCl7YS5yZW1vdmUoKTtkLmNhbGxiYWNrJiZkLmNhbGxiYWNrLmFwcGx5KGVbMF0sYXJndW1lbnRzKTsKZS5kZXF1ZXVlKCl9KX0pfX0pKGpRdWVyeSk7CihmdW5jdGlvbihiKXtiLndpZGdldCgidWkuYWNjb3JkaW9uIix7b3B0aW9uczp7YWN0aXZlOjAsYW5pbWF0ZWQ6InNsaWRlIixhdXRvSGVpZ2h0OnRydWUsY2xlYXJTdHlsZTpmYWxzZSxjb2xsYXBzaWJsZTpmYWxzZSxldmVudDoiY2xpY2siLGZpbGxTcGFjZTpmYWxzZSxoZWFkZXI6Ij4gbGkgPiA6Zmlyc3QtY2hpbGQsPiA6bm90KGxpKTpldmVuIixpY29uczp7aGVhZGVyOiJ1aS1pY29uLXRyaWFuZ2xlLTEtZSIsaGVhZGVyU2VsZWN0ZWQ6InVpLWljb24tdHJpYW5nbGUtMS1zIn0sbmF2aWdhdGlvbjpmYWxzZSxuYXZpZ2F0aW9uRmlsdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaHJlZi50b0xvd2VyQ2FzZSgpPT09bG9jYXRpb24uaHJlZi50b0xvd2VyQ2FzZSgpfX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBkPXRoaXMsZT1kLm9wdGlvbnM7ZC5ydW5uaW5nPTA7ZC5lbGVtZW50LmFkZENsYXNzKCJ1aS1hY2NvcmRpb24gdWktd2lkZ2V0IHVpLWhlbHBlci1yZXNldCIpLmNoaWxkcmVuKCJsaSIpLmFkZENsYXNzKCJ1aS1hY2NvcmRpb24tbGktZml4Iik7ZC5oZWFkZXJzPQpkLmVsZW1lbnQuZmluZChlLmhlYWRlcikuYWRkQ2xhc3MoInVpLWFjY29yZGlvbi1oZWFkZXIgdWktaGVscGVyLXJlc2V0IHVpLXN0YXRlLWRlZmF1bHQgdWktY29ybmVyLWFsbCIpLmJpbmQoIm1vdXNlZW50ZXIuYWNjb3JkaW9uIixmdW5jdGlvbigpe2UuZGlzYWJsZWR8fGIodGhpcykuYWRkQ2xhc3MoInVpLXN0YXRlLWhvdmVyIil9KS5iaW5kKCJtb3VzZWxlYXZlLmFjY29yZGlvbiIsZnVuY3Rpb24oKXtlLmRpc2FibGVkfHxiKHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpfSkuYmluZCgiZm9jdXMuYWNjb3JkaW9uIixmdW5jdGlvbigpe2UuZGlzYWJsZWR8fGIodGhpcykuYWRkQ2xhc3MoInVpLXN0YXRlLWZvY3VzIil9KS5iaW5kKCJibHVyLmFjY29yZGlvbiIsZnVuY3Rpb24oKXtlLmRpc2FibGVkfHxiKHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpfSk7ZC5oZWFkZXJzLm5leHQoKS5hZGRDbGFzcygidWktYWNjb3JkaW9uLWNvbnRlbnQgdWktaGVscGVyLXJlc2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1ib3R0b20iKTsKaWYoZS5uYXZpZ2F0aW9uKXt2YXIgZj1kLmVsZW1lbnQuZmluZCgiYSIpLmZpbHRlcihlLm5hdmlnYXRpb25GaWx0ZXIpLmVxKDApO2lmKGYubGVuZ3RoKXt2YXIgZz1mLmNsb3Nlc3QoIi51aS1hY2NvcmRpb24taGVhZGVyIik7ZC5hY3RpdmU9Zy5sZW5ndGg/ZzpmLmNsb3Nlc3QoIi51aS1hY2NvcmRpb24tY29udGVudCIpLnByZXYoKX19ZC5hY3RpdmU9ZC5fZmluZEFjdGl2ZShkLmFjdGl2ZXx8ZS5hY3RpdmUpLmFkZENsYXNzKCJ1aS1zdGF0ZS1kZWZhdWx0IHVpLXN0YXRlLWFjdGl2ZSIpLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIikudG9nZ2xlQ2xhc3MoInVpLWNvcm5lci10b3AiKTtkLmFjdGl2ZS5uZXh0KCkuYWRkQ2xhc3MoInVpLWFjY29yZGlvbi1jb250ZW50LWFjdGl2ZSIpO2QuX2NyZWF0ZUljb25zKCk7ZC5yZXNpemUoKTtkLmVsZW1lbnQuYXR0cigicm9sZSIsInRhYmxpc3QiKTtkLmhlYWRlcnMuYXR0cigicm9sZSIsInRhYiIpLmJpbmQoImtleWRvd24uYWNjb3JkaW9uIiwKZnVuY3Rpb24oYSl7cmV0dXJuIGQuX2tleWRvd24oYSl9KS5uZXh0KCkuYXR0cigicm9sZSIsInRhYnBhbmVsIik7ZC5oZWFkZXJzLm5vdChkLmFjdGl2ZXx8IiIpLmF0dHIoeyJhcmlhLWV4cGFuZGVkIjoiZmFsc2UiLCJhcmlhLXNlbGVjdGVkIjoiZmFsc2UiLHRhYkluZGV4Oi0xfSkubmV4dCgpLmhpZGUoKTtkLmFjdGl2ZS5sZW5ndGg/ZC5hY3RpdmUuYXR0cih7ImFyaWEtZXhwYW5kZWQiOiJ0cnVlIiwiYXJpYS1zZWxlY3RlZCI6InRydWUiLHRhYkluZGV4OjB9KTpkLmhlYWRlcnMuZXEoMCkuYXR0cigidGFiSW5kZXgiLDApO2IuYnJvd3Nlci5zYWZhcml8fGQuaGVhZGVycy5maW5kKCJhIikuYXR0cigidGFiSW5kZXgiLC0xKTtlLmV2ZW50JiZkLmhlYWRlcnMuYmluZChlLmV2ZW50LnNwbGl0KCIgIikuam9pbigiLmFjY29yZGlvbiAiKSsiLmFjY29yZGlvbiIsZnVuY3Rpb24oYSl7ZC5fY2xpY2tIYW5kbGVyLmNhbGwoZCxhLHRoaXMpO2EucHJldmVudERlZmF1bHQoKX0pfSxfY3JlYXRlSWNvbnM6ZnVuY3Rpb24oKXt2YXIgZD0KdGhpcy5vcHRpb25zO2lmKGQuaWNvbnMpe2IoIjxzcGFuPjwvc3Bhbj4iKS5hZGRDbGFzcygidWktaWNvbiAiK2QuaWNvbnMuaGVhZGVyKS5wcmVwZW5kVG8odGhpcy5oZWFkZXJzKTt0aGlzLmFjdGl2ZS5jaGlsZHJlbigiLnVpLWljb24iKS50b2dnbGVDbGFzcyhkLmljb25zLmhlYWRlcikudG9nZ2xlQ2xhc3MoZC5pY29ucy5oZWFkZXJTZWxlY3RlZCk7dGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1hY2NvcmRpb24taWNvbnMiKX19LF9kZXN0cm95SWNvbnM6ZnVuY3Rpb24oKXt0aGlzLmhlYWRlcnMuY2hpbGRyZW4oIi51aS1pY29uIikucmVtb3ZlKCk7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1hY2NvcmRpb24taWNvbnMiKX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBkPXRoaXMub3B0aW9uczt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWFjY29yZGlvbiB1aS13aWRnZXQgdWktaGVscGVyLXJlc2V0IikucmVtb3ZlQXR0cigicm9sZSIpO3RoaXMuaGVhZGVycy51bmJpbmQoIi5hY2NvcmRpb24iKS5yZW1vdmVDbGFzcygidWktYWNjb3JkaW9uLWhlYWRlciB1aS1hY2NvcmRpb24tZGlzYWJsZWQgdWktaGVscGVyLXJlc2V0IHVpLXN0YXRlLWRlZmF1bHQgdWktY29ybmVyLWFsbCB1aS1zdGF0ZS1hY3RpdmUgdWktc3RhdGUtZGlzYWJsZWQgdWktY29ybmVyLXRvcCIpLnJlbW92ZUF0dHIoInJvbGUiKS5yZW1vdmVBdHRyKCJhcmlhLWV4cGFuZGVkIikucmVtb3ZlQXR0cigiYXJpYS1zZWxlY3RlZCIpLnJlbW92ZUF0dHIoInRhYkluZGV4Iik7CnRoaXMuaGVhZGVycy5maW5kKCJhIikucmVtb3ZlQXR0cigidGFiSW5kZXgiKTt0aGlzLl9kZXN0cm95SWNvbnMoKTt2YXIgZT10aGlzLmhlYWRlcnMubmV4dCgpLmNzcygiZGlzcGxheSIsIiIpLnJlbW92ZUF0dHIoInJvbGUiKS5yZW1vdmVDbGFzcygidWktaGVscGVyLXJlc2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1ib3R0b20gdWktYWNjb3JkaW9uLWNvbnRlbnQgdWktYWNjb3JkaW9uLWNvbnRlbnQtYWN0aXZlIHVpLWFjY29yZGlvbi1kaXNhYmxlZCB1aS1zdGF0ZS1kaXNhYmxlZCIpO2lmKGQuYXV0b0hlaWdodHx8ZC5maWxsSGVpZ2h0KWUuY3NzKCJoZWlnaHQiLCIiKTtyZXR1cm4gYi5XaWRnZXQucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKX0sX3NldE9wdGlvbjpmdW5jdGlvbihkLGUpe2IuV2lkZ2V0LnByb3RvdHlwZS5fc2V0T3B0aW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtkPT0iYWN0aXZlIiYmdGhpcy5hY3RpdmF0ZShlKTtpZihkPT0iaWNvbnMiKXt0aGlzLl9kZXN0cm95SWNvbnMoKTsKZSYmdGhpcy5fY3JlYXRlSWNvbnMoKX1pZihkPT0iZGlzYWJsZWQiKXRoaXMuaGVhZGVycy5hZGQodGhpcy5oZWFkZXJzLm5leHQoKSlbZT8iYWRkQ2xhc3MiOiJyZW1vdmVDbGFzcyJdKCJ1aS1hY2NvcmRpb24tZGlzYWJsZWQgdWktc3RhdGUtZGlzYWJsZWQiKX0sX2tleWRvd246ZnVuY3Rpb24oZCl7aWYoISh0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fGQuYWx0S2V5fHxkLmN0cmxLZXkpKXt2YXIgZT1iLnVpLmtleUNvZGUsZj10aGlzLmhlYWRlcnMubGVuZ3RoLGc9dGhpcy5oZWFkZXJzLmluZGV4KGQudGFyZ2V0KSxhPWZhbHNlO3N3aXRjaChkLmtleUNvZGUpe2Nhc2UgZS5SSUdIVDpjYXNlIGUuRE9XTjphPXRoaXMuaGVhZGVyc1soZysxKSVmXTticmVhaztjYXNlIGUuTEVGVDpjYXNlIGUuVVA6YT10aGlzLmhlYWRlcnNbKGctMStmKSVmXTticmVhaztjYXNlIGUuU1BBQ0U6Y2FzZSBlLkVOVEVSOnRoaXMuX2NsaWNrSGFuZGxlcih7dGFyZ2V0OmQudGFyZ2V0fSxkLnRhcmdldCk7CmQucHJldmVudERlZmF1bHQoKX1pZihhKXtiKGQudGFyZ2V0KS5hdHRyKCJ0YWJJbmRleCIsLTEpO2IoYSkuYXR0cigidGFiSW5kZXgiLDApO2EuZm9jdXMoKTtyZXR1cm4gZmFsc2V9cmV0dXJuIHRydWV9fSxyZXNpemU6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLm9wdGlvbnMsZTtpZihkLmZpbGxTcGFjZSl7aWYoYi5icm93c2VyLm1zaWUpe3ZhciBmPXRoaXMuZWxlbWVudC5wYXJlbnQoKS5jc3MoIm92ZXJmbG93Iik7dGhpcy5lbGVtZW50LnBhcmVudCgpLmNzcygib3ZlcmZsb3ciLCJoaWRkZW4iKX1lPXRoaXMuZWxlbWVudC5wYXJlbnQoKS5oZWlnaHQoKTtiLmJyb3dzZXIubXNpZSYmdGhpcy5lbGVtZW50LnBhcmVudCgpLmNzcygib3ZlcmZsb3ciLGYpO3RoaXMuaGVhZGVycy5lYWNoKGZ1bmN0aW9uKCl7ZS09Yih0aGlzKS5vdXRlckhlaWdodCh0cnVlKX0pO3RoaXMuaGVhZGVycy5uZXh0KCkuZWFjaChmdW5jdGlvbigpe2IodGhpcykuaGVpZ2h0KE1hdGgubWF4KDAsZS1iKHRoaXMpLmlubmVySGVpZ2h0KCkrCmIodGhpcykuaGVpZ2h0KCkpKX0pLmNzcygib3ZlcmZsb3ciLCJhdXRvIil9ZWxzZSBpZihkLmF1dG9IZWlnaHQpe2U9MDt0aGlzLmhlYWRlcnMubmV4dCgpLmVhY2goZnVuY3Rpb24oKXtlPU1hdGgubWF4KGUsYih0aGlzKS5oZWlnaHQoIiIpLmhlaWdodCgpKX0pLmhlaWdodChlKX1yZXR1cm4gdGhpc30sYWN0aXZhdGU6ZnVuY3Rpb24oZCl7dGhpcy5vcHRpb25zLmFjdGl2ZT1kO2Q9dGhpcy5fZmluZEFjdGl2ZShkKVswXTt0aGlzLl9jbGlja0hhbmRsZXIoe3RhcmdldDpkfSxkKTtyZXR1cm4gdGhpc30sX2ZpbmRBY3RpdmU6ZnVuY3Rpb24oZCl7cmV0dXJuIGQ/dHlwZW9mIGQ9PT0ibnVtYmVyIj90aGlzLmhlYWRlcnMuZmlsdGVyKCI6ZXEoIitkKyIpIik6dGhpcy5oZWFkZXJzLm5vdCh0aGlzLmhlYWRlcnMubm90KGQpKTpkPT09ZmFsc2U/YihbXSk6dGhpcy5oZWFkZXJzLmZpbHRlcigiOmVxKDApIil9LF9jbGlja0hhbmRsZXI6ZnVuY3Rpb24oZCxlKXt2YXIgZj10aGlzLm9wdGlvbnM7CmlmKCFmLmRpc2FibGVkKWlmKGQudGFyZ2V0KXtkPWIoZC5jdXJyZW50VGFyZ2V0fHxlKTtlPWRbMF09PT10aGlzLmFjdGl2ZVswXTtmLmFjdGl2ZT1mLmNvbGxhcHNpYmxlJiZlP2ZhbHNlOnRoaXMuaGVhZGVycy5pbmRleChkKTtpZighKHRoaXMucnVubmluZ3x8IWYuY29sbGFwc2libGUmJmUpKXt2YXIgZz10aGlzLmFjdGl2ZTtpPWQubmV4dCgpO2M9dGhpcy5hY3RpdmUubmV4dCgpO2g9e29wdGlvbnM6ZixuZXdIZWFkZXI6ZSYmZi5jb2xsYXBzaWJsZT9iKFtdKTpkLG9sZEhlYWRlcjp0aGlzLmFjdGl2ZSxuZXdDb250ZW50OmUmJmYuY29sbGFwc2libGU/YihbXSk6aSxvbGRDb250ZW50OmN9O3ZhciBhPXRoaXMuaGVhZGVycy5pbmRleCh0aGlzLmFjdGl2ZVswXSk+dGhpcy5oZWFkZXJzLmluZGV4KGRbMF0pO3RoaXMuYWN0aXZlPWU/YihbXSk6ZDt0aGlzLl90b2dnbGUoaSxjLGgsZSxhKTtnLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUgdWktY29ybmVyLXRvcCIpLmFkZENsYXNzKCJ1aS1zdGF0ZS1kZWZhdWx0IHVpLWNvcm5lci1hbGwiKS5jaGlsZHJlbigiLnVpLWljb24iKS5yZW1vdmVDbGFzcyhmLmljb25zLmhlYWRlclNlbGVjdGVkKS5hZGRDbGFzcyhmLmljb25zLmhlYWRlcik7CmlmKCFlKXtkLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1kZWZhdWx0IHVpLWNvcm5lci1hbGwiKS5hZGRDbGFzcygidWktc3RhdGUtYWN0aXZlIHVpLWNvcm5lci10b3AiKS5jaGlsZHJlbigiLnVpLWljb24iKS5yZW1vdmVDbGFzcyhmLmljb25zLmhlYWRlcikuYWRkQ2xhc3MoZi5pY29ucy5oZWFkZXJTZWxlY3RlZCk7ZC5uZXh0KCkuYWRkQ2xhc3MoInVpLWFjY29yZGlvbi1jb250ZW50LWFjdGl2ZSIpfX19ZWxzZSBpZihmLmNvbGxhcHNpYmxlKXt0aGlzLmFjdGl2ZS5yZW1vdmVDbGFzcygidWktc3RhdGUtYWN0aXZlIHVpLWNvcm5lci10b3AiKS5hZGRDbGFzcygidWktc3RhdGUtZGVmYXVsdCB1aS1jb3JuZXItYWxsIikuY2hpbGRyZW4oIi51aS1pY29uIikucmVtb3ZlQ2xhc3MoZi5pY29ucy5oZWFkZXJTZWxlY3RlZCkuYWRkQ2xhc3MoZi5pY29ucy5oZWFkZXIpO3RoaXMuYWN0aXZlLm5leHQoKS5hZGRDbGFzcygidWktYWNjb3JkaW9uLWNvbnRlbnQtYWN0aXZlIik7dmFyIGM9dGhpcy5hY3RpdmUubmV4dCgpLApoPXtvcHRpb25zOmYsbmV3SGVhZGVyOmIoW10pLG9sZEhlYWRlcjpmLmFjdGl2ZSxuZXdDb250ZW50OmIoW10pLG9sZENvbnRlbnQ6Y30saT10aGlzLmFjdGl2ZT1iKFtdKTt0aGlzLl90b2dnbGUoaSxjLGgpfX0sX3RvZ2dsZTpmdW5jdGlvbihkLGUsZixnLGEpe3ZhciBjPXRoaXMsaD1jLm9wdGlvbnM7Yy50b1Nob3c9ZDtjLnRvSGlkZT1lO2MuZGF0YT1mO3ZhciBpPWZ1bmN0aW9uKCl7aWYoYylyZXR1cm4gYy5fY29tcGxldGVkLmFwcGx5KGMsYXJndW1lbnRzKX07Yy5fdHJpZ2dlcigiY2hhbmdlc3RhcnQiLG51bGwsYy5kYXRhKTtjLnJ1bm5pbmc9ZS5zaXplKCk9PT0wP2Quc2l6ZSgpOmUuc2l6ZSgpO2lmKGguYW5pbWF0ZWQpe2Y9e307Zj1oLmNvbGxhcHNpYmxlJiZnP3t0b1Nob3c6YihbXSksdG9IaWRlOmUsY29tcGxldGU6aSxkb3duOmEsYXV0b0hlaWdodDpoLmF1dG9IZWlnaHR8fGguZmlsbFNwYWNlfTp7dG9TaG93OmQsdG9IaWRlOmUsY29tcGxldGU6aSxkb3duOmEsYXV0b0hlaWdodDpoLmF1dG9IZWlnaHR8fApoLmZpbGxTcGFjZX07aWYoIWgucHJveGllZCloLnByb3hpZWQ9aC5hbmltYXRlZDtpZighaC5wcm94aWVkRHVyYXRpb24paC5wcm94aWVkRHVyYXRpb249aC5kdXJhdGlvbjtoLmFuaW1hdGVkPWIuaXNGdW5jdGlvbihoLnByb3hpZWQpP2gucHJveGllZChmKTpoLnByb3hpZWQ7aC5kdXJhdGlvbj1iLmlzRnVuY3Rpb24oaC5wcm94aWVkRHVyYXRpb24pP2gucHJveGllZER1cmF0aW9uKGYpOmgucHJveGllZER1cmF0aW9uO2c9Yi51aS5hY2NvcmRpb24uYW5pbWF0aW9uczt2YXIgaj1oLmR1cmF0aW9uLG49aC5hbmltYXRlZDtpZihuJiYhZ1tuXSYmIWIuZWFzaW5nW25dKW49InNsaWRlIjtnW25dfHwoZ1tuXT1mdW5jdGlvbihvKXt0aGlzLnNsaWRlKG8se2Vhc2luZzpuLGR1cmF0aW9uOmp8fDcwMH0pfSk7Z1tuXShmKX1lbHNle2lmKGguY29sbGFwc2libGUmJmcpZC50b2dnbGUoKTtlbHNle2UuaGlkZSgpO2Quc2hvdygpfWkodHJ1ZSl9ZS5wcmV2KCkuYXR0cih7ImFyaWEtZXhwYW5kZWQiOiJmYWxzZSIsCiJhcmlhLXNlbGVjdGVkIjoiZmFsc2UiLHRhYkluZGV4Oi0xfSkuYmx1cigpO2QucHJldigpLmF0dHIoeyJhcmlhLWV4cGFuZGVkIjoidHJ1ZSIsImFyaWEtc2VsZWN0ZWQiOiJ0cnVlIix0YWJJbmRleDowfSkuZm9jdXMoKX0sX2NvbXBsZXRlZDpmdW5jdGlvbihkKXt0aGlzLnJ1bm5pbmc9ZD8wOi0tdGhpcy5ydW5uaW5nO2lmKCF0aGlzLnJ1bm5pbmcpe3RoaXMub3B0aW9ucy5jbGVhclN0eWxlJiZ0aGlzLnRvU2hvdy5hZGQodGhpcy50b0hpZGUpLmNzcyh7aGVpZ2h0OiIiLG92ZXJmbG93OiIifSk7dGhpcy50b0hpZGUucmVtb3ZlQ2xhc3MoInVpLWFjY29yZGlvbi1jb250ZW50LWFjdGl2ZSIpO2lmKHRoaXMudG9IaWRlLmxlbmd0aCl0aGlzLnRvSGlkZS5wYXJlbnQoKVswXS5jbGFzc05hbWU9dGhpcy50b0hpZGUucGFyZW50KClbMF0uY2xhc3NOYW1lO3RoaXMuX3RyaWdnZXIoImNoYW5nZSIsbnVsbCx0aGlzLmRhdGEpfX19KTtiLmV4dGVuZChiLnVpLmFjY29yZGlvbix7dmVyc2lvbjoiMS44LjEyIiwKYW5pbWF0aW9uczp7c2xpZGU6ZnVuY3Rpb24oZCxlKXtkPWIuZXh0ZW5kKHtlYXNpbmc6InN3aW5nIixkdXJhdGlvbjozMDB9LGQsZSk7aWYoZC50b0hpZGUuc2l6ZSgpKWlmKGQudG9TaG93LnNpemUoKSl7dmFyIGY9ZC50b1Nob3cuY3NzKCJvdmVyZmxvdyIpLGc9MCxhPXt9LGM9e30saDtlPWQudG9TaG93O2g9ZVswXS5zdHlsZS53aWR0aDtlLndpZHRoKHBhcnNlSW50KGUucGFyZW50KCkud2lkdGgoKSwxMCktcGFyc2VJbnQoZS5jc3MoInBhZGRpbmdMZWZ0IiksMTApLXBhcnNlSW50KGUuY3NzKCJwYWRkaW5nUmlnaHQiKSwxMCktKHBhcnNlSW50KGUuY3NzKCJib3JkZXJMZWZ0V2lkdGgiKSwxMCl8fDApLShwYXJzZUludChlLmNzcygiYm9yZGVyUmlnaHRXaWR0aCIpLDEwKXx8MCkpO2IuZWFjaChbImhlaWdodCIsInBhZGRpbmdUb3AiLCJwYWRkaW5nQm90dG9tIl0sZnVuY3Rpb24oaSxqKXtjW2pdPSJoaWRlIjtpPSgiIitiLmNzcyhkLnRvU2hvd1swXSxqKSkubWF0Y2goL14oW1xkKy0uXSspKC4qKSQvKTsKYVtqXT17dmFsdWU6aVsxXSx1bml0OmlbMl18fCJweCJ9fSk7ZC50b1Nob3cuY3NzKHtoZWlnaHQ6MCxvdmVyZmxvdzoiaGlkZGVuIn0pLnNob3coKTtkLnRvSGlkZS5maWx0ZXIoIjpoaWRkZW4iKS5lYWNoKGQuY29tcGxldGUpLmVuZCgpLmZpbHRlcigiOnZpc2libGUiKS5hbmltYXRlKGMse3N0ZXA6ZnVuY3Rpb24oaSxqKXtpZihqLnByb3A9PSJoZWlnaHQiKWc9ai5lbmQtai5zdGFydD09PTA/MDooai5ub3ctai5zdGFydCkvKGouZW5kLWouc3RhcnQpO2QudG9TaG93WzBdLnN0eWxlW2oucHJvcF09ZyphW2oucHJvcF0udmFsdWUrYVtqLnByb3BdLnVuaXR9LGR1cmF0aW9uOmQuZHVyYXRpb24sZWFzaW5nOmQuZWFzaW5nLGNvbXBsZXRlOmZ1bmN0aW9uKCl7ZC5hdXRvSGVpZ2h0fHxkLnRvU2hvdy5jc3MoImhlaWdodCIsIiIpO2QudG9TaG93LmNzcyh7d2lkdGg6aCxvdmVyZmxvdzpmfSk7ZC5jb21wbGV0ZSgpfX0pfWVsc2UgZC50b0hpZGUuYW5pbWF0ZSh7aGVpZ2h0OiJoaWRlIiwKcGFkZGluZ1RvcDoiaGlkZSIscGFkZGluZ0JvdHRvbToiaGlkZSJ9LGQpO2Vsc2UgZC50b1Nob3cuYW5pbWF0ZSh7aGVpZ2h0OiJzaG93IixwYWRkaW5nVG9wOiJzaG93IixwYWRkaW5nQm90dG9tOiJzaG93In0sZCl9LGJvdW5jZXNsaWRlOmZ1bmN0aW9uKGQpe3RoaXMuc2xpZGUoZCx7ZWFzaW5nOmQuZG93bj8iZWFzZU91dEJvdW5jZSI6InN3aW5nIixkdXJhdGlvbjpkLmRvd24/MUUzOjIwMH0pfX19KX0pKGpRdWVyeSk7CihmdW5jdGlvbihiKXt2YXIgZD0wO2Iud2lkZ2V0KCJ1aS5hdXRvY29tcGxldGUiLHtvcHRpb25zOnthcHBlbmRUbzoiYm9keSIsYXV0b0ZvY3VzOmZhbHNlLGRlbGF5OjMwMCxtaW5MZW5ndGg6MSxwb3NpdGlvbjp7bXk6ImxlZnQgdG9wIixhdDoibGVmdCBib3R0b20iLGNvbGxpc2lvbjoibm9uZSJ9LHNvdXJjZTpudWxsfSxwZW5kaW5nOjAsX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsZj10aGlzLmVsZW1lbnRbMF0ub3duZXJEb2N1bWVudCxnO3RoaXMuZWxlbWVudC5hZGRDbGFzcygidWktYXV0b2NvbXBsZXRlLWlucHV0IikuYXR0cigiYXV0b2NvbXBsZXRlIiwib2ZmIikuYXR0cih7cm9sZToidGV4dGJveCIsImFyaWEtYXV0b2NvbXBsZXRlIjoibGlzdCIsImFyaWEtaGFzcG9wdXAiOiJ0cnVlIn0pLmJpbmQoImtleWRvd24uYXV0b2NvbXBsZXRlIixmdW5jdGlvbihhKXtpZighKGUub3B0aW9ucy5kaXNhYmxlZHx8ZS5lbGVtZW50LmF0dHIoInJlYWRvbmx5IikpKXtnPQpmYWxzZTt2YXIgYz1iLnVpLmtleUNvZGU7c3dpdGNoKGEua2V5Q29kZSl7Y2FzZSBjLlBBR0VfVVA6ZS5fbW92ZSgicHJldmlvdXNQYWdlIixhKTticmVhaztjYXNlIGMuUEFHRV9ET1dOOmUuX21vdmUoIm5leHRQYWdlIixhKTticmVhaztjYXNlIGMuVVA6ZS5fbW92ZSgicHJldmlvdXMiLGEpO2EucHJldmVudERlZmF1bHQoKTticmVhaztjYXNlIGMuRE9XTjplLl9tb3ZlKCJuZXh0IixhKTthLnByZXZlbnREZWZhdWx0KCk7YnJlYWs7Y2FzZSBjLkVOVEVSOmNhc2UgYy5OVU1QQURfRU5URVI6aWYoZS5tZW51LmFjdGl2ZSl7Zz10cnVlO2EucHJldmVudERlZmF1bHQoKX1jYXNlIGMuVEFCOmlmKCFlLm1lbnUuYWN0aXZlKXJldHVybjtlLm1lbnUuc2VsZWN0KGEpO2JyZWFrO2Nhc2UgYy5FU0NBUEU6ZS5lbGVtZW50LnZhbChlLnRlcm0pO2UuY2xvc2UoYSk7YnJlYWs7ZGVmYXVsdDpjbGVhclRpbWVvdXQoZS5zZWFyY2hpbmcpO2Uuc2VhcmNoaW5nPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtpZihlLnRlcm0hPQplLmVsZW1lbnQudmFsKCkpe2Uuc2VsZWN0ZWRJdGVtPW51bGw7ZS5zZWFyY2gobnVsbCxhKX19LGUub3B0aW9ucy5kZWxheSk7YnJlYWt9fX0pLmJpbmQoImtleXByZXNzLmF1dG9jb21wbGV0ZSIsZnVuY3Rpb24oYSl7aWYoZyl7Zz1mYWxzZTthLnByZXZlbnREZWZhdWx0KCl9fSkuYmluZCgiZm9jdXMuYXV0b2NvbXBsZXRlIixmdW5jdGlvbigpe2lmKCFlLm9wdGlvbnMuZGlzYWJsZWQpe2Uuc2VsZWN0ZWRJdGVtPW51bGw7ZS5wcmV2aW91cz1lLmVsZW1lbnQudmFsKCl9fSkuYmluZCgiYmx1ci5hdXRvY29tcGxldGUiLGZ1bmN0aW9uKGEpe2lmKCFlLm9wdGlvbnMuZGlzYWJsZWQpe2NsZWFyVGltZW91dChlLnNlYXJjaGluZyk7ZS5jbG9zaW5nPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLmNsb3NlKGEpO2UuX2NoYW5nZShhKX0sMTUwKX19KTt0aGlzLl9pbml0U291cmNlKCk7dGhpcy5yZXNwb25zZT1mdW5jdGlvbigpe3JldHVybiBlLl9yZXNwb25zZS5hcHBseShlLGFyZ3VtZW50cyl9Owp0aGlzLm1lbnU9YigiPHVsPjwvdWw+IikuYWRkQ2xhc3MoInVpLWF1dG9jb21wbGV0ZSIpLmFwcGVuZFRvKGIodGhpcy5vcHRpb25zLmFwcGVuZFRvfHwiYm9keSIsZilbMF0pLm1vdXNlZG93bihmdW5jdGlvbihhKXt2YXIgYz1lLm1lbnUuZWxlbWVudFswXTtiKGEudGFyZ2V0KS5jbG9zZXN0KCIudWktbWVudS1pdGVtIikubGVuZ3RofHxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yihkb2N1bWVudCkub25lKCJtb3VzZWRvd24iLGZ1bmN0aW9uKGgpe2gudGFyZ2V0IT09ZS5lbGVtZW50WzBdJiZoLnRhcmdldCE9PWMmJiFiLnVpLmNvbnRhaW5zKGMsaC50YXJnZXQpJiZlLmNsb3NlKCl9KX0sMSk7c2V0VGltZW91dChmdW5jdGlvbigpe2NsZWFyVGltZW91dChlLmNsb3NpbmcpfSwxMyl9KS5tZW51KHtmb2N1czpmdW5jdGlvbihhLGMpe2M9Yy5pdGVtLmRhdGEoIml0ZW0uYXV0b2NvbXBsZXRlIik7ZmFsc2UhPT1lLl90cmlnZ2VyKCJmb2N1cyIsYSx7aXRlbTpjfSkmJi9ea2V5Ly50ZXN0KGEub3JpZ2luYWxFdmVudC50eXBlKSYmCmUuZWxlbWVudC52YWwoYy52YWx1ZSl9LHNlbGVjdGVkOmZ1bmN0aW9uKGEsYyl7dmFyIGg9Yy5pdGVtLmRhdGEoIml0ZW0uYXV0b2NvbXBsZXRlIiksaT1lLnByZXZpb3VzO2lmKGUuZWxlbWVudFswXSE9PWYuYWN0aXZlRWxlbWVudCl7ZS5lbGVtZW50LmZvY3VzKCk7ZS5wcmV2aW91cz1pO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtlLnByZXZpb3VzPWk7ZS5zZWxlY3RlZEl0ZW09aH0sMSl9ZmFsc2UhPT1lLl90cmlnZ2VyKCJzZWxlY3QiLGEse2l0ZW06aH0pJiZlLmVsZW1lbnQudmFsKGgudmFsdWUpO2UudGVybT1lLmVsZW1lbnQudmFsKCk7ZS5jbG9zZShhKTtlLnNlbGVjdGVkSXRlbT1ofSxibHVyOmZ1bmN0aW9uKCl7ZS5tZW51LmVsZW1lbnQuaXMoIjp2aXNpYmxlIikmJmUuZWxlbWVudC52YWwoKSE9PWUudGVybSYmZS5lbGVtZW50LnZhbChlLnRlcm0pfX0pLnpJbmRleCh0aGlzLmVsZW1lbnQuekluZGV4KCkrMSkuY3NzKHt0b3A6MCxsZWZ0OjB9KS5oaWRlKCkuZGF0YSgibWVudSIpOwpiLmZuLmJnaWZyYW1lJiZ0aGlzLm1lbnUuZWxlbWVudC5iZ2lmcmFtZSgpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1hdXRvY29tcGxldGUtaW5wdXQiKS5yZW1vdmVBdHRyKCJhdXRvY29tcGxldGUiKS5yZW1vdmVBdHRyKCJyb2xlIikucmVtb3ZlQXR0cigiYXJpYS1hdXRvY29tcGxldGUiKS5yZW1vdmVBdHRyKCJhcmlhLWhhc3BvcHVwIik7dGhpcy5tZW51LmVsZW1lbnQucmVtb3ZlKCk7Yi5XaWRnZXQucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKX0sX3NldE9wdGlvbjpmdW5jdGlvbihlLGYpe2IuV2lkZ2V0LnByb3RvdHlwZS5fc2V0T3B0aW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtlPT09InNvdXJjZSImJnRoaXMuX2luaXRTb3VyY2UoKTtpZihlPT09ImFwcGVuZFRvIil0aGlzLm1lbnUuZWxlbWVudC5hcHBlbmRUbyhiKGZ8fCJib2R5Iix0aGlzLmVsZW1lbnRbMF0ub3duZXJEb2N1bWVudClbMF0pO2U9PT0iZGlzYWJsZWQiJiYKZiYmdGhpcy54aHImJnRoaXMueGhyLmFib3J0KCl9LF9pbml0U291cmNlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxmLGc7aWYoYi5pc0FycmF5KHRoaXMub3B0aW9ucy5zb3VyY2UpKXtmPXRoaXMub3B0aW9ucy5zb3VyY2U7dGhpcy5zb3VyY2U9ZnVuY3Rpb24oYSxjKXtjKGIudWkuYXV0b2NvbXBsZXRlLmZpbHRlcihmLGEudGVybSkpfX1lbHNlIGlmKHR5cGVvZiB0aGlzLm9wdGlvbnMuc291cmNlPT09InN0cmluZyIpe2c9dGhpcy5vcHRpb25zLnNvdXJjZTt0aGlzLnNvdXJjZT1mdW5jdGlvbihhLGMpe2UueGhyJiZlLnhoci5hYm9ydCgpO2UueGhyPWIuYWpheCh7dXJsOmcsZGF0YTphLGRhdGFUeXBlOiJqc29uIixhdXRvY29tcGxldGVSZXF1ZXN0OisrZCxzdWNjZXNzOmZ1bmN0aW9uKGgpe3RoaXMuYXV0b2NvbXBsZXRlUmVxdWVzdD09PWQmJmMoaCl9LGVycm9yOmZ1bmN0aW9uKCl7dGhpcy5hdXRvY29tcGxldGVSZXF1ZXN0PT09ZCYmYyhbXSl9fSl9fWVsc2UgdGhpcy5zb3VyY2U9CnRoaXMub3B0aW9ucy5zb3VyY2V9LHNlYXJjaDpmdW5jdGlvbihlLGYpe2U9ZSE9bnVsbD9lOnRoaXMuZWxlbWVudC52YWwoKTt0aGlzLnRlcm09dGhpcy5lbGVtZW50LnZhbCgpO2lmKGUubGVuZ3RoPHRoaXMub3B0aW9ucy5taW5MZW5ndGgpcmV0dXJuIHRoaXMuY2xvc2UoZik7Y2xlYXJUaW1lb3V0KHRoaXMuY2xvc2luZyk7aWYodGhpcy5fdHJpZ2dlcigic2VhcmNoIixmKSE9PWZhbHNlKXJldHVybiB0aGlzLl9zZWFyY2goZSl9LF9zZWFyY2g6ZnVuY3Rpb24oZSl7dGhpcy5wZW5kaW5nKys7dGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1hdXRvY29tcGxldGUtbG9hZGluZyIpO3RoaXMuc291cmNlKHt0ZXJtOmV9LHRoaXMucmVzcG9uc2UpfSxfcmVzcG9uc2U6ZnVuY3Rpb24oZSl7aWYoIXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmZSYmZS5sZW5ndGgpe2U9dGhpcy5fbm9ybWFsaXplKGUpO3RoaXMuX3N1Z2dlc3QoZSk7dGhpcy5fdHJpZ2dlcigib3BlbiIpfWVsc2UgdGhpcy5jbG9zZSgpOwp0aGlzLnBlbmRpbmctLTt0aGlzLnBlbmRpbmd8fHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktYXV0b2NvbXBsZXRlLWxvYWRpbmciKX0sY2xvc2U6ZnVuY3Rpb24oZSl7Y2xlYXJUaW1lb3V0KHRoaXMuY2xvc2luZyk7aWYodGhpcy5tZW51LmVsZW1lbnQuaXMoIjp2aXNpYmxlIikpe3RoaXMubWVudS5lbGVtZW50LmhpZGUoKTt0aGlzLm1lbnUuZGVhY3RpdmF0ZSgpO3RoaXMuX3RyaWdnZXIoImNsb3NlIixlKX19LF9jaGFuZ2U6ZnVuY3Rpb24oZSl7dGhpcy5wcmV2aW91cyE9PXRoaXMuZWxlbWVudC52YWwoKSYmdGhpcy5fdHJpZ2dlcigiY2hhbmdlIixlLHtpdGVtOnRoaXMuc2VsZWN0ZWRJdGVtfSl9LF9ub3JtYWxpemU6ZnVuY3Rpb24oZSl7aWYoZS5sZW5ndGgmJmVbMF0ubGFiZWwmJmVbMF0udmFsdWUpcmV0dXJuIGU7cmV0dXJuIGIubWFwKGUsZnVuY3Rpb24oZil7aWYodHlwZW9mIGY9PT0ic3RyaW5nIilyZXR1cm57bGFiZWw6Zix2YWx1ZTpmfTtyZXR1cm4gYi5leHRlbmQoe2xhYmVsOmYubGFiZWx8fApmLnZhbHVlLHZhbHVlOmYudmFsdWV8fGYubGFiZWx9LGYpfSl9LF9zdWdnZXN0OmZ1bmN0aW9uKGUpe3ZhciBmPXRoaXMubWVudS5lbGVtZW50LmVtcHR5KCkuekluZGV4KHRoaXMuZWxlbWVudC56SW5kZXgoKSsxKTt0aGlzLl9yZW5kZXJNZW51KGYsZSk7dGhpcy5tZW51LmRlYWN0aXZhdGUoKTt0aGlzLm1lbnUucmVmcmVzaCgpO2Yuc2hvdygpO3RoaXMuX3Jlc2l6ZU1lbnUoKTtmLnBvc2l0aW9uKGIuZXh0ZW5kKHtvZjp0aGlzLmVsZW1lbnR9LHRoaXMub3B0aW9ucy5wb3NpdGlvbikpO3RoaXMub3B0aW9ucy5hdXRvRm9jdXMmJnRoaXMubWVudS5uZXh0KG5ldyBiLkV2ZW50KCJtb3VzZW92ZXIiKSl9LF9yZXNpemVNZW51OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5tZW51LmVsZW1lbnQ7ZS5vdXRlcldpZHRoKE1hdGgubWF4KGUud2lkdGgoIiIpLm91dGVyV2lkdGgoKSx0aGlzLmVsZW1lbnQub3V0ZXJXaWR0aCgpKSl9LF9yZW5kZXJNZW51OmZ1bmN0aW9uKGUsZil7dmFyIGc9dGhpczsKYi5lYWNoKGYsZnVuY3Rpb24oYSxjKXtnLl9yZW5kZXJJdGVtKGUsYyl9KX0sX3JlbmRlckl0ZW06ZnVuY3Rpb24oZSxmKXtyZXR1cm4gYigiPGxpPjwvbGk+IikuZGF0YSgiaXRlbS5hdXRvY29tcGxldGUiLGYpLmFwcGVuZChiKCI8YT48L2E+IikudGV4dChmLmxhYmVsKSkuYXBwZW5kVG8oZSl9LF9tb3ZlOmZ1bmN0aW9uKGUsZil7aWYodGhpcy5tZW51LmVsZW1lbnQuaXMoIjp2aXNpYmxlIikpaWYodGhpcy5tZW51LmZpcnN0KCkmJi9ecHJldmlvdXMvLnRlc3QoZSl8fHRoaXMubWVudS5sYXN0KCkmJi9ebmV4dC8udGVzdChlKSl7dGhpcy5lbGVtZW50LnZhbCh0aGlzLnRlcm0pO3RoaXMubWVudS5kZWFjdGl2YXRlKCl9ZWxzZSB0aGlzLm1lbnVbZV0oZik7ZWxzZSB0aGlzLnNlYXJjaChudWxsLGYpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZW51LmVsZW1lbnR9fSk7Yi5leHRlbmQoYi51aS5hdXRvY29tcGxldGUse2VzY2FwZVJlZ2V4OmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL1stW1xde30oKSorPy4sXFxeJHwjXHNdL2csCiJcXCQmIil9LGZpbHRlcjpmdW5jdGlvbihlLGYpe3ZhciBnPW5ldyBSZWdFeHAoYi51aS5hdXRvY29tcGxldGUuZXNjYXBlUmVnZXgoZiksImkiKTtyZXR1cm4gYi5ncmVwKGUsZnVuY3Rpb24oYSl7cmV0dXJuIGcudGVzdChhLmxhYmVsfHxhLnZhbHVlfHxhKX0pfX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGIpe2Iud2lkZ2V0KCJ1aS5tZW51Iix7X2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBkPXRoaXM7dGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1tZW51IHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsIikuYXR0cih7cm9sZToibGlzdGJveCIsImFyaWEtYWN0aXZlZGVzY2VuZGFudCI6InVpLWFjdGl2ZS1tZW51aXRlbSJ9KS5jbGljayhmdW5jdGlvbihlKXtpZihiKGUudGFyZ2V0KS5jbG9zZXN0KCIudWktbWVudS1pdGVtIGEiKS5sZW5ndGgpe2UucHJldmVudERlZmF1bHQoKTtkLnNlbGVjdChlKX19KTt0aGlzLnJlZnJlc2goKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBkPXRoaXM7dGhpcy5lbGVtZW50LmNoaWxkcmVuKCJsaTpub3QoLnVpLW1lbnUtaXRlbSk6aGFzKGEpIikuYWRkQ2xhc3MoInVpLW1lbnUtaXRlbSIpLmF0dHIoInJvbGUiLCJtZW51aXRlbSIpLmNoaWxkcmVuKCJhIikuYWRkQ2xhc3MoInVpLWNvcm5lci1hbGwiKS5hdHRyKCJ0YWJpbmRleCIsCi0xKS5tb3VzZWVudGVyKGZ1bmN0aW9uKGUpe2QuYWN0aXZhdGUoZSxiKHRoaXMpLnBhcmVudCgpKX0pLm1vdXNlbGVhdmUoZnVuY3Rpb24oKXtkLmRlYWN0aXZhdGUoKX0pfSxhY3RpdmF0ZTpmdW5jdGlvbihkLGUpe3RoaXMuZGVhY3RpdmF0ZSgpO2lmKHRoaXMuaGFzU2Nyb2xsKCkpe3ZhciBmPWUub2Zmc2V0KCkudG9wLXRoaXMuZWxlbWVudC5vZmZzZXQoKS50b3AsZz10aGlzLmVsZW1lbnQuYXR0cigic2Nyb2xsVG9wIiksYT10aGlzLmVsZW1lbnQuaGVpZ2h0KCk7aWYoZjwwKXRoaXMuZWxlbWVudC5hdHRyKCJzY3JvbGxUb3AiLGcrZik7ZWxzZSBmPj1hJiZ0aGlzLmVsZW1lbnQuYXR0cigic2Nyb2xsVG9wIixnK2YtYStlLmhlaWdodCgpKX10aGlzLmFjdGl2ZT1lLmVxKDApLmNoaWxkcmVuKCJhIikuYWRkQ2xhc3MoInVpLXN0YXRlLWhvdmVyIikuYXR0cigiaWQiLCJ1aS1hY3RpdmUtbWVudWl0ZW0iKS5lbmQoKTt0aGlzLl90cmlnZ2VyKCJmb2N1cyIsZCx7aXRlbTplfSl9LApkZWFjdGl2YXRlOmZ1bmN0aW9uKCl7aWYodGhpcy5hY3RpdmUpe3RoaXMuYWN0aXZlLmNoaWxkcmVuKCJhIikucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIikucmVtb3ZlQXR0cigiaWQiKTt0aGlzLl90cmlnZ2VyKCJibHVyIik7dGhpcy5hY3RpdmU9bnVsbH19LG5leHQ6ZnVuY3Rpb24oZCl7dGhpcy5tb3ZlKCJuZXh0IiwiLnVpLW1lbnUtaXRlbTpmaXJzdCIsZCl9LHByZXZpb3VzOmZ1bmN0aW9uKGQpe3RoaXMubW92ZSgicHJldiIsIi51aS1tZW51LWl0ZW06bGFzdCIsZCl9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWN0aXZlJiYhdGhpcy5hY3RpdmUucHJldkFsbCgiLnVpLW1lbnUtaXRlbSIpLmxlbmd0aH0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFjdGl2ZSYmIXRoaXMuYWN0aXZlLm5leHRBbGwoIi51aS1tZW51LWl0ZW0iKS5sZW5ndGh9LG1vdmU6ZnVuY3Rpb24oZCxlLGYpe2lmKHRoaXMuYWN0aXZlKXtkPXRoaXMuYWN0aXZlW2QrIkFsbCJdKCIudWktbWVudS1pdGVtIikuZXEoMCk7CmQubGVuZ3RoP3RoaXMuYWN0aXZhdGUoZixkKTp0aGlzLmFjdGl2YXRlKGYsdGhpcy5lbGVtZW50LmNoaWxkcmVuKGUpKX1lbHNlIHRoaXMuYWN0aXZhdGUoZix0aGlzLmVsZW1lbnQuY2hpbGRyZW4oZSkpfSxuZXh0UGFnZTpmdW5jdGlvbihkKXtpZih0aGlzLmhhc1Njcm9sbCgpKWlmKCF0aGlzLmFjdGl2ZXx8dGhpcy5sYXN0KCkpdGhpcy5hY3RpdmF0ZShkLHRoaXMuZWxlbWVudC5jaGlsZHJlbigiLnVpLW1lbnUtaXRlbTpmaXJzdCIpKTtlbHNle3ZhciBlPXRoaXMuYWN0aXZlLm9mZnNldCgpLnRvcCxmPXRoaXMuZWxlbWVudC5oZWlnaHQoKSxnPXRoaXMuZWxlbWVudC5jaGlsZHJlbigiLnVpLW1lbnUtaXRlbSIpLmZpbHRlcihmdW5jdGlvbigpe3ZhciBhPWIodGhpcykub2Zmc2V0KCkudG9wLWUtZitiKHRoaXMpLmhlaWdodCgpO3JldHVybiBhPDEwJiZhPi0xMH0pO2cubGVuZ3RofHwoZz10aGlzLmVsZW1lbnQuY2hpbGRyZW4oIi51aS1tZW51LWl0ZW06bGFzdCIpKTt0aGlzLmFjdGl2YXRlKGQsCmcpfWVsc2UgdGhpcy5hY3RpdmF0ZShkLHRoaXMuZWxlbWVudC5jaGlsZHJlbigiLnVpLW1lbnUtaXRlbSIpLmZpbHRlcighdGhpcy5hY3RpdmV8fHRoaXMubGFzdCgpPyI6Zmlyc3QiOiI6bGFzdCIpKX0scHJldmlvdXNQYWdlOmZ1bmN0aW9uKGQpe2lmKHRoaXMuaGFzU2Nyb2xsKCkpaWYoIXRoaXMuYWN0aXZlfHx0aGlzLmZpcnN0KCkpdGhpcy5hY3RpdmF0ZShkLHRoaXMuZWxlbWVudC5jaGlsZHJlbigiLnVpLW1lbnUtaXRlbTpsYXN0IikpO2Vsc2V7dmFyIGU9dGhpcy5hY3RpdmUub2Zmc2V0KCkudG9wLGY9dGhpcy5lbGVtZW50LmhlaWdodCgpO3Jlc3VsdD10aGlzLmVsZW1lbnQuY2hpbGRyZW4oIi51aS1tZW51LWl0ZW0iKS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgZz1iKHRoaXMpLm9mZnNldCgpLnRvcC1lK2YtYih0aGlzKS5oZWlnaHQoKTtyZXR1cm4gZzwxMCYmZz4tMTB9KTtyZXN1bHQubGVuZ3RofHwocmVzdWx0PXRoaXMuZWxlbWVudC5jaGlsZHJlbigiLnVpLW1lbnUtaXRlbTpmaXJzdCIpKTsKdGhpcy5hY3RpdmF0ZShkLHJlc3VsdCl9ZWxzZSB0aGlzLmFjdGl2YXRlKGQsdGhpcy5lbGVtZW50LmNoaWxkcmVuKCIudWktbWVudS1pdGVtIikuZmlsdGVyKCF0aGlzLmFjdGl2ZXx8dGhpcy5maXJzdCgpPyI6bGFzdCI6IjpmaXJzdCIpKX0saGFzU2Nyb2xsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5oZWlnaHQoKTx0aGlzLmVsZW1lbnQuYXR0cigic2Nyb2xsSGVpZ2h0Iil9LHNlbGVjdDpmdW5jdGlvbihkKXt0aGlzLl90cmlnZ2VyKCJzZWxlY3RlZCIsZCx7aXRlbTp0aGlzLmFjdGl2ZX0pfX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGIpe3ZhciBkLGU9ZnVuY3Rpb24oZyl7YigiOnVpLWJ1dHRvbiIsZy50YXJnZXQuZm9ybSkuZWFjaChmdW5jdGlvbigpe3ZhciBhPWIodGhpcykuZGF0YSgiYnV0dG9uIik7c2V0VGltZW91dChmdW5jdGlvbigpe2EucmVmcmVzaCgpfSwxKX0pfSxmPWZ1bmN0aW9uKGcpe3ZhciBhPWcubmFtZSxjPWcuZm9ybSxoPWIoW10pO2lmKGEpaD1jP2IoYykuZmluZCgiW25hbWU9JyIrYSsiJ10iKTpiKCJbbmFtZT0nIithKyInXSIsZy5vd25lckRvY3VtZW50KS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5mb3JtfSk7cmV0dXJuIGh9O2Iud2lkZ2V0KCJ1aS5idXR0b24iLHtvcHRpb25zOntkaXNhYmxlZDpudWxsLHRleHQ6dHJ1ZSxsYWJlbDpudWxsLGljb25zOntwcmltYXJ5Om51bGwsc2Vjb25kYXJ5Om51bGx9fSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmNsb3Nlc3QoImZvcm0iKS51bmJpbmQoInJlc2V0LmJ1dHRvbiIpLmJpbmQoInJlc2V0LmJ1dHRvbiIsCmUpO2lmKHR5cGVvZiB0aGlzLm9wdGlvbnMuZGlzYWJsZWQhPT0iYm9vbGVhbiIpdGhpcy5vcHRpb25zLmRpc2FibGVkPXRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIpO3RoaXMuX2RldGVybWluZUJ1dHRvblR5cGUoKTt0aGlzLmhhc1RpdGxlPSEhdGhpcy5idXR0b25FbGVtZW50LmF0dHIoInRpdGxlIik7dmFyIGc9dGhpcyxhPXRoaXMub3B0aW9ucyxjPXRoaXMudHlwZT09PSJjaGVja2JveCJ8fHRoaXMudHlwZT09PSJyYWRpbyIsaD0idWktc3RhdGUtaG92ZXIiKyghYz8iIHVpLXN0YXRlLWFjdGl2ZSI6IiIpO2lmKGEubGFiZWw9PT1udWxsKWEubGFiZWw9dGhpcy5idXR0b25FbGVtZW50Lmh0bWwoKTtpZih0aGlzLmVsZW1lbnQuaXMoIjpkaXNhYmxlZCIpKWEuZGlzYWJsZWQ9dHJ1ZTt0aGlzLmJ1dHRvbkVsZW1lbnQuYWRkQ2xhc3MoInVpLWJ1dHRvbiB1aS13aWRnZXQgdWktc3RhdGUtZGVmYXVsdCB1aS1jb3JuZXItYWxsIikuYXR0cigicm9sZSIsImJ1dHRvbiIpLmJpbmQoIm1vdXNlZW50ZXIuYnV0dG9uIiwKZnVuY3Rpb24oKXtpZighYS5kaXNhYmxlZCl7Yih0aGlzKS5hZGRDbGFzcygidWktc3RhdGUtaG92ZXIiKTt0aGlzPT09ZCYmYih0aGlzKS5hZGRDbGFzcygidWktc3RhdGUtYWN0aXZlIil9fSkuYmluZCgibW91c2VsZWF2ZS5idXR0b24iLGZ1bmN0aW9uKCl7YS5kaXNhYmxlZHx8Yih0aGlzKS5yZW1vdmVDbGFzcyhoKX0pLmJpbmQoImZvY3VzLmJ1dHRvbiIsZnVuY3Rpb24oKXtiKHRoaXMpLmFkZENsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpfSkuYmluZCgiYmx1ci5idXR0b24iLGZ1bmN0aW9uKCl7Yih0aGlzKS5yZW1vdmVDbGFzcygidWktc3RhdGUtZm9jdXMiKX0pO2MmJnRoaXMuZWxlbWVudC5iaW5kKCJjaGFuZ2UuYnV0dG9uIixmdW5jdGlvbigpe2cucmVmcmVzaCgpfSk7aWYodGhpcy50eXBlPT09ImNoZWNrYm94Iil0aGlzLmJ1dHRvbkVsZW1lbnQuYmluZCgiY2xpY2suYnV0dG9uIixmdW5jdGlvbigpe2lmKGEuZGlzYWJsZWQpcmV0dXJuIGZhbHNlO2IodGhpcykudG9nZ2xlQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpOwpnLmJ1dHRvbkVsZW1lbnQuYXR0cigiYXJpYS1wcmVzc2VkIixnLmVsZW1lbnRbMF0uY2hlY2tlZCl9KTtlbHNlIGlmKHRoaXMudHlwZT09PSJyYWRpbyIpdGhpcy5idXR0b25FbGVtZW50LmJpbmQoImNsaWNrLmJ1dHRvbiIsZnVuY3Rpb24oKXtpZihhLmRpc2FibGVkKXJldHVybiBmYWxzZTtiKHRoaXMpLmFkZENsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKTtnLmJ1dHRvbkVsZW1lbnQuYXR0cigiYXJpYS1wcmVzc2VkIix0cnVlKTt2YXIgaT1nLmVsZW1lbnRbMF07ZihpKS5ub3QoaSkubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGIodGhpcykuYnV0dG9uKCJ3aWRnZXQiKVswXX0pLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKS5hdHRyKCJhcmlhLXByZXNzZWQiLGZhbHNlKX0pO2Vsc2V7dGhpcy5idXR0b25FbGVtZW50LmJpbmQoIm1vdXNlZG93bi5idXR0b24iLGZ1bmN0aW9uKCl7aWYoYS5kaXNhYmxlZClyZXR1cm4gZmFsc2U7Yih0aGlzKS5hZGRDbGFzcygidWktc3RhdGUtYWN0aXZlIik7CmQ9dGhpcztiKGRvY3VtZW50KS5vbmUoIm1vdXNldXAiLGZ1bmN0aW9uKCl7ZD1udWxsfSl9KS5iaW5kKCJtb3VzZXVwLmJ1dHRvbiIsZnVuY3Rpb24oKXtpZihhLmRpc2FibGVkKXJldHVybiBmYWxzZTtiKHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKX0pLmJpbmQoImtleWRvd24uYnV0dG9uIixmdW5jdGlvbihpKXtpZihhLmRpc2FibGVkKXJldHVybiBmYWxzZTtpZihpLmtleUNvZGU9PWIudWkua2V5Q29kZS5TUEFDRXx8aS5rZXlDb2RlPT1iLnVpLmtleUNvZGUuRU5URVIpYih0aGlzKS5hZGRDbGFzcygidWktc3RhdGUtYWN0aXZlIil9KS5iaW5kKCJrZXl1cC5idXR0b24iLGZ1bmN0aW9uKCl7Yih0aGlzKS5yZW1vdmVDbGFzcygidWktc3RhdGUtYWN0aXZlIil9KTt0aGlzLmJ1dHRvbkVsZW1lbnQuaXMoImEiKSYmdGhpcy5idXR0b25FbGVtZW50LmtleXVwKGZ1bmN0aW9uKGkpe2kua2V5Q29kZT09PWIudWkua2V5Q29kZS5TUEFDRSYmYih0aGlzKS5jbGljaygpfSl9dGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsCmEuZGlzYWJsZWQpfSxfZGV0ZXJtaW5lQnV0dG9uVHlwZTpmdW5jdGlvbigpe3RoaXMudHlwZT10aGlzLmVsZW1lbnQuaXMoIjpjaGVja2JveCIpPyJjaGVja2JveCI6dGhpcy5lbGVtZW50LmlzKCI6cmFkaW8iKT8icmFkaW8iOnRoaXMuZWxlbWVudC5pcygiaW5wdXQiKT8iaW5wdXQiOiJidXR0b24iO2lmKHRoaXMudHlwZT09PSJjaGVja2JveCJ8fHRoaXMudHlwZT09PSJyYWRpbyIpe3ZhciBnPXRoaXMuZWxlbWVudC5wYXJlbnRzKCkuZmlsdGVyKCI6bGFzdCIpLGE9ImxhYmVsW2Zvcj0iK3RoaXMuZWxlbWVudC5hdHRyKCJpZCIpKyJdIjt0aGlzLmJ1dHRvbkVsZW1lbnQ9Zy5maW5kKGEpO2lmKCF0aGlzLmJ1dHRvbkVsZW1lbnQubGVuZ3RoKXtnPWcubGVuZ3RoP2cuc2libGluZ3MoKTp0aGlzLmVsZW1lbnQuc2libGluZ3MoKTt0aGlzLmJ1dHRvbkVsZW1lbnQ9Zy5maWx0ZXIoYSk7aWYoIXRoaXMuYnV0dG9uRWxlbWVudC5sZW5ndGgpdGhpcy5idXR0b25FbGVtZW50PWcuZmluZChhKX10aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLWhlbHBlci1oaWRkZW4tYWNjZXNzaWJsZSIpOwooZz10aGlzLmVsZW1lbnQuaXMoIjpjaGVja2VkIikpJiZ0aGlzLmJ1dHRvbkVsZW1lbnQuYWRkQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpO3RoaXMuYnV0dG9uRWxlbWVudC5hdHRyKCJhcmlhLXByZXNzZWQiLGcpfWVsc2UgdGhpcy5idXR0b25FbGVtZW50PXRoaXMuZWxlbWVudH0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnV0dG9uRWxlbWVudH0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktaGVscGVyLWhpZGRlbi1hY2Nlc3NpYmxlIik7dGhpcy5idXR0b25FbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1idXR0b24gdWktd2lkZ2V0IHVpLXN0YXRlLWRlZmF1bHQgdWktY29ybmVyLWFsbCB1aS1zdGF0ZS1ob3ZlciB1aS1zdGF0ZS1hY3RpdmUgIHVpLWJ1dHRvbi1pY29ucy1vbmx5IHVpLWJ1dHRvbi1pY29uLW9ubHkgdWktYnV0dG9uLXRleHQtaWNvbnMgdWktYnV0dG9uLXRleHQtaWNvbi1wcmltYXJ5IHVpLWJ1dHRvbi10ZXh0LWljb24tc2Vjb25kYXJ5IHVpLWJ1dHRvbi10ZXh0LW9ubHkiKS5yZW1vdmVBdHRyKCJyb2xlIikucmVtb3ZlQXR0cigiYXJpYS1wcmVzc2VkIikuaHRtbCh0aGlzLmJ1dHRvbkVsZW1lbnQuZmluZCgiLnVpLWJ1dHRvbi10ZXh0IikuaHRtbCgpKTsKdGhpcy5oYXNUaXRsZXx8dGhpcy5idXR0b25FbGVtZW50LnJlbW92ZUF0dHIoInRpdGxlIik7Yi5XaWRnZXQucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKX0sX3NldE9wdGlvbjpmdW5jdGlvbihnLGEpe2IuV2lkZ2V0LnByb3RvdHlwZS5fc2V0T3B0aW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZihnPT09ImRpc2FibGVkIilhP3RoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsdHJ1ZSk6dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoImRpc2FibGVkIik7dGhpcy5fcmVzZXRCdXR0b24oKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBnPXRoaXMuZWxlbWVudC5pcygiOmRpc2FibGVkIik7ZyE9PXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsZyk7aWYodGhpcy50eXBlPT09InJhZGlvIilmKHRoaXMuZWxlbWVudFswXSkuZWFjaChmdW5jdGlvbigpe2IodGhpcykuaXMoIjpjaGVja2VkIik/Yih0aGlzKS5idXR0b24oIndpZGdldCIpLmFkZENsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKS5hdHRyKCJhcmlhLXByZXNzZWQiLAp0cnVlKTpiKHRoaXMpLmJ1dHRvbigid2lkZ2V0IikucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpLmF0dHIoImFyaWEtcHJlc3NlZCIsZmFsc2UpfSk7ZWxzZSBpZih0aGlzLnR5cGU9PT0iY2hlY2tib3giKXRoaXMuZWxlbWVudC5pcygiOmNoZWNrZWQiKT90aGlzLmJ1dHRvbkVsZW1lbnQuYWRkQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpLmF0dHIoImFyaWEtcHJlc3NlZCIsdHJ1ZSk6dGhpcy5idXR0b25FbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKS5hdHRyKCJhcmlhLXByZXNzZWQiLGZhbHNlKX0sX3Jlc2V0QnV0dG9uOmZ1bmN0aW9uKCl7aWYodGhpcy50eXBlPT09ImlucHV0Iil0aGlzLm9wdGlvbnMubGFiZWwmJnRoaXMuZWxlbWVudC52YWwodGhpcy5vcHRpb25zLmxhYmVsKTtlbHNle3ZhciBnPXRoaXMuYnV0dG9uRWxlbWVudC5yZW1vdmVDbGFzcygidWktYnV0dG9uLWljb25zLW9ubHkgdWktYnV0dG9uLWljb24tb25seSB1aS1idXR0b24tdGV4dC1pY29ucyB1aS1idXR0b24tdGV4dC1pY29uLXByaW1hcnkgdWktYnV0dG9uLXRleHQtaWNvbi1zZWNvbmRhcnkgdWktYnV0dG9uLXRleHQtb25seSIpLAphPWIoIjxzcGFuPjwvc3Bhbj4iKS5hZGRDbGFzcygidWktYnV0dG9uLXRleHQiKS5odG1sKHRoaXMub3B0aW9ucy5sYWJlbCkuYXBwZW5kVG8oZy5lbXB0eSgpKS50ZXh0KCksYz10aGlzLm9wdGlvbnMuaWNvbnMsaD1jLnByaW1hcnkmJmMuc2Vjb25kYXJ5LGk9W107aWYoYy5wcmltYXJ5fHxjLnNlY29uZGFyeSl7aWYodGhpcy5vcHRpb25zLnRleHQpaS5wdXNoKCJ1aS1idXR0b24tdGV4dC1pY29uIisoaD8icyI6Yy5wcmltYXJ5PyItcHJpbWFyeSI6Ii1zZWNvbmRhcnkiKSk7Yy5wcmltYXJ5JiZnLnByZXBlbmQoIjxzcGFuIGNsYXNzPSd1aS1idXR0b24taWNvbi1wcmltYXJ5IHVpLWljb24gIitjLnByaW1hcnkrIic+PC9zcGFuPiIpO2Muc2Vjb25kYXJ5JiZnLmFwcGVuZCgiPHNwYW4gY2xhc3M9J3VpLWJ1dHRvbi1pY29uLXNlY29uZGFyeSB1aS1pY29uICIrYy5zZWNvbmRhcnkrIic+PC9zcGFuPiIpO2lmKCF0aGlzLm9wdGlvbnMudGV4dCl7aS5wdXNoKGg/InVpLWJ1dHRvbi1pY29ucy1vbmx5IjoKInVpLWJ1dHRvbi1pY29uLW9ubHkiKTt0aGlzLmhhc1RpdGxlfHxnLmF0dHIoInRpdGxlIixhKX19ZWxzZSBpLnB1c2goInVpLWJ1dHRvbi10ZXh0LW9ubHkiKTtnLmFkZENsYXNzKGkuam9pbigiICIpKX19fSk7Yi53aWRnZXQoInVpLmJ1dHRvbnNldCIse29wdGlvbnM6e2l0ZW1zOiI6YnV0dG9uLCA6c3VibWl0LCA6cmVzZXQsIDpjaGVja2JveCwgOnJhZGlvLCBhLCA6ZGF0YShidXR0b24pIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hZGRDbGFzcygidWktYnV0dG9uc2V0Iil9LF9pbml0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24oZyxhKXtnPT09ImRpc2FibGVkIiYmdGhpcy5idXR0b25zLmJ1dHRvbigib3B0aW9uIixnLGEpO2IuV2lkZ2V0LnByb3RvdHlwZS5fc2V0T3B0aW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuYnV0dG9ucz10aGlzLmVsZW1lbnQuZmluZCh0aGlzLm9wdGlvbnMuaXRlbXMpLmZpbHRlcigiOnVpLWJ1dHRvbiIpLmJ1dHRvbigicmVmcmVzaCIpLmVuZCgpLm5vdCgiOnVpLWJ1dHRvbiIpLmJ1dHRvbigpLmVuZCgpLm1hcChmdW5jdGlvbigpe3JldHVybiBiKHRoaXMpLmJ1dHRvbigid2lkZ2V0IilbMF19KS5yZW1vdmVDbGFzcygidWktY29ybmVyLWFsbCB1aS1jb3JuZXItbGVmdCB1aS1jb3JuZXItcmlnaHQiKS5maWx0ZXIoIjpmaXJzdCIpLmFkZENsYXNzKCJ1aS1jb3JuZXItbGVmdCIpLmVuZCgpLmZpbHRlcigiOmxhc3QiKS5hZGRDbGFzcygidWktY29ybmVyLXJpZ2h0IikuZW5kKCkuZW5kKCl9LApkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1idXR0b25zZXQiKTt0aGlzLmJ1dHRvbnMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGIodGhpcykuYnV0dG9uKCJ3aWRnZXQiKVswXX0pLnJlbW92ZUNsYXNzKCJ1aS1jb3JuZXItbGVmdCB1aS1jb3JuZXItcmlnaHQiKS5lbmQoKS5idXR0b24oImRlc3Ryb3kiKTtiLldpZGdldC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGIsZCl7ZnVuY3Rpb24gZSgpe3RoaXMuZGVidWc9ZmFsc2U7dGhpcy5fY3VySW5zdD1udWxsO3RoaXMuX2tleUV2ZW50PWZhbHNlO3RoaXMuX2Rpc2FibGVkSW5wdXRzPVtdO3RoaXMuX2luRGlhbG9nPXRoaXMuX2RhdGVwaWNrZXJTaG93aW5nPWZhbHNlO3RoaXMuX21haW5EaXZJZD0idWktZGF0ZXBpY2tlci1kaXYiO3RoaXMuX2lubGluZUNsYXNzPSJ1aS1kYXRlcGlja2VyLWlubGluZSI7dGhpcy5fYXBwZW5kQ2xhc3M9InVpLWRhdGVwaWNrZXItYXBwZW5kIjt0aGlzLl90cmlnZ2VyQ2xhc3M9InVpLWRhdGVwaWNrZXItdHJpZ2dlciI7dGhpcy5fZGlhbG9nQ2xhc3M9InVpLWRhdGVwaWNrZXItZGlhbG9nIjt0aGlzLl9kaXNhYmxlQ2xhc3M9InVpLWRhdGVwaWNrZXItZGlzYWJsZWQiO3RoaXMuX3Vuc2VsZWN0YWJsZUNsYXNzPSJ1aS1kYXRlcGlja2VyLXVuc2VsZWN0YWJsZSI7dGhpcy5fY3VycmVudENsYXNzPSJ1aS1kYXRlcGlja2VyLWN1cnJlbnQtZGF5Ijt0aGlzLl9kYXlPdmVyQ2xhc3M9CiJ1aS1kYXRlcGlja2VyLWRheXMtY2VsbC1vdmVyIjt0aGlzLnJlZ2lvbmFsPVtdO3RoaXMucmVnaW9uYWxbIiJdPXtjbG9zZVRleHQ6IkRvbmUiLHByZXZUZXh0OiJQcmV2IixuZXh0VGV4dDoiTmV4dCIsY3VycmVudFRleHQ6IlRvZGF5Iixtb250aE5hbWVzOlsiSmFudWFyeSIsIkZlYnJ1YXJ5IiwiTWFyY2giLCJBcHJpbCIsIk1heSIsIkp1bmUiLCJKdWx5IiwiQXVndXN0IiwiU2VwdGVtYmVyIiwiT2N0b2JlciIsIk5vdmVtYmVyIiwiRGVjZW1iZXIiXSxtb250aE5hbWVzU2hvcnQ6WyJKYW4iLCJGZWIiLCJNYXIiLCJBcHIiLCJNYXkiLCJKdW4iLCJKdWwiLCJBdWciLCJTZXAiLCJPY3QiLCJOb3YiLCJEZWMiXSxkYXlOYW1lczpbIlN1bmRheSIsIk1vbmRheSIsIlR1ZXNkYXkiLCJXZWRuZXNkYXkiLCJUaHVyc2RheSIsIkZyaWRheSIsIlNhdHVyZGF5Il0sZGF5TmFtZXNTaG9ydDpbIlN1biIsIk1vbiIsIlR1ZSIsIldlZCIsIlRodSIsIkZyaSIsIlNhdCJdLGRheU5hbWVzTWluOlsiU3UiLAoiTW8iLCJUdSIsIldlIiwiVGgiLCJGciIsIlNhIl0sd2Vla0hlYWRlcjoiV2siLGRhdGVGb3JtYXQ6Im1tL2RkL3l5IixmaXJzdERheTowLGlzUlRMOmZhbHNlLHNob3dNb250aEFmdGVyWWVhcjpmYWxzZSx5ZWFyU3VmZml4OiIifTt0aGlzLl9kZWZhdWx0cz17c2hvd09uOiJmb2N1cyIsc2hvd0FuaW06ImZhZGVJbiIsc2hvd09wdGlvbnM6e30sZGVmYXVsdERhdGU6bnVsbCxhcHBlbmRUZXh0OiIiLGJ1dHRvblRleHQ6Ii4uLiIsYnV0dG9uSW1hZ2U6IiIsYnV0dG9uSW1hZ2VPbmx5OmZhbHNlLGhpZGVJZk5vUHJldk5leHQ6ZmFsc2UsbmF2aWdhdGlvbkFzRGF0ZUZvcm1hdDpmYWxzZSxnb3RvQ3VycmVudDpmYWxzZSxjaGFuZ2VNb250aDpmYWxzZSxjaGFuZ2VZZWFyOmZhbHNlLHllYXJSYW5nZToiYy0xMDpjKzEwIixzaG93T3RoZXJNb250aHM6ZmFsc2Usc2VsZWN0T3RoZXJNb250aHM6ZmFsc2Usc2hvd1dlZWs6ZmFsc2UsY2FsY3VsYXRlV2Vlazp0aGlzLmlzbzg2MDFXZWVrLHNob3J0WWVhckN1dG9mZjoiKzEwIiwKbWluRGF0ZTpudWxsLG1heERhdGU6bnVsbCxkdXJhdGlvbjoiZmFzdCIsYmVmb3JlU2hvd0RheTpudWxsLGJlZm9yZVNob3c6bnVsbCxvblNlbGVjdDpudWxsLG9uQ2hhbmdlTW9udGhZZWFyOm51bGwsb25DbG9zZTpudWxsLG51bWJlck9mTW9udGhzOjEsc2hvd0N1cnJlbnRBdFBvczowLHN0ZXBNb250aHM6MSxzdGVwQmlnTW9udGhzOjEyLGFsdEZpZWxkOiIiLGFsdEZvcm1hdDoiIixjb25zdHJhaW5JbnB1dDp0cnVlLHNob3dCdXR0b25QYW5lbDpmYWxzZSxhdXRvU2l6ZTpmYWxzZX07Yi5leHRlbmQodGhpcy5fZGVmYXVsdHMsdGhpcy5yZWdpb25hbFsiIl0pO3RoaXMuZHBEaXY9YignPGRpdiBpZD0iJyt0aGlzLl9tYWluRGl2SWQrJyIgY2xhc3M9InVpLWRhdGVwaWNrZXIgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWhlbHBlci1jbGVhcmZpeCB1aS1jb3JuZXItYWxsIj48L2Rpdj4nKX1mdW5jdGlvbiBmKGEsYyl7Yi5leHRlbmQoYSxjKTtmb3IodmFyIGggaW4gYylpZihjW2hdPT0KbnVsbHx8Y1toXT09ZClhW2hdPWNbaF07cmV0dXJuIGF9Yi5leHRlbmQoYi51aSx7ZGF0ZXBpY2tlcjp7dmVyc2lvbjoiMS44LjEyIn19KTt2YXIgZz0obmV3IERhdGUpLmdldFRpbWUoKTtiLmV4dGVuZChlLnByb3RvdHlwZSx7bWFya2VyQ2xhc3NOYW1lOiJoYXNEYXRlcGlja2VyIixsb2c6ZnVuY3Rpb24oKXt0aGlzLmRlYnVnJiZjb25zb2xlLmxvZy5hcHBseSgiIixhcmd1bWVudHMpfSxfd2lkZ2V0RGF0ZXBpY2tlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRwRGl2fSxzZXREZWZhdWx0czpmdW5jdGlvbihhKXtmKHRoaXMuX2RlZmF1bHRzLGF8fHt9KTtyZXR1cm4gdGhpc30sX2F0dGFjaERhdGVwaWNrZXI6ZnVuY3Rpb24oYSxjKXt2YXIgaD1udWxsO2Zvcih2YXIgaSBpbiB0aGlzLl9kZWZhdWx0cyl7dmFyIGo9YS5nZXRBdHRyaWJ1dGUoImRhdGU6IitpKTtpZihqKXtoPWh8fHt9O3RyeXtoW2ldPWV2YWwoail9Y2F0Y2gobil7aFtpXT1qfX19aT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7Cmo9aT09ImRpdiJ8fGk9PSJzcGFuIjtpZighYS5pZCl7dGhpcy51dWlkKz0xO2EuaWQ9ImRwIit0aGlzLnV1aWR9dmFyIG89dGhpcy5fbmV3SW5zdChiKGEpLGopO28uc2V0dGluZ3M9Yi5leHRlbmQoe30sY3x8e30saHx8e30pO2lmKGk9PSJpbnB1dCIpdGhpcy5fY29ubmVjdERhdGVwaWNrZXIoYSxvKTtlbHNlIGomJnRoaXMuX2lubGluZURhdGVwaWNrZXIoYSxvKX0sX25ld0luc3Q6ZnVuY3Rpb24oYSxjKXtyZXR1cm57aWQ6YVswXS5pZC5yZXBsYWNlKC8oW15BLVphLXowLTlfLV0pL2csIlxcXFwkMSIpLGlucHV0OmEsc2VsZWN0ZWREYXk6MCxzZWxlY3RlZE1vbnRoOjAsc2VsZWN0ZWRZZWFyOjAsZHJhd01vbnRoOjAsZHJhd1llYXI6MCxpbmxpbmU6YyxkcERpdjohYz90aGlzLmRwRGl2OmIoJzxkaXYgY2xhc3M9IicrdGhpcy5faW5saW5lQ2xhc3MrJyB1aS1kYXRlcGlja2VyIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1oZWxwZXItY2xlYXJmaXggdWktY29ybmVyLWFsbCI+PC9kaXY+Jyl9fSwKX2Nvbm5lY3REYXRlcGlja2VyOmZ1bmN0aW9uKGEsYyl7dmFyIGg9YihhKTtjLmFwcGVuZD1iKFtdKTtjLnRyaWdnZXI9YihbXSk7aWYoIWguaGFzQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpKXt0aGlzLl9hdHRhY2htZW50cyhoLGMpO2guYWRkQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpLmtleWRvd24odGhpcy5fZG9LZXlEb3duKS5rZXlwcmVzcyh0aGlzLl9kb0tleVByZXNzKS5rZXl1cCh0aGlzLl9kb0tleVVwKS5iaW5kKCJzZXREYXRhLmRhdGVwaWNrZXIiLGZ1bmN0aW9uKGksaixuKXtjLnNldHRpbmdzW2pdPW59KS5iaW5kKCJnZXREYXRhLmRhdGVwaWNrZXIiLGZ1bmN0aW9uKGksail7cmV0dXJuIHRoaXMuX2dldChjLGopfSk7dGhpcy5fYXV0b1NpemUoYyk7Yi5kYXRhKGEsImRhdGVwaWNrZXIiLGMpfX0sX2F0dGFjaG1lbnRzOmZ1bmN0aW9uKGEsYyl7dmFyIGg9dGhpcy5fZ2V0KGMsImFwcGVuZFRleHQiKSxpPXRoaXMuX2dldChjLCJpc1JUTCIpO2MuYXBwZW5kJiYKYy5hcHBlbmQucmVtb3ZlKCk7aWYoaCl7Yy5hcHBlbmQ9YignPHNwYW4gY2xhc3M9IicrdGhpcy5fYXBwZW5kQ2xhc3MrJyI+JytoKyI8L3NwYW4+Iik7YVtpPyJiZWZvcmUiOiJhZnRlciJdKGMuYXBwZW5kKX1hLnVuYmluZCgiZm9jdXMiLHRoaXMuX3Nob3dEYXRlcGlja2VyKTtjLnRyaWdnZXImJmMudHJpZ2dlci5yZW1vdmUoKTtoPXRoaXMuX2dldChjLCJzaG93T24iKTtpZihoPT0iZm9jdXMifHxoPT0iYm90aCIpYS5mb2N1cyh0aGlzLl9zaG93RGF0ZXBpY2tlcik7aWYoaD09ImJ1dHRvbiJ8fGg9PSJib3RoIil7aD10aGlzLl9nZXQoYywiYnV0dG9uVGV4dCIpO3ZhciBqPXRoaXMuX2dldChjLCJidXR0b25JbWFnZSIpO2MudHJpZ2dlcj1iKHRoaXMuX2dldChjLCJidXR0b25JbWFnZU9ubHkiKT9iKCI8aW1nLz4iKS5hZGRDbGFzcyh0aGlzLl90cmlnZ2VyQ2xhc3MpLmF0dHIoe3NyYzpqLGFsdDpoLHRpdGxlOmh9KTpiKCc8YnV0dG9uIHR5cGU9ImJ1dHRvbiI+PC9idXR0b24+JykuYWRkQ2xhc3ModGhpcy5fdHJpZ2dlckNsYXNzKS5odG1sKGo9PQoiIj9oOmIoIjxpbWcvPiIpLmF0dHIoe3NyYzpqLGFsdDpoLHRpdGxlOmh9KSkpO2FbaT8iYmVmb3JlIjoiYWZ0ZXIiXShjLnRyaWdnZXIpO2MudHJpZ2dlci5jbGljayhmdW5jdGlvbigpe2IuZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcmJmIuZGF0ZXBpY2tlci5fbGFzdElucHV0PT1hWzBdP2IuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKTpiLmRhdGVwaWNrZXIuX3Nob3dEYXRlcGlja2VyKGFbMF0pO3JldHVybiBmYWxzZX0pfX0sX2F1dG9TaXplOmZ1bmN0aW9uKGEpe2lmKHRoaXMuX2dldChhLCJhdXRvU2l6ZSIpJiYhYS5pbmxpbmUpe3ZhciBjPW5ldyBEYXRlKDIwMDksMTEsMjApLGg9dGhpcy5fZ2V0KGEsImRhdGVGb3JtYXQiKTtpZihoLm1hdGNoKC9bRE1dLykpe3ZhciBpPWZ1bmN0aW9uKGope2Zvcih2YXIgbj0wLG89MCxsPTA7bDxqLmxlbmd0aDtsKyspaWYoaltsXS5sZW5ndGg+bil7bj1qW2xdLmxlbmd0aDtvPWx9cmV0dXJuIG99O2Muc2V0TW9udGgoaSh0aGlzLl9nZXQoYSwKaC5tYXRjaCgvTU0vKT8ibW9udGhOYW1lcyI6Im1vbnRoTmFtZXNTaG9ydCIpKSk7Yy5zZXREYXRlKGkodGhpcy5fZ2V0KGEsaC5tYXRjaCgvREQvKT8iZGF5TmFtZXMiOiJkYXlOYW1lc1Nob3J0IikpKzIwLWMuZ2V0RGF5KCkpfWEuaW5wdXQuYXR0cigic2l6ZSIsdGhpcy5fZm9ybWF0RGF0ZShhLGMpLmxlbmd0aCl9fSxfaW5saW5lRGF0ZXBpY2tlcjpmdW5jdGlvbihhLGMpe3ZhciBoPWIoYSk7aWYoIWguaGFzQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpKXtoLmFkZENsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKS5hcHBlbmQoYy5kcERpdikuYmluZCgic2V0RGF0YS5kYXRlcGlja2VyIixmdW5jdGlvbihpLGosbil7Yy5zZXR0aW5nc1tqXT1ufSkuYmluZCgiZ2V0RGF0YS5kYXRlcGlja2VyIixmdW5jdGlvbihpLGope3JldHVybiB0aGlzLl9nZXQoYyxqKX0pO2IuZGF0YShhLCJkYXRlcGlja2VyIixjKTt0aGlzLl9zZXREYXRlKGMsdGhpcy5fZ2V0RGVmYXVsdERhdGUoYyksCnRydWUpO3RoaXMuX3VwZGF0ZURhdGVwaWNrZXIoYyk7dGhpcy5fdXBkYXRlQWx0ZXJuYXRlKGMpO2MuZHBEaXYuc2hvdygpfX0sX2RpYWxvZ0RhdGVwaWNrZXI6ZnVuY3Rpb24oYSxjLGgsaSxqKXthPXRoaXMuX2RpYWxvZ0luc3Q7aWYoIWEpe3RoaXMudXVpZCs9MTt0aGlzLl9kaWFsb2dJbnB1dD1iKCc8aW5wdXQgdHlwZT0idGV4dCIgaWQ9IicrKCJkcCIrdGhpcy51dWlkKSsnIiBzdHlsZT0icG9zaXRpb246IGFic29sdXRlOyB0b3A6IC0xMDBweDsgd2lkdGg6IDBweDsgei1pbmRleDogLTEwOyIvPicpO3RoaXMuX2RpYWxvZ0lucHV0LmtleWRvd24odGhpcy5fZG9LZXlEb3duKTtiKCJib2R5IikuYXBwZW5kKHRoaXMuX2RpYWxvZ0lucHV0KTthPXRoaXMuX2RpYWxvZ0luc3Q9dGhpcy5fbmV3SW5zdCh0aGlzLl9kaWFsb2dJbnB1dCxmYWxzZSk7YS5zZXR0aW5ncz17fTtiLmRhdGEodGhpcy5fZGlhbG9nSW5wdXRbMF0sImRhdGVwaWNrZXIiLGEpfWYoYS5zZXR0aW5ncyxpfHx7fSk7CmM9YyYmYy5jb25zdHJ1Y3Rvcj09RGF0ZT90aGlzLl9mb3JtYXREYXRlKGEsYyk6Yzt0aGlzLl9kaWFsb2dJbnB1dC52YWwoYyk7dGhpcy5fcG9zPWo/ai5sZW5ndGg/ajpbai5wYWdlWCxqLnBhZ2VZXTpudWxsO2lmKCF0aGlzLl9wb3MpdGhpcy5fcG9zPVtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgvMi0xMDArKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0fHxkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQpLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQvMi0xNTArKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B8fGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKV07dGhpcy5fZGlhbG9nSW5wdXQuY3NzKCJsZWZ0Iix0aGlzLl9wb3NbMF0rMjArInB4IikuY3NzKCJ0b3AiLHRoaXMuX3Bvc1sxXSsicHgiKTthLnNldHRpbmdzLm9uU2VsZWN0PWg7dGhpcy5faW5EaWFsb2c9dHJ1ZTt0aGlzLmRwRGl2LmFkZENsYXNzKHRoaXMuX2RpYWxvZ0NsYXNzKTsKdGhpcy5fc2hvd0RhdGVwaWNrZXIodGhpcy5fZGlhbG9nSW5wdXRbMF0pO2IuYmxvY2tVSSYmYi5ibG9ja1VJKHRoaXMuZHBEaXYpO2IuZGF0YSh0aGlzLl9kaWFsb2dJbnB1dFswXSwiZGF0ZXBpY2tlciIsYSk7cmV0dXJuIHRoaXN9LF9kZXN0cm95RGF0ZXBpY2tlcjpmdW5jdGlvbihhKXt2YXIgYz1iKGEpLGg9Yi5kYXRhKGEsImRhdGVwaWNrZXIiKTtpZihjLmhhc0NsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKSl7dmFyIGk9YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO2IucmVtb3ZlRGF0YShhLCJkYXRlcGlja2VyIik7aWYoaT09ImlucHV0Iil7aC5hcHBlbmQucmVtb3ZlKCk7aC50cmlnZ2VyLnJlbW92ZSgpO2MucmVtb3ZlQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpLnVuYmluZCgiZm9jdXMiLHRoaXMuX3Nob3dEYXRlcGlja2VyKS51bmJpbmQoImtleWRvd24iLHRoaXMuX2RvS2V5RG93bikudW5iaW5kKCJrZXlwcmVzcyIsdGhpcy5fZG9LZXlQcmVzcykudW5iaW5kKCJrZXl1cCIsCnRoaXMuX2RvS2V5VXApfWVsc2UgaWYoaT09ImRpdiJ8fGk9PSJzcGFuIiljLnJlbW92ZUNsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKS5lbXB0eSgpfX0sX2VuYWJsZURhdGVwaWNrZXI6ZnVuY3Rpb24oYSl7dmFyIGM9YihhKSxoPWIuZGF0YShhLCJkYXRlcGlja2VyIik7aWYoYy5oYXNDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkpe3ZhciBpPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZihpPT0iaW5wdXQiKXthLmRpc2FibGVkPWZhbHNlO2gudHJpZ2dlci5maWx0ZXIoImJ1dHRvbiIpLmVhY2goZnVuY3Rpb24oKXt0aGlzLmRpc2FibGVkPWZhbHNlfSkuZW5kKCkuZmlsdGVyKCJpbWciKS5jc3Moe29wYWNpdHk6IjEuMCIsY3Vyc29yOiIifSl9ZWxzZSBpZihpPT0iZGl2Inx8aT09InNwYW4iKWMuY2hpbGRyZW4oIi4iK3RoaXMuX2lubGluZUNsYXNzKS5jaGlsZHJlbigpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpO3RoaXMuX2Rpc2FibGVkSW5wdXRzPWIubWFwKHRoaXMuX2Rpc2FibGVkSW5wdXRzLApmdW5jdGlvbihqKXtyZXR1cm4gaj09YT9udWxsOmp9KX19LF9kaXNhYmxlRGF0ZXBpY2tlcjpmdW5jdGlvbihhKXt2YXIgYz1iKGEpLGg9Yi5kYXRhKGEsImRhdGVwaWNrZXIiKTtpZihjLmhhc0NsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKSl7dmFyIGk9YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO2lmKGk9PSJpbnB1dCIpe2EuZGlzYWJsZWQ9dHJ1ZTtoLnRyaWdnZXIuZmlsdGVyKCJidXR0b24iKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlZD10cnVlfSkuZW5kKCkuZmlsdGVyKCJpbWciKS5jc3Moe29wYWNpdHk6IjAuNSIsY3Vyc29yOiJkZWZhdWx0In0pfWVsc2UgaWYoaT09ImRpdiJ8fGk9PSJzcGFuIiljLmNoaWxkcmVuKCIuIit0aGlzLl9pbmxpbmVDbGFzcykuY2hpbGRyZW4oKS5hZGRDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKTt0aGlzLl9kaXNhYmxlZElucHV0cz1iLm1hcCh0aGlzLl9kaXNhYmxlZElucHV0cyxmdW5jdGlvbihqKXtyZXR1cm4gaj09YT9udWxsOgpqfSk7dGhpcy5fZGlzYWJsZWRJbnB1dHNbdGhpcy5fZGlzYWJsZWRJbnB1dHMubGVuZ3RoXT1hfX0sX2lzRGlzYWJsZWREYXRlcGlja2VyOmZ1bmN0aW9uKGEpe2lmKCFhKXJldHVybiBmYWxzZTtmb3IodmFyIGM9MDtjPHRoaXMuX2Rpc2FibGVkSW5wdXRzLmxlbmd0aDtjKyspaWYodGhpcy5fZGlzYWJsZWRJbnB1dHNbY109PWEpcmV0dXJuIHRydWU7cmV0dXJuIGZhbHNlfSxfZ2V0SW5zdDpmdW5jdGlvbihhKXt0cnl7cmV0dXJuIGIuZGF0YShhLCJkYXRlcGlja2VyIil9Y2F0Y2goYyl7dGhyb3ciTWlzc2luZyBpbnN0YW5jZSBkYXRhIGZvciB0aGlzIGRhdGVwaWNrZXIiO319LF9vcHRpb25EYXRlcGlja2VyOmZ1bmN0aW9uKGEsYyxoKXt2YXIgaT10aGlzLl9nZXRJbnN0KGEpO2lmKGFyZ3VtZW50cy5sZW5ndGg9PTImJnR5cGVvZiBjPT0ic3RyaW5nIilyZXR1cm4gYz09ImRlZmF1bHRzIj9iLmV4dGVuZCh7fSxiLmRhdGVwaWNrZXIuX2RlZmF1bHRzKTppP2M9PSJhbGwiP2IuZXh0ZW5kKHt9LAppLnNldHRpbmdzKTp0aGlzLl9nZXQoaSxjKTpudWxsO3ZhciBqPWN8fHt9O2lmKHR5cGVvZiBjPT0ic3RyaW5nIil7aj17fTtqW2NdPWh9aWYoaSl7dGhpcy5fY3VySW5zdD09aSYmdGhpcy5faGlkZURhdGVwaWNrZXIoKTt2YXIgbj10aGlzLl9nZXREYXRlRGF0ZXBpY2tlcihhLHRydWUpLG89dGhpcy5fZ2V0TWluTWF4RGF0ZShpLCJtaW4iKSxsPXRoaXMuX2dldE1pbk1heERhdGUoaSwibWF4Iik7ZihpLnNldHRpbmdzLGopO2lmKG8hPT1udWxsJiZqLmRhdGVGb3JtYXQhPT1kJiZqLm1pbkRhdGU9PT1kKWkuc2V0dGluZ3MubWluRGF0ZT10aGlzLl9mb3JtYXREYXRlKGksbyk7aWYobCE9PW51bGwmJmouZGF0ZUZvcm1hdCE9PWQmJmoubWF4RGF0ZT09PWQpaS5zZXR0aW5ncy5tYXhEYXRlPXRoaXMuX2Zvcm1hdERhdGUoaSxsKTt0aGlzLl9hdHRhY2htZW50cyhiKGEpLGkpO3RoaXMuX2F1dG9TaXplKGkpO3RoaXMuX3NldERhdGVEYXRlcGlja2VyKGEsbik7dGhpcy5fdXBkYXRlRGF0ZXBpY2tlcihpKX19LApfY2hhbmdlRGF0ZXBpY2tlcjpmdW5jdGlvbihhLGMsaCl7dGhpcy5fb3B0aW9uRGF0ZXBpY2tlcihhLGMsaCl9LF9yZWZyZXNoRGF0ZXBpY2tlcjpmdW5jdGlvbihhKXsoYT10aGlzLl9nZXRJbnN0KGEpKSYmdGhpcy5fdXBkYXRlRGF0ZXBpY2tlcihhKX0sX3NldERhdGVEYXRlcGlja2VyOmZ1bmN0aW9uKGEsYyl7aWYoYT10aGlzLl9nZXRJbnN0KGEpKXt0aGlzLl9zZXREYXRlKGEsYyk7dGhpcy5fdXBkYXRlRGF0ZXBpY2tlcihhKTt0aGlzLl91cGRhdGVBbHRlcm5hdGUoYSl9fSxfZ2V0RGF0ZURhdGVwaWNrZXI6ZnVuY3Rpb24oYSxjKXsoYT10aGlzLl9nZXRJbnN0KGEpKSYmIWEuaW5saW5lJiZ0aGlzLl9zZXREYXRlRnJvbUZpZWxkKGEsYyk7cmV0dXJuIGE/dGhpcy5fZ2V0RGF0ZShhKTpudWxsfSxfZG9LZXlEb3duOmZ1bmN0aW9uKGEpe3ZhciBjPWIuZGF0ZXBpY2tlci5fZ2V0SW5zdChhLnRhcmdldCksaD10cnVlLGk9Yy5kcERpdi5pcygiLnVpLWRhdGVwaWNrZXItcnRsIik7CmMuX2tleUV2ZW50PXRydWU7aWYoYi5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZylzd2l0Y2goYS5rZXlDb2RlKXtjYXNlIDk6Yi5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpO2g9ZmFsc2U7YnJlYWs7Y2FzZSAxMzpoPWIoInRkLiIrYi5kYXRlcGlja2VyLl9kYXlPdmVyQ2xhc3MrIjpub3QoLiIrYi5kYXRlcGlja2VyLl9jdXJyZW50Q2xhc3MrIikiLGMuZHBEaXYpO2hbMF0/Yi5kYXRlcGlja2VyLl9zZWxlY3REYXkoYS50YXJnZXQsYy5zZWxlY3RlZE1vbnRoLGMuc2VsZWN0ZWRZZWFyLGhbMF0pOmIuZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKTtyZXR1cm4gZmFsc2U7Y2FzZSAyNzpiLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCk7YnJlYWs7Y2FzZSAzMzpiLmRhdGVwaWNrZXIuX2FkanVzdERhdGUoYS50YXJnZXQsYS5jdHJsS2V5Py1iLmRhdGVwaWNrZXIuX2dldChjLCJzdGVwQmlnTW9udGhzIik6LWIuZGF0ZXBpY2tlci5fZ2V0KGMsInN0ZXBNb250aHMiKSwKIk0iKTticmVhaztjYXNlIDM0OmIuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZShhLnRhcmdldCxhLmN0cmxLZXk/K2IuZGF0ZXBpY2tlci5fZ2V0KGMsInN0ZXBCaWdNb250aHMiKTorYi5kYXRlcGlja2VyLl9nZXQoYywic3RlcE1vbnRocyIpLCJNIik7YnJlYWs7Y2FzZSAzNTppZihhLmN0cmxLZXl8fGEubWV0YUtleSliLmRhdGVwaWNrZXIuX2NsZWFyRGF0ZShhLnRhcmdldCk7aD1hLmN0cmxLZXl8fGEubWV0YUtleTticmVhaztjYXNlIDM2OmlmKGEuY3RybEtleXx8YS5tZXRhS2V5KWIuZGF0ZXBpY2tlci5fZ290b1RvZGF5KGEudGFyZ2V0KTtoPWEuY3RybEtleXx8YS5tZXRhS2V5O2JyZWFrO2Nhc2UgMzc6aWYoYS5jdHJsS2V5fHxhLm1ldGFLZXkpYi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKGEudGFyZ2V0LGk/KzE6LTEsIkQiKTtoPWEuY3RybEtleXx8YS5tZXRhS2V5O2lmKGEub3JpZ2luYWxFdmVudC5hbHRLZXkpYi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKGEudGFyZ2V0LGEuY3RybEtleT8KLWIuZGF0ZXBpY2tlci5fZ2V0KGMsInN0ZXBCaWdNb250aHMiKTotYi5kYXRlcGlja2VyLl9nZXQoYywic3RlcE1vbnRocyIpLCJNIik7YnJlYWs7Y2FzZSAzODppZihhLmN0cmxLZXl8fGEubWV0YUtleSliLmRhdGVwaWNrZXIuX2FkanVzdERhdGUoYS50YXJnZXQsLTcsIkQiKTtoPWEuY3RybEtleXx8YS5tZXRhS2V5O2JyZWFrO2Nhc2UgMzk6aWYoYS5jdHJsS2V5fHxhLm1ldGFLZXkpYi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKGEudGFyZ2V0LGk/LTE6KzEsIkQiKTtoPWEuY3RybEtleXx8YS5tZXRhS2V5O2lmKGEub3JpZ2luYWxFdmVudC5hbHRLZXkpYi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKGEudGFyZ2V0LGEuY3RybEtleT8rYi5kYXRlcGlja2VyLl9nZXQoYywic3RlcEJpZ01vbnRocyIpOitiLmRhdGVwaWNrZXIuX2dldChjLCJzdGVwTW9udGhzIiksIk0iKTticmVhaztjYXNlIDQwOmlmKGEuY3RybEtleXx8YS5tZXRhS2V5KWIuZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZShhLnRhcmdldCwKKzcsIkQiKTtoPWEuY3RybEtleXx8YS5tZXRhS2V5O2JyZWFrO2RlZmF1bHQ6aD1mYWxzZX1lbHNlIGlmKGEua2V5Q29kZT09MzYmJmEuY3RybEtleSliLmRhdGVwaWNrZXIuX3Nob3dEYXRlcGlja2VyKHRoaXMpO2Vsc2UgaD1mYWxzZTtpZihoKXthLnByZXZlbnREZWZhdWx0KCk7YS5zdG9wUHJvcGFnYXRpb24oKX19LF9kb0tleVByZXNzOmZ1bmN0aW9uKGEpe3ZhciBjPWIuZGF0ZXBpY2tlci5fZ2V0SW5zdChhLnRhcmdldCk7aWYoYi5kYXRlcGlja2VyLl9nZXQoYywiY29uc3RyYWluSW5wdXQiKSl7Yz1iLmRhdGVwaWNrZXIuX3Bvc3NpYmxlQ2hhcnMoYi5kYXRlcGlja2VyLl9nZXQoYywiZGF0ZUZvcm1hdCIpKTt2YXIgaD1TdHJpbmcuZnJvbUNoYXJDb2RlKGEuY2hhckNvZGU9PWQ/YS5rZXlDb2RlOmEuY2hhckNvZGUpO3JldHVybiBhLmN0cmxLZXl8fGEubWV0YUtleXx8aDwiICJ8fCFjfHxjLmluZGV4T2YoaCk+LTF9fSxfZG9LZXlVcDpmdW5jdGlvbihhKXthPWIuZGF0ZXBpY2tlci5fZ2V0SW5zdChhLnRhcmdldCk7CmlmKGEuaW5wdXQudmFsKCkhPWEubGFzdFZhbCl0cnl7aWYoYi5kYXRlcGlja2VyLnBhcnNlRGF0ZShiLmRhdGVwaWNrZXIuX2dldChhLCJkYXRlRm9ybWF0IiksYS5pbnB1dD9hLmlucHV0LnZhbCgpOm51bGwsYi5kYXRlcGlja2VyLl9nZXRGb3JtYXRDb25maWcoYSkpKXtiLmRhdGVwaWNrZXIuX3NldERhdGVGcm9tRmllbGQoYSk7Yi5kYXRlcGlja2VyLl91cGRhdGVBbHRlcm5hdGUoYSk7Yi5kYXRlcGlja2VyLl91cGRhdGVEYXRlcGlja2VyKGEpfX1jYXRjaChjKXtiLmRhdGVwaWNrZXIubG9nKGMpfXJldHVybiB0cnVlfSxfc2hvd0RhdGVwaWNrZXI6ZnVuY3Rpb24oYSl7YT1hLnRhcmdldHx8YTtpZihhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkhPSJpbnB1dCIpYT1iKCJpbnB1dCIsYS5wYXJlbnROb2RlKVswXTtpZighKGIuZGF0ZXBpY2tlci5faXNEaXNhYmxlZERhdGVwaWNrZXIoYSl8fGIuZGF0ZXBpY2tlci5fbGFzdElucHV0PT1hKSl7dmFyIGM9Yi5kYXRlcGlja2VyLl9nZXRJbnN0KGEpOwpiLmRhdGVwaWNrZXIuX2N1ckluc3QmJmIuZGF0ZXBpY2tlci5fY3VySW5zdCE9YyYmYi5kYXRlcGlja2VyLl9jdXJJbnN0LmRwRGl2LnN0b3AodHJ1ZSx0cnVlKTt2YXIgaD1iLmRhdGVwaWNrZXIuX2dldChjLCJiZWZvcmVTaG93Iik7ZihjLnNldHRpbmdzLGg/aC5hcHBseShhLFthLGNdKTp7fSk7Yy5sYXN0VmFsPW51bGw7Yi5kYXRlcGlja2VyLl9sYXN0SW5wdXQ9YTtiLmRhdGVwaWNrZXIuX3NldERhdGVGcm9tRmllbGQoYyk7aWYoYi5kYXRlcGlja2VyLl9pbkRpYWxvZylhLnZhbHVlPSIiO2lmKCFiLmRhdGVwaWNrZXIuX3Bvcyl7Yi5kYXRlcGlja2VyLl9wb3M9Yi5kYXRlcGlja2VyLl9maW5kUG9zKGEpO2IuZGF0ZXBpY2tlci5fcG9zWzFdKz1hLm9mZnNldEhlaWdodH12YXIgaT1mYWxzZTtiKGEpLnBhcmVudHMoKS5lYWNoKGZ1bmN0aW9uKCl7aXw9Yih0aGlzKS5jc3MoInBvc2l0aW9uIik9PSJmaXhlZCI7cmV0dXJuIWl9KTtpZihpJiZiLmJyb3dzZXIub3BlcmEpe2IuZGF0ZXBpY2tlci5fcG9zWzBdLT0KZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7Yi5kYXRlcGlja2VyLl9wb3NbMV0tPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B9aD17bGVmdDpiLmRhdGVwaWNrZXIuX3Bvc1swXSx0b3A6Yi5kYXRlcGlja2VyLl9wb3NbMV19O2IuZGF0ZXBpY2tlci5fcG9zPW51bGw7Yy5kcERpdi5lbXB0eSgpO2MuZHBEaXYuY3NzKHtwb3NpdGlvbjoiYWJzb2x1dGUiLGRpc3BsYXk6ImJsb2NrIix0b3A6Ii0xMDAwcHgifSk7Yi5kYXRlcGlja2VyLl91cGRhdGVEYXRlcGlja2VyKGMpO2g9Yi5kYXRlcGlja2VyLl9jaGVja09mZnNldChjLGgsaSk7Yy5kcERpdi5jc3Moe3Bvc2l0aW9uOmIuZGF0ZXBpY2tlci5faW5EaWFsb2cmJmIuYmxvY2tVST8ic3RhdGljIjppPyJmaXhlZCI6ImFic29sdXRlIixkaXNwbGF5OiJub25lIixsZWZ0OmgubGVmdCsicHgiLHRvcDpoLnRvcCsicHgifSk7aWYoIWMuaW5saW5lKXtoPWIuZGF0ZXBpY2tlci5fZ2V0KGMsInNob3dBbmltIik7CnZhciBqPWIuZGF0ZXBpY2tlci5fZ2V0KGMsImR1cmF0aW9uIiksbj1mdW5jdGlvbigpe2IuZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmc9dHJ1ZTt2YXIgbz1jLmRwRGl2LmZpbmQoImlmcmFtZS51aS1kYXRlcGlja2VyLWNvdmVyIik7aWYoby5sZW5ndGgpe3ZhciBsPWIuZGF0ZXBpY2tlci5fZ2V0Qm9yZGVycyhjLmRwRGl2KTtvLmNzcyh7bGVmdDotbFswXSx0b3A6LWxbMV0sd2lkdGg6Yy5kcERpdi5vdXRlcldpZHRoKCksaGVpZ2h0OmMuZHBEaXYub3V0ZXJIZWlnaHQoKX0pfX07Yy5kcERpdi56SW5kZXgoYihhKS56SW5kZXgoKSsxKTtiLmVmZmVjdHMmJmIuZWZmZWN0c1toXT9jLmRwRGl2LnNob3coaCxiLmRhdGVwaWNrZXIuX2dldChjLCJzaG93T3B0aW9ucyIpLGosbik6Yy5kcERpdltofHwic2hvdyJdKGg/ajpudWxsLG4pO2lmKCFofHwhailuKCk7Yy5pbnB1dC5pcygiOnZpc2libGUiKSYmIWMuaW5wdXQuaXMoIjpkaXNhYmxlZCIpJiZjLmlucHV0LmZvY3VzKCk7Yi5kYXRlcGlja2VyLl9jdXJJbnN0PQpjfX19LF91cGRhdGVEYXRlcGlja2VyOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMsaD1iLmRhdGVwaWNrZXIuX2dldEJvcmRlcnMoYS5kcERpdik7YS5kcERpdi5lbXB0eSgpLmFwcGVuZCh0aGlzLl9nZW5lcmF0ZUhUTUwoYSkpO3ZhciBpPWEuZHBEaXYuZmluZCgiaWZyYW1lLnVpLWRhdGVwaWNrZXItY292ZXIiKTtpLmxlbmd0aCYmaS5jc3Moe2xlZnQ6LWhbMF0sdG9wOi1oWzFdLHdpZHRoOmEuZHBEaXYub3V0ZXJXaWR0aCgpLGhlaWdodDphLmRwRGl2Lm91dGVySGVpZ2h0KCl9KTthLmRwRGl2LmZpbmQoImJ1dHRvbiwgLnVpLWRhdGVwaWNrZXItcHJldiwgLnVpLWRhdGVwaWNrZXItbmV4dCwgLnVpLWRhdGVwaWNrZXItY2FsZW5kYXIgdGQgYSIpLmJpbmQoIm1vdXNlb3V0IixmdW5jdGlvbigpe2IodGhpcykucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIik7dGhpcy5jbGFzc05hbWUuaW5kZXhPZigidWktZGF0ZXBpY2tlci1wcmV2IikhPS0xJiZiKHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1kYXRlcGlja2VyLXByZXYtaG92ZXIiKTsKdGhpcy5jbGFzc05hbWUuaW5kZXhPZigidWktZGF0ZXBpY2tlci1uZXh0IikhPS0xJiZiKHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1kYXRlcGlja2VyLW5leHQtaG92ZXIiKX0pLmJpbmQoIm1vdXNlb3ZlciIsZnVuY3Rpb24oKXtpZighYy5faXNEaXNhYmxlZERhdGVwaWNrZXIoYS5pbmxpbmU/YS5kcERpdi5wYXJlbnQoKVswXTphLmlucHV0WzBdKSl7Yih0aGlzKS5wYXJlbnRzKCIudWktZGF0ZXBpY2tlci1jYWxlbmRhciIpLmZpbmQoImEiKS5yZW1vdmVDbGFzcygidWktc3RhdGUtaG92ZXIiKTtiKHRoaXMpLmFkZENsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpO3RoaXMuY2xhc3NOYW1lLmluZGV4T2YoInVpLWRhdGVwaWNrZXItcHJldiIpIT0tMSYmYih0aGlzKS5hZGRDbGFzcygidWktZGF0ZXBpY2tlci1wcmV2LWhvdmVyIik7dGhpcy5jbGFzc05hbWUuaW5kZXhPZigidWktZGF0ZXBpY2tlci1uZXh0IikhPS0xJiZiKHRoaXMpLmFkZENsYXNzKCJ1aS1kYXRlcGlja2VyLW5leHQtaG92ZXIiKX19KS5lbmQoKS5maW5kKCIuIisKdGhpcy5fZGF5T3ZlckNsYXNzKyIgYSIpLnRyaWdnZXIoIm1vdXNlb3ZlciIpLmVuZCgpO2g9dGhpcy5fZ2V0TnVtYmVyT2ZNb250aHMoYSk7aT1oWzFdO2k+MT9hLmRwRGl2LmFkZENsYXNzKCJ1aS1kYXRlcGlja2VyLW11bHRpLSIraSkuY3NzKCJ3aWR0aCIsMTcqaSsiZW0iKTphLmRwRGl2LnJlbW92ZUNsYXNzKCJ1aS1kYXRlcGlja2VyLW11bHRpLTIgdWktZGF0ZXBpY2tlci1tdWx0aS0zIHVpLWRhdGVwaWNrZXItbXVsdGktNCIpLndpZHRoKCIiKTthLmRwRGl2WyhoWzBdIT0xfHxoWzFdIT0xPyJhZGQiOiJyZW1vdmUiKSsiQ2xhc3MiXSgidWktZGF0ZXBpY2tlci1tdWx0aSIpO2EuZHBEaXZbKHRoaXMuX2dldChhLCJpc1JUTCIpPyJhZGQiOiJyZW1vdmUiKSsiQ2xhc3MiXSgidWktZGF0ZXBpY2tlci1ydGwiKTthPT1iLmRhdGVwaWNrZXIuX2N1ckluc3QmJmIuZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcmJmEuaW5wdXQmJmEuaW5wdXQuaXMoIjp2aXNpYmxlIikmJiFhLmlucHV0LmlzKCI6ZGlzYWJsZWQiKSYmCmEuaW5wdXRbMF0hPWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQmJmEuaW5wdXQuZm9jdXMoKTtpZihhLnllYXJzaHRtbCl7dmFyIGo9YS55ZWFyc2h0bWw7c2V0VGltZW91dChmdW5jdGlvbigpe2o9PT1hLnllYXJzaHRtbCYmYS5kcERpdi5maW5kKCJzZWxlY3QudWktZGF0ZXBpY2tlci15ZWFyOmZpcnN0IikucmVwbGFjZVdpdGgoYS55ZWFyc2h0bWwpO2o9YS55ZWFyc2h0bWw9bnVsbH0sMCl9fSxfZ2V0Qm9yZGVyczpmdW5jdGlvbihhKXt2YXIgYz1mdW5jdGlvbihoKXtyZXR1cm57dGhpbjoxLG1lZGl1bToyLHRoaWNrOjN9W2hdfHxofTtyZXR1cm5bcGFyc2VGbG9hdChjKGEuY3NzKCJib3JkZXItbGVmdC13aWR0aCIpKSkscGFyc2VGbG9hdChjKGEuY3NzKCJib3JkZXItdG9wLXdpZHRoIikpKV19LF9jaGVja09mZnNldDpmdW5jdGlvbihhLGMsaCl7dmFyIGk9YS5kcERpdi5vdXRlcldpZHRoKCksaj1hLmRwRGl2Lm91dGVySGVpZ2h0KCksbj1hLmlucHV0P2EuaW5wdXQub3V0ZXJXaWR0aCgpOgowLG89YS5pbnB1dD9hLmlucHV0Lm91dGVySGVpZ2h0KCk6MCxsPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCtiKGRvY3VtZW50KS5zY3JvbGxMZWZ0KCksaz1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0K2IoZG9jdW1lbnQpLnNjcm9sbFRvcCgpO2MubGVmdC09dGhpcy5fZ2V0KGEsImlzUlRMIik/aS1uOjA7Yy5sZWZ0LT1oJiZjLmxlZnQ9PWEuaW5wdXQub2Zmc2V0KCkubGVmdD9iKGRvY3VtZW50KS5zY3JvbGxMZWZ0KCk6MDtjLnRvcC09aCYmYy50b3A9PWEuaW5wdXQub2Zmc2V0KCkudG9wK28/Yihkb2N1bWVudCkuc2Nyb2xsVG9wKCk6MDtjLmxlZnQtPU1hdGgubWluKGMubGVmdCxjLmxlZnQraT5sJiZsPmk/TWF0aC5hYnMoYy5sZWZ0K2ktbCk6MCk7Yy50b3AtPU1hdGgubWluKGMudG9wLGMudG9wK2o+ayYmaz5qP01hdGguYWJzKGorbyk6MCk7cmV0dXJuIGN9LF9maW5kUG9zOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYz10aGlzLl9nZXQodGhpcy5fZ2V0SW5zdChhKSwKImlzUlRMIik7YSYmKGEudHlwZT09ImhpZGRlbiJ8fGEubm9kZVR5cGUhPTF8fGIuZXhwci5maWx0ZXJzLmhpZGRlbihhKSk7KWE9YVtjPyJwcmV2aW91c1NpYmxpbmciOiJuZXh0U2libGluZyJdO2E9YihhKS5vZmZzZXQoKTtyZXR1cm5bYS5sZWZ0LGEudG9wXX0sX2hpZGVEYXRlcGlja2VyOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuX2N1ckluc3Q7aWYoISghY3x8YSYmYyE9Yi5kYXRhKGEsImRhdGVwaWNrZXIiKSkpaWYodGhpcy5fZGF0ZXBpY2tlclNob3dpbmcpe2E9dGhpcy5fZ2V0KGMsInNob3dBbmltIik7dmFyIGg9dGhpcy5fZ2V0KGMsImR1cmF0aW9uIiksaT1mdW5jdGlvbigpe2IuZGF0ZXBpY2tlci5fdGlkeURpYWxvZyhjKTt0aGlzLl9jdXJJbnN0PW51bGx9O2IuZWZmZWN0cyYmYi5lZmZlY3RzW2FdP2MuZHBEaXYuaGlkZShhLGIuZGF0ZXBpY2tlci5fZ2V0KGMsInNob3dPcHRpb25zIiksaCxpKTpjLmRwRGl2W2E9PSJzbGlkZURvd24iPyJzbGlkZVVwIjphPT0iZmFkZUluIj8KImZhZGVPdXQiOiJoaWRlIl0oYT9oOm51bGwsaSk7YXx8aSgpO2lmKGE9dGhpcy5fZ2V0KGMsIm9uQ2xvc2UiKSlhLmFwcGx5KGMuaW5wdXQ/Yy5pbnB1dFswXTpudWxsLFtjLmlucHV0P2MuaW5wdXQudmFsKCk6IiIsY10pO3RoaXMuX2RhdGVwaWNrZXJTaG93aW5nPWZhbHNlO3RoaXMuX2xhc3RJbnB1dD1udWxsO2lmKHRoaXMuX2luRGlhbG9nKXt0aGlzLl9kaWFsb2dJbnB1dC5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsbGVmdDoiMCIsdG9wOiItMTAwcHgifSk7aWYoYi5ibG9ja1VJKXtiLnVuYmxvY2tVSSgpO2IoImJvZHkiKS5hcHBlbmQodGhpcy5kcERpdil9fXRoaXMuX2luRGlhbG9nPWZhbHNlfX0sX3RpZHlEaWFsb2c6ZnVuY3Rpb24oYSl7YS5kcERpdi5yZW1vdmVDbGFzcyh0aGlzLl9kaWFsb2dDbGFzcykudW5iaW5kKCIudWktZGF0ZXBpY2tlci1jYWxlbmRhciIpfSxfY2hlY2tFeHRlcm5hbENsaWNrOmZ1bmN0aW9uKGEpe2lmKGIuZGF0ZXBpY2tlci5fY3VySW5zdCl7YT0KYihhLnRhcmdldCk7YVswXS5pZCE9Yi5kYXRlcGlja2VyLl9tYWluRGl2SWQmJmEucGFyZW50cygiIyIrYi5kYXRlcGlja2VyLl9tYWluRGl2SWQpLmxlbmd0aD09MCYmIWEuaGFzQ2xhc3MoYi5kYXRlcGlja2VyLm1hcmtlckNsYXNzTmFtZSkmJiFhLmhhc0NsYXNzKGIuZGF0ZXBpY2tlci5fdHJpZ2dlckNsYXNzKSYmYi5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZyYmIShiLmRhdGVwaWNrZXIuX2luRGlhbG9nJiZiLmJsb2NrVUkpJiZiLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCl9fSxfYWRqdXN0RGF0ZTpmdW5jdGlvbihhLGMsaCl7YT1iKGEpO3ZhciBpPXRoaXMuX2dldEluc3QoYVswXSk7aWYoIXRoaXMuX2lzRGlzYWJsZWREYXRlcGlja2VyKGFbMF0pKXt0aGlzLl9hZGp1c3RJbnN0RGF0ZShpLGMrKGg9PSJNIj90aGlzLl9nZXQoaSwic2hvd0N1cnJlbnRBdFBvcyIpOjApLGgpO3RoaXMuX3VwZGF0ZURhdGVwaWNrZXIoaSl9fSxfZ290b1RvZGF5OmZ1bmN0aW9uKGEpe2E9CmIoYSk7dmFyIGM9dGhpcy5fZ2V0SW5zdChhWzBdKTtpZih0aGlzLl9nZXQoYywiZ290b0N1cnJlbnQiKSYmYy5jdXJyZW50RGF5KXtjLnNlbGVjdGVkRGF5PWMuY3VycmVudERheTtjLmRyYXdNb250aD1jLnNlbGVjdGVkTW9udGg9Yy5jdXJyZW50TW9udGg7Yy5kcmF3WWVhcj1jLnNlbGVjdGVkWWVhcj1jLmN1cnJlbnRZZWFyfWVsc2V7dmFyIGg9bmV3IERhdGU7Yy5zZWxlY3RlZERheT1oLmdldERhdGUoKTtjLmRyYXdNb250aD1jLnNlbGVjdGVkTW9udGg9aC5nZXRNb250aCgpO2MuZHJhd1llYXI9Yy5zZWxlY3RlZFllYXI9aC5nZXRGdWxsWWVhcigpfXRoaXMuX25vdGlmeUNoYW5nZShjKTt0aGlzLl9hZGp1c3REYXRlKGEpfSxfc2VsZWN0TW9udGhZZWFyOmZ1bmN0aW9uKGEsYyxoKXthPWIoYSk7dmFyIGk9dGhpcy5fZ2V0SW5zdChhWzBdKTtpLl9zZWxlY3RpbmdNb250aFllYXI9ZmFsc2U7aVsic2VsZWN0ZWQiKyhoPT0iTSI/Ik1vbnRoIjoiWWVhciIpXT1pWyJkcmF3IisoaD09CiJNIj8iTW9udGgiOiJZZWFyIildPXBhcnNlSW50KGMub3B0aW9uc1tjLnNlbGVjdGVkSW5kZXhdLnZhbHVlLDEwKTt0aGlzLl9ub3RpZnlDaGFuZ2UoaSk7dGhpcy5fYWRqdXN0RGF0ZShhKX0sX2NsaWNrTW9udGhZZWFyOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuX2dldEluc3QoYihhKVswXSk7Yy5pbnB1dCYmYy5fc2VsZWN0aW5nTW9udGhZZWFyJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5pbnB1dC5mb2N1cygpfSwwKTtjLl9zZWxlY3RpbmdNb250aFllYXI9IWMuX3NlbGVjdGluZ01vbnRoWWVhcn0sX3NlbGVjdERheTpmdW5jdGlvbihhLGMsaCxpKXt2YXIgaj1iKGEpO2lmKCEoYihpKS5oYXNDbGFzcyh0aGlzLl91bnNlbGVjdGFibGVDbGFzcyl8fHRoaXMuX2lzRGlzYWJsZWREYXRlcGlja2VyKGpbMF0pKSl7aj10aGlzLl9nZXRJbnN0KGpbMF0pO2ouc2VsZWN0ZWREYXk9ai5jdXJyZW50RGF5PWIoImEiLGkpLmh0bWwoKTtqLnNlbGVjdGVkTW9udGg9ai5jdXJyZW50TW9udGg9CmM7ai5zZWxlY3RlZFllYXI9ai5jdXJyZW50WWVhcj1oO3RoaXMuX3NlbGVjdERhdGUoYSx0aGlzLl9mb3JtYXREYXRlKGosai5jdXJyZW50RGF5LGouY3VycmVudE1vbnRoLGouY3VycmVudFllYXIpKX19LF9jbGVhckRhdGU6ZnVuY3Rpb24oYSl7YT1iKGEpO3RoaXMuX2dldEluc3QoYVswXSk7dGhpcy5fc2VsZWN0RGF0ZShhLCIiKX0sX3NlbGVjdERhdGU6ZnVuY3Rpb24oYSxjKXthPXRoaXMuX2dldEluc3QoYihhKVswXSk7Yz1jIT1udWxsP2M6dGhpcy5fZm9ybWF0RGF0ZShhKTthLmlucHV0JiZhLmlucHV0LnZhbChjKTt0aGlzLl91cGRhdGVBbHRlcm5hdGUoYSk7dmFyIGg9dGhpcy5fZ2V0KGEsIm9uU2VsZWN0Iik7aWYoaCloLmFwcGx5KGEuaW5wdXQ/YS5pbnB1dFswXTpudWxsLFtjLGFdKTtlbHNlIGEuaW5wdXQmJmEuaW5wdXQudHJpZ2dlcigiY2hhbmdlIik7aWYoYS5pbmxpbmUpdGhpcy5fdXBkYXRlRGF0ZXBpY2tlcihhKTtlbHNle3RoaXMuX2hpZGVEYXRlcGlja2VyKCk7CnRoaXMuX2xhc3RJbnB1dD1hLmlucHV0WzBdO3R5cGVvZiBhLmlucHV0WzBdIT0ib2JqZWN0IiYmYS5pbnB1dC5mb2N1cygpO3RoaXMuX2xhc3RJbnB1dD1udWxsfX0sX3VwZGF0ZUFsdGVybmF0ZTpmdW5jdGlvbihhKXt2YXIgYz10aGlzLl9nZXQoYSwiYWx0RmllbGQiKTtpZihjKXt2YXIgaD10aGlzLl9nZXQoYSwiYWx0Rm9ybWF0Iil8fHRoaXMuX2dldChhLCJkYXRlRm9ybWF0IiksaT10aGlzLl9nZXREYXRlKGEpLGo9dGhpcy5mb3JtYXREYXRlKGgsaSx0aGlzLl9nZXRGb3JtYXRDb25maWcoYSkpO2IoYykuZWFjaChmdW5jdGlvbigpe2IodGhpcykudmFsKGopfSl9fSxub1dlZWtlbmRzOmZ1bmN0aW9uKGEpe2E9YS5nZXREYXkoKTtyZXR1cm5bYT4wJiZhPDYsIiJdfSxpc284NjAxV2VlazpmdW5jdGlvbihhKXthPW5ldyBEYXRlKGEuZ2V0VGltZSgpKTthLnNldERhdGUoYS5nZXREYXRlKCkrNC0oYS5nZXREYXkoKXx8NykpO3ZhciBjPWEuZ2V0VGltZSgpO2Euc2V0TW9udGgoMCk7CmEuc2V0RGF0ZSgxKTtyZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJvdW5kKChjLWEpLzg2NEU1KS83KSsxfSxwYXJzZURhdGU6ZnVuY3Rpb24oYSxjLGgpe2lmKGE9PW51bGx8fGM9PW51bGwpdGhyb3ciSW52YWxpZCBhcmd1bWVudHMiO2M9dHlwZW9mIGM9PSJvYmplY3QiP2MudG9TdHJpbmcoKTpjKyIiO2lmKGM9PSIiKXJldHVybiBudWxsO3ZhciBpPShoP2guc2hvcnRZZWFyQ3V0b2ZmOm51bGwpfHx0aGlzLl9kZWZhdWx0cy5zaG9ydFllYXJDdXRvZmY7aT10eXBlb2YgaSE9InN0cmluZyI/aToobmV3IERhdGUpLmdldEZ1bGxZZWFyKCklMTAwK3BhcnNlSW50KGksMTApO2Zvcih2YXIgaj0oaD9oLmRheU5hbWVzU2hvcnQ6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLmRheU5hbWVzU2hvcnQsbj0oaD9oLmRheU5hbWVzOm51bGwpfHx0aGlzLl9kZWZhdWx0cy5kYXlOYW1lcyxvPShoP2gubW9udGhOYW1lc1Nob3J0Om51bGwpfHx0aGlzLl9kZWZhdWx0cy5tb250aE5hbWVzU2hvcnQsbD0oaD8KaC5tb250aE5hbWVzOm51bGwpfHx0aGlzLl9kZWZhdWx0cy5tb250aE5hbWVzLGs9aD0tMSxtPS0xLHA9LTEscT1mYWxzZSxzPWZ1bmN0aW9uKHgpeyh4PXkrMTxhLmxlbmd0aCYmYS5jaGFyQXQoeSsxKT09eCkmJnkrKztyZXR1cm4geH0scj1mdW5jdGlvbih4KXt2YXIgQz1zKHgpO3g9bmV3IFJlZ0V4cCgiXlxcZHsxLCIrKHg9PSJAIj8xNDp4PT0iISI/MjA6eD09InkiJiZDPzQ6eD09Im8iPzM6MikrIn0iKTt4PWMuc3Vic3RyaW5nKHcpLm1hdGNoKHgpO2lmKCF4KXRocm93Ik1pc3NpbmcgbnVtYmVyIGF0IHBvc2l0aW9uICIrdzt3Kz14WzBdLmxlbmd0aDtyZXR1cm4gcGFyc2VJbnQoeFswXSwxMCl9LHU9ZnVuY3Rpb24oeCxDLEope3g9cyh4KT9KOkM7Zm9yKEM9MDtDPHgubGVuZ3RoO0MrKylpZihjLnN1YnN0cih3LHhbQ10ubGVuZ3RoKS50b0xvd2VyQ2FzZSgpPT14W0NdLnRvTG93ZXJDYXNlKCkpe3crPXhbQ10ubGVuZ3RoO3JldHVybiBDKzF9dGhyb3ciVW5rbm93biBuYW1lIGF0IHBvc2l0aW9uICIrCnc7fSx2PWZ1bmN0aW9uKCl7aWYoYy5jaGFyQXQodykhPWEuY2hhckF0KHkpKXRocm93IlVuZXhwZWN0ZWQgbGl0ZXJhbCBhdCBwb3NpdGlvbiAiK3c7dysrfSx3PTAseT0wO3k8YS5sZW5ndGg7eSsrKWlmKHEpaWYoYS5jaGFyQXQoeSk9PSInIiYmIXMoIiciKSlxPWZhbHNlO2Vsc2UgdigpO2Vsc2Ugc3dpdGNoKGEuY2hhckF0KHkpKXtjYXNlICJkIjptPXIoImQiKTticmVhaztjYXNlICJEIjp1KCJEIixqLG4pO2JyZWFrO2Nhc2UgIm8iOnA9cigibyIpO2JyZWFrO2Nhc2UgIm0iOms9cigibSIpO2JyZWFrO2Nhc2UgIk0iOms9dSgiTSIsbyxsKTticmVhaztjYXNlICJ5IjpoPXIoInkiKTticmVhaztjYXNlICJAIjp2YXIgQj1uZXcgRGF0ZShyKCJAIikpO2g9Qi5nZXRGdWxsWWVhcigpO2s9Qi5nZXRNb250aCgpKzE7bT1CLmdldERhdGUoKTticmVhaztjYXNlICIhIjpCPW5ldyBEYXRlKChyKCIhIiktdGhpcy5fdGlja3NUbzE5NzApLzFFNCk7aD1CLmdldEZ1bGxZZWFyKCk7az1CLmdldE1vbnRoKCkrCjE7bT1CLmdldERhdGUoKTticmVhaztjYXNlICInIjppZihzKCInIikpdigpO2Vsc2UgcT10cnVlO2JyZWFrO2RlZmF1bHQ6digpfWlmKGg9PS0xKWg9KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpO2Vsc2UgaWYoaDwxMDApaCs9KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpLShuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKSUxMDArKGg8PWk/MDotMTAwKTtpZihwPi0xKXtrPTE7bT1wO2Rve2k9dGhpcy5fZ2V0RGF5c0luTW9udGgoaCxrLTEpO2lmKG08PWkpYnJlYWs7aysrO20tPWl9d2hpbGUoMSl9Qj10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShoLGstMSxtKSk7aWYoQi5nZXRGdWxsWWVhcigpIT1ofHxCLmdldE1vbnRoKCkrMSE9a3x8Qi5nZXREYXRlKCkhPW0pdGhyb3ciSW52YWxpZCBkYXRlIjtyZXR1cm4gQn0sQVRPTToieXktbW0tZGQiLENPT0tJRToiRCwgZGQgTSB5eSIsSVNPXzg2MDE6Inl5LW1tLWRkIixSRkNfODIyOiJELCBkIE0geSIsUkZDXzg1MDoiREQsIGRkLU0teSIsClJGQ18xMDM2OiJELCBkIE0geSIsUkZDXzExMjM6IkQsIGQgTSB5eSIsUkZDXzI4MjI6IkQsIGQgTSB5eSIsUlNTOiJELCBkIE0geSIsVElDS1M6IiEiLFRJTUVTVEFNUDoiQCIsVzNDOiJ5eS1tbS1kZCIsX3RpY2tzVG8xOTcwOig3MTg2ODUrTWF0aC5mbG9vcig0OTIuNSktTWF0aC5mbG9vcigxOS43KStNYXRoLmZsb29yKDQuOTI1KSkqMjQqNjAqNjAqMUU3LGZvcm1hdERhdGU6ZnVuY3Rpb24oYSxjLGgpe2lmKCFjKXJldHVybiIiO3ZhciBpPShoP2guZGF5TmFtZXNTaG9ydDpudWxsKXx8dGhpcy5fZGVmYXVsdHMuZGF5TmFtZXNTaG9ydCxqPShoP2guZGF5TmFtZXM6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLmRheU5hbWVzLG49KGg/aC5tb250aE5hbWVzU2hvcnQ6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLm1vbnRoTmFtZXNTaG9ydDtoPShoP2gubW9udGhOYW1lczpudWxsKXx8dGhpcy5fZGVmYXVsdHMubW9udGhOYW1lczt2YXIgbz1mdW5jdGlvbihzKXsocz1xKzE8YS5sZW5ndGgmJgphLmNoYXJBdChxKzEpPT1zKSYmcSsrO3JldHVybiBzfSxsPWZ1bmN0aW9uKHMscix1KXtyPSIiK3I7aWYobyhzKSlmb3IoO3IubGVuZ3RoPHU7KXI9IjAiK3I7cmV0dXJuIHJ9LGs9ZnVuY3Rpb24ocyxyLHUsdil7cmV0dXJuIG8ocyk/dltyXTp1W3JdfSxtPSIiLHA9ZmFsc2U7aWYoYylmb3IodmFyIHE9MDtxPGEubGVuZ3RoO3ErKylpZihwKWlmKGEuY2hhckF0KHEpPT0iJyImJiFvKCInIikpcD1mYWxzZTtlbHNlIG0rPWEuY2hhckF0KHEpO2Vsc2Ugc3dpdGNoKGEuY2hhckF0KHEpKXtjYXNlICJkIjptKz1sKCJkIixjLmdldERhdGUoKSwyKTticmVhaztjYXNlICJEIjptKz1rKCJEIixjLmdldERheSgpLGksaik7YnJlYWs7Y2FzZSAibyI6bSs9bCgibyIsKGMuZ2V0VGltZSgpLShuZXcgRGF0ZShjLmdldEZ1bGxZZWFyKCksMCwwKSkuZ2V0VGltZSgpKS84NjRFNSwzKTticmVhaztjYXNlICJtIjptKz1sKCJtIixjLmdldE1vbnRoKCkrMSwyKTticmVhaztjYXNlICJNIjptKz1rKCJNIiwKYy5nZXRNb250aCgpLG4saCk7YnJlYWs7Y2FzZSAieSI6bSs9bygieSIpP2MuZ2V0RnVsbFllYXIoKTooYy5nZXRZZWFyKCklMTAwPDEwPyIwIjoiIikrYy5nZXRZZWFyKCklMTAwO2JyZWFrO2Nhc2UgIkAiOm0rPWMuZ2V0VGltZSgpO2JyZWFrO2Nhc2UgIiEiOm0rPWMuZ2V0VGltZSgpKjFFNCt0aGlzLl90aWNrc1RvMTk3MDticmVhaztjYXNlICInIjppZihvKCInIikpbSs9IiciO2Vsc2UgcD10cnVlO2JyZWFrO2RlZmF1bHQ6bSs9YS5jaGFyQXQocSl9cmV0dXJuIG19LF9wb3NzaWJsZUNoYXJzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYz0iIixoPWZhbHNlLGk9ZnVuY3Rpb24obil7KG49aisxPGEubGVuZ3RoJiZhLmNoYXJBdChqKzEpPT1uKSYmaisrO3JldHVybiBufSxqPTA7ajxhLmxlbmd0aDtqKyspaWYoaClpZihhLmNoYXJBdChqKT09IiciJiYhaSgiJyIpKWg9ZmFsc2U7ZWxzZSBjKz1hLmNoYXJBdChqKTtlbHNlIHN3aXRjaChhLmNoYXJBdChqKSl7Y2FzZSAiZCI6Y2FzZSAibSI6Y2FzZSAieSI6Y2FzZSAiQCI6Yys9CiIwMTIzNDU2Nzg5IjticmVhaztjYXNlICJEIjpjYXNlICJNIjpyZXR1cm4gbnVsbDtjYXNlICInIjppZihpKCInIikpYys9IiciO2Vsc2UgaD10cnVlO2JyZWFrO2RlZmF1bHQ6Yys9YS5jaGFyQXQoail9cmV0dXJuIGN9LF9nZXQ6ZnVuY3Rpb24oYSxjKXtyZXR1cm4gYS5zZXR0aW5nc1tjXSE9PWQ/YS5zZXR0aW5nc1tjXTp0aGlzLl9kZWZhdWx0c1tjXX0sX3NldERhdGVGcm9tRmllbGQ6ZnVuY3Rpb24oYSxjKXtpZihhLmlucHV0LnZhbCgpIT1hLmxhc3RWYWwpe3ZhciBoPXRoaXMuX2dldChhLCJkYXRlRm9ybWF0IiksaT1hLmxhc3RWYWw9YS5pbnB1dD9hLmlucHV0LnZhbCgpOm51bGwsaixuO2o9bj10aGlzLl9nZXREZWZhdWx0RGF0ZShhKTt2YXIgbz10aGlzLl9nZXRGb3JtYXRDb25maWcoYSk7dHJ5e2o9dGhpcy5wYXJzZURhdGUoaCxpLG8pfHxufWNhdGNoKGwpe3RoaXMubG9nKGwpO2k9Yz8iIjppfWEuc2VsZWN0ZWREYXk9ai5nZXREYXRlKCk7YS5kcmF3TW9udGg9YS5zZWxlY3RlZE1vbnRoPQpqLmdldE1vbnRoKCk7YS5kcmF3WWVhcj1hLnNlbGVjdGVkWWVhcj1qLmdldEZ1bGxZZWFyKCk7YS5jdXJyZW50RGF5PWk/ai5nZXREYXRlKCk6MDthLmN1cnJlbnRNb250aD1pP2ouZ2V0TW9udGgoKTowO2EuY3VycmVudFllYXI9aT9qLmdldEZ1bGxZZWFyKCk6MDt0aGlzLl9hZGp1c3RJbnN0RGF0ZShhKX19LF9nZXREZWZhdWx0RGF0ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fcmVzdHJpY3RNaW5NYXgoYSx0aGlzLl9kZXRlcm1pbmVEYXRlKGEsdGhpcy5fZ2V0KGEsImRlZmF1bHREYXRlIiksbmV3IERhdGUpKX0sX2RldGVybWluZURhdGU6ZnVuY3Rpb24oYSxjLGgpe3ZhciBpPWZ1bmN0aW9uKG4pe3ZhciBvPW5ldyBEYXRlO28uc2V0RGF0ZShvLmdldERhdGUoKStuKTtyZXR1cm4gb30saj1mdW5jdGlvbihuKXt0cnl7cmV0dXJuIGIuZGF0ZXBpY2tlci5wYXJzZURhdGUoYi5kYXRlcGlja2VyLl9nZXQoYSwiZGF0ZUZvcm1hdCIpLG4sYi5kYXRlcGlja2VyLl9nZXRGb3JtYXRDb25maWcoYSkpfWNhdGNoKG8pe312YXIgbD0KKG4udG9Mb3dlckNhc2UoKS5tYXRjaCgvXmMvKT9iLmRhdGVwaWNrZXIuX2dldERhdGUoYSk6bnVsbCl8fG5ldyBEYXRlLGs9bC5nZXRGdWxsWWVhcigpLG09bC5nZXRNb250aCgpO2w9bC5nZXREYXRlKCk7Zm9yKHZhciBwPS8oWystXT9bMC05XSspXHMqKGR8RHx3fFd8bXxNfHl8WSk/L2cscT1wLmV4ZWMobik7cTspe3N3aXRjaChxWzJdfHwiZCIpe2Nhc2UgImQiOmNhc2UgIkQiOmwrPXBhcnNlSW50KHFbMV0sMTApO2JyZWFrO2Nhc2UgInciOmNhc2UgIlciOmwrPXBhcnNlSW50KHFbMV0sMTApKjc7YnJlYWs7Y2FzZSAibSI6Y2FzZSAiTSI6bSs9cGFyc2VJbnQocVsxXSwxMCk7bD1NYXRoLm1pbihsLGIuZGF0ZXBpY2tlci5fZ2V0RGF5c0luTW9udGgoayxtKSk7YnJlYWs7Y2FzZSAieSI6Y2FzZSAiWSI6ays9cGFyc2VJbnQocVsxXSwxMCk7bD1NYXRoLm1pbihsLGIuZGF0ZXBpY2tlci5fZ2V0RGF5c0luTW9udGgoayxtKSk7YnJlYWt9cT1wLmV4ZWMobil9cmV0dXJuIG5ldyBEYXRlKGssCm0sbCl9O2lmKGM9KGM9Yz09bnVsbHx8Yz09PSIiP2g6dHlwZW9mIGM9PSJzdHJpbmciP2ooYyk6dHlwZW9mIGM9PSJudW1iZXIiP2lzTmFOKGMpP2g6aShjKTpuZXcgRGF0ZShjLmdldFRpbWUoKSkpJiZjLnRvU3RyaW5nKCk9PSJJbnZhbGlkIERhdGUiP2g6Yyl7Yy5zZXRIb3VycygwKTtjLnNldE1pbnV0ZXMoMCk7Yy5zZXRTZWNvbmRzKDApO2Muc2V0TWlsbGlzZWNvbmRzKDApfXJldHVybiB0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChjKX0sX2RheWxpZ2h0U2F2aW5nQWRqdXN0OmZ1bmN0aW9uKGEpe2lmKCFhKXJldHVybiBudWxsO2Euc2V0SG91cnMoYS5nZXRIb3VycygpPjEyP2EuZ2V0SG91cnMoKSsyOjApO3JldHVybiBhfSxfc2V0RGF0ZTpmdW5jdGlvbihhLGMsaCl7dmFyIGk9IWMsaj1hLnNlbGVjdGVkTW9udGgsbj1hLnNlbGVjdGVkWWVhcjtjPXRoaXMuX3Jlc3RyaWN0TWluTWF4KGEsdGhpcy5fZGV0ZXJtaW5lRGF0ZShhLGMsbmV3IERhdGUpKTthLnNlbGVjdGVkRGF5PQphLmN1cnJlbnREYXk9Yy5nZXREYXRlKCk7YS5kcmF3TW9udGg9YS5zZWxlY3RlZE1vbnRoPWEuY3VycmVudE1vbnRoPWMuZ2V0TW9udGgoKTthLmRyYXdZZWFyPWEuc2VsZWN0ZWRZZWFyPWEuY3VycmVudFllYXI9Yy5nZXRGdWxsWWVhcigpO2lmKChqIT1hLnNlbGVjdGVkTW9udGh8fG4hPWEuc2VsZWN0ZWRZZWFyKSYmIWgpdGhpcy5fbm90aWZ5Q2hhbmdlKGEpO3RoaXMuX2FkanVzdEluc3REYXRlKGEpO2lmKGEuaW5wdXQpYS5pbnB1dC52YWwoaT8iIjp0aGlzLl9mb3JtYXREYXRlKGEpKX0sX2dldERhdGU6ZnVuY3Rpb24oYSl7cmV0dXJuIWEuY3VycmVudFllYXJ8fGEuaW5wdXQmJmEuaW5wdXQudmFsKCk9PSIiP251bGw6dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUoYS5jdXJyZW50WWVhcixhLmN1cnJlbnRNb250aCxhLmN1cnJlbnREYXkpKX0sX2dlbmVyYXRlSFRNTDpmdW5jdGlvbihhKXt2YXIgYz1uZXcgRGF0ZTtjPXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKGMuZ2V0RnVsbFllYXIoKSwKYy5nZXRNb250aCgpLGMuZ2V0RGF0ZSgpKSk7dmFyIGg9dGhpcy5fZ2V0KGEsImlzUlRMIiksaT10aGlzLl9nZXQoYSwic2hvd0J1dHRvblBhbmVsIiksaj10aGlzLl9nZXQoYSwiaGlkZUlmTm9QcmV2TmV4dCIpLG49dGhpcy5fZ2V0KGEsIm5hdmlnYXRpb25Bc0RhdGVGb3JtYXQiKSxvPXRoaXMuX2dldE51bWJlck9mTW9udGhzKGEpLGw9dGhpcy5fZ2V0KGEsInNob3dDdXJyZW50QXRQb3MiKSxrPXRoaXMuX2dldChhLCJzdGVwTW9udGhzIiksbT1vWzBdIT0xfHxvWzFdIT0xLHA9dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QoIWEuY3VycmVudERheT9uZXcgRGF0ZSg5OTk5LDksOSk6bmV3IERhdGUoYS5jdXJyZW50WWVhcixhLmN1cnJlbnRNb250aCxhLmN1cnJlbnREYXkpKSxxPXRoaXMuX2dldE1pbk1heERhdGUoYSwibWluIikscz10aGlzLl9nZXRNaW5NYXhEYXRlKGEsIm1heCIpO2w9YS5kcmF3TW9udGgtbDt2YXIgcj1hLmRyYXdZZWFyO2lmKGw8MCl7bCs9MTI7ci0tfWlmKHMpe3ZhciB1PQp0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShzLmdldEZ1bGxZZWFyKCkscy5nZXRNb250aCgpLW9bMF0qb1sxXSsxLHMuZ2V0RGF0ZSgpKSk7Zm9yKHU9cSYmdTxxP3E6dTt0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShyLGwsMSkpPnU7KXtsLS07aWYobDwwKXtsPTExO3ItLX19fWEuZHJhd01vbnRoPWw7YS5kcmF3WWVhcj1yO3U9dGhpcy5fZ2V0KGEsInByZXZUZXh0Iik7dT0hbj91OnRoaXMuZm9ybWF0RGF0ZSh1LHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHIsbC1rLDEpKSx0aGlzLl9nZXRGb3JtYXRDb25maWcoYSkpO3U9dGhpcy5fY2FuQWRqdXN0TW9udGgoYSwtMSxyLGwpPyc8YSBjbGFzcz0idWktZGF0ZXBpY2tlci1wcmV2IHVpLWNvcm5lci1hbGwiIG9uY2xpY2s9IkRQX2pRdWVyeV8nK2crIi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKCcjIithLmlkKyInLCAtIitrKyIsICdNJyk7XCIgdGl0bGU9XCIiK3UrJyI+PHNwYW4gY2xhc3M9InVpLWljb24gdWktaWNvbi1jaXJjbGUtdHJpYW5nbGUtJysKKGg/ImUiOiJ3IikrJyI+Jyt1KyI8L3NwYW4+PC9hPiI6aj8iIjonPGEgY2xhc3M9InVpLWRhdGVwaWNrZXItcHJldiB1aS1jb3JuZXItYWxsIHVpLXN0YXRlLWRpc2FibGVkIiB0aXRsZT0iJyt1KyciPjxzcGFuIGNsYXNzPSJ1aS1pY29uIHVpLWljb24tY2lyY2xlLXRyaWFuZ2xlLScrKGg/ImUiOiJ3IikrJyI+Jyt1KyI8L3NwYW4+PC9hPiI7dmFyIHY9dGhpcy5fZ2V0KGEsIm5leHRUZXh0Iik7dj0hbj92OnRoaXMuZm9ybWF0RGF0ZSh2LHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHIsbCtrLDEpKSx0aGlzLl9nZXRGb3JtYXRDb25maWcoYSkpO2o9dGhpcy5fY2FuQWRqdXN0TW9udGgoYSwrMSxyLGwpPyc8YSBjbGFzcz0idWktZGF0ZXBpY2tlci1uZXh0IHVpLWNvcm5lci1hbGwiIG9uY2xpY2s9IkRQX2pRdWVyeV8nK2crIi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKCcjIithLmlkKyInLCArIitrKyIsICdNJyk7XCIgdGl0bGU9XCIiK3YrJyI+PHNwYW4gY2xhc3M9InVpLWljb24gdWktaWNvbi1jaXJjbGUtdHJpYW5nbGUtJysKKGg/InciOiJlIikrJyI+Jyt2KyI8L3NwYW4+PC9hPiI6aj8iIjonPGEgY2xhc3M9InVpLWRhdGVwaWNrZXItbmV4dCB1aS1jb3JuZXItYWxsIHVpLXN0YXRlLWRpc2FibGVkIiB0aXRsZT0iJyt2KyciPjxzcGFuIGNsYXNzPSJ1aS1pY29uIHVpLWljb24tY2lyY2xlLXRyaWFuZ2xlLScrKGg/InciOiJlIikrJyI+Jyt2KyI8L3NwYW4+PC9hPiI7az10aGlzLl9nZXQoYSwiY3VycmVudFRleHQiKTt2PXRoaXMuX2dldChhLCJnb3RvQ3VycmVudCIpJiZhLmN1cnJlbnREYXk/cDpjO2s9IW4/azp0aGlzLmZvcm1hdERhdGUoayx2LHRoaXMuX2dldEZvcm1hdENvbmZpZyhhKSk7bj0hYS5pbmxpbmU/JzxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0idWktZGF0ZXBpY2tlci1jbG9zZSB1aS1zdGF0ZS1kZWZhdWx0IHVpLXByaW9yaXR5LXByaW1hcnkgdWktY29ybmVyLWFsbCIgb25jbGljaz0iRFBfalF1ZXJ5XycrZysnLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCk7Ij4nK3RoaXMuX2dldChhLAoiY2xvc2VUZXh0IikrIjwvYnV0dG9uPiI6IiI7aT1pPyc8ZGl2IGNsYXNzPSJ1aS1kYXRlcGlja2VyLWJ1dHRvbnBhbmUgdWktd2lkZ2V0LWNvbnRlbnQiPicrKGg/bjoiIikrKHRoaXMuX2lzSW5SYW5nZShhLHYpPyc8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9InVpLWRhdGVwaWNrZXItY3VycmVudCB1aS1zdGF0ZS1kZWZhdWx0IHVpLXByaW9yaXR5LXNlY29uZGFyeSB1aS1jb3JuZXItYWxsIiBvbmNsaWNrPSJEUF9qUXVlcnlfJytnKyIuZGF0ZXBpY2tlci5fZ290b1RvZGF5KCcjIithLmlkKyInKTtcIj4iK2srIjwvYnV0dG9uPiI6IiIpKyhoPyIiOm4pKyI8L2Rpdj4iOiIiO249cGFyc2VJbnQodGhpcy5fZ2V0KGEsImZpcnN0RGF5IiksMTApO249aXNOYU4obik/MDpuO2s9dGhpcy5fZ2V0KGEsInNob3dXZWVrIik7dj10aGlzLl9nZXQoYSwiZGF5TmFtZXMiKTt0aGlzLl9nZXQoYSwiZGF5TmFtZXNTaG9ydCIpO3ZhciB3PXRoaXMuX2dldChhLCJkYXlOYW1lc01pbiIpLHk9CnRoaXMuX2dldChhLCJtb250aE5hbWVzIiksQj10aGlzLl9nZXQoYSwibW9udGhOYW1lc1Nob3J0IikseD10aGlzLl9nZXQoYSwiYmVmb3JlU2hvd0RheSIpLEM9dGhpcy5fZ2V0KGEsInNob3dPdGhlck1vbnRocyIpLEo9dGhpcy5fZ2V0KGEsInNlbGVjdE90aGVyTW9udGhzIik7dGhpcy5fZ2V0KGEsImNhbGN1bGF0ZVdlZWsiKTtmb3IodmFyIE09dGhpcy5fZ2V0RGVmYXVsdERhdGUoYSksSz0iIixHPTA7RzxvWzBdO0crKyl7Zm9yKHZhciBOPSIiLEg9MDtIPG9bMV07SCsrKXt2YXIgTz10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShyLGwsYS5zZWxlY3RlZERheSkpLEE9IiB1aS1jb3JuZXItYWxsIixEPSIiO2lmKG0pe0QrPSc8ZGl2IGNsYXNzPSJ1aS1kYXRlcGlja2VyLWdyb3VwJztpZihvWzFdPjEpc3dpdGNoKEgpe2Nhc2UgMDpEKz0iIHVpLWRhdGVwaWNrZXItZ3JvdXAtZmlyc3QiO0E9IiB1aS1jb3JuZXItIisoaD8icmlnaHQiOiJsZWZ0Iik7YnJlYWs7Y2FzZSBvWzFdLQoxOkQrPSIgdWktZGF0ZXBpY2tlci1ncm91cC1sYXN0IjtBPSIgdWktY29ybmVyLSIrKGg/ImxlZnQiOiJyaWdodCIpO2JyZWFrO2RlZmF1bHQ6RCs9IiB1aS1kYXRlcGlja2VyLWdyb3VwLW1pZGRsZSI7QT0iIjticmVha31EKz0nIj4nfUQrPSc8ZGl2IGNsYXNzPSJ1aS1kYXRlcGlja2VyLWhlYWRlciB1aS13aWRnZXQtaGVhZGVyIHVpLWhlbHBlci1jbGVhcmZpeCcrQSsnIj4nKygvYWxsfGxlZnQvLnRlc3QoQSkmJkc9PTA/aD9qOnU6IiIpKygvYWxsfHJpZ2h0Ly50ZXN0KEEpJiZHPT0wP2g/dTpqOiIiKSt0aGlzLl9nZW5lcmF0ZU1vbnRoWWVhckhlYWRlcihhLGwscixxLHMsRz4wfHxIPjAseSxCKSsnPC9kaXY+PHRhYmxlIGNsYXNzPSJ1aS1kYXRlcGlja2VyLWNhbGVuZGFyIj48dGhlYWQ+PHRyPic7dmFyIEU9az8nPHRoIGNsYXNzPSJ1aS1kYXRlcGlja2VyLXdlZWstY29sIj4nK3RoaXMuX2dldChhLCJ3ZWVrSGVhZGVyIikrIjwvdGg+IjoiIjtmb3IoQT0wO0E8NztBKyspe3ZhciB6PQooQStuKSU3O0UrPSI8dGgiKygoQStuKzYpJTc+PTU/JyBjbGFzcz0idWktZGF0ZXBpY2tlci13ZWVrLWVuZCInOiIiKSsnPjxzcGFuIHRpdGxlPSInK3Zbel0rJyI+Jyt3W3pdKyI8L3NwYW4+PC90aD4ifUQrPUUrIjwvdHI+PC90aGVhZD48dGJvZHk+IjtFPXRoaXMuX2dldERheXNJbk1vbnRoKHIsbCk7aWYocj09YS5zZWxlY3RlZFllYXImJmw9PWEuc2VsZWN0ZWRNb250aClhLnNlbGVjdGVkRGF5PU1hdGgubWluKGEuc2VsZWN0ZWREYXksRSk7QT0odGhpcy5fZ2V0Rmlyc3REYXlPZk1vbnRoKHIsbCktbis3KSU3O0U9bT82Ok1hdGguY2VpbCgoQStFKS83KTt6PXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHIsbCwxLUEpKTtmb3IodmFyIFA9MDtQPEU7UCsrKXtEKz0iPHRyPiI7dmFyIFE9IWs/IiI6Jzx0ZCBjbGFzcz0idWktZGF0ZXBpY2tlci13ZWVrLWNvbCI+Jyt0aGlzLl9nZXQoYSwiY2FsY3VsYXRlV2VlayIpKHopKyI8L3RkPiI7Zm9yKEE9MDtBPDc7QSsrKXt2YXIgST0KeD94LmFwcGx5KGEuaW5wdXQ/YS5pbnB1dFswXTpudWxsLFt6XSk6W3RydWUsIiJdLEY9ei5nZXRNb250aCgpIT1sLEw9RiYmIUp8fCFJWzBdfHxxJiZ6PHF8fHMmJno+cztRKz0nPHRkIGNsYXNzPSInKygoQStuKzYpJTc+PTU/IiB1aS1kYXRlcGlja2VyLXdlZWstZW5kIjoiIikrKEY/IiB1aS1kYXRlcGlja2VyLW90aGVyLW1vbnRoIjoiIikrKHouZ2V0VGltZSgpPT1PLmdldFRpbWUoKSYmbD09YS5zZWxlY3RlZE1vbnRoJiZhLl9rZXlFdmVudHx8TS5nZXRUaW1lKCk9PXouZ2V0VGltZSgpJiZNLmdldFRpbWUoKT09Ty5nZXRUaW1lKCk/IiAiK3RoaXMuX2RheU92ZXJDbGFzczoiIikrKEw/IiAiK3RoaXMuX3Vuc2VsZWN0YWJsZUNsYXNzKyIgdWktc3RhdGUtZGlzYWJsZWQiOiIiKSsoRiYmIUM/IiI6IiAiK0lbMV0rKHouZ2V0VGltZSgpPT1wLmdldFRpbWUoKT8iICIrdGhpcy5fY3VycmVudENsYXNzOiIiKSsoei5nZXRUaW1lKCk9PWMuZ2V0VGltZSgpPyIgdWktZGF0ZXBpY2tlci10b2RheSI6CiIiKSkrJyInKygoIUZ8fEMpJiZJWzJdPycgdGl0bGU9IicrSVsyXSsnIic6IiIpKyhMPyIiOicgb25jbGljaz0iRFBfalF1ZXJ5XycrZysiLmRhdGVwaWNrZXIuX3NlbGVjdERheSgnIyIrYS5pZCsiJywiK3ouZ2V0TW9udGgoKSsiLCIrei5nZXRGdWxsWWVhcigpKycsIHRoaXMpO3JldHVybiBmYWxzZTsiJykrIj4iKyhGJiYhQz8iJiN4YTA7IjpMPyc8c3BhbiBjbGFzcz0idWktc3RhdGUtZGVmYXVsdCI+Jyt6LmdldERhdGUoKSsiPC9zcGFuPiI6JzxhIGNsYXNzPSJ1aS1zdGF0ZS1kZWZhdWx0Jysoei5nZXRUaW1lKCk9PWMuZ2V0VGltZSgpPyIgdWktc3RhdGUtaGlnaGxpZ2h0IjoiIikrKHouZ2V0VGltZSgpPT1wLmdldFRpbWUoKT8iIHVpLXN0YXRlLWFjdGl2ZSI6IiIpKyhGPyIgdWktcHJpb3JpdHktc2Vjb25kYXJ5IjoiIikrJyIgaHJlZj0iIyI+Jyt6LmdldERhdGUoKSsiPC9hPiIpKyI8L3RkPiI7ei5zZXREYXRlKHouZ2V0RGF0ZSgpKzEpO3o9dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3Qoeil9RCs9ClErIjwvdHI+In1sKys7aWYobD4xMSl7bD0wO3IrK31EKz0iPC90Ym9keT48L3RhYmxlPiIrKG0/IjwvZGl2PiIrKG9bMF0+MCYmSD09b1sxXS0xPyc8ZGl2IGNsYXNzPSJ1aS1kYXRlcGlja2VyLXJvdy1icmVhayI+PC9kaXY+JzoiIik6IiIpO04rPUR9Sys9Tn1LKz1pKyhiLmJyb3dzZXIubXNpZSYmcGFyc2VJbnQoYi5icm93c2VyLnZlcnNpb24sMTApPDcmJiFhLmlubGluZT8nPGlmcmFtZSBzcmM9ImphdmFzY3JpcHQ6ZmFsc2U7IiBjbGFzcz0idWktZGF0ZXBpY2tlci1jb3ZlciIgZnJhbWVib3JkZXI9IjAiPjwvaWZyYW1lPic6IiIpO2EuX2tleUV2ZW50PWZhbHNlO3JldHVybiBLfSxfZ2VuZXJhdGVNb250aFllYXJIZWFkZXI6ZnVuY3Rpb24oYSxjLGgsaSxqLG4sbyxsKXt2YXIgaz10aGlzLl9nZXQoYSwiY2hhbmdlTW9udGgiKSxtPXRoaXMuX2dldChhLCJjaGFuZ2VZZWFyIikscD10aGlzLl9nZXQoYSwic2hvd01vbnRoQWZ0ZXJZZWFyIikscT0nPGRpdiBjbGFzcz0idWktZGF0ZXBpY2tlci10aXRsZSI+JywKcz0iIjtpZihufHwhaylzKz0nPHNwYW4gY2xhc3M9InVpLWRhdGVwaWNrZXItbW9udGgiPicrb1tjXSsiPC9zcGFuPiI7ZWxzZXtvPWkmJmkuZ2V0RnVsbFllYXIoKT09aDt2YXIgcj1qJiZqLmdldEZ1bGxZZWFyKCk9PWg7cys9JzxzZWxlY3QgY2xhc3M9InVpLWRhdGVwaWNrZXItbW9udGgiIG9uY2hhbmdlPSJEUF9qUXVlcnlfJytnKyIuZGF0ZXBpY2tlci5fc2VsZWN0TW9udGhZZWFyKCcjIithLmlkKyInLCB0aGlzLCAnTScpO1wiIG9uY2xpY2s9XCJEUF9qUXVlcnlfIitnKyIuZGF0ZXBpY2tlci5fY2xpY2tNb250aFllYXIoJyMiK2EuaWQrIicpO1wiPiI7Zm9yKHZhciB1PTA7dTwxMjt1KyspaWYoKCFvfHx1Pj1pLmdldE1vbnRoKCkpJiYoIXJ8fHU8PWouZ2V0TW9udGgoKSkpcys9JzxvcHRpb24gdmFsdWU9IicrdSsnIicrKHU9PWM/JyBzZWxlY3RlZD0ic2VsZWN0ZWQiJzoiIikrIj4iK2xbdV0rIjwvb3B0aW9uPiI7cys9Ijwvc2VsZWN0PiJ9cHx8KHErPXMrKG58fCEoayYmCm0pPyImI3hhMDsiOiIiKSk7aWYoIWEueWVhcnNodG1sKXthLnllYXJzaHRtbD0iIjtpZihufHwhbSlxKz0nPHNwYW4gY2xhc3M9InVpLWRhdGVwaWNrZXIteWVhciI+JytoKyI8L3NwYW4+IjtlbHNle2w9dGhpcy5fZ2V0KGEsInllYXJSYW5nZSIpLnNwbGl0KCI6Iik7dmFyIHY9KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpO289ZnVuY3Rpb24odyl7dz13Lm1hdGNoKC9jWystXS4qLyk/aCtwYXJzZUludCh3LnN1YnN0cmluZygxKSwxMCk6dy5tYXRjaCgvWystXS4qLyk/ditwYXJzZUludCh3LDEwKTpwYXJzZUludCh3LDEwKTtyZXR1cm4gaXNOYU4odyk/djp3fTtjPW8obFswXSk7bD1NYXRoLm1heChjLG8obFsxXXx8IiIpKTtjPWk/TWF0aC5tYXgoYyxpLmdldEZ1bGxZZWFyKCkpOmM7bD1qP01hdGgubWluKGwsai5nZXRGdWxsWWVhcigpKTpsO2ZvcihhLnllYXJzaHRtbCs9JzxzZWxlY3QgY2xhc3M9InVpLWRhdGVwaWNrZXIteWVhciIgb25jaGFuZ2U9IkRQX2pRdWVyeV8nK2crIi5kYXRlcGlja2VyLl9zZWxlY3RNb250aFllYXIoJyMiKwphLmlkKyInLCB0aGlzLCAnWScpO1wiIG9uY2xpY2s9XCJEUF9qUXVlcnlfIitnKyIuZGF0ZXBpY2tlci5fY2xpY2tNb250aFllYXIoJyMiK2EuaWQrIicpO1wiPiI7Yzw9bDtjKyspYS55ZWFyc2h0bWwrPSc8b3B0aW9uIHZhbHVlPSInK2MrJyInKyhjPT1oPycgc2VsZWN0ZWQ9InNlbGVjdGVkIic6IiIpKyI+IitjKyI8L29wdGlvbj4iO2EueWVhcnNodG1sKz0iPC9zZWxlY3Q+IjtpZihiLmJyb3dzZXIubW96aWxsYSlxKz0nPHNlbGVjdCBjbGFzcz0idWktZGF0ZXBpY2tlci15ZWFyIj48b3B0aW9uIHZhbHVlPSInK2grJyIgc2VsZWN0ZWQ9InNlbGVjdGVkIj4nK2grIjwvb3B0aW9uPjwvc2VsZWN0PiI7ZWxzZXtxKz1hLnllYXJzaHRtbDthLnllYXJzaHRtbD1udWxsfX19cSs9dGhpcy5fZ2V0KGEsInllYXJTdWZmaXgiKTtpZihwKXErPShufHwhKGsmJm0pPyImI3hhMDsiOiIiKStzO3ErPSI8L2Rpdj4iO3JldHVybiBxfSxfYWRqdXN0SW5zdERhdGU6ZnVuY3Rpb24oYSxjLGgpe3ZhciBpPQphLmRyYXdZZWFyKyhoPT0iWSI/YzowKSxqPWEuZHJhd01vbnRoKyhoPT0iTSI/YzowKTtjPU1hdGgubWluKGEuc2VsZWN0ZWREYXksdGhpcy5fZ2V0RGF5c0luTW9udGgoaSxqKSkrKGg9PSJEIj9jOjApO2k9dGhpcy5fcmVzdHJpY3RNaW5NYXgoYSx0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShpLGosYykpKTthLnNlbGVjdGVkRGF5PWkuZ2V0RGF0ZSgpO2EuZHJhd01vbnRoPWEuc2VsZWN0ZWRNb250aD1pLmdldE1vbnRoKCk7YS5kcmF3WWVhcj1hLnNlbGVjdGVkWWVhcj1pLmdldEZ1bGxZZWFyKCk7aWYoaD09Ik0ifHxoPT0iWSIpdGhpcy5fbm90aWZ5Q2hhbmdlKGEpfSxfcmVzdHJpY3RNaW5NYXg6ZnVuY3Rpb24oYSxjKXt2YXIgaD10aGlzLl9nZXRNaW5NYXhEYXRlKGEsIm1pbiIpO2E9dGhpcy5fZ2V0TWluTWF4RGF0ZShhLCJtYXgiKTtjPWgmJmM8aD9oOmM7cmV0dXJuIGM9YSYmYz5hP2E6Y30sX25vdGlmeUNoYW5nZTpmdW5jdGlvbihhKXt2YXIgYz10aGlzLl9nZXQoYSwKIm9uQ2hhbmdlTW9udGhZZWFyIik7aWYoYyljLmFwcGx5KGEuaW5wdXQ/YS5pbnB1dFswXTpudWxsLFthLnNlbGVjdGVkWWVhcixhLnNlbGVjdGVkTW9udGgrMSxhXSl9LF9nZXROdW1iZXJPZk1vbnRoczpmdW5jdGlvbihhKXthPXRoaXMuX2dldChhLCJudW1iZXJPZk1vbnRocyIpO3JldHVybiBhPT1udWxsP1sxLDFdOnR5cGVvZiBhPT0ibnVtYmVyIj9bMSxhXTphfSxfZ2V0TWluTWF4RGF0ZTpmdW5jdGlvbihhLGMpe3JldHVybiB0aGlzLl9kZXRlcm1pbmVEYXRlKGEsdGhpcy5fZ2V0KGEsYysiRGF0ZSIpLG51bGwpfSxfZ2V0RGF5c0luTW9udGg6ZnVuY3Rpb24oYSxjKXtyZXR1cm4gMzItdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUoYSxjLDMyKSkuZ2V0RGF0ZSgpfSxfZ2V0Rmlyc3REYXlPZk1vbnRoOmZ1bmN0aW9uKGEsYyl7cmV0dXJuKG5ldyBEYXRlKGEsYywxKSkuZ2V0RGF5KCl9LF9jYW5BZGp1c3RNb250aDpmdW5jdGlvbihhLGMsaCxpKXt2YXIgaj10aGlzLl9nZXROdW1iZXJPZk1vbnRocyhhKTsKaD10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShoLGkrKGM8MD9jOmpbMF0qalsxXSksMSkpO2M8MCYmaC5zZXREYXRlKHRoaXMuX2dldERheXNJbk1vbnRoKGguZ2V0RnVsbFllYXIoKSxoLmdldE1vbnRoKCkpKTtyZXR1cm4gdGhpcy5faXNJblJhbmdlKGEsaCl9LF9pc0luUmFuZ2U6ZnVuY3Rpb24oYSxjKXt2YXIgaD10aGlzLl9nZXRNaW5NYXhEYXRlKGEsIm1pbiIpO2E9dGhpcy5fZ2V0TWluTWF4RGF0ZShhLCJtYXgiKTtyZXR1cm4oIWh8fGMuZ2V0VGltZSgpPj1oLmdldFRpbWUoKSkmJighYXx8Yy5nZXRUaW1lKCk8PWEuZ2V0VGltZSgpKX0sX2dldEZvcm1hdENvbmZpZzpmdW5jdGlvbihhKXt2YXIgYz10aGlzLl9nZXQoYSwic2hvcnRZZWFyQ3V0b2ZmIik7Yz10eXBlb2YgYyE9InN0cmluZyI/YzoobmV3IERhdGUpLmdldEZ1bGxZZWFyKCklMTAwK3BhcnNlSW50KGMsMTApO3JldHVybntzaG9ydFllYXJDdXRvZmY6YyxkYXlOYW1lc1Nob3J0OnRoaXMuX2dldChhLAoiZGF5TmFtZXNTaG9ydCIpLGRheU5hbWVzOnRoaXMuX2dldChhLCJkYXlOYW1lcyIpLG1vbnRoTmFtZXNTaG9ydDp0aGlzLl9nZXQoYSwibW9udGhOYW1lc1Nob3J0IiksbW9udGhOYW1lczp0aGlzLl9nZXQoYSwibW9udGhOYW1lcyIpfX0sX2Zvcm1hdERhdGU6ZnVuY3Rpb24oYSxjLGgsaSl7aWYoIWMpe2EuY3VycmVudERheT1hLnNlbGVjdGVkRGF5O2EuY3VycmVudE1vbnRoPWEuc2VsZWN0ZWRNb250aDthLmN1cnJlbnRZZWFyPWEuc2VsZWN0ZWRZZWFyfWM9Yz90eXBlb2YgYz09Im9iamVjdCI/Yzp0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShpLGgsYykpOnRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKGEuY3VycmVudFllYXIsYS5jdXJyZW50TW9udGgsYS5jdXJyZW50RGF5KSk7cmV0dXJuIHRoaXMuZm9ybWF0RGF0ZSh0aGlzLl9nZXQoYSwiZGF0ZUZvcm1hdCIpLGMsdGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKGEpKX19KTtiLmZuLmRhdGVwaWNrZXI9CmZ1bmN0aW9uKGEpe2lmKCF0aGlzLmxlbmd0aClyZXR1cm4gdGhpcztpZighYi5kYXRlcGlja2VyLmluaXRpYWxpemVkKXtiKGRvY3VtZW50KS5tb3VzZWRvd24oYi5kYXRlcGlja2VyLl9jaGVja0V4dGVybmFsQ2xpY2spLmZpbmQoImJvZHkiKS5hcHBlbmQoYi5kYXRlcGlja2VyLmRwRGl2KTtiLmRhdGVwaWNrZXIuaW5pdGlhbGl6ZWQ9dHJ1ZX12YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7aWYodHlwZW9mIGE9PSJzdHJpbmciJiYoYT09ImlzRGlzYWJsZWQifHxhPT0iZ2V0RGF0ZSJ8fGE9PSJ3aWRnZXQiKSlyZXR1cm4gYi5kYXRlcGlja2VyWyJfIithKyJEYXRlcGlja2VyIl0uYXBwbHkoYi5kYXRlcGlja2VyLFt0aGlzWzBdXS5jb25jYXQoYykpO2lmKGE9PSJvcHRpb24iJiZhcmd1bWVudHMubGVuZ3RoPT0yJiZ0eXBlb2YgYXJndW1lbnRzWzFdPT0ic3RyaW5nIilyZXR1cm4gYi5kYXRlcGlja2VyWyJfIithKyJEYXRlcGlja2VyIl0uYXBwbHkoYi5kYXRlcGlja2VyLApbdGhpc1swXV0uY29uY2F0KGMpKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dHlwZW9mIGE9PSJzdHJpbmciP2IuZGF0ZXBpY2tlclsiXyIrYSsiRGF0ZXBpY2tlciJdLmFwcGx5KGIuZGF0ZXBpY2tlcixbdGhpc10uY29uY2F0KGMpKTpiLmRhdGVwaWNrZXIuX2F0dGFjaERhdGVwaWNrZXIodGhpcyxhKX0pfTtiLmRhdGVwaWNrZXI9bmV3IGU7Yi5kYXRlcGlja2VyLmluaXRpYWxpemVkPWZhbHNlO2IuZGF0ZXBpY2tlci51dWlkPShuZXcgRGF0ZSkuZ2V0VGltZSgpO2IuZGF0ZXBpY2tlci52ZXJzaW9uPSIxLjguMTIiO3dpbmRvd1siRFBfalF1ZXJ5XyIrZ109Yn0pKGpRdWVyeSk7CihmdW5jdGlvbihiLGQpe3ZhciBlPXtidXR0b25zOnRydWUsaGVpZ2h0OnRydWUsbWF4SGVpZ2h0OnRydWUsbWF4V2lkdGg6dHJ1ZSxtaW5IZWlnaHQ6dHJ1ZSxtaW5XaWR0aDp0cnVlLHdpZHRoOnRydWV9LGY9e21heEhlaWdodDp0cnVlLG1heFdpZHRoOnRydWUsbWluSGVpZ2h0OnRydWUsbWluV2lkdGg6dHJ1ZX0sZz1iLmF0dHJGbnx8e3ZhbDp0cnVlLGNzczp0cnVlLGh0bWw6dHJ1ZSx0ZXh0OnRydWUsZGF0YTp0cnVlLHdpZHRoOnRydWUsaGVpZ2h0OnRydWUsb2Zmc2V0OnRydWUsY2xpY2s6dHJ1ZX07Yi53aWRnZXQoInVpLmRpYWxvZyIse29wdGlvbnM6e2F1dG9PcGVuOnRydWUsYnV0dG9uczp7fSxjbG9zZU9uRXNjYXBlOnRydWUsY2xvc2VUZXh0OiJjbG9zZSIsZGlhbG9nQ2xhc3M6IiIsZHJhZ2dhYmxlOnRydWUsaGlkZTpudWxsLGhlaWdodDoiYXV0byIsbWF4SGVpZ2h0OmZhbHNlLG1heFdpZHRoOmZhbHNlLG1pbkhlaWdodDoxNTAsbWluV2lkdGg6MTUwLG1vZGFsOmZhbHNlLApwb3NpdGlvbjp7bXk6ImNlbnRlciIsYXQ6ImNlbnRlciIsY29sbGlzaW9uOiJmaXQiLHVzaW5nOmZ1bmN0aW9uKGEpe3ZhciBjPWIodGhpcykuY3NzKGEpLm9mZnNldCgpLnRvcDtjPDAmJmIodGhpcykuY3NzKCJ0b3AiLGEudG9wLWMpfX0scmVzaXphYmxlOnRydWUsc2hvdzpudWxsLHN0YWNrOnRydWUsdGl0bGU6IiIsd2lkdGg6MzAwLHpJbmRleDoxRTN9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLm9yaWdpbmFsVGl0bGU9dGhpcy5lbGVtZW50LmF0dHIoInRpdGxlIik7aWYodHlwZW9mIHRoaXMub3JpZ2luYWxUaXRsZSE9PSJzdHJpbmciKXRoaXMub3JpZ2luYWxUaXRsZT0iIjt0aGlzLm9wdGlvbnMudGl0bGU9dGhpcy5vcHRpb25zLnRpdGxlfHx0aGlzLm9yaWdpbmFsVGl0bGU7dmFyIGE9dGhpcyxjPWEub3B0aW9ucyxoPWMudGl0bGV8fCImIzE2MDsiLGk9Yi51aS5kaWFsb2cuZ2V0VGl0bGVJZChhLmVsZW1lbnQpLGo9KGEudWlEaWFsb2c9YigiPGRpdj48L2Rpdj4iKSkuYXBwZW5kVG8oZG9jdW1lbnQuYm9keSkuaGlkZSgpLmFkZENsYXNzKCJ1aS1kaWFsb2cgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1hbGwgIisKYy5kaWFsb2dDbGFzcykuY3NzKHt6SW5kZXg6Yy56SW5kZXh9KS5hdHRyKCJ0YWJJbmRleCIsLTEpLmNzcygib3V0bGluZSIsMCkua2V5ZG93bihmdW5jdGlvbihsKXtpZihjLmNsb3NlT25Fc2NhcGUmJmwua2V5Q29kZSYmbC5rZXlDb2RlPT09Yi51aS5rZXlDb2RlLkVTQ0FQRSl7YS5jbG9zZShsKTtsLnByZXZlbnREZWZhdWx0KCl9fSkuYXR0cih7cm9sZToiZGlhbG9nIiwiYXJpYS1sYWJlbGxlZGJ5IjppfSkubW91c2Vkb3duKGZ1bmN0aW9uKGwpe2EubW92ZVRvVG9wKGZhbHNlLGwpfSk7YS5lbGVtZW50LnNob3coKS5yZW1vdmVBdHRyKCJ0aXRsZSIpLmFkZENsYXNzKCJ1aS1kaWFsb2ctY29udGVudCB1aS13aWRnZXQtY29udGVudCIpLmFwcGVuZFRvKGopO3ZhciBuPShhLnVpRGlhbG9nVGl0bGViYXI9YigiPGRpdj48L2Rpdj4iKSkuYWRkQ2xhc3MoInVpLWRpYWxvZy10aXRsZWJhciB1aS13aWRnZXQtaGVhZGVyIHVpLWNvcm5lci1hbGwgdWktaGVscGVyLWNsZWFyZml4IikucHJlcGVuZFRvKGopLApvPWIoJzxhIGhyZWY9IiMiPjwvYT4nKS5hZGRDbGFzcygidWktZGlhbG9nLXRpdGxlYmFyLWNsb3NlIHVpLWNvcm5lci1hbGwiKS5hdHRyKCJyb2xlIiwiYnV0dG9uIikuaG92ZXIoZnVuY3Rpb24oKXtvLmFkZENsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpfSxmdW5jdGlvbigpe28ucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIil9KS5mb2N1cyhmdW5jdGlvbigpe28uYWRkQ2xhc3MoInVpLXN0YXRlLWZvY3VzIil9KS5ibHVyKGZ1bmN0aW9uKCl7by5yZW1vdmVDbGFzcygidWktc3RhdGUtZm9jdXMiKX0pLmNsaWNrKGZ1bmN0aW9uKGwpe2EuY2xvc2UobCk7cmV0dXJuIGZhbHNlfSkuYXBwZW5kVG8obik7KGEudWlEaWFsb2dUaXRsZWJhckNsb3NlVGV4dD1iKCI8c3Bhbj48L3NwYW4+IikpLmFkZENsYXNzKCJ1aS1pY29uIHVpLWljb24tY2xvc2V0aGljayIpLnRleHQoYy5jbG9zZVRleHQpLmFwcGVuZFRvKG8pO2IoIjxzcGFuPjwvc3Bhbj4iKS5hZGRDbGFzcygidWktZGlhbG9nLXRpdGxlIikuYXR0cigiaWQiLAppKS5odG1sKGgpLnByZXBlbmRUbyhuKTtpZihiLmlzRnVuY3Rpb24oYy5iZWZvcmVjbG9zZSkmJiFiLmlzRnVuY3Rpb24oYy5iZWZvcmVDbG9zZSkpYy5iZWZvcmVDbG9zZT1jLmJlZm9yZWNsb3NlO24uZmluZCgiKiIpLmFkZChuKS5kaXNhYmxlU2VsZWN0aW9uKCk7Yy5kcmFnZ2FibGUmJmIuZm4uZHJhZ2dhYmxlJiZhLl9tYWtlRHJhZ2dhYmxlKCk7Yy5yZXNpemFibGUmJmIuZm4ucmVzaXphYmxlJiZhLl9tYWtlUmVzaXphYmxlKCk7YS5fY3JlYXRlQnV0dG9ucyhjLmJ1dHRvbnMpO2EuX2lzT3Blbj1mYWxzZTtiLmZuLmJnaWZyYW1lJiZqLmJnaWZyYW1lKCl9LF9pbml0OmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmF1dG9PcGVuJiZ0aGlzLm9wZW4oKX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5vdmVybGF5JiZhLm92ZXJsYXkuZGVzdHJveSgpO2EudWlEaWFsb2cuaGlkZSgpO2EuZWxlbWVudC51bmJpbmQoIi5kaWFsb2ciKS5yZW1vdmVEYXRhKCJkaWFsb2ciKS5yZW1vdmVDbGFzcygidWktZGlhbG9nLWNvbnRlbnQgdWktd2lkZ2V0LWNvbnRlbnQiKS5oaWRlKCkuYXBwZW5kVG8oImJvZHkiKTsKYS51aURpYWxvZy5yZW1vdmUoKTthLm9yaWdpbmFsVGl0bGUmJmEuZWxlbWVudC5hdHRyKCJ0aXRsZSIsYS5vcmlnaW5hbFRpdGxlKTtyZXR1cm4gYX0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudWlEaWFsb2d9LGNsb3NlOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMsaCxpO2lmKGZhbHNlIT09Yy5fdHJpZ2dlcigiYmVmb3JlQ2xvc2UiLGEpKXtjLm92ZXJsYXkmJmMub3ZlcmxheS5kZXN0cm95KCk7Yy51aURpYWxvZy51bmJpbmQoImtleXByZXNzLnVpLWRpYWxvZyIpO2MuX2lzT3Blbj1mYWxzZTtpZihjLm9wdGlvbnMuaGlkZSljLnVpRGlhbG9nLmhpZGUoYy5vcHRpb25zLmhpZGUsZnVuY3Rpb24oKXtjLl90cmlnZ2VyKCJjbG9zZSIsYSl9KTtlbHNle2MudWlEaWFsb2cuaGlkZSgpO2MuX3RyaWdnZXIoImNsb3NlIixhKX1iLnVpLmRpYWxvZy5vdmVybGF5LnJlc2l6ZSgpO2lmKGMub3B0aW9ucy5tb2RhbCl7aD0wO2IoIi51aS1kaWFsb2ciKS5lYWNoKGZ1bmN0aW9uKCl7aWYodGhpcyE9PQpjLnVpRGlhbG9nWzBdKXtpPWIodGhpcykuY3NzKCJ6LWluZGV4Iik7aXNOYU4oaSl8fChoPU1hdGgubWF4KGgsaSkpfX0pO2IudWkuZGlhbG9nLm1heFo9aH1yZXR1cm4gY319LGlzT3BlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc09wZW59LG1vdmVUb1RvcDpmdW5jdGlvbihhLGMpe3ZhciBoPXRoaXMsaT1oLm9wdGlvbnM7aWYoaS5tb2RhbCYmIWF8fCFpLnN0YWNrJiYhaS5tb2RhbClyZXR1cm4gaC5fdHJpZ2dlcigiZm9jdXMiLGMpO2lmKGkuekluZGV4PmIudWkuZGlhbG9nLm1heFopYi51aS5kaWFsb2cubWF4Wj1pLnpJbmRleDtpZihoLm92ZXJsYXkpe2IudWkuZGlhbG9nLm1heForPTE7aC5vdmVybGF5LiRlbC5jc3MoInotaW5kZXgiLGIudWkuZGlhbG9nLm92ZXJsYXkubWF4Wj1iLnVpLmRpYWxvZy5tYXhaKX1hPXtzY3JvbGxUb3A6aC5lbGVtZW50LmF0dHIoInNjcm9sbFRvcCIpLHNjcm9sbExlZnQ6aC5lbGVtZW50LmF0dHIoInNjcm9sbExlZnQiKX07Yi51aS5kaWFsb2cubWF4Wis9CjE7aC51aURpYWxvZy5jc3MoInotaW5kZXgiLGIudWkuZGlhbG9nLm1heFopO2guZWxlbWVudC5hdHRyKGEpO2guX3RyaWdnZXIoImZvY3VzIixjKTtyZXR1cm4gaH0sb3BlbjpmdW5jdGlvbigpe2lmKCF0aGlzLl9pc09wZW4pe3ZhciBhPXRoaXMsYz1hLm9wdGlvbnMsaD1hLnVpRGlhbG9nO2Eub3ZlcmxheT1jLm1vZGFsP25ldyBiLnVpLmRpYWxvZy5vdmVybGF5KGEpOm51bGw7YS5fc2l6ZSgpO2EuX3Bvc2l0aW9uKGMucG9zaXRpb24pO2guc2hvdyhjLnNob3cpO2EubW92ZVRvVG9wKHRydWUpO2MubW9kYWwmJmguYmluZCgia2V5cHJlc3MudWktZGlhbG9nIixmdW5jdGlvbihpKXtpZihpLmtleUNvZGU9PT1iLnVpLmtleUNvZGUuVEFCKXt2YXIgaj1iKCI6dGFiYmFibGUiLHRoaXMpLG49ai5maWx0ZXIoIjpmaXJzdCIpO2o9ai5maWx0ZXIoIjpsYXN0Iik7aWYoaS50YXJnZXQ9PT1qWzBdJiYhaS5zaGlmdEtleSl7bi5mb2N1cygxKTtyZXR1cm4gZmFsc2V9ZWxzZSBpZihpLnRhcmdldD09PQpuWzBdJiZpLnNoaWZ0S2V5KXtqLmZvY3VzKDEpO3JldHVybiBmYWxzZX19fSk7YihhLmVsZW1lbnQuZmluZCgiOnRhYmJhYmxlIikuZ2V0KCkuY29uY2F0KGguZmluZCgiLnVpLWRpYWxvZy1idXR0b25wYW5lIDp0YWJiYWJsZSIpLmdldCgpLmNvbmNhdChoLmdldCgpKSkpLmVxKDApLmZvY3VzKCk7YS5faXNPcGVuPXRydWU7YS5fdHJpZ2dlcigib3BlbiIpO3JldHVybiBhfX0sX2NyZWF0ZUJ1dHRvbnM6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcyxoPWZhbHNlLGk9YigiPGRpdj48L2Rpdj4iKS5hZGRDbGFzcygidWktZGlhbG9nLWJ1dHRvbnBhbmUgdWktd2lkZ2V0LWNvbnRlbnQgdWktaGVscGVyLWNsZWFyZml4Iiksaj1iKCI8ZGl2PjwvZGl2PiIpLmFkZENsYXNzKCJ1aS1kaWFsb2ctYnV0dG9uc2V0IikuYXBwZW5kVG8oaSk7Yy51aURpYWxvZy5maW5kKCIudWktZGlhbG9nLWJ1dHRvbnBhbmUiKS5yZW1vdmUoKTt0eXBlb2YgYT09PSJvYmplY3QiJiZhIT09bnVsbCYmYi5lYWNoKGEsCmZ1bmN0aW9uKCl7cmV0dXJuIShoPXRydWUpfSk7aWYoaCl7Yi5lYWNoKGEsZnVuY3Rpb24obixvKXtvPWIuaXNGdW5jdGlvbihvKT97Y2xpY2s6byx0ZXh0Om59Om87dmFyIGw9YignPGJ1dHRvbiB0eXBlPSJidXR0b24iPjwvYnV0dG9uPicpLmNsaWNrKGZ1bmN0aW9uKCl7by5jbGljay5hcHBseShjLmVsZW1lbnRbMF0sYXJndW1lbnRzKX0pLmFwcGVuZFRvKGopO2IuZWFjaChvLGZ1bmN0aW9uKGssbSl7aWYoayE9PSJjbGljayIpayBpbiBnP2xba10obSk6bC5hdHRyKGssbSl9KTtiLmZuLmJ1dHRvbiYmbC5idXR0b24oKX0pO2kuYXBwZW5kVG8oYy51aURpYWxvZyl9fSxfbWFrZURyYWdnYWJsZTpmdW5jdGlvbigpe2Z1bmN0aW9uIGEobil7cmV0dXJue3Bvc2l0aW9uOm4ucG9zaXRpb24sb2Zmc2V0Om4ub2Zmc2V0fX12YXIgYz10aGlzLGg9Yy5vcHRpb25zLGk9Yihkb2N1bWVudCksajtjLnVpRGlhbG9nLmRyYWdnYWJsZSh7Y2FuY2VsOiIudWktZGlhbG9nLWNvbnRlbnQsIC51aS1kaWFsb2ctdGl0bGViYXItY2xvc2UiLApoYW5kbGU6Ii51aS1kaWFsb2ctdGl0bGViYXIiLGNvbnRhaW5tZW50OiJkb2N1bWVudCIsc3RhcnQ6ZnVuY3Rpb24obixvKXtqPWguaGVpZ2h0PT09ImF1dG8iPyJhdXRvIjpiKHRoaXMpLmhlaWdodCgpO2IodGhpcykuaGVpZ2h0KGIodGhpcykuaGVpZ2h0KCkpLmFkZENsYXNzKCJ1aS1kaWFsb2ctZHJhZ2dpbmciKTtjLl90cmlnZ2VyKCJkcmFnU3RhcnQiLG4sYShvKSl9LGRyYWc6ZnVuY3Rpb24obixvKXtjLl90cmlnZ2VyKCJkcmFnIixuLGEobykpfSxzdG9wOmZ1bmN0aW9uKG4sbyl7aC5wb3NpdGlvbj1bby5wb3NpdGlvbi5sZWZ0LWkuc2Nyb2xsTGVmdCgpLG8ucG9zaXRpb24udG9wLWkuc2Nyb2xsVG9wKCldO2IodGhpcykucmVtb3ZlQ2xhc3MoInVpLWRpYWxvZy1kcmFnZ2luZyIpLmhlaWdodChqKTtjLl90cmlnZ2VyKCJkcmFnU3RvcCIsbixhKG8pKTtiLnVpLmRpYWxvZy5vdmVybGF5LnJlc2l6ZSgpfX0pfSxfbWFrZVJlc2l6YWJsZTpmdW5jdGlvbihhKXtmdW5jdGlvbiBjKG4pe3JldHVybntvcmlnaW5hbFBvc2l0aW9uOm4ub3JpZ2luYWxQb3NpdGlvbiwKb3JpZ2luYWxTaXplOm4ub3JpZ2luYWxTaXplLHBvc2l0aW9uOm4ucG9zaXRpb24sc2l6ZTpuLnNpemV9fWE9YT09PWQ/dGhpcy5vcHRpb25zLnJlc2l6YWJsZTphO3ZhciBoPXRoaXMsaT1oLm9wdGlvbnMsaj1oLnVpRGlhbG9nLmNzcygicG9zaXRpb24iKTthPXR5cGVvZiBhPT09InN0cmluZyI/YToibixlLHMsdyxzZSxzdyxuZSxudyI7aC51aURpYWxvZy5yZXNpemFibGUoe2NhbmNlbDoiLnVpLWRpYWxvZy1jb250ZW50Iixjb250YWlubWVudDoiZG9jdW1lbnQiLGFsc29SZXNpemU6aC5lbGVtZW50LG1heFdpZHRoOmkubWF4V2lkdGgsbWF4SGVpZ2h0OmkubWF4SGVpZ2h0LG1pbldpZHRoOmkubWluV2lkdGgsbWluSGVpZ2h0OmguX21pbkhlaWdodCgpLGhhbmRsZXM6YSxzdGFydDpmdW5jdGlvbihuLG8pe2IodGhpcykuYWRkQ2xhc3MoInVpLWRpYWxvZy1yZXNpemluZyIpO2guX3RyaWdnZXIoInJlc2l6ZVN0YXJ0IixuLGMobykpfSxyZXNpemU6ZnVuY3Rpb24obixvKXtoLl90cmlnZ2VyKCJyZXNpemUiLApuLGMobykpfSxzdG9wOmZ1bmN0aW9uKG4sbyl7Yih0aGlzKS5yZW1vdmVDbGFzcygidWktZGlhbG9nLXJlc2l6aW5nIik7aS5oZWlnaHQ9Yih0aGlzKS5oZWlnaHQoKTtpLndpZHRoPWIodGhpcykud2lkdGgoKTtoLl90cmlnZ2VyKCJyZXNpemVTdG9wIixuLGMobykpO2IudWkuZGlhbG9nLm92ZXJsYXkucmVzaXplKCl9fSkuY3NzKCJwb3NpdGlvbiIsaikuZmluZCgiLnVpLXJlc2l6YWJsZS1zZSIpLmFkZENsYXNzKCJ1aS1pY29uIHVpLWljb24tZ3JpcC1kaWFnb25hbC1zZSIpfSxfbWluSGVpZ2h0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zO3JldHVybiBhLmhlaWdodD09PSJhdXRvIj9hLm1pbkhlaWdodDpNYXRoLm1pbihhLm1pbkhlaWdodCxhLmhlaWdodCl9LF9wb3NpdGlvbjpmdW5jdGlvbihhKXt2YXIgYz1bXSxoPVswLDBdLGk7aWYoYSl7aWYodHlwZW9mIGE9PT0ic3RyaW5nInx8dHlwZW9mIGE9PT0ib2JqZWN0IiYmIjAiaW4gYSl7Yz1hLnNwbGl0P2Euc3BsaXQoIiAiKToKW2FbMF0sYVsxXV07aWYoYy5sZW5ndGg9PT0xKWNbMV09Y1swXTtiLmVhY2goWyJsZWZ0IiwidG9wIl0sZnVuY3Rpb24oaixuKXtpZigrY1tqXT09PWNbal0pe2hbal09Y1tqXTtjW2pdPW59fSk7YT17bXk6Yy5qb2luKCIgIiksYXQ6Yy5qb2luKCIgIiksb2Zmc2V0Omguam9pbigiICIpfX1hPWIuZXh0ZW5kKHt9LGIudWkuZGlhbG9nLnByb3RvdHlwZS5vcHRpb25zLnBvc2l0aW9uLGEpfWVsc2UgYT1iLnVpLmRpYWxvZy5wcm90b3R5cGUub3B0aW9ucy5wb3NpdGlvbjsoaT10aGlzLnVpRGlhbG9nLmlzKCI6dmlzaWJsZSIpKXx8dGhpcy51aURpYWxvZy5zaG93KCk7dGhpcy51aURpYWxvZy5jc3Moe3RvcDowLGxlZnQ6MH0pLnBvc2l0aW9uKGIuZXh0ZW5kKHtvZjp3aW5kb3d9LGEpKTtpfHx0aGlzLnVpRGlhbG9nLmhpZGUoKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcyxoPXt9LGk9ZmFsc2U7Yi5lYWNoKGEsZnVuY3Rpb24oaixuKXtjLl9zZXRPcHRpb24oaixuKTsKaWYoaiBpbiBlKWk9dHJ1ZTtpZihqIGluIGYpaFtqXT1ufSk7aSYmdGhpcy5fc2l6ZSgpO3RoaXMudWlEaWFsb2cuaXMoIjpkYXRhKHJlc2l6YWJsZSkiKSYmdGhpcy51aURpYWxvZy5yZXNpemFibGUoIm9wdGlvbiIsaCl9LF9zZXRPcHRpb246ZnVuY3Rpb24oYSxjKXt2YXIgaD10aGlzLGk9aC51aURpYWxvZztzd2l0Y2goYSl7Y2FzZSAiYmVmb3JlY2xvc2UiOmE9ImJlZm9yZUNsb3NlIjticmVhaztjYXNlICJidXR0b25zIjpoLl9jcmVhdGVCdXR0b25zKGMpO2JyZWFrO2Nhc2UgImNsb3NlVGV4dCI6aC51aURpYWxvZ1RpdGxlYmFyQ2xvc2VUZXh0LnRleHQoIiIrYyk7YnJlYWs7Y2FzZSAiZGlhbG9nQ2xhc3MiOmkucmVtb3ZlQ2xhc3MoaC5vcHRpb25zLmRpYWxvZ0NsYXNzKS5hZGRDbGFzcygidWktZGlhbG9nIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsICIrYyk7YnJlYWs7Y2FzZSAiZGlzYWJsZWQiOmM/aS5hZGRDbGFzcygidWktZGlhbG9nLWRpc2FibGVkIik6CmkucmVtb3ZlQ2xhc3MoInVpLWRpYWxvZy1kaXNhYmxlZCIpO2JyZWFrO2Nhc2UgImRyYWdnYWJsZSI6dmFyIGo9aS5pcygiOmRhdGEoZHJhZ2dhYmxlKSIpO2omJiFjJiZpLmRyYWdnYWJsZSgiZGVzdHJveSIpOyFqJiZjJiZoLl9tYWtlRHJhZ2dhYmxlKCk7YnJlYWs7Y2FzZSAicG9zaXRpb24iOmguX3Bvc2l0aW9uKGMpO2JyZWFrO2Nhc2UgInJlc2l6YWJsZSI6KGo9aS5pcygiOmRhdGEocmVzaXphYmxlKSIpKSYmIWMmJmkucmVzaXphYmxlKCJkZXN0cm95Iik7aiYmdHlwZW9mIGM9PT0ic3RyaW5nIiYmaS5yZXNpemFibGUoIm9wdGlvbiIsImhhbmRsZXMiLGMpOyFqJiZjIT09ZmFsc2UmJmguX21ha2VSZXNpemFibGUoYyk7YnJlYWs7Y2FzZSAidGl0bGUiOmIoIi51aS1kaWFsb2ctdGl0bGUiLGgudWlEaWFsb2dUaXRsZWJhcikuaHRtbCgiIisoY3x8IiYjMTYwOyIpKTticmVha31iLldpZGdldC5wcm90b3R5cGUuX3NldE9wdGlvbi5hcHBseShoLGFyZ3VtZW50cyl9LF9zaXplOmZ1bmN0aW9uKCl7dmFyIGE9CnRoaXMub3B0aW9ucyxjLGgsaT10aGlzLnVpRGlhbG9nLmlzKCI6dmlzaWJsZSIpO3RoaXMuZWxlbWVudC5zaG93KCkuY3NzKHt3aWR0aDoiYXV0byIsbWluSGVpZ2h0OjAsaGVpZ2h0OjB9KTtpZihhLm1pbldpZHRoPmEud2lkdGgpYS53aWR0aD1hLm1pbldpZHRoO2M9dGhpcy51aURpYWxvZy5jc3Moe2hlaWdodDoiYXV0byIsd2lkdGg6YS53aWR0aH0pLmhlaWdodCgpO2g9TWF0aC5tYXgoMCxhLm1pbkhlaWdodC1jKTtpZihhLmhlaWdodD09PSJhdXRvIilpZihiLnN1cHBvcnQubWluSGVpZ2h0KXRoaXMuZWxlbWVudC5jc3Moe21pbkhlaWdodDpoLGhlaWdodDoiYXV0byJ9KTtlbHNle3RoaXMudWlEaWFsb2cuc2hvdygpO2E9dGhpcy5lbGVtZW50LmNzcygiaGVpZ2h0IiwiYXV0byIpLmhlaWdodCgpO2l8fHRoaXMudWlEaWFsb2cuaGlkZSgpO3RoaXMuZWxlbWVudC5oZWlnaHQoTWF0aC5tYXgoYSxoKSl9ZWxzZSB0aGlzLmVsZW1lbnQuaGVpZ2h0KE1hdGgubWF4KGEuaGVpZ2h0LQpjLDApKTt0aGlzLnVpRGlhbG9nLmlzKCI6ZGF0YShyZXNpemFibGUpIikmJnRoaXMudWlEaWFsb2cucmVzaXphYmxlKCJvcHRpb24iLCJtaW5IZWlnaHQiLHRoaXMuX21pbkhlaWdodCgpKX19KTtiLmV4dGVuZChiLnVpLmRpYWxvZyx7dmVyc2lvbjoiMS44LjEyIix1dWlkOjAsbWF4WjowLGdldFRpdGxlSWQ6ZnVuY3Rpb24oYSl7YT1hLmF0dHIoImlkIik7aWYoIWEpe3RoaXMudXVpZCs9MTthPXRoaXMudXVpZH1yZXR1cm4idWktZGlhbG9nLXRpdGxlLSIrYX0sb3ZlcmxheTpmdW5jdGlvbihhKXt0aGlzLiRlbD1iLnVpLmRpYWxvZy5vdmVybGF5LmNyZWF0ZShhKX19KTtiLmV4dGVuZChiLnVpLmRpYWxvZy5vdmVybGF5LHtpbnN0YW5jZXM6W10sb2xkSW5zdGFuY2VzOltdLG1heFo6MCxldmVudHM6Yi5tYXAoImZvY3VzLG1vdXNlZG93bixtb3VzZXVwLGtleWRvd24sa2V5cHJlc3MsY2xpY2siLnNwbGl0KCIsIiksZnVuY3Rpb24oYSl7cmV0dXJuIGErIi5kaWFsb2ctb3ZlcmxheSJ9KS5qb2luKCIgIiksCmNyZWF0ZTpmdW5jdGlvbihhKXtpZih0aGlzLmluc3RhbmNlcy5sZW5ndGg9PT0wKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi51aS5kaWFsb2cub3ZlcmxheS5pbnN0YW5jZXMubGVuZ3RoJiZiKGRvY3VtZW50KS5iaW5kKGIudWkuZGlhbG9nLm92ZXJsYXkuZXZlbnRzLGZ1bmN0aW9uKGgpe2lmKGIoaC50YXJnZXQpLnpJbmRleCgpPGIudWkuZGlhbG9nLm92ZXJsYXkubWF4WilyZXR1cm4gZmFsc2V9KX0sMSk7Yihkb2N1bWVudCkuYmluZCgia2V5ZG93bi5kaWFsb2ctb3ZlcmxheSIsZnVuY3Rpb24oaCl7aWYoYS5vcHRpb25zLmNsb3NlT25Fc2NhcGUmJmgua2V5Q29kZSYmaC5rZXlDb2RlPT09Yi51aS5rZXlDb2RlLkVTQ0FQRSl7YS5jbG9zZShoKTtoLnByZXZlbnREZWZhdWx0KCl9fSk7Yih3aW5kb3cpLmJpbmQoInJlc2l6ZS5kaWFsb2ctb3ZlcmxheSIsYi51aS5kaWFsb2cub3ZlcmxheS5yZXNpemUpfXZhciBjPSh0aGlzLm9sZEluc3RhbmNlcy5wb3AoKXx8YigiPGRpdj48L2Rpdj4iKS5hZGRDbGFzcygidWktd2lkZ2V0LW92ZXJsYXkiKSkuYXBwZW5kVG8oZG9jdW1lbnQuYm9keSkuY3NzKHt3aWR0aDp0aGlzLndpZHRoKCksCmhlaWdodDp0aGlzLmhlaWdodCgpfSk7Yi5mbi5iZ2lmcmFtZSYmYy5iZ2lmcmFtZSgpO3RoaXMuaW5zdGFuY2VzLnB1c2goYyk7cmV0dXJuIGN9LGRlc3Ryb3k6ZnVuY3Rpb24oYSl7dmFyIGM9Yi5pbkFycmF5KGEsdGhpcy5pbnN0YW5jZXMpO2MhPS0xJiZ0aGlzLm9sZEluc3RhbmNlcy5wdXNoKHRoaXMuaW5zdGFuY2VzLnNwbGljZShjLDEpWzBdKTt0aGlzLmluc3RhbmNlcy5sZW5ndGg9PT0wJiZiKFtkb2N1bWVudCx3aW5kb3ddKS51bmJpbmQoIi5kaWFsb2ctb3ZlcmxheSIpO2EucmVtb3ZlKCk7dmFyIGg9MDtiLmVhY2godGhpcy5pbnN0YW5jZXMsZnVuY3Rpb24oKXtoPU1hdGgubWF4KGgsdGhpcy5jc3MoInotaW5kZXgiKSl9KTt0aGlzLm1heFo9aH0saGVpZ2h0OmZ1bmN0aW9uKCl7dmFyIGEsYztpZihiLmJyb3dzZXIubXNpZSYmYi5icm93c2VyLnZlcnNpb248Nyl7YT1NYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0LGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0KTsKYz1NYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0LGRvY3VtZW50LmJvZHkub2Zmc2V0SGVpZ2h0KTtyZXR1cm4gYTxjP2Iod2luZG93KS5oZWlnaHQoKSsicHgiOmErInB4In1lbHNlIHJldHVybiBiKGRvY3VtZW50KS5oZWlnaHQoKSsicHgifSx3aWR0aDpmdW5jdGlvbigpe3ZhciBhLGM7aWYoYi5icm93c2VyLm1zaWUmJmIuYnJvd3Nlci52ZXJzaW9uPDcpe2E9TWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFdpZHRoLGRvY3VtZW50LmJvZHkuc2Nyb2xsV2lkdGgpO2M9TWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldFdpZHRoLGRvY3VtZW50LmJvZHkub2Zmc2V0V2lkdGgpO3JldHVybiBhPGM/Yih3aW5kb3cpLndpZHRoKCkrInB4IjphKyJweCJ9ZWxzZSByZXR1cm4gYihkb2N1bWVudCkud2lkdGgoKSsicHgifSxyZXNpemU6ZnVuY3Rpb24oKXt2YXIgYT1iKFtdKTtiLmVhY2goYi51aS5kaWFsb2cub3ZlcmxheS5pbnN0YW5jZXMsCmZ1bmN0aW9uKCl7YT1hLmFkZCh0aGlzKX0pO2EuY3NzKHt3aWR0aDowLGhlaWdodDowfSkuY3NzKHt3aWR0aDpiLnVpLmRpYWxvZy5vdmVybGF5LndpZHRoKCksaGVpZ2h0OmIudWkuZGlhbG9nLm92ZXJsYXkuaGVpZ2h0KCl9KX19KTtiLmV4dGVuZChiLnVpLmRpYWxvZy5vdmVybGF5LnByb3RvdHlwZSx7ZGVzdHJveTpmdW5jdGlvbigpe2IudWkuZGlhbG9nLm92ZXJsYXkuZGVzdHJveSh0aGlzLiRlbCl9fSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYil7Yi51aT1iLnVpfHx7fTt2YXIgZD0vbGVmdHxjZW50ZXJ8cmlnaHQvLGU9L3RvcHxjZW50ZXJ8Ym90dG9tLyxmPWIuZm4ucG9zaXRpb24sZz1iLmZuLm9mZnNldDtiLmZuLnBvc2l0aW9uPWZ1bmN0aW9uKGEpe2lmKCFhfHwhYS5vZilyZXR1cm4gZi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YT1iLmV4dGVuZCh7fSxhKTt2YXIgYz1iKGEub2YpLGg9Y1swXSxpPShhLmNvbGxpc2lvbnx8ImZsaXAiKS5zcGxpdCgiICIpLGo9YS5vZmZzZXQ/YS5vZmZzZXQuc3BsaXQoIiAiKTpbMCwwXSxuLG8sbDtpZihoLm5vZGVUeXBlPT09OSl7bj1jLndpZHRoKCk7bz1jLmhlaWdodCgpO2w9e3RvcDowLGxlZnQ6MH19ZWxzZSBpZihoLnNldFRpbWVvdXQpe249Yy53aWR0aCgpO289Yy5oZWlnaHQoKTtsPXt0b3A6Yy5zY3JvbGxUb3AoKSxsZWZ0OmMuc2Nyb2xsTGVmdCgpfX1lbHNlIGlmKGgucHJldmVudERlZmF1bHQpe2EuYXQ9ImxlZnQgdG9wIjtuPW89MDtsPXt0b3A6YS5vZi5wYWdlWSwKbGVmdDphLm9mLnBhZ2VYfX1lbHNle249Yy5vdXRlcldpZHRoKCk7bz1jLm91dGVySGVpZ2h0KCk7bD1jLm9mZnNldCgpfWIuZWFjaChbIm15IiwiYXQiXSxmdW5jdGlvbigpe3ZhciBrPShhW3RoaXNdfHwiIikuc3BsaXQoIiAiKTtpZihrLmxlbmd0aD09PTEpaz1kLnRlc3Qoa1swXSk/ay5jb25jYXQoWyJjZW50ZXIiXSk6ZS50ZXN0KGtbMF0pP1siY2VudGVyIl0uY29uY2F0KGspOlsiY2VudGVyIiwiY2VudGVyIl07a1swXT1kLnRlc3Qoa1swXSk/a1swXToiY2VudGVyIjtrWzFdPWUudGVzdChrWzFdKT9rWzFdOiJjZW50ZXIiO2FbdGhpc109a30pO2lmKGkubGVuZ3RoPT09MSlpWzFdPWlbMF07alswXT1wYXJzZUludChqWzBdLDEwKXx8MDtpZihqLmxlbmd0aD09PTEpalsxXT1qWzBdO2pbMV09cGFyc2VJbnQoalsxXSwxMCl8fDA7aWYoYS5hdFswXT09PSJyaWdodCIpbC5sZWZ0Kz1uO2Vsc2UgaWYoYS5hdFswXT09PSJjZW50ZXIiKWwubGVmdCs9bi8yO2lmKGEuYXRbMV09PT0iYm90dG9tIilsLnRvcCs9Cm87ZWxzZSBpZihhLmF0WzFdPT09ImNlbnRlciIpbC50b3ArPW8vMjtsLmxlZnQrPWpbMF07bC50b3ArPWpbMV07cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBrPWIodGhpcyksbT1rLm91dGVyV2lkdGgoKSxwPWsub3V0ZXJIZWlnaHQoKSxxPXBhcnNlSW50KGIuY3VyQ1NTKHRoaXMsIm1hcmdpbkxlZnQiLHRydWUpKXx8MCxzPXBhcnNlSW50KGIuY3VyQ1NTKHRoaXMsIm1hcmdpblRvcCIsdHJ1ZSkpfHwwLHI9bStxKyhwYXJzZUludChiLmN1ckNTUyh0aGlzLCJtYXJnaW5SaWdodCIsdHJ1ZSkpfHwwKSx1PXArcysocGFyc2VJbnQoYi5jdXJDU1ModGhpcywibWFyZ2luQm90dG9tIix0cnVlKSl8fDApLHY9Yi5leHRlbmQoe30sbCksdztpZihhLm15WzBdPT09InJpZ2h0Iil2LmxlZnQtPW07ZWxzZSBpZihhLm15WzBdPT09ImNlbnRlciIpdi5sZWZ0LT1tLzI7aWYoYS5teVsxXT09PSJib3R0b20iKXYudG9wLT1wO2Vsc2UgaWYoYS5teVsxXT09PSJjZW50ZXIiKXYudG9wLT0KcC8yO3YubGVmdD1NYXRoLnJvdW5kKHYubGVmdCk7di50b3A9TWF0aC5yb3VuZCh2LnRvcCk7dz17bGVmdDp2LmxlZnQtcSx0b3A6di50b3Atc307Yi5lYWNoKFsibGVmdCIsInRvcCJdLGZ1bmN0aW9uKHksQil7Yi51aS5wb3NpdGlvbltpW3ldXSYmYi51aS5wb3NpdGlvbltpW3ldXVtCXSh2LHt0YXJnZXRXaWR0aDpuLHRhcmdldEhlaWdodDpvLGVsZW1XaWR0aDptLGVsZW1IZWlnaHQ6cCxjb2xsaXNpb25Qb3NpdGlvbjp3LGNvbGxpc2lvbldpZHRoOnIsY29sbGlzaW9uSGVpZ2h0OnUsb2Zmc2V0OmosbXk6YS5teSxhdDphLmF0fSl9KTtiLmZuLmJnaWZyYW1lJiZrLmJnaWZyYW1lKCk7ay5vZmZzZXQoYi5leHRlbmQodix7dXNpbmc6YS51c2luZ30pKX0pfTtiLnVpLnBvc2l0aW9uPXtmaXQ6e2xlZnQ6ZnVuY3Rpb24oYSxjKXt2YXIgaD1iKHdpbmRvdyk7aD1jLmNvbGxpc2lvblBvc2l0aW9uLmxlZnQrYy5jb2xsaXNpb25XaWR0aC1oLndpZHRoKCktaC5zY3JvbGxMZWZ0KCk7YS5sZWZ0PQpoPjA/YS5sZWZ0LWg6TWF0aC5tYXgoYS5sZWZ0LWMuY29sbGlzaW9uUG9zaXRpb24ubGVmdCxhLmxlZnQpfSx0b3A6ZnVuY3Rpb24oYSxjKXt2YXIgaD1iKHdpbmRvdyk7aD1jLmNvbGxpc2lvblBvc2l0aW9uLnRvcCtjLmNvbGxpc2lvbkhlaWdodC1oLmhlaWdodCgpLWguc2Nyb2xsVG9wKCk7YS50b3A9aD4wP2EudG9wLWg6TWF0aC5tYXgoYS50b3AtYy5jb2xsaXNpb25Qb3NpdGlvbi50b3AsYS50b3ApfX0sZmxpcDp7bGVmdDpmdW5jdGlvbihhLGMpe2lmKGMuYXRbMF0hPT0iY2VudGVyIil7dmFyIGg9Yih3aW5kb3cpO2g9Yy5jb2xsaXNpb25Qb3NpdGlvbi5sZWZ0K2MuY29sbGlzaW9uV2lkdGgtaC53aWR0aCgpLWguc2Nyb2xsTGVmdCgpO3ZhciBpPWMubXlbMF09PT0ibGVmdCI/LWMuZWxlbVdpZHRoOmMubXlbMF09PT0icmlnaHQiP2MuZWxlbVdpZHRoOjAsaj1jLmF0WzBdPT09ImxlZnQiP2MudGFyZ2V0V2lkdGg6LWMudGFyZ2V0V2lkdGgsbj0tMipjLm9mZnNldFswXTthLmxlZnQrPQpjLmNvbGxpc2lvblBvc2l0aW9uLmxlZnQ8MD9pK2orbjpoPjA/aStqK246MH19LHRvcDpmdW5jdGlvbihhLGMpe2lmKGMuYXRbMV0hPT0iY2VudGVyIil7dmFyIGg9Yih3aW5kb3cpO2g9Yy5jb2xsaXNpb25Qb3NpdGlvbi50b3ArYy5jb2xsaXNpb25IZWlnaHQtaC5oZWlnaHQoKS1oLnNjcm9sbFRvcCgpO3ZhciBpPWMubXlbMV09PT0idG9wIj8tYy5lbGVtSGVpZ2h0OmMubXlbMV09PT0iYm90dG9tIj9jLmVsZW1IZWlnaHQ6MCxqPWMuYXRbMV09PT0idG9wIj9jLnRhcmdldEhlaWdodDotYy50YXJnZXRIZWlnaHQsbj0tMipjLm9mZnNldFsxXTthLnRvcCs9Yy5jb2xsaXNpb25Qb3NpdGlvbi50b3A8MD9pK2orbjpoPjA/aStqK246MH19fX07aWYoIWIub2Zmc2V0LnNldE9mZnNldCl7Yi5vZmZzZXQuc2V0T2Zmc2V0PWZ1bmN0aW9uKGEsYyl7aWYoL3N0YXRpYy8udGVzdChiLmN1ckNTUyhhLCJwb3NpdGlvbiIpKSlhLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSI7dmFyIGg9YihhKSwKaT1oLm9mZnNldCgpLGo9cGFyc2VJbnQoYi5jdXJDU1MoYSwidG9wIix0cnVlKSwxMCl8fDAsbj1wYXJzZUludChiLmN1ckNTUyhhLCJsZWZ0Iix0cnVlKSwxMCl8fDA7aT17dG9wOmMudG9wLWkudG9wK2osbGVmdDpjLmxlZnQtaS5sZWZ0K259OyJ1c2luZyJpbiBjP2MudXNpbmcuY2FsbChhLGkpOmguY3NzKGkpfTtiLmZuLm9mZnNldD1mdW5jdGlvbihhKXt2YXIgYz10aGlzWzBdO2lmKCFjfHwhYy5vd25lckRvY3VtZW50KXJldHVybiBudWxsO2lmKGEpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2Iub2Zmc2V0LnNldE9mZnNldCh0aGlzLGEpfSk7cmV0dXJuIGcuY2FsbCh0aGlzKX19fSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGIsZCl7Yi53aWRnZXQoInVpLnByb2dyZXNzYmFyIix7b3B0aW9uczp7dmFsdWU6MCxtYXg6MTAwfSxtaW46MCxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1wcm9ncmVzc2JhciB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbCIpLmF0dHIoe3JvbGU6InByb2dyZXNzYmFyIiwiYXJpYS12YWx1ZW1pbiI6dGhpcy5taW4sImFyaWEtdmFsdWVtYXgiOnRoaXMub3B0aW9ucy5tYXgsImFyaWEtdmFsdWVub3ciOnRoaXMuX3ZhbHVlKCl9KTt0aGlzLnZhbHVlRGl2PWIoIjxkaXYgY2xhc3M9J3VpLXByb2dyZXNzYmFyLXZhbHVlIHVpLXdpZGdldC1oZWFkZXIgdWktY29ybmVyLWxlZnQnPjwvZGl2PiIpLmFwcGVuZFRvKHRoaXMuZWxlbWVudCk7dGhpcy5vbGRWYWx1ZT10aGlzLl92YWx1ZSgpO3RoaXMuX3JlZnJlc2hWYWx1ZSgpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1wcm9ncmVzc2JhciB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbCIpLnJlbW92ZUF0dHIoInJvbGUiKS5yZW1vdmVBdHRyKCJhcmlhLXZhbHVlbWluIikucmVtb3ZlQXR0cigiYXJpYS12YWx1ZW1heCIpLnJlbW92ZUF0dHIoImFyaWEtdmFsdWVub3ciKTsKdGhpcy52YWx1ZURpdi5yZW1vdmUoKTtiLldpZGdldC5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHZhbHVlOmZ1bmN0aW9uKGUpe2lmKGU9PT1kKXJldHVybiB0aGlzLl92YWx1ZSgpO3RoaXMuX3NldE9wdGlvbigidmFsdWUiLGUpO3JldHVybiB0aGlzfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGUsZil7aWYoZT09PSJ2YWx1ZSIpe3RoaXMub3B0aW9ucy52YWx1ZT1mO3RoaXMuX3JlZnJlc2hWYWx1ZSgpO3RoaXMuX3ZhbHVlKCk9PT10aGlzLm9wdGlvbnMubWF4JiZ0aGlzLl90cmlnZ2VyKCJjb21wbGV0ZSIpfWIuV2lkZ2V0LnByb3RvdHlwZS5fc2V0T3B0aW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sX3ZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcHRpb25zLnZhbHVlO2lmKHR5cGVvZiBlIT09Im51bWJlciIpZT0wO3JldHVybiBNYXRoLm1pbih0aGlzLm9wdGlvbnMubWF4LE1hdGgubWF4KHRoaXMubWluLGUpKX0sX3BlcmNlbnRhZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gMTAwKgp0aGlzLl92YWx1ZSgpL3RoaXMub3B0aW9ucy5tYXh9LF9yZWZyZXNoVmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnZhbHVlKCksZj10aGlzLl9wZXJjZW50YWdlKCk7aWYodGhpcy5vbGRWYWx1ZSE9PWUpe3RoaXMub2xkVmFsdWU9ZTt0aGlzLl90cmlnZ2VyKCJjaGFuZ2UiKX10aGlzLnZhbHVlRGl2LnRvZ2dsZShlPnRoaXMubWluKS50b2dnbGVDbGFzcygidWktY29ybmVyLXJpZ2h0IixlPT09dGhpcy5vcHRpb25zLm1heCkud2lkdGgoZi50b0ZpeGVkKDApKyIlIik7dGhpcy5lbGVtZW50LmF0dHIoImFyaWEtdmFsdWVub3ciLGUpfX0pO2IuZXh0ZW5kKGIudWkucHJvZ3Jlc3NiYXIse3ZlcnNpb246IjEuOC4xMiJ9KX0pKGpRdWVyeSk7CihmdW5jdGlvbihiKXtiLndpZGdldCgidWkuc2xpZGVyIixiLnVpLm1vdXNlLHt3aWRnZXRFdmVudFByZWZpeDoic2xpZGUiLG9wdGlvbnM6e2FuaW1hdGU6ZmFsc2UsZGlzdGFuY2U6MCxtYXg6MTAwLG1pbjowLG9yaWVudGF0aW9uOiJob3Jpem9udGFsIixyYW5nZTpmYWxzZSxzdGVwOjEsdmFsdWU6MCx2YWx1ZXM6bnVsbH0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBkPXRoaXMsZT10aGlzLm9wdGlvbnM7dGhpcy5fbW91c2VTbGlkaW5nPXRoaXMuX2tleVNsaWRpbmc9ZmFsc2U7dGhpcy5fYW5pbWF0ZU9mZj10cnVlO3RoaXMuX2hhbmRsZUluZGV4PW51bGw7dGhpcy5fZGV0ZWN0T3JpZW50YXRpb24oKTt0aGlzLl9tb3VzZUluaXQoKTt0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLXNsaWRlciB1aS1zbGlkZXItIit0aGlzLm9yaWVudGF0aW9uKyIgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1hbGwiKTtlLmRpc2FibGVkJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLXNsaWRlci1kaXNhYmxlZCB1aS1kaXNhYmxlZCIpOwp0aGlzLnJhbmdlPWIoW10pO2lmKGUucmFuZ2Upe2lmKGUucmFuZ2U9PT10cnVlKXt0aGlzLnJhbmdlPWIoIjxkaXY+PC9kaXY+Iik7aWYoIWUudmFsdWVzKWUudmFsdWVzPVt0aGlzLl92YWx1ZU1pbigpLHRoaXMuX3ZhbHVlTWluKCldO2lmKGUudmFsdWVzLmxlbmd0aCYmZS52YWx1ZXMubGVuZ3RoIT09MillLnZhbHVlcz1bZS52YWx1ZXNbMF0sZS52YWx1ZXNbMF1dfWVsc2UgdGhpcy5yYW5nZT1iKCI8ZGl2PjwvZGl2PiIpO3RoaXMucmFuZ2UuYXBwZW5kVG8odGhpcy5lbGVtZW50KS5hZGRDbGFzcygidWktc2xpZGVyLXJhbmdlIik7aWYoZS5yYW5nZT09PSJtaW4ifHxlLnJhbmdlPT09Im1heCIpdGhpcy5yYW5nZS5hZGRDbGFzcygidWktc2xpZGVyLXJhbmdlLSIrZS5yYW5nZSk7dGhpcy5yYW5nZS5hZGRDbGFzcygidWktd2lkZ2V0LWhlYWRlciIpfWIoIi51aS1zbGlkZXItaGFuZGxlIix0aGlzLmVsZW1lbnQpLmxlbmd0aD09PTAmJmIoIjxhIGhyZWY9JyMnPjwvYT4iKS5hcHBlbmRUbyh0aGlzLmVsZW1lbnQpLmFkZENsYXNzKCJ1aS1zbGlkZXItaGFuZGxlIik7CmlmKGUudmFsdWVzJiZlLnZhbHVlcy5sZW5ndGgpZm9yKDtiKCIudWktc2xpZGVyLWhhbmRsZSIsdGhpcy5lbGVtZW50KS5sZW5ndGg8ZS52YWx1ZXMubGVuZ3RoOyliKCI8YSBocmVmPScjJz48L2E+IikuYXBwZW5kVG8odGhpcy5lbGVtZW50KS5hZGRDbGFzcygidWktc2xpZGVyLWhhbmRsZSIpO3RoaXMuaGFuZGxlcz1iKCIudWktc2xpZGVyLWhhbmRsZSIsdGhpcy5lbGVtZW50KS5hZGRDbGFzcygidWktc3RhdGUtZGVmYXVsdCB1aS1jb3JuZXItYWxsIik7dGhpcy5oYW5kbGU9dGhpcy5oYW5kbGVzLmVxKDApO3RoaXMuaGFuZGxlcy5hZGQodGhpcy5yYW5nZSkuZmlsdGVyKCJhIikuY2xpY2soZnVuY3Rpb24oZil7Zi5wcmV2ZW50RGVmYXVsdCgpfSkuaG92ZXIoZnVuY3Rpb24oKXtlLmRpc2FibGVkfHxiKHRoaXMpLmFkZENsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpfSxmdW5jdGlvbigpe2IodGhpcykucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIil9KS5mb2N1cyhmdW5jdGlvbigpe2lmKGUuZGlzYWJsZWQpYih0aGlzKS5ibHVyKCk7CmVsc2V7YigiLnVpLXNsaWRlciAudWktc3RhdGUtZm9jdXMiKS5yZW1vdmVDbGFzcygidWktc3RhdGUtZm9jdXMiKTtiKHRoaXMpLmFkZENsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpfX0pLmJsdXIoZnVuY3Rpb24oKXtiKHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpfSk7dGhpcy5oYW5kbGVzLmVhY2goZnVuY3Rpb24oZil7Yih0aGlzKS5kYXRhKCJpbmRleC51aS1zbGlkZXItaGFuZGxlIixmKX0pO3RoaXMuaGFuZGxlcy5rZXlkb3duKGZ1bmN0aW9uKGYpe3ZhciBnPXRydWUsYT1iKHRoaXMpLmRhdGEoImluZGV4LnVpLXNsaWRlci1oYW5kbGUiKSxjLGgsaTtpZighZC5vcHRpb25zLmRpc2FibGVkKXtzd2l0Y2goZi5rZXlDb2RlKXtjYXNlIGIudWkua2V5Q29kZS5IT01FOmNhc2UgYi51aS5rZXlDb2RlLkVORDpjYXNlIGIudWkua2V5Q29kZS5QQUdFX1VQOmNhc2UgYi51aS5rZXlDb2RlLlBBR0VfRE9XTjpjYXNlIGIudWkua2V5Q29kZS5VUDpjYXNlIGIudWkua2V5Q29kZS5SSUdIVDpjYXNlIGIudWkua2V5Q29kZS5ET1dOOmNhc2UgYi51aS5rZXlDb2RlLkxFRlQ6Zz0KZmFsc2U7aWYoIWQuX2tleVNsaWRpbmcpe2QuX2tleVNsaWRpbmc9dHJ1ZTtiKHRoaXMpLmFkZENsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKTtjPWQuX3N0YXJ0KGYsYSk7aWYoYz09PWZhbHNlKXJldHVybn1icmVha31pPWQub3B0aW9ucy5zdGVwO2M9ZC5vcHRpb25zLnZhbHVlcyYmZC5vcHRpb25zLnZhbHVlcy5sZW5ndGg/KGg9ZC52YWx1ZXMoYSkpOihoPWQudmFsdWUoKSk7c3dpdGNoKGYua2V5Q29kZSl7Y2FzZSBiLnVpLmtleUNvZGUuSE9NRTpoPWQuX3ZhbHVlTWluKCk7YnJlYWs7Y2FzZSBiLnVpLmtleUNvZGUuRU5EOmg9ZC5fdmFsdWVNYXgoKTticmVhaztjYXNlIGIudWkua2V5Q29kZS5QQUdFX1VQOmg9ZC5fdHJpbUFsaWduVmFsdWUoYysoZC5fdmFsdWVNYXgoKS1kLl92YWx1ZU1pbigpKS81KTticmVhaztjYXNlIGIudWkua2V5Q29kZS5QQUdFX0RPV046aD1kLl90cmltQWxpZ25WYWx1ZShjLShkLl92YWx1ZU1heCgpLWQuX3ZhbHVlTWluKCkpLzUpO2JyZWFrO2Nhc2UgYi51aS5rZXlDb2RlLlVQOmNhc2UgYi51aS5rZXlDb2RlLlJJR0hUOmlmKGM9PT0KZC5fdmFsdWVNYXgoKSlyZXR1cm47aD1kLl90cmltQWxpZ25WYWx1ZShjK2kpO2JyZWFrO2Nhc2UgYi51aS5rZXlDb2RlLkRPV046Y2FzZSBiLnVpLmtleUNvZGUuTEVGVDppZihjPT09ZC5fdmFsdWVNaW4oKSlyZXR1cm47aD1kLl90cmltQWxpZ25WYWx1ZShjLWkpO2JyZWFrfWQuX3NsaWRlKGYsYSxoKTtyZXR1cm4gZ319KS5rZXl1cChmdW5jdGlvbihmKXt2YXIgZz1iKHRoaXMpLmRhdGEoImluZGV4LnVpLXNsaWRlci1oYW5kbGUiKTtpZihkLl9rZXlTbGlkaW5nKXtkLl9rZXlTbGlkaW5nPWZhbHNlO2QuX3N0b3AoZixnKTtkLl9jaGFuZ2UoZixnKTtiKHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKX19KTt0aGlzLl9yZWZyZXNoVmFsdWUoKTt0aGlzLl9hbmltYXRlT2ZmPWZhbHNlfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5oYW5kbGVzLnJlbW92ZSgpO3RoaXMucmFuZ2UucmVtb3ZlKCk7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1zbGlkZXIgdWktc2xpZGVyLWhvcml6b250YWwgdWktc2xpZGVyLXZlcnRpY2FsIHVpLXNsaWRlci1kaXNhYmxlZCB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbCIpLnJlbW92ZURhdGEoInNsaWRlciIpLnVuYmluZCgiLnNsaWRlciIpOwp0aGlzLl9tb3VzZURlc3Ryb3koKTtyZXR1cm4gdGhpc30sX21vdXNlQ2FwdHVyZTpmdW5jdGlvbihkKXt2YXIgZT10aGlzLm9wdGlvbnMsZixnLGEsYyxoO2lmKGUuZGlzYWJsZWQpcmV0dXJuIGZhbHNlO3RoaXMuZWxlbWVudFNpemU9e3dpZHRoOnRoaXMuZWxlbWVudC5vdXRlcldpZHRoKCksaGVpZ2h0OnRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpfTt0aGlzLmVsZW1lbnRPZmZzZXQ9dGhpcy5lbGVtZW50Lm9mZnNldCgpO2Y9dGhpcy5fbm9ybVZhbHVlRnJvbU1vdXNlKHt4OmQucGFnZVgseTpkLnBhZ2VZfSk7Zz10aGlzLl92YWx1ZU1heCgpLXRoaXMuX3ZhbHVlTWluKCkrMTtjPXRoaXM7dGhpcy5oYW5kbGVzLmVhY2goZnVuY3Rpb24oaSl7dmFyIGo9TWF0aC5hYnMoZi1jLnZhbHVlcyhpKSk7aWYoZz5qKXtnPWo7YT1iKHRoaXMpO2g9aX19KTtpZihlLnJhbmdlPT09dHJ1ZSYmdGhpcy52YWx1ZXMoMSk9PT1lLm1pbil7aCs9MTthPWIodGhpcy5oYW5kbGVzW2hdKX1pZih0aGlzLl9zdGFydChkLApoKT09PWZhbHNlKXJldHVybiBmYWxzZTt0aGlzLl9tb3VzZVNsaWRpbmc9dHJ1ZTtjLl9oYW5kbGVJbmRleD1oO2EuYWRkQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpLmZvY3VzKCk7ZT1hLm9mZnNldCgpO3RoaXMuX2NsaWNrT2Zmc2V0PSFiKGQudGFyZ2V0KS5wYXJlbnRzKCkuYW5kU2VsZigpLmlzKCIudWktc2xpZGVyLWhhbmRsZSIpP3tsZWZ0OjAsdG9wOjB9OntsZWZ0OmQucGFnZVgtZS5sZWZ0LWEud2lkdGgoKS8yLHRvcDpkLnBhZ2VZLWUudG9wLWEuaGVpZ2h0KCkvMi0ocGFyc2VJbnQoYS5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKS0ocGFyc2VJbnQoYS5jc3MoImJvcmRlckJvdHRvbVdpZHRoIiksMTApfHwwKSsocGFyc2VJbnQoYS5jc3MoIm1hcmdpblRvcCIpLDEwKXx8MCl9O3RoaXMuaGFuZGxlcy5oYXNDbGFzcygidWktc3RhdGUtaG92ZXIiKXx8dGhpcy5fc2xpZGUoZCxoLGYpO3JldHVybiB0aGlzLl9hbmltYXRlT2ZmPXRydWV9LF9tb3VzZVN0YXJ0OmZ1bmN0aW9uKCl7cmV0dXJuIHRydWV9LApfbW91c2VEcmFnOmZ1bmN0aW9uKGQpe3ZhciBlPXRoaXMuX25vcm1WYWx1ZUZyb21Nb3VzZSh7eDpkLnBhZ2VYLHk6ZC5wYWdlWX0pO3RoaXMuX3NsaWRlKGQsdGhpcy5faGFuZGxlSW5kZXgsZSk7cmV0dXJuIGZhbHNlfSxfbW91c2VTdG9wOmZ1bmN0aW9uKGQpe3RoaXMuaGFuZGxlcy5yZW1vdmVDbGFzcygidWktc3RhdGUtYWN0aXZlIik7dGhpcy5fbW91c2VTbGlkaW5nPWZhbHNlO3RoaXMuX3N0b3AoZCx0aGlzLl9oYW5kbGVJbmRleCk7dGhpcy5fY2hhbmdlKGQsdGhpcy5faGFuZGxlSW5kZXgpO3RoaXMuX2NsaWNrT2Zmc2V0PXRoaXMuX2hhbmRsZUluZGV4PW51bGw7cmV0dXJuIHRoaXMuX2FuaW1hdGVPZmY9ZmFsc2V9LF9kZXRlY3RPcmllbnRhdGlvbjpmdW5jdGlvbigpe3RoaXMub3JpZW50YXRpb249dGhpcy5vcHRpb25zLm9yaWVudGF0aW9uPT09InZlcnRpY2FsIj8idmVydGljYWwiOiJob3Jpem9udGFsIn0sX25vcm1WYWx1ZUZyb21Nb3VzZTpmdW5jdGlvbihkKXt2YXIgZTsKaWYodGhpcy5vcmllbnRhdGlvbj09PSJob3Jpem9udGFsIil7ZT10aGlzLmVsZW1lbnRTaXplLndpZHRoO2Q9ZC54LXRoaXMuZWxlbWVudE9mZnNldC5sZWZ0LSh0aGlzLl9jbGlja09mZnNldD90aGlzLl9jbGlja09mZnNldC5sZWZ0OjApfWVsc2V7ZT10aGlzLmVsZW1lbnRTaXplLmhlaWdodDtkPWQueS10aGlzLmVsZW1lbnRPZmZzZXQudG9wLSh0aGlzLl9jbGlja09mZnNldD90aGlzLl9jbGlja09mZnNldC50b3A6MCl9ZT1kL2U7aWYoZT4xKWU9MTtpZihlPDApZT0wO2lmKHRoaXMub3JpZW50YXRpb249PT0idmVydGljYWwiKWU9MS1lO2Q9dGhpcy5fdmFsdWVNYXgoKS10aGlzLl92YWx1ZU1pbigpO3JldHVybiB0aGlzLl90cmltQWxpZ25WYWx1ZSh0aGlzLl92YWx1ZU1pbigpK2UqZCl9LF9zdGFydDpmdW5jdGlvbihkLGUpe3ZhciBmPXtoYW5kbGU6dGhpcy5oYW5kbGVzW2VdLHZhbHVlOnRoaXMudmFsdWUoKX07aWYodGhpcy5vcHRpb25zLnZhbHVlcyYmdGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGgpe2YudmFsdWU9CnRoaXMudmFsdWVzKGUpO2YudmFsdWVzPXRoaXMudmFsdWVzKCl9cmV0dXJuIHRoaXMuX3RyaWdnZXIoInN0YXJ0IixkLGYpfSxfc2xpZGU6ZnVuY3Rpb24oZCxlLGYpe3ZhciBnO2lmKHRoaXMub3B0aW9ucy52YWx1ZXMmJnRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoKXtnPXRoaXMudmFsdWVzKGU/MDoxKTtpZih0aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aD09PTImJnRoaXMub3B0aW9ucy5yYW5nZT09PXRydWUmJihlPT09MCYmZj5nfHxlPT09MSYmZjxnKSlmPWc7aWYoZiE9PXRoaXMudmFsdWVzKGUpKXtnPXRoaXMudmFsdWVzKCk7Z1tlXT1mO2Q9dGhpcy5fdHJpZ2dlcigic2xpZGUiLGQse2hhbmRsZTp0aGlzLmhhbmRsZXNbZV0sdmFsdWU6Zix2YWx1ZXM6Z30pO3RoaXMudmFsdWVzKGU/MDoxKTtkIT09ZmFsc2UmJnRoaXMudmFsdWVzKGUsZix0cnVlKX19ZWxzZSBpZihmIT09dGhpcy52YWx1ZSgpKXtkPXRoaXMuX3RyaWdnZXIoInNsaWRlIixkLHtoYW5kbGU6dGhpcy5oYW5kbGVzW2VdLAp2YWx1ZTpmfSk7ZCE9PWZhbHNlJiZ0aGlzLnZhbHVlKGYpfX0sX3N0b3A6ZnVuY3Rpb24oZCxlKXt2YXIgZj17aGFuZGxlOnRoaXMuaGFuZGxlc1tlXSx2YWx1ZTp0aGlzLnZhbHVlKCl9O2lmKHRoaXMub3B0aW9ucy52YWx1ZXMmJnRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoKXtmLnZhbHVlPXRoaXMudmFsdWVzKGUpO2YudmFsdWVzPXRoaXMudmFsdWVzKCl9dGhpcy5fdHJpZ2dlcigic3RvcCIsZCxmKX0sX2NoYW5nZTpmdW5jdGlvbihkLGUpe2lmKCF0aGlzLl9rZXlTbGlkaW5nJiYhdGhpcy5fbW91c2VTbGlkaW5nKXt2YXIgZj17aGFuZGxlOnRoaXMuaGFuZGxlc1tlXSx2YWx1ZTp0aGlzLnZhbHVlKCl9O2lmKHRoaXMub3B0aW9ucy52YWx1ZXMmJnRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoKXtmLnZhbHVlPXRoaXMudmFsdWVzKGUpO2YudmFsdWVzPXRoaXMudmFsdWVzKCl9dGhpcy5fdHJpZ2dlcigiY2hhbmdlIixkLGYpfX0sdmFsdWU6ZnVuY3Rpb24oZCl7aWYoYXJndW1lbnRzLmxlbmd0aCl7dGhpcy5vcHRpb25zLnZhbHVlPQp0aGlzLl90cmltQWxpZ25WYWx1ZShkKTt0aGlzLl9yZWZyZXNoVmFsdWUoKTt0aGlzLl9jaGFuZ2UobnVsbCwwKX1lbHNlIHJldHVybiB0aGlzLl92YWx1ZSgpfSx2YWx1ZXM6ZnVuY3Rpb24oZCxlKXt2YXIgZixnLGE7aWYoYXJndW1lbnRzLmxlbmd0aD4xKXt0aGlzLm9wdGlvbnMudmFsdWVzW2RdPXRoaXMuX3RyaW1BbGlnblZhbHVlKGUpO3RoaXMuX3JlZnJlc2hWYWx1ZSgpO3RoaXMuX2NoYW5nZShudWxsLGQpfWVsc2UgaWYoYXJndW1lbnRzLmxlbmd0aClpZihiLmlzQXJyYXkoYXJndW1lbnRzWzBdKSl7Zj10aGlzLm9wdGlvbnMudmFsdWVzO2c9YXJndW1lbnRzWzBdO2ZvcihhPTA7YTxmLmxlbmd0aDthKz0xKXtmW2FdPXRoaXMuX3RyaW1BbGlnblZhbHVlKGdbYV0pO3RoaXMuX2NoYW5nZShudWxsLGEpfXRoaXMuX3JlZnJlc2hWYWx1ZSgpfWVsc2UgcmV0dXJuIHRoaXMub3B0aW9ucy52YWx1ZXMmJnRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoP3RoaXMuX3ZhbHVlcyhkKToKdGhpcy52YWx1ZSgpO2Vsc2UgcmV0dXJuIHRoaXMuX3ZhbHVlcygpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGQsZSl7dmFyIGYsZz0wO2lmKGIuaXNBcnJheSh0aGlzLm9wdGlvbnMudmFsdWVzKSlnPXRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoO2IuV2lkZ2V0LnByb3RvdHlwZS5fc2V0T3B0aW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtzd2l0Y2goZCl7Y2FzZSAiZGlzYWJsZWQiOmlmKGUpe3RoaXMuaGFuZGxlcy5maWx0ZXIoIi51aS1zdGF0ZS1mb2N1cyIpLmJsdXIoKTt0aGlzLmhhbmRsZXMucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIik7dGhpcy5oYW5kbGVzLmF0dHIoImRpc2FibGVkIiwiZGlzYWJsZWQiKTt0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLWRpc2FibGVkIil9ZWxzZXt0aGlzLmhhbmRsZXMucmVtb3ZlQXR0cigiZGlzYWJsZWQiKTt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIil9YnJlYWs7Y2FzZSAib3JpZW50YXRpb24iOnRoaXMuX2RldGVjdE9yaWVudGF0aW9uKCk7CnRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktc2xpZGVyLWhvcml6b250YWwgdWktc2xpZGVyLXZlcnRpY2FsIikuYWRkQ2xhc3MoInVpLXNsaWRlci0iK3RoaXMub3JpZW50YXRpb24pO3RoaXMuX3JlZnJlc2hWYWx1ZSgpO2JyZWFrO2Nhc2UgInZhbHVlIjp0aGlzLl9hbmltYXRlT2ZmPXRydWU7dGhpcy5fcmVmcmVzaFZhbHVlKCk7dGhpcy5fY2hhbmdlKG51bGwsMCk7dGhpcy5fYW5pbWF0ZU9mZj1mYWxzZTticmVhaztjYXNlICJ2YWx1ZXMiOnRoaXMuX2FuaW1hdGVPZmY9dHJ1ZTt0aGlzLl9yZWZyZXNoVmFsdWUoKTtmb3IoZj0wO2Y8ZztmKz0xKXRoaXMuX2NoYW5nZShudWxsLGYpO3RoaXMuX2FuaW1hdGVPZmY9ZmFsc2U7YnJlYWt9fSxfdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLm9wdGlvbnMudmFsdWU7cmV0dXJuIGQ9dGhpcy5fdHJpbUFsaWduVmFsdWUoZCl9LF92YWx1ZXM6ZnVuY3Rpb24oZCl7dmFyIGUsZjtpZihhcmd1bWVudHMubGVuZ3RoKXtlPXRoaXMub3B0aW9ucy52YWx1ZXNbZF07CnJldHVybiBlPXRoaXMuX3RyaW1BbGlnblZhbHVlKGUpfWVsc2V7ZT10aGlzLm9wdGlvbnMudmFsdWVzLnNsaWNlKCk7Zm9yKGY9MDtmPGUubGVuZ3RoO2YrPTEpZVtmXT10aGlzLl90cmltQWxpZ25WYWx1ZShlW2ZdKTtyZXR1cm4gZX19LF90cmltQWxpZ25WYWx1ZTpmdW5jdGlvbihkKXtpZihkPD10aGlzLl92YWx1ZU1pbigpKXJldHVybiB0aGlzLl92YWx1ZU1pbigpO2lmKGQ+PXRoaXMuX3ZhbHVlTWF4KCkpcmV0dXJuIHRoaXMuX3ZhbHVlTWF4KCk7dmFyIGU9dGhpcy5vcHRpb25zLnN0ZXA+MD90aGlzLm9wdGlvbnMuc3RlcDoxLGY9KGQtdGhpcy5fdmFsdWVNaW4oKSklZTthbGlnblZhbHVlPWQtZjtpZihNYXRoLmFicyhmKSoyPj1lKWFsaWduVmFsdWUrPWY+MD9lOi1lO3JldHVybiBwYXJzZUZsb2F0KGFsaWduVmFsdWUudG9GaXhlZCg1KSl9LF92YWx1ZU1pbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMubWlufSxfdmFsdWVNYXg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLm1heH0sCl9yZWZyZXNoVmFsdWU6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLm9wdGlvbnMucmFuZ2UsZT10aGlzLm9wdGlvbnMsZj10aGlzLGc9IXRoaXMuX2FuaW1hdGVPZmY/ZS5hbmltYXRlOmZhbHNlLGEsYz17fSxoLGksaixuO2lmKHRoaXMub3B0aW9ucy52YWx1ZXMmJnRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoKXRoaXMuaGFuZGxlcy5lYWNoKGZ1bmN0aW9uKG8pe2E9KGYudmFsdWVzKG8pLWYuX3ZhbHVlTWluKCkpLyhmLl92YWx1ZU1heCgpLWYuX3ZhbHVlTWluKCkpKjEwMDtjW2Yub3JpZW50YXRpb249PT0iaG9yaXpvbnRhbCI/ImxlZnQiOiJib3R0b20iXT1hKyIlIjtiKHRoaXMpLnN0b3AoMSwxKVtnPyJhbmltYXRlIjoiY3NzIl0oYyxlLmFuaW1hdGUpO2lmKGYub3B0aW9ucy5yYW5nZT09PXRydWUpaWYoZi5vcmllbnRhdGlvbj09PSJob3Jpem9udGFsIil7aWYobz09PTApZi5yYW5nZS5zdG9wKDEsMSlbZz8iYW5pbWF0ZSI6ImNzcyJdKHtsZWZ0OmErIiUifSxlLmFuaW1hdGUpOwppZihvPT09MSlmLnJhbmdlW2c/ImFuaW1hdGUiOiJjc3MiXSh7d2lkdGg6YS1oKyIlIn0se3F1ZXVlOmZhbHNlLGR1cmF0aW9uOmUuYW5pbWF0ZX0pfWVsc2V7aWYobz09PTApZi5yYW5nZS5zdG9wKDEsMSlbZz8iYW5pbWF0ZSI6ImNzcyJdKHtib3R0b206YSsiJSJ9LGUuYW5pbWF0ZSk7aWYobz09PTEpZi5yYW5nZVtnPyJhbmltYXRlIjoiY3NzIl0oe2hlaWdodDphLWgrIiUifSx7cXVldWU6ZmFsc2UsZHVyYXRpb246ZS5hbmltYXRlfSl9aD1hfSk7ZWxzZXtpPXRoaXMudmFsdWUoKTtqPXRoaXMuX3ZhbHVlTWluKCk7bj10aGlzLl92YWx1ZU1heCgpO2E9biE9PWo/KGktaikvKG4taikqMTAwOjA7Y1tmLm9yaWVudGF0aW9uPT09Imhvcml6b250YWwiPyJsZWZ0IjoiYm90dG9tIl09YSsiJSI7dGhpcy5oYW5kbGUuc3RvcCgxLDEpW2c/ImFuaW1hdGUiOiJjc3MiXShjLGUuYW5pbWF0ZSk7aWYoZD09PSJtaW4iJiZ0aGlzLm9yaWVudGF0aW9uPT09Imhvcml6b250YWwiKXRoaXMucmFuZ2Uuc3RvcCgxLAoxKVtnPyJhbmltYXRlIjoiY3NzIl0oe3dpZHRoOmErIiUifSxlLmFuaW1hdGUpO2lmKGQ9PT0ibWF4IiYmdGhpcy5vcmllbnRhdGlvbj09PSJob3Jpem9udGFsIil0aGlzLnJhbmdlW2c/ImFuaW1hdGUiOiJjc3MiXSh7d2lkdGg6MTAwLWErIiUifSx7cXVldWU6ZmFsc2UsZHVyYXRpb246ZS5hbmltYXRlfSk7aWYoZD09PSJtaW4iJiZ0aGlzLm9yaWVudGF0aW9uPT09InZlcnRpY2FsIil0aGlzLnJhbmdlLnN0b3AoMSwxKVtnPyJhbmltYXRlIjoiY3NzIl0oe2hlaWdodDphKyIlIn0sZS5hbmltYXRlKTtpZihkPT09Im1heCImJnRoaXMub3JpZW50YXRpb249PT0idmVydGljYWwiKXRoaXMucmFuZ2VbZz8iYW5pbWF0ZSI6ImNzcyJdKHtoZWlnaHQ6MTAwLWErIiUifSx7cXVldWU6ZmFsc2UsZHVyYXRpb246ZS5hbmltYXRlfSl9fX0pO2IuZXh0ZW5kKGIudWkuc2xpZGVyLHt2ZXJzaW9uOiIxLjguMTIifSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYixkKXtmdW5jdGlvbiBlKCl7cmV0dXJuKytnfWZ1bmN0aW9uIGYoKXtyZXR1cm4rK2F9dmFyIGc9MCxhPTA7Yi53aWRnZXQoInVpLnRhYnMiLHtvcHRpb25zOnthZGQ6bnVsbCxhamF4T3B0aW9uczpudWxsLGNhY2hlOmZhbHNlLGNvb2tpZTpudWxsLGNvbGxhcHNpYmxlOmZhbHNlLGRpc2FibGU6bnVsbCxkaXNhYmxlZDpbXSxlbmFibGU6bnVsbCxldmVudDoiY2xpY2siLGZ4Om51bGwsaWRQcmVmaXg6InVpLXRhYnMtIixsb2FkOm51bGwscGFuZWxUZW1wbGF0ZToiPGRpdj48L2Rpdj4iLHJlbW92ZTpudWxsLHNlbGVjdDpudWxsLHNob3c6bnVsbCxzcGlubmVyOiI8ZW0+TG9hZGluZyYjODIzMDs8L2VtPiIsdGFiVGVtcGxhdGU6IjxsaT48YSBocmVmPScje2hyZWZ9Jz48c3Bhbj4je2xhYmVsfTwvc3Bhbj48L2E+PC9saT4ifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fdGFiaWZ5KHRydWUpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGMsaCl7aWYoYz09InNlbGVjdGVkIil0aGlzLm9wdGlvbnMuY29sbGFwc2libGUmJgpoPT10aGlzLm9wdGlvbnMuc2VsZWN0ZWR8fHRoaXMuc2VsZWN0KGgpO2Vsc2V7dGhpcy5vcHRpb25zW2NdPWg7dGhpcy5fdGFiaWZ5KCl9fSxfdGFiSWQ6ZnVuY3Rpb24oYyl7cmV0dXJuIGMudGl0bGUmJmMudGl0bGUucmVwbGFjZSgvXHMvZywiXyIpLnJlcGxhY2UoL1teXHdcdTAwYzAtXHVGRkZGLV0vZywiIil8fHRoaXMub3B0aW9ucy5pZFByZWZpeCtlKCl9LF9zYW5pdGl6ZVNlbGVjdG9yOmZ1bmN0aW9uKGMpe3JldHVybiBjLnJlcGxhY2UoLzovZywiXFw6Iil9LF9jb29raWU6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLmNvb2tpZXx8KHRoaXMuY29va2llPXRoaXMub3B0aW9ucy5jb29raWUubmFtZXx8InVpLXRhYnMtIitmKCkpO3JldHVybiBiLmNvb2tpZS5hcHBseShudWxsLFtjXS5jb25jYXQoYi5tYWtlQXJyYXkoYXJndW1lbnRzKSkpfSxfdWk6ZnVuY3Rpb24oYyxoKXtyZXR1cm57dGFiOmMscGFuZWw6aCxpbmRleDp0aGlzLmFuY2hvcnMuaW5kZXgoYyl9fSxfY2xlYW51cDpmdW5jdGlvbigpe3RoaXMubGlzLmZpbHRlcigiLnVpLXN0YXRlLXByb2Nlc3NpbmciKS5yZW1vdmVDbGFzcygidWktc3RhdGUtcHJvY2Vzc2luZyIpLmZpbmQoInNwYW46ZGF0YShsYWJlbC50YWJzKSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz0KYih0aGlzKTtjLmh0bWwoYy5kYXRhKCJsYWJlbC50YWJzIikpLnJlbW92ZURhdGEoImxhYmVsLnRhYnMiKX0pfSxfdGFiaWZ5OmZ1bmN0aW9uKGMpe2Z1bmN0aW9uIGgocix1KXtyLmNzcygiZGlzcGxheSIsIiIpOyFiLnN1cHBvcnQub3BhY2l0eSYmdS5vcGFjaXR5JiZyWzBdLnN0eWxlLnJlbW92ZUF0dHJpYnV0ZSgiZmlsdGVyIil9dmFyIGk9dGhpcyxqPXRoaXMub3B0aW9ucyxuPS9eIy4rLzt0aGlzLmxpc3Q9dGhpcy5lbGVtZW50LmZpbmQoIm9sLHVsIikuZXEoMCk7dGhpcy5saXM9YigiID4gbGk6aGFzKGFbaHJlZl0pIix0aGlzLmxpc3QpO3RoaXMuYW5jaG9ycz10aGlzLmxpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gYigiYSIsdGhpcylbMF19KTt0aGlzLnBhbmVscz1iKFtdKTt0aGlzLmFuY2hvcnMuZWFjaChmdW5jdGlvbihyLHUpe3ZhciB2PWIodSkuYXR0cigiaHJlZiIpLHc9di5zcGxpdCgiIyIpWzBdLHk7aWYodyYmKHc9PT1sb2NhdGlvbi50b1N0cmluZygpLnNwbGl0KCIjIilbMF18fAooeT1iKCJiYXNlIilbMF0pJiZ3PT09eS5ocmVmKSl7dj11Lmhhc2g7dS5ocmVmPXZ9aWYobi50ZXN0KHYpKWkucGFuZWxzPWkucGFuZWxzLmFkZChpLmVsZW1lbnQuZmluZChpLl9zYW5pdGl6ZVNlbGVjdG9yKHYpKSk7ZWxzZSBpZih2JiZ2IT09IiMiKXtiLmRhdGEodSwiaHJlZi50YWJzIix2KTtiLmRhdGEodSwibG9hZC50YWJzIix2LnJlcGxhY2UoLyMuKiQvLCIiKSk7dj1pLl90YWJJZCh1KTt1LmhyZWY9IiMiK3Y7dT1pLmVsZW1lbnQuZmluZCgiIyIrdik7aWYoIXUubGVuZ3RoKXt1PWIoai5wYW5lbFRlbXBsYXRlKS5hdHRyKCJpZCIsdikuYWRkQ2xhc3MoInVpLXRhYnMtcGFuZWwgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWJvdHRvbSIpLmluc2VydEFmdGVyKGkucGFuZWxzW3ItMV18fGkubGlzdCk7dS5kYXRhKCJkZXN0cm95LnRhYnMiLHRydWUpfWkucGFuZWxzPWkucGFuZWxzLmFkZCh1KX1lbHNlIGouZGlzYWJsZWQucHVzaChyKX0pO2lmKGMpe3RoaXMuZWxlbWVudC5hZGRDbGFzcygidWktdGFicyB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbCIpOwp0aGlzLmxpc3QuYWRkQ2xhc3MoInVpLXRhYnMtbmF2IHVpLWhlbHBlci1yZXNldCB1aS1oZWxwZXItY2xlYXJmaXggdWktd2lkZ2V0LWhlYWRlciB1aS1jb3JuZXItYWxsIik7dGhpcy5saXMuYWRkQ2xhc3MoInVpLXN0YXRlLWRlZmF1bHQgdWktY29ybmVyLXRvcCIpO3RoaXMucGFuZWxzLmFkZENsYXNzKCJ1aS10YWJzLXBhbmVsIHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1ib3R0b20iKTtpZihqLnNlbGVjdGVkPT09ZCl7bG9jYXRpb24uaGFzaCYmdGhpcy5hbmNob3JzLmVhY2goZnVuY3Rpb24ocix1KXtpZih1Lmhhc2g9PWxvY2F0aW9uLmhhc2gpe2ouc2VsZWN0ZWQ9cjtyZXR1cm4gZmFsc2V9fSk7aWYodHlwZW9mIGouc2VsZWN0ZWQhPT0ibnVtYmVyIiYmai5jb29raWUpai5zZWxlY3RlZD1wYXJzZUludChpLl9jb29raWUoKSwxMCk7aWYodHlwZW9mIGouc2VsZWN0ZWQhPT0ibnVtYmVyIiYmdGhpcy5saXMuZmlsdGVyKCIudWktdGFicy1zZWxlY3RlZCIpLmxlbmd0aClqLnNlbGVjdGVkPQp0aGlzLmxpcy5pbmRleCh0aGlzLmxpcy5maWx0ZXIoIi51aS10YWJzLXNlbGVjdGVkIikpO2ouc2VsZWN0ZWQ9ai5zZWxlY3RlZHx8KHRoaXMubGlzLmxlbmd0aD8wOi0xKX1lbHNlIGlmKGouc2VsZWN0ZWQ9PT1udWxsKWouc2VsZWN0ZWQ9LTE7ai5zZWxlY3RlZD1qLnNlbGVjdGVkPj0wJiZ0aGlzLmFuY2hvcnNbai5zZWxlY3RlZF18fGouc2VsZWN0ZWQ8MD9qLnNlbGVjdGVkOjA7ai5kaXNhYmxlZD1iLnVuaXF1ZShqLmRpc2FibGVkLmNvbmNhdChiLm1hcCh0aGlzLmxpcy5maWx0ZXIoIi51aS1zdGF0ZS1kaXNhYmxlZCIpLGZ1bmN0aW9uKHIpe3JldHVybiBpLmxpcy5pbmRleChyKX0pKSkuc29ydCgpO2IuaW5BcnJheShqLnNlbGVjdGVkLGouZGlzYWJsZWQpIT0tMSYmai5kaXNhYmxlZC5zcGxpY2UoYi5pbkFycmF5KGouc2VsZWN0ZWQsai5kaXNhYmxlZCksMSk7dGhpcy5wYW5lbHMuYWRkQ2xhc3MoInVpLXRhYnMtaGlkZSIpO3RoaXMubGlzLnJlbW92ZUNsYXNzKCJ1aS10YWJzLXNlbGVjdGVkIHVpLXN0YXRlLWFjdGl2ZSIpOwppZihqLnNlbGVjdGVkPj0wJiZ0aGlzLmFuY2hvcnMubGVuZ3RoKXtpLmVsZW1lbnQuZmluZChpLl9zYW5pdGl6ZVNlbGVjdG9yKGkuYW5jaG9yc1tqLnNlbGVjdGVkXS5oYXNoKSkucmVtb3ZlQ2xhc3MoInVpLXRhYnMtaGlkZSIpO3RoaXMubGlzLmVxKGouc2VsZWN0ZWQpLmFkZENsYXNzKCJ1aS10YWJzLXNlbGVjdGVkIHVpLXN0YXRlLWFjdGl2ZSIpO2kuZWxlbWVudC5xdWV1ZSgidGFicyIsZnVuY3Rpb24oKXtpLl90cmlnZ2VyKCJzaG93IixudWxsLGkuX3VpKGkuYW5jaG9yc1tqLnNlbGVjdGVkXSxpLmVsZW1lbnQuZmluZChpLl9zYW5pdGl6ZVNlbGVjdG9yKGkuYW5jaG9yc1tqLnNlbGVjdGVkXS5oYXNoKSlbMF0pKX0pO3RoaXMubG9hZChqLnNlbGVjdGVkKX1iKHdpbmRvdykuYmluZCgidW5sb2FkIixmdW5jdGlvbigpe2kubGlzLmFkZChpLmFuY2hvcnMpLnVuYmluZCgiLnRhYnMiKTtpLmxpcz1pLmFuY2hvcnM9aS5wYW5lbHM9bnVsbH0pfWVsc2Ugai5zZWxlY3RlZD10aGlzLmxpcy5pbmRleCh0aGlzLmxpcy5maWx0ZXIoIi51aS10YWJzLXNlbGVjdGVkIikpOwp0aGlzLmVsZW1lbnRbai5jb2xsYXBzaWJsZT8iYWRkQ2xhc3MiOiJyZW1vdmVDbGFzcyJdKCJ1aS10YWJzLWNvbGxhcHNpYmxlIik7ai5jb29raWUmJnRoaXMuX2Nvb2tpZShqLnNlbGVjdGVkLGouY29va2llKTtjPTA7Zm9yKHZhciBvO289dGhpcy5saXNbY107YysrKWIobylbYi5pbkFycmF5KGMsai5kaXNhYmxlZCkhPS0xJiYhYihvKS5oYXNDbGFzcygidWktdGFicy1zZWxlY3RlZCIpPyJhZGRDbGFzcyI6InJlbW92ZUNsYXNzIl0oInVpLXN0YXRlLWRpc2FibGVkIik7ai5jYWNoZT09PWZhbHNlJiZ0aGlzLmFuY2hvcnMucmVtb3ZlRGF0YSgiY2FjaGUudGFicyIpO3RoaXMubGlzLmFkZCh0aGlzLmFuY2hvcnMpLnVuYmluZCgiLnRhYnMiKTtpZihqLmV2ZW50IT09Im1vdXNlb3ZlciIpe3ZhciBsPWZ1bmN0aW9uKHIsdSl7dS5pcygiOm5vdCgudWktc3RhdGUtZGlzYWJsZWQpIikmJnUuYWRkQ2xhc3MoInVpLXN0YXRlLSIrcil9LGs9ZnVuY3Rpb24ocix1KXt1LnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS0iKwpyKX07dGhpcy5saXMuYmluZCgibW91c2VvdmVyLnRhYnMiLGZ1bmN0aW9uKCl7bCgiaG92ZXIiLGIodGhpcykpfSk7dGhpcy5saXMuYmluZCgibW91c2VvdXQudGFicyIsZnVuY3Rpb24oKXtrKCJob3ZlciIsYih0aGlzKSl9KTt0aGlzLmFuY2hvcnMuYmluZCgiZm9jdXMudGFicyIsZnVuY3Rpb24oKXtsKCJmb2N1cyIsYih0aGlzKS5jbG9zZXN0KCJsaSIpKX0pO3RoaXMuYW5jaG9ycy5iaW5kKCJibHVyLnRhYnMiLGZ1bmN0aW9uKCl7aygiZm9jdXMiLGIodGhpcykuY2xvc2VzdCgibGkiKSl9KX12YXIgbSxwO2lmKGouZngpaWYoYi5pc0FycmF5KGouZngpKXttPWouZnhbMF07cD1qLmZ4WzFdfWVsc2UgbT1wPWouZng7dmFyIHE9cD9mdW5jdGlvbihyLHUpe2IocikuY2xvc2VzdCgibGkiKS5hZGRDbGFzcygidWktdGFicy1zZWxlY3RlZCB1aS1zdGF0ZS1hY3RpdmUiKTt1LmhpZGUoKS5yZW1vdmVDbGFzcygidWktdGFicy1oaWRlIikuYW5pbWF0ZShwLHAuZHVyYXRpb258fCJub3JtYWwiLApmdW5jdGlvbigpe2godSxwKTtpLl90cmlnZ2VyKCJzaG93IixudWxsLGkuX3VpKHIsdVswXSkpfSl9OmZ1bmN0aW9uKHIsdSl7YihyKS5jbG9zZXN0KCJsaSIpLmFkZENsYXNzKCJ1aS10YWJzLXNlbGVjdGVkIHVpLXN0YXRlLWFjdGl2ZSIpO3UucmVtb3ZlQ2xhc3MoInVpLXRhYnMtaGlkZSIpO2kuX3RyaWdnZXIoInNob3ciLG51bGwsaS5fdWkocix1WzBdKSl9LHM9bT9mdW5jdGlvbihyLHUpe3UuYW5pbWF0ZShtLG0uZHVyYXRpb258fCJub3JtYWwiLGZ1bmN0aW9uKCl7aS5saXMucmVtb3ZlQ2xhc3MoInVpLXRhYnMtc2VsZWN0ZWQgdWktc3RhdGUtYWN0aXZlIik7dS5hZGRDbGFzcygidWktdGFicy1oaWRlIik7aCh1LG0pO2kuZWxlbWVudC5kZXF1ZXVlKCJ0YWJzIil9KX06ZnVuY3Rpb24ocix1KXtpLmxpcy5yZW1vdmVDbGFzcygidWktdGFicy1zZWxlY3RlZCB1aS1zdGF0ZS1hY3RpdmUiKTt1LmFkZENsYXNzKCJ1aS10YWJzLWhpZGUiKTtpLmVsZW1lbnQuZGVxdWV1ZSgidGFicyIpfTsKdGhpcy5hbmNob3JzLmJpbmQoai5ldmVudCsiLnRhYnMiLGZ1bmN0aW9uKCl7dmFyIHI9dGhpcyx1PWIocikuY2xvc2VzdCgibGkiKSx2PWkucGFuZWxzLmZpbHRlcigiOm5vdCgudWktdGFicy1oaWRlKSIpLHc9aS5lbGVtZW50LmZpbmQoaS5fc2FuaXRpemVTZWxlY3RvcihyLmhhc2gpKTtpZih1Lmhhc0NsYXNzKCJ1aS10YWJzLXNlbGVjdGVkIikmJiFqLmNvbGxhcHNpYmxlfHx1Lmhhc0NsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpfHx1Lmhhc0NsYXNzKCJ1aS1zdGF0ZS1wcm9jZXNzaW5nIil8fGkucGFuZWxzLmZpbHRlcigiOmFuaW1hdGVkIikubGVuZ3RofHxpLl90cmlnZ2VyKCJzZWxlY3QiLG51bGwsaS5fdWkodGhpcyx3WzBdKSk9PT1mYWxzZSl7dGhpcy5ibHVyKCk7cmV0dXJuIGZhbHNlfWouc2VsZWN0ZWQ9aS5hbmNob3JzLmluZGV4KHRoaXMpO2kuYWJvcnQoKTtpZihqLmNvbGxhcHNpYmxlKWlmKHUuaGFzQ2xhc3MoInVpLXRhYnMtc2VsZWN0ZWQiKSl7ai5zZWxlY3RlZD0KLTE7ai5jb29raWUmJmkuX2Nvb2tpZShqLnNlbGVjdGVkLGouY29va2llKTtpLmVsZW1lbnQucXVldWUoInRhYnMiLGZ1bmN0aW9uKCl7cyhyLHYpfSkuZGVxdWV1ZSgidGFicyIpO3RoaXMuYmx1cigpO3JldHVybiBmYWxzZX1lbHNlIGlmKCF2Lmxlbmd0aCl7ai5jb29raWUmJmkuX2Nvb2tpZShqLnNlbGVjdGVkLGouY29va2llKTtpLmVsZW1lbnQucXVldWUoInRhYnMiLGZ1bmN0aW9uKCl7cShyLHcpfSk7aS5sb2FkKGkuYW5jaG9ycy5pbmRleCh0aGlzKSk7dGhpcy5ibHVyKCk7cmV0dXJuIGZhbHNlfWouY29va2llJiZpLl9jb29raWUoai5zZWxlY3RlZCxqLmNvb2tpZSk7aWYody5sZW5ndGgpe3YubGVuZ3RoJiZpLmVsZW1lbnQucXVldWUoInRhYnMiLGZ1bmN0aW9uKCl7cyhyLHYpfSk7aS5lbGVtZW50LnF1ZXVlKCJ0YWJzIixmdW5jdGlvbigpe3Eocix3KX0pO2kubG9hZChpLmFuY2hvcnMuaW5kZXgodGhpcykpfWVsc2UgdGhyb3cialF1ZXJ5IFVJIFRhYnM6IE1pc21hdGNoaW5nIGZyYWdtZW50IGlkZW50aWZpZXIuIjsKYi5icm93c2VyLm1zaWUmJnRoaXMuYmx1cigpfSk7dGhpcy5hbmNob3JzLmJpbmQoImNsaWNrLnRhYnMiLGZ1bmN0aW9uKCl7cmV0dXJuIGZhbHNlfSl9LF9nZXRJbmRleDpmdW5jdGlvbihjKXtpZih0eXBlb2YgYz09InN0cmluZyIpYz10aGlzLmFuY2hvcnMuaW5kZXgodGhpcy5hbmNob3JzLmZpbHRlcigiW2hyZWYkPSIrYysiXSIpKTtyZXR1cm4gY30sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBjPXRoaXMub3B0aW9uczt0aGlzLmFib3J0KCk7dGhpcy5lbGVtZW50LnVuYmluZCgiLnRhYnMiKS5yZW1vdmVDbGFzcygidWktdGFicyB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbCB1aS10YWJzLWNvbGxhcHNpYmxlIikucmVtb3ZlRGF0YSgidGFicyIpO3RoaXMubGlzdC5yZW1vdmVDbGFzcygidWktdGFicy1uYXYgdWktaGVscGVyLXJlc2V0IHVpLWhlbHBlci1jbGVhcmZpeCB1aS13aWRnZXQtaGVhZGVyIHVpLWNvcm5lci1hbGwiKTt0aGlzLmFuY2hvcnMuZWFjaChmdW5jdGlvbigpe3ZhciBoPQpiLmRhdGEodGhpcywiaHJlZi50YWJzIik7aWYoaCl0aGlzLmhyZWY9aDt2YXIgaT1iKHRoaXMpLnVuYmluZCgiLnRhYnMiKTtiLmVhY2goWyJocmVmIiwibG9hZCIsImNhY2hlIl0sZnVuY3Rpb24oaixuKXtpLnJlbW92ZURhdGEobisiLnRhYnMiKX0pfSk7dGhpcy5saXMudW5iaW5kKCIudGFicyIpLmFkZCh0aGlzLnBhbmVscykuZWFjaChmdW5jdGlvbigpe2IuZGF0YSh0aGlzLCJkZXN0cm95LnRhYnMiKT9iKHRoaXMpLnJlbW92ZSgpOmIodGhpcykucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWRlZmF1bHQgdWktY29ybmVyLXRvcCB1aS10YWJzLXNlbGVjdGVkIHVpLXN0YXRlLWFjdGl2ZSB1aS1zdGF0ZS1ob3ZlciB1aS1zdGF0ZS1mb2N1cyB1aS1zdGF0ZS1kaXNhYmxlZCB1aS10YWJzLXBhbmVsIHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1ib3R0b20gdWktdGFicy1oaWRlIil9KTtjLmNvb2tpZSYmdGhpcy5fY29va2llKG51bGwsYy5jb29raWUpO3JldHVybiB0aGlzfSxhZGQ6ZnVuY3Rpb24oYywKaCxpKXtpZihpPT09ZClpPXRoaXMuYW5jaG9ycy5sZW5ndGg7dmFyIGo9dGhpcyxuPXRoaXMub3B0aW9ucztoPWIobi50YWJUZW1wbGF0ZS5yZXBsYWNlKC8jXHtocmVmXH0vZyxjKS5yZXBsYWNlKC8jXHtsYWJlbFx9L2csaCkpO2M9IWMuaW5kZXhPZigiIyIpP2MucmVwbGFjZSgiIyIsIiIpOnRoaXMuX3RhYklkKGIoImEiLGgpWzBdKTtoLmFkZENsYXNzKCJ1aS1zdGF0ZS1kZWZhdWx0IHVpLWNvcm5lci10b3AiKS5kYXRhKCJkZXN0cm95LnRhYnMiLHRydWUpO3ZhciBvPWouZWxlbWVudC5maW5kKCIjIitjKTtvLmxlbmd0aHx8KG89YihuLnBhbmVsVGVtcGxhdGUpLmF0dHIoImlkIixjKS5kYXRhKCJkZXN0cm95LnRhYnMiLHRydWUpKTtvLmFkZENsYXNzKCJ1aS10YWJzLXBhbmVsIHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1ib3R0b20gdWktdGFicy1oaWRlIik7aWYoaT49dGhpcy5saXMubGVuZ3RoKXtoLmFwcGVuZFRvKHRoaXMubGlzdCk7by5hcHBlbmRUbyh0aGlzLmxpc3RbMF0ucGFyZW50Tm9kZSl9ZWxzZXtoLmluc2VydEJlZm9yZSh0aGlzLmxpc1tpXSk7Cm8uaW5zZXJ0QmVmb3JlKHRoaXMucGFuZWxzW2ldKX1uLmRpc2FibGVkPWIubWFwKG4uZGlzYWJsZWQsZnVuY3Rpb24obCl7cmV0dXJuIGw+PWk/KytsOmx9KTt0aGlzLl90YWJpZnkoKTtpZih0aGlzLmFuY2hvcnMubGVuZ3RoPT0xKXtuLnNlbGVjdGVkPTA7aC5hZGRDbGFzcygidWktdGFicy1zZWxlY3RlZCB1aS1zdGF0ZS1hY3RpdmUiKTtvLnJlbW92ZUNsYXNzKCJ1aS10YWJzLWhpZGUiKTt0aGlzLmVsZW1lbnQucXVldWUoInRhYnMiLGZ1bmN0aW9uKCl7ai5fdHJpZ2dlcigic2hvdyIsbnVsbCxqLl91aShqLmFuY2hvcnNbMF0sai5wYW5lbHNbMF0pKX0pO3RoaXMubG9hZCgwKX10aGlzLl90cmlnZ2VyKCJhZGQiLG51bGwsdGhpcy5fdWkodGhpcy5hbmNob3JzW2ldLHRoaXMucGFuZWxzW2ldKSk7cmV0dXJuIHRoaXN9LHJlbW92ZTpmdW5jdGlvbihjKXtjPXRoaXMuX2dldEluZGV4KGMpO3ZhciBoPXRoaXMub3B0aW9ucyxpPXRoaXMubGlzLmVxKGMpLnJlbW92ZSgpLGo9dGhpcy5wYW5lbHMuZXEoYykucmVtb3ZlKCk7CmlmKGkuaGFzQ2xhc3MoInVpLXRhYnMtc2VsZWN0ZWQiKSYmdGhpcy5hbmNob3JzLmxlbmd0aD4xKXRoaXMuc2VsZWN0KGMrKGMrMTx0aGlzLmFuY2hvcnMubGVuZ3RoPzE6LTEpKTtoLmRpc2FibGVkPWIubWFwKGIuZ3JlcChoLmRpc2FibGVkLGZ1bmN0aW9uKG4pe3JldHVybiBuIT1jfSksZnVuY3Rpb24obil7cmV0dXJuIG4+PWM/LS1uOm59KTt0aGlzLl90YWJpZnkoKTt0aGlzLl90cmlnZ2VyKCJyZW1vdmUiLG51bGwsdGhpcy5fdWkoaS5maW5kKCJhIilbMF0salswXSkpO3JldHVybiB0aGlzfSxlbmFibGU6ZnVuY3Rpb24oYyl7Yz10aGlzLl9nZXRJbmRleChjKTt2YXIgaD10aGlzLm9wdGlvbnM7aWYoYi5pbkFycmF5KGMsaC5kaXNhYmxlZCkhPS0xKXt0aGlzLmxpcy5lcShjKS5yZW1vdmVDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKTtoLmRpc2FibGVkPWIuZ3JlcChoLmRpc2FibGVkLGZ1bmN0aW9uKGkpe3JldHVybiBpIT1jfSk7dGhpcy5fdHJpZ2dlcigiZW5hYmxlIixudWxsLAp0aGlzLl91aSh0aGlzLmFuY2hvcnNbY10sdGhpcy5wYW5lbHNbY10pKTtyZXR1cm4gdGhpc319LGRpc2FibGU6ZnVuY3Rpb24oYyl7Yz10aGlzLl9nZXRJbmRleChjKTt2YXIgaD10aGlzLm9wdGlvbnM7aWYoYyE9aC5zZWxlY3RlZCl7dGhpcy5saXMuZXEoYykuYWRkQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIik7aC5kaXNhYmxlZC5wdXNoKGMpO2guZGlzYWJsZWQuc29ydCgpO3RoaXMuX3RyaWdnZXIoImRpc2FibGUiLG51bGwsdGhpcy5fdWkodGhpcy5hbmNob3JzW2NdLHRoaXMucGFuZWxzW2NdKSl9cmV0dXJuIHRoaXN9LHNlbGVjdDpmdW5jdGlvbihjKXtjPXRoaXMuX2dldEluZGV4KGMpO2lmKGM9PS0xKWlmKHRoaXMub3B0aW9ucy5jb2xsYXBzaWJsZSYmdGhpcy5vcHRpb25zLnNlbGVjdGVkIT0tMSljPXRoaXMub3B0aW9ucy5zZWxlY3RlZDtlbHNlIHJldHVybiB0aGlzO3RoaXMuYW5jaG9ycy5lcShjKS50cmlnZ2VyKHRoaXMub3B0aW9ucy5ldmVudCsiLnRhYnMiKTtyZXR1cm4gdGhpc30sCmxvYWQ6ZnVuY3Rpb24oYyl7Yz10aGlzLl9nZXRJbmRleChjKTt2YXIgaD10aGlzLGk9dGhpcy5vcHRpb25zLGo9dGhpcy5hbmNob3JzLmVxKGMpWzBdLG49Yi5kYXRhKGosImxvYWQudGFicyIpO3RoaXMuYWJvcnQoKTtpZighbnx8dGhpcy5lbGVtZW50LnF1ZXVlKCJ0YWJzIikubGVuZ3RoIT09MCYmYi5kYXRhKGosImNhY2hlLnRhYnMiKSl0aGlzLmVsZW1lbnQuZGVxdWV1ZSgidGFicyIpO2Vsc2V7dGhpcy5saXMuZXEoYykuYWRkQ2xhc3MoInVpLXN0YXRlLXByb2Nlc3NpbmciKTtpZihpLnNwaW5uZXIpe3ZhciBvPWIoInNwYW4iLGopO28uZGF0YSgibGFiZWwudGFicyIsby5odG1sKCkpLmh0bWwoaS5zcGlubmVyKX10aGlzLnhocj1iLmFqYXgoYi5leHRlbmQoe30saS5hamF4T3B0aW9ucyx7dXJsOm4sc3VjY2VzczpmdW5jdGlvbihsLGspe2guZWxlbWVudC5maW5kKGguX3Nhbml0aXplU2VsZWN0b3Ioai5oYXNoKSkuaHRtbChsKTtoLl9jbGVhbnVwKCk7aS5jYWNoZSYmYi5kYXRhKGosCiJjYWNoZS50YWJzIix0cnVlKTtoLl90cmlnZ2VyKCJsb2FkIixudWxsLGguX3VpKGguYW5jaG9yc1tjXSxoLnBhbmVsc1tjXSkpO3RyeXtpLmFqYXhPcHRpb25zLnN1Y2Nlc3MobCxrKX1jYXRjaChtKXt9fSxlcnJvcjpmdW5jdGlvbihsLGspe2guX2NsZWFudXAoKTtoLl90cmlnZ2VyKCJsb2FkIixudWxsLGguX3VpKGguYW5jaG9yc1tjXSxoLnBhbmVsc1tjXSkpO3RyeXtpLmFqYXhPcHRpb25zLmVycm9yKGwsayxjLGopfWNhdGNoKG0pe319fSkpO2guZWxlbWVudC5kZXF1ZXVlKCJ0YWJzIik7cmV0dXJuIHRoaXN9fSxhYm9ydDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5xdWV1ZShbXSk7dGhpcy5wYW5lbHMuc3RvcChmYWxzZSx0cnVlKTt0aGlzLmVsZW1lbnQucXVldWUoInRhYnMiLHRoaXMuZWxlbWVudC5xdWV1ZSgidGFicyIpLnNwbGljZSgtMiwyKSk7aWYodGhpcy54aHIpe3RoaXMueGhyLmFib3J0KCk7ZGVsZXRlIHRoaXMueGhyfXRoaXMuX2NsZWFudXAoKTtyZXR1cm4gdGhpc30sCnVybDpmdW5jdGlvbihjLGgpe3RoaXMuYW5jaG9ycy5lcShjKS5yZW1vdmVEYXRhKCJjYWNoZS50YWJzIikuZGF0YSgibG9hZC50YWJzIixoKTtyZXR1cm4gdGhpc30sbGVuZ3RoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYW5jaG9ycy5sZW5ndGh9fSk7Yi5leHRlbmQoYi51aS50YWJzLHt2ZXJzaW9uOiIxLjguMTIifSk7Yi5leHRlbmQoYi51aS50YWJzLnByb3RvdHlwZSx7cm90YXRpb246bnVsbCxyb3RhdGU6ZnVuY3Rpb24oYyxoKXt2YXIgaT10aGlzLGo9dGhpcy5vcHRpb25zLG49aS5fcm90YXRlfHwoaS5fcm90YXRlPWZ1bmN0aW9uKG8pe2NsZWFyVGltZW91dChpLnJvdGF0aW9uKTtpLnJvdGF0aW9uPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgbD1qLnNlbGVjdGVkO2kuc2VsZWN0KCsrbDxpLmFuY2hvcnMubGVuZ3RoP2w6MCl9LGMpO28mJm8uc3RvcFByb3BhZ2F0aW9uKCl9KTtoPWkuX3Vucm90YXRlfHwoaS5fdW5yb3RhdGU9IWg/ZnVuY3Rpb24obyl7by5jbGllbnRYJiYKaS5yb3RhdGUobnVsbCl9OmZ1bmN0aW9uKCl7dD1qLnNlbGVjdGVkO24oKX0pO2lmKGMpe3RoaXMuZWxlbWVudC5iaW5kKCJ0YWJzc2hvdyIsbik7dGhpcy5hbmNob3JzLmJpbmQoai5ldmVudCsiLnRhYnMiLGgpO24oKX1lbHNle2NsZWFyVGltZW91dChpLnJvdGF0aW9uKTt0aGlzLmVsZW1lbnQudW5iaW5kKCJ0YWJzc2hvdyIsbik7dGhpcy5hbmNob3JzLnVuYmluZChqLmV2ZW50KyIudGFicyIsaCk7ZGVsZXRlIHRoaXMuX3JvdGF0ZTtkZWxldGUgdGhpcy5fdW5yb3RhdGV9cmV0dXJuIHRoaXN9fSl9KShqUXVlcnkpOwo=]]></item_file_attachment>
    <item_file_attachment_ext><![CDATA[.js]]></item_file_attachment_ext>
    <item_file_attachment_filename><![CDATA[jquery-ui.min.js]]></item_file_attachment_filename>
    <item_file_attachment_size><![CDATA[199940]]></item_file_attachment_size>
    <item_file_attachment_type><![CDATA[application/unknown]]></item_file_attachment_type>
    <name><![CDATA[jquery-ui.min]]></name>
  </item>
  <item>
    <mig_id>jquery-1.6.4.min</mig_id>
    <community>siteAdmin</community>
    <contenttype>nciJavaScriptInternalInfo</contenttype>
    <folder>/configuration/js</folder>
    <long_title><![CDATA[jquery-1.6.4.min]]></long_title>
    <pretty_url_name><![CDATA[jquery-1.6.4.min]]></pretty_url_name>
    <item_file_attachment><![CDATA[LyohIGpRdWVyeSB2MS42LjQgaHR0cDovL2pxdWVyeS5jb20vIHwgaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZSAqLwooZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjdShhKXtyZXR1cm4gZi5pc1dpbmRvdyhhKT9hOmEubm9kZVR5cGU9PT05P2EuZGVmYXVsdFZpZXd8fGEucGFyZW50V2luZG93OiExfWZ1bmN0aW9uIGNyKGEpe2lmKCFjZ1thXSl7dmFyIGI9Yy5ib2R5LGQ9ZigiPCIrYSsiPiIpLmFwcGVuZFRvKGIpLGU9ZC5jc3MoImRpc3BsYXkiKTtkLnJlbW92ZSgpO2lmKGU9PT0ibm9uZSJ8fGU9PT0iIil7Y2h8fChjaD1jLmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpLGNoLmZyYW1lQm9yZGVyPWNoLndpZHRoPWNoLmhlaWdodD0wKSxiLmFwcGVuZENoaWxkKGNoKTtpZighY2l8fCFjaC5jcmVhdGVFbGVtZW50KWNpPShjaC5jb250ZW50V2luZG93fHxjaC5jb250ZW50RG9jdW1lbnQpLmRvY3VtZW50LGNpLndyaXRlKChjLmNvbXBhdE1vZGU9PT0iQ1NTMUNvbXBhdCI/IjwhZG9jdHlwZSBodG1sPiI6IiIpKyI8aHRtbD48Ym9keT4iKSxjaS5jbG9zZSgpO2Q9Y2kuY3JlYXRlRWxlbWVudChhKSxjaS5ib2R5LmFwcGVuZENoaWxkKGQpLGU9Zi5jc3MoZCwiZGlzcGxheSIpLGIucmVtb3ZlQ2hpbGQoY2gpfWNnW2FdPWV9cmV0dXJuIGNnW2FdfWZ1bmN0aW9uIGNxKGEsYil7dmFyIGM9e307Zi5lYWNoKGNtLmNvbmNhdC5hcHBseShbXSxjbS5zbGljZSgwLGIpKSxmdW5jdGlvbigpe2NbdGhpc109YX0pO3JldHVybiBjfWZ1bmN0aW9uIGNwKCl7Y249Yn1mdW5jdGlvbiBjbygpe3NldFRpbWVvdXQoY3AsMCk7cmV0dXJuIGNuPWYubm93KCl9ZnVuY3Rpb24gY2YoKXt0cnl7cmV0dXJuIG5ldyBhLkFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxIVFRQIil9Y2F0Y2goYil7fX1mdW5jdGlvbiBjZSgpe3RyeXtyZXR1cm4gbmV3IGEuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goYil7fX1mdW5jdGlvbiBiJChhLGMpe2EuZGF0YUZpbHRlciYmKGM9YS5kYXRhRmlsdGVyKGMsYS5kYXRhVHlwZSkpO3ZhciBkPWEuZGF0YVR5cGVzLGU9e30sZyxoLGk9ZC5sZW5ndGgsaixrPWRbMF0sbCxtLG4sbyxwO2ZvcihnPTE7ZzxpO2crKyl7aWYoZz09PTEpZm9yKGggaW4gYS5jb252ZXJ0ZXJzKXR5cGVvZiBoPT0ic3RyaW5nIiYmKGVbaC50b0xvd2VyQ2FzZSgpXT1hLmNvbnZlcnRlcnNbaF0pO2w9ayxrPWRbZ107aWYoaz09PSIqIilrPWw7ZWxzZSBpZihsIT09IioiJiZsIT09ayl7bT1sKyIgIitrLG49ZVttXXx8ZVsiKiAiK2tdO2lmKCFuKXtwPWI7Zm9yKG8gaW4gZSl7aj1vLnNwbGl0KCIgIik7aWYoalswXT09PWx8fGpbMF09PT0iKiIpe3A9ZVtqWzFdKyIgIitrXTtpZihwKXtvPWVbb10sbz09PSEwP249cDpwPT09ITAmJihuPW8pO2JyZWFrfX19fSFuJiYhcCYmZi5lcnJvcigiTm8gY29udmVyc2lvbiBmcm9tICIrbS5yZXBsYWNlKCIgIiwiIHRvICIpKSxuIT09ITAmJihjPW4/bihjKTpwKG8oYykpKX19cmV0dXJuIGN9ZnVuY3Rpb24gYlooYSxjLGQpe3ZhciBlPWEuY29udGVudHMsZj1hLmRhdGFUeXBlcyxnPWEucmVzcG9uc2VGaWVsZHMsaCxpLGosaztmb3IoaSBpbiBnKWkgaW4gZCYmKGNbZ1tpXV09ZFtpXSk7d2hpbGUoZlswXT09PSIqIilmLnNoaWZ0KCksaD09PWImJihoPWEubWltZVR5cGV8fGMuZ2V0UmVzcG9uc2VIZWFkZXIoImNvbnRlbnQtdHlwZSIpKTtpZihoKWZvcihpIGluIGUpaWYoZVtpXSYmZVtpXS50ZXN0KGgpKXtmLnVuc2hpZnQoaSk7YnJlYWt9aWYoZlswXWluIGQpaj1mWzBdO2Vsc2V7Zm9yKGkgaW4gZCl7aWYoIWZbMF18fGEuY29udmVydGVyc1tpKyIgIitmWzBdXSl7aj1pO2JyZWFrfWt8fChrPWkpfWo9anx8a31pZihqKXtqIT09ZlswXSYmZi51bnNoaWZ0KGopO3JldHVybiBkW2pdfX1mdW5jdGlvbiBiWShhLGIsYyxkKXtpZihmLmlzQXJyYXkoYikpZi5lYWNoKGIsZnVuY3Rpb24oYixlKXtjfHxiQS50ZXN0KGEpP2QoYSxlKTpiWShhKyJbIisodHlwZW9mIGU9PSJvYmplY3QifHxmLmlzQXJyYXkoZSk/YjoiIikrIl0iLGUsYyxkKX0pO2Vsc2UgaWYoIWMmJmIhPW51bGwmJnR5cGVvZiBiPT0ib2JqZWN0Iilmb3IodmFyIGUgaW4gYiliWShhKyJbIitlKyJdIixiW2VdLGMsZCk7ZWxzZSBkKGEsYil9ZnVuY3Rpb24gYlgoYSxjKXt2YXIgZCxlLGc9Zi5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnN8fHt9O2ZvcihkIGluIGMpY1tkXSE9PWImJigoZ1tkXT9hOmV8fChlPXt9KSlbZF09Y1tkXSk7ZSYmZi5leHRlbmQoITAsYSxlKX1mdW5jdGlvbiBiVyhhLGMsZCxlLGYsZyl7Zj1mfHxjLmRhdGFUeXBlc1swXSxnPWd8fHt9LGdbZl09ITA7dmFyIGg9YVtmXSxpPTAsaj1oP2gubGVuZ3RoOjAsaz1hPT09YlAsbDtmb3IoO2k8aiYmKGt8fCFsKTtpKyspbD1oW2ldKGMsZCxlKSx0eXBlb2YgbD09InN0cmluZyImJigha3x8Z1tsXT9sPWI6KGMuZGF0YVR5cGVzLnVuc2hpZnQobCksbD1iVyhhLGMsZCxlLGwsZykpKTsoa3x8IWwpJiYhZ1siKiJdJiYobD1iVyhhLGMsZCxlLCIqIixnKSk7cmV0dXJuIGx9ZnVuY3Rpb24gYlYoYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7dHlwZW9mIGIhPSJzdHJpbmciJiYoYz1iLGI9IioiKTtpZihmLmlzRnVuY3Rpb24oYykpe3ZhciBkPWIudG9Mb3dlckNhc2UoKS5zcGxpdChiTCksZT0wLGc9ZC5sZW5ndGgsaCxpLGo7Zm9yKDtlPGc7ZSsrKWg9ZFtlXSxqPS9eXCsvLnRlc3QoaCksaiYmKGg9aC5zdWJzdHIoMSl8fCIqIiksaT1hW2hdPWFbaF18fFtdLGlbaj8idW5zaGlmdCI6InB1c2giXShjKX19fWZ1bmN0aW9uIGJ5KGEsYixjKXt2YXIgZD1iPT09IndpZHRoIj9hLm9mZnNldFdpZHRoOmEub2Zmc2V0SGVpZ2h0LGU9Yj09PSJ3aWR0aCI/YnQ6YnU7aWYoZD4wKXtjIT09ImJvcmRlciImJmYuZWFjaChlLGZ1bmN0aW9uKCl7Y3x8KGQtPXBhcnNlRmxvYXQoZi5jc3MoYSwicGFkZGluZyIrdGhpcykpfHwwKSxjPT09Im1hcmdpbiI/ZCs9cGFyc2VGbG9hdChmLmNzcyhhLGMrdGhpcykpfHwwOmQtPXBhcnNlRmxvYXQoZi5jc3MoYSwiYm9yZGVyIit0aGlzKyJXaWR0aCIpKXx8MH0pO3JldHVybiBkKyJweCJ9ZD1idihhLGIsYik7aWYoZDwwfHxkPT1udWxsKWQ9YS5zdHlsZVtiXXx8MDtkPXBhcnNlRmxvYXQoZCl8fDAsYyYmZi5lYWNoKGUsZnVuY3Rpb24oKXtkKz1wYXJzZUZsb2F0KGYuY3NzKGEsInBhZGRpbmciK3RoaXMpKXx8MCxjIT09InBhZGRpbmciJiYoZCs9cGFyc2VGbG9hdChmLmNzcyhhLCJib3JkZXIiK3RoaXMrIldpZHRoIikpfHwwKSxjPT09Im1hcmdpbiImJihkKz1wYXJzZUZsb2F0KGYuY3NzKGEsYyt0aGlzKSl8fDApfSk7cmV0dXJuIGQrInB4In1mdW5jdGlvbiBibChhLGIpe2Iuc3JjP2YuYWpheCh7dXJsOmIuc3JjLGFzeW5jOiExLGRhdGFUeXBlOiJzY3JpcHQifSk6Zi5nbG9iYWxFdmFsKChiLnRleHR8fGIudGV4dENvbnRlbnR8fGIuaW5uZXJIVE1MfHwiIikucmVwbGFjZShiZCwiLyokMCovIikpLGIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpfWZ1bmN0aW9uIGJrKGEpe2Yubm9kZU5hbWUoYSwiaW5wdXQiKT9iaihhKToiZ2V0RWxlbWVudHNCeVRhZ05hbWUiaW4gYSYmZi5ncmVwKGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlucHV0IiksYmopfWZ1bmN0aW9uIGJqKGEpe2lmKGEudHlwZT09PSJjaGVja2JveCJ8fGEudHlwZT09PSJyYWRpbyIpYS5kZWZhdWx0Q2hlY2tlZD1hLmNoZWNrZWR9ZnVuY3Rpb24gYmkoYSl7cmV0dXJuImdldEVsZW1lbnRzQnlUYWdOYW1lImluIGE/YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpOiJxdWVyeVNlbGVjdG9yQWxsImluIGE/YS5xdWVyeVNlbGVjdG9yQWxsKCIqIik6W119ZnVuY3Rpb24gYmgoYSxiKXt2YXIgYztpZihiLm5vZGVUeXBlPT09MSl7Yi5jbGVhckF0dHJpYnV0ZXMmJmIuY2xlYXJBdHRyaWJ1dGVzKCksYi5tZXJnZUF0dHJpYnV0ZXMmJmIubWVyZ2VBdHRyaWJ1dGVzKGEpLGM9Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO2lmKGM9PT0ib2JqZWN0IiliLm91dGVySFRNTD1hLm91dGVySFRNTDtlbHNlIGlmKGMhPT0iaW5wdXQifHxhLnR5cGUhPT0iY2hlY2tib3giJiZhLnR5cGUhPT0icmFkaW8iKXtpZihjPT09Im9wdGlvbiIpYi5zZWxlY3RlZD1hLmRlZmF1bHRTZWxlY3RlZDtlbHNlIGlmKGM9PT0iaW5wdXQifHxjPT09InRleHRhcmVhIiliLmRlZmF1bHRWYWx1ZT1hLmRlZmF1bHRWYWx1ZX1lbHNlIGEuY2hlY2tlZCYmKGIuZGVmYXVsdENoZWNrZWQ9Yi5jaGVja2VkPWEuY2hlY2tlZCksYi52YWx1ZSE9PWEudmFsdWUmJihiLnZhbHVlPWEudmFsdWUpO2IucmVtb3ZlQXR0cmlidXRlKGYuZXhwYW5kbyl9fWZ1bmN0aW9uIGJnKGEsYil7aWYoYi5ub2RlVHlwZT09PTEmJiEhZi5oYXNEYXRhKGEpKXt2YXIgYz1mLmV4cGFuZG8sZD1mLmRhdGEoYSksZT1mLmRhdGEoYixkKTtpZihkPWRbY10pe3ZhciBnPWQuZXZlbnRzO2U9ZVtjXT1mLmV4dGVuZCh7fSxkKTtpZihnKXtkZWxldGUgZS5oYW5kbGUsZS5ldmVudHM9e307Zm9yKHZhciBoIGluIGcpZm9yKHZhciBpPTAsaj1nW2hdLmxlbmd0aDtpPGo7aSsrKWYuZXZlbnQuYWRkKGIsaCsoZ1toXVtpXS5uYW1lc3BhY2U/Ii4iOiIiKStnW2hdW2ldLm5hbWVzcGFjZSxnW2hdW2ldLGdbaF1baV0uZGF0YSl9fX19ZnVuY3Rpb24gYmYoYSxiKXtyZXR1cm4gZi5ub2RlTmFtZShhLCJ0YWJsZSIpP2EuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRib2R5IilbMF18fGEuYXBwZW5kQ2hpbGQoYS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRib2R5IikpOmF9ZnVuY3Rpb24gVihhLGIsYyl7Yj1ifHwwO2lmKGYuaXNGdW5jdGlvbihiKSlyZXR1cm4gZi5ncmVwKGEsZnVuY3Rpb24oYSxkKXt2YXIgZT0hIWIuY2FsbChhLGQsYSk7cmV0dXJuIGU9PT1jfSk7aWYoYi5ub2RlVHlwZSlyZXR1cm4gZi5ncmVwKGEsZnVuY3Rpb24oYSxkKXtyZXR1cm4gYT09PWI9PT1jfSk7aWYodHlwZW9mIGI9PSJzdHJpbmciKXt2YXIgZD1mLmdyZXAoYSxmdW5jdGlvbihhKXtyZXR1cm4gYS5ub2RlVHlwZT09PTF9KTtpZihRLnRlc3QoYikpcmV0dXJuIGYuZmlsdGVyKGIsZCwhYyk7Yj1mLmZpbHRlcihiLGQpfXJldHVybiBmLmdyZXAoYSxmdW5jdGlvbihhLGQpe3JldHVybiBmLmluQXJyYXkoYSxiKT49MD09PWN9KX1mdW5jdGlvbiBVKGEpe3JldHVybiFhfHwhYS5wYXJlbnROb2RlfHxhLnBhcmVudE5vZGUubm9kZVR5cGU9PT0xMX1mdW5jdGlvbiBNKGEsYil7cmV0dXJuKGEmJmEhPT0iKiI/YSsiLiI6IiIpK2IucmVwbGFjZSh5LCJgIikucmVwbGFjZSh6LCImIil9ZnVuY3Rpb24gTChhKXt2YXIgYixjLGQsZSxnLGgsaSxqLGssbCxtLG4sbyxwPVtdLHE9W10scj1mLl9kYXRhKHRoaXMsImV2ZW50cyIpO2lmKCEoYS5saXZlRmlyZWQ9PT10aGlzfHwhcnx8IXIubGl2ZXx8YS50YXJnZXQuZGlzYWJsZWR8fGEuYnV0dG9uJiZhLnR5cGU9PT0iY2xpY2siKSl7YS5uYW1lc3BhY2UmJihuPW5ldyBSZWdFeHAoIihefFxcLikiK2EubmFtZXNwYWNlLnNwbGl0KCIuIikuam9pbigiXFwuKD86LipcXC4pPyIpKyIoXFwufCQpIikpLGEubGl2ZUZpcmVkPXRoaXM7dmFyIHM9ci5saXZlLnNsaWNlKDApO2ZvcihpPTA7aTxzLmxlbmd0aDtpKyspZz1zW2ldLGcub3JpZ1R5cGUucmVwbGFjZSh3LCIiKT09PWEudHlwZT9xLnB1c2goZy5zZWxlY3Rvcik6cy5zcGxpY2UoaS0tLDEpO2U9ZihhLnRhcmdldCkuY2xvc2VzdChxLGEuY3VycmVudFRhcmdldCk7Zm9yKGo9MCxrPWUubGVuZ3RoO2o8aztqKyspe209ZVtqXTtmb3IoaT0wO2k8cy5sZW5ndGg7aSsrKXtnPXNbaV07aWYobS5zZWxlY3Rvcj09PWcuc2VsZWN0b3ImJighbnx8bi50ZXN0KGcubmFtZXNwYWNlKSkmJiFtLmVsZW0uZGlzYWJsZWQpe2g9bS5lbGVtLGQ9bnVsbDtpZihnLnByZVR5cGU9PT0ibW91c2VlbnRlciJ8fGcucHJlVHlwZT09PSJtb3VzZWxlYXZlIilhLnR5cGU9Zy5wcmVUeXBlLGQ9ZihhLnJlbGF0ZWRUYXJnZXQpLmNsb3Nlc3QoZy5zZWxlY3RvcilbMF0sZCYmZi5jb250YWlucyhoLGQpJiYoZD1oKTsoIWR8fGQhPT1oKSYmcC5wdXNoKHtlbGVtOmgsaGFuZGxlT2JqOmcsbGV2ZWw6bS5sZXZlbH0pfX19Zm9yKGo9MCxrPXAubGVuZ3RoO2o8aztqKyspe2U9cFtqXTtpZihjJiZlLmxldmVsPmMpYnJlYWs7YS5jdXJyZW50VGFyZ2V0PWUuZWxlbSxhLmRhdGE9ZS5oYW5kbGVPYmouZGF0YSxhLmhhbmRsZU9iaj1lLmhhbmRsZU9iaixvPWUuaGFuZGxlT2JqLm9yaWdIYW5kbGVyLmFwcGx5KGUuZWxlbSxhcmd1bWVudHMpO2lmKG89PT0hMXx8YS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKXtjPWUubGV2ZWwsbz09PSExJiYoYj0hMSk7aWYoYS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKWJyZWFrfX1yZXR1cm4gYn19ZnVuY3Rpb24gSihhLGMsZCl7dmFyIGU9Zi5leHRlbmQoe30sZFswXSk7ZS50eXBlPWEsZS5vcmlnaW5hbEV2ZW50PXt9LGUubGl2ZUZpcmVkPWIsZi5ldmVudC5oYW5kbGUuY2FsbChjLGUpLGUuaXNEZWZhdWx0UHJldmVudGVkKCkmJmRbMF0ucHJldmVudERlZmF1bHQoKX1mdW5jdGlvbiBEKCl7cmV0dXJuITB9ZnVuY3Rpb24gQygpe3JldHVybiExfWZ1bmN0aW9uIG0oYSxjLGQpe3ZhciBlPWMrImRlZmVyIixnPWMrInF1ZXVlIixoPWMrIm1hcmsiLGk9Zi5kYXRhKGEsZSxiLCEwKTtpJiYoZD09PSJxdWV1ZSJ8fCFmLmRhdGEoYSxnLGIsITApKSYmKGQ9PT0ibWFyayJ8fCFmLmRhdGEoYSxoLGIsITApKSYmc2V0VGltZW91dChmdW5jdGlvbigpeyFmLmRhdGEoYSxnLGIsITApJiYhZi5kYXRhKGEsaCxiLCEwKSYmKGYucmVtb3ZlRGF0YShhLGUsITApLGkucmVzb2x2ZSgpKX0sMCl9ZnVuY3Rpb24gbChhKXtmb3IodmFyIGIgaW4gYSlpZihiIT09InRvSlNPTiIpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gayhhLGMsZCl7aWYoZD09PWImJmEubm9kZVR5cGU9PT0xKXt2YXIgZT0iZGF0YS0iK2MucmVwbGFjZShqLCItJDEiKS50b0xvd2VyQ2FzZSgpO2Q9YS5nZXRBdHRyaWJ1dGUoZSk7aWYodHlwZW9mIGQ9PSJzdHJpbmciKXt0cnl7ZD1kPT09InRydWUiPyEwOmQ9PT0iZmFsc2UiPyExOmQ9PT0ibnVsbCI/bnVsbDpmLmlzTmFOKGQpP2kudGVzdChkKT9mLnBhcnNlSlNPTihkKTpkOnBhcnNlRmxvYXQoZCl9Y2F0Y2goZyl7fWYuZGF0YShhLGMsZCl9ZWxzZSBkPWJ9cmV0dXJuIGR9dmFyIGM9YS5kb2N1bWVudCxkPWEubmF2aWdhdG9yLGU9YS5sb2NhdGlvbixmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gSygpe2lmKCFlLmlzUmVhZHkpe3RyeXtjLmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbCgibGVmdCIpfWNhdGNoKGEpe3NldFRpbWVvdXQoSywxKTtyZXR1cm59ZS5yZWFkeSgpfX12YXIgZT1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgZS5mbi5pbml0KGEsYixoKX0sZj1hLmpRdWVyeSxnPWEuJCxoLGk9L14oPzpbXiM8XSooPFtcd1xXXSs+KVtePl0qJHwjKFtcd1wtXSopJCkvLGo9L1xTLyxrPS9eXHMrLyxsPS9ccyskLyxtPS9cZC8sbj0vXjwoXHcrKVxzKlwvPz4oPzo8XC9cMT4pPyQvLG89L15bXF0sOnt9XHNdKiQvLHA9L1xcKD86WyJcXFwvYmZucnRdfHVbMC05YS1mQS1GXXs0fSkvZyxxPS8iW14iXFxcblxyXSoifHRydWV8ZmFsc2V8bnVsbHwtP1xkKyg/OlwuXGQqKT8oPzpbZUVdWytcLV0/XGQrKT8vZyxyPS8oPzpefDp8LCkoPzpccypcWykrL2cscz0vKHdlYmtpdClbIFwvXShbXHcuXSspLyx0PS8ob3BlcmEpKD86Lip2ZXJzaW9uKT9bIFwvXShbXHcuXSspLyx1PS8obXNpZSkgKFtcdy5dKykvLHY9Lyhtb3ppbGxhKSg/Oi4qPyBydjooW1x3Ll0rKSk/Lyx3PS8tKFthLXpdfFswLTldKS9pZyx4PS9eLW1zLS8seT1mdW5jdGlvbihhLGIpe3JldHVybihiKyIiKS50b1VwcGVyQ2FzZSgpfSx6PWQudXNlckFnZW50LEEsQixDLEQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxFPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksRj1BcnJheS5wcm90b3R5cGUucHVzaCxHPUFycmF5LnByb3RvdHlwZS5zbGljZSxIPVN0cmluZy5wcm90b3R5cGUudHJpbSxJPUFycmF5LnByb3RvdHlwZS5pbmRleE9mLEo9e307ZS5mbj1lLnByb3RvdHlwZT17Y29uc3RydWN0b3I6ZSxpbml0OmZ1bmN0aW9uKGEsZCxmKXt2YXIgZyxoLGosaztpZighYSlyZXR1cm4gdGhpcztpZihhLm5vZGVUeXBlKXt0aGlzLmNvbnRleHQ9dGhpc1swXT1hLHRoaXMubGVuZ3RoPTE7cmV0dXJuIHRoaXN9aWYoYT09PSJib2R5IiYmIWQmJmMuYm9keSl7dGhpcy5jb250ZXh0PWMsdGhpc1swXT1jLmJvZHksdGhpcy5zZWxlY3Rvcj1hLHRoaXMubGVuZ3RoPTE7cmV0dXJuIHRoaXN9aWYodHlwZW9mIGE9PSJzdHJpbmciKXthLmNoYXJBdCgwKSE9PSI8Inx8YS5jaGFyQXQoYS5sZW5ndGgtMSkhPT0iPiJ8fGEubGVuZ3RoPDM/Zz1pLmV4ZWMoYSk6Zz1bbnVsbCxhLG51bGxdO2lmKGcmJihnWzFdfHwhZCkpe2lmKGdbMV0pe2Q9ZCBpbnN0YW5jZW9mIGU/ZFswXTpkLGs9ZD9kLm93bmVyRG9jdW1lbnR8fGQ6YyxqPW4uZXhlYyhhKSxqP2UuaXNQbGFpbk9iamVjdChkKT8oYT1bYy5jcmVhdGVFbGVtZW50KGpbMV0pXSxlLmZuLmF0dHIuY2FsbChhLGQsITApKTphPVtrLmNyZWF0ZUVsZW1lbnQoalsxXSldOihqPWUuYnVpbGRGcmFnbWVudChbZ1sxXV0sW2tdKSxhPShqLmNhY2hlYWJsZT9lLmNsb25lKGouZnJhZ21lbnQpOmouZnJhZ21lbnQpLmNoaWxkTm9kZXMpO3JldHVybiBlLm1lcmdlKHRoaXMsYSl9aD1jLmdldEVsZW1lbnRCeUlkKGdbMl0pO2lmKGgmJmgucGFyZW50Tm9kZSl7aWYoaC5pZCE9PWdbMl0pcmV0dXJuIGYuZmluZChhKTt0aGlzLmxlbmd0aD0xLHRoaXNbMF09aH10aGlzLmNvbnRleHQ9Yyx0aGlzLnNlbGVjdG9yPWE7cmV0dXJuIHRoaXN9cmV0dXJuIWR8fGQuanF1ZXJ5PyhkfHxmKS5maW5kKGEpOnRoaXMuY29uc3RydWN0b3IoZCkuZmluZChhKX1pZihlLmlzRnVuY3Rpb24oYSkpcmV0dXJuIGYucmVhZHkoYSk7YS5zZWxlY3RvciE9PWImJih0aGlzLnNlbGVjdG9yPWEuc2VsZWN0b3IsdGhpcy5jb250ZXh0PWEuY29udGV4dCk7cmV0dXJuIGUubWFrZUFycmF5KGEsdGhpcyl9LHNlbGVjdG9yOiIiLGpxdWVyeToiMS42LjQiLGxlbmd0aDowLHNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGh9LHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gRy5jYWxsKHRoaXMsMCl9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gYT09bnVsbD90aGlzLnRvQXJyYXkoKTphPDA/dGhpc1t0aGlzLmxlbmd0aCthXTp0aGlzW2FdfSxwdXNoU3RhY2s6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuY29uc3RydWN0b3IoKTtlLmlzQXJyYXkoYSk/Ri5hcHBseShkLGEpOmUubWVyZ2UoZCxhKSxkLnByZXZPYmplY3Q9dGhpcyxkLmNvbnRleHQ9dGhpcy5jb250ZXh0LGI9PT0iZmluZCI/ZC5zZWxlY3Rvcj10aGlzLnNlbGVjdG9yKyh0aGlzLnNlbGVjdG9yPyIgIjoiIikrYzpiJiYoZC5zZWxlY3Rvcj10aGlzLnNlbGVjdG9yKyIuIitiKyIoIitjKyIpIik7cmV0dXJuIGR9LGVhY2g6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZS5lYWNoKHRoaXMsYSxiKX0scmVhZHk6ZnVuY3Rpb24oYSl7ZS5iaW5kUmVhZHkoKSxCLmRvbmUoYSk7cmV0dXJuIHRoaXN9LGVxOmZ1bmN0aW9uKGEpe3JldHVybiBhPT09LTE/dGhpcy5zbGljZShhKTp0aGlzLnNsaWNlKGEsK2ErMSl9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoMCl9LGxhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgtMSl9LHNsaWNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKEcuYXBwbHkodGhpcyxhcmd1bWVudHMpLCJzbGljZSIsRy5jYWxsKGFyZ3VtZW50cykuam9pbigiLCIpKX0sbWFwOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayhlLm1hcCh0aGlzLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuY2FsbChiLGMsYil9KSl9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fHRoaXMuY29uc3RydWN0b3IobnVsbCl9LHB1c2g6Rixzb3J0OltdLnNvcnQsc3BsaWNlOltdLnNwbGljZX0sZS5mbi5pbml0LnByb3RvdHlwZT1lLmZuLGUuZXh0ZW5kPWUuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGEsYyxkLGYsZyxoLGk9YXJndW1lbnRzWzBdfHx7fSxqPTEsaz1hcmd1bWVudHMubGVuZ3RoLGw9ITE7dHlwZW9mIGk9PSJib29sZWFuIiYmKGw9aSxpPWFyZ3VtZW50c1sxXXx8e30saj0yKSx0eXBlb2YgaSE9Im9iamVjdCImJiFlLmlzRnVuY3Rpb24oaSkmJihpPXt9KSxrPT09aiYmKGk9dGhpcywtLWopO2Zvcig7ajxrO2orKylpZigoYT1hcmd1bWVudHNbal0pIT1udWxsKWZvcihjIGluIGEpe2Q9aVtjXSxmPWFbY107aWYoaT09PWYpY29udGludWU7bCYmZiYmKGUuaXNQbGFpbk9iamVjdChmKXx8KGc9ZS5pc0FycmF5KGYpKSk/KGc/KGc9ITEsaD1kJiZlLmlzQXJyYXkoZCk/ZDpbXSk6aD1kJiZlLmlzUGxhaW5PYmplY3QoZCk/ZDp7fSxpW2NdPWUuZXh0ZW5kKGwsaCxmKSk6ZiE9PWImJihpW2NdPWYpfXJldHVybiBpfSxlLmV4dGVuZCh7bm9Db25mbGljdDpmdW5jdGlvbihiKXthLiQ9PT1lJiYoYS4kPWcpLGImJmEualF1ZXJ5PT09ZSYmKGEualF1ZXJ5PWYpO3JldHVybiBlfSxpc1JlYWR5OiExLHJlYWR5V2FpdDoxLGhvbGRSZWFkeTpmdW5jdGlvbihhKXthP2UucmVhZHlXYWl0Kys6ZS5yZWFkeSghMCl9LHJlYWR5OmZ1bmN0aW9uKGEpe2lmKGE9PT0hMCYmIS0tZS5yZWFkeVdhaXR8fGEhPT0hMCYmIWUuaXNSZWFkeSl7aWYoIWMuYm9keSlyZXR1cm4gc2V0VGltZW91dChlLnJlYWR5LDEpO2UuaXNSZWFkeT0hMDtpZihhIT09ITAmJi0tZS5yZWFkeVdhaXQ+MClyZXR1cm47Qi5yZXNvbHZlV2l0aChjLFtlXSksZS5mbi50cmlnZ2VyJiZlKGMpLnRyaWdnZXIoInJlYWR5IikudW5iaW5kKCJyZWFkeSIpfX0sYmluZFJlYWR5OmZ1bmN0aW9uKCl7aWYoIUIpe0I9ZS5fRGVmZXJyZWQoKTtpZihjLnJlYWR5U3RhdGU9PT0iY29tcGxldGUiKXJldHVybiBzZXRUaW1lb3V0KGUucmVhZHksMSk7aWYoYy5hZGRFdmVudExpc3RlbmVyKWMuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsQywhMSksYS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixlLnJlYWR5LCExKTtlbHNlIGlmKGMuYXR0YWNoRXZlbnQpe2MuYXR0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsQyksYS5hdHRhY2hFdmVudCgib25sb2FkIixlLnJlYWR5KTt2YXIgYj0hMTt0cnl7Yj1hLmZyYW1lRWxlbWVudD09bnVsbH1jYXRjaChkKXt9Yy5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwmJmImJksoKX19fSxpc0Z1bmN0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiBlLnR5cGUoYSk9PT0iZnVuY3Rpb24ifSxpc0FycmF5OkFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGEpe3JldHVybiBlLnR5cGUoYSk9PT0iYXJyYXkifSxpc1dpbmRvdzpmdW5jdGlvbihhKXtyZXR1cm4gYSYmdHlwZW9mIGE9PSJvYmplY3QiJiYic2V0SW50ZXJ2YWwiaW4gYX0saXNOYU46ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PW51bGx8fCFtLnRlc3QoYSl8fGlzTmFOKGEpfSx0eXBlOmZ1bmN0aW9uKGEpe3JldHVybiBhPT1udWxsP1N0cmluZyhhKTpKW0QuY2FsbChhKV18fCJvYmplY3QifSxpc1BsYWluT2JqZWN0OmZ1bmN0aW9uKGEpe2lmKCFhfHxlLnR5cGUoYSkhPT0ib2JqZWN0Inx8YS5ub2RlVHlwZXx8ZS5pc1dpbmRvdyhhKSlyZXR1cm4hMTt0cnl7aWYoYS5jb25zdHJ1Y3RvciYmIUUuY2FsbChhLCJjb25zdHJ1Y3RvciIpJiYhRS5jYWxsKGEuY29uc3RydWN0b3IucHJvdG90eXBlLCJpc1Byb3RvdHlwZU9mIikpcmV0dXJuITF9Y2F0Y2goYyl7cmV0dXJuITF9dmFyIGQ7Zm9yKGQgaW4gYSk7cmV0dXJuIGQ9PT1ifHxFLmNhbGwoYSxkKX0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gYSlyZXR1cm4hMTtyZXR1cm4hMH0sZXJyb3I6ZnVuY3Rpb24oYSl7dGhyb3cgYX0scGFyc2VKU09OOmZ1bmN0aW9uKGIpe2lmKHR5cGVvZiBiIT0ic3RyaW5nInx8IWIpcmV0dXJuIG51bGw7Yj1lLnRyaW0oYik7aWYoYS5KU09OJiZhLkpTT04ucGFyc2UpcmV0dXJuIGEuSlNPTi5wYXJzZShiKTtpZihvLnRlc3QoYi5yZXBsYWNlKHAsIkAiKS5yZXBsYWNlKHEsIl0iKS5yZXBsYWNlKHIsIiIpKSlyZXR1cm4obmV3IEZ1bmN0aW9uKCJyZXR1cm4gIitiKSkoKTtlLmVycm9yKCJJbnZhbGlkIEpTT046ICIrYil9LHBhcnNlWE1MOmZ1bmN0aW9uKGMpe3ZhciBkLGY7dHJ5e2EuRE9NUGFyc2VyPyhmPW5ldyBET01QYXJzZXIsZD1mLnBhcnNlRnJvbVN0cmluZyhjLCJ0ZXh0L3htbCIpKTooZD1uZXcgQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTERPTSIpLGQuYXN5bmM9ImZhbHNlIixkLmxvYWRYTUwoYykpfWNhdGNoKGcpe2Q9Yn0oIWR8fCFkLmRvY3VtZW50RWxlbWVudHx8ZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGgpJiZlLmVycm9yKCJJbnZhbGlkIFhNTDogIitjKTtyZXR1cm4gZH0sbm9vcDpmdW5jdGlvbigpe30sZ2xvYmFsRXZhbDpmdW5jdGlvbihiKXtiJiZqLnRlc3QoYikmJihhLmV4ZWNTY3JpcHR8fGZ1bmN0aW9uKGIpe2EuZXZhbC5jYWxsKGEsYil9KShiKX0sY2FtZWxDYXNlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoeCwibXMtIikucmVwbGFjZSh3LHkpfSxub2RlTmFtZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk9PT1iLnRvVXBwZXJDYXNlKCl9LGVhY2g6ZnVuY3Rpb24oYSxjLGQpe3ZhciBmLGc9MCxoPWEubGVuZ3RoLGk9aD09PWJ8fGUuaXNGdW5jdGlvbihhKTtpZihkKXtpZihpKXtmb3IoZiBpbiBhKWlmKGMuYXBwbHkoYVtmXSxkKT09PSExKWJyZWFrfWVsc2UgZm9yKDtnPGg7KWlmKGMuYXBwbHkoYVtnKytdLGQpPT09ITEpYnJlYWt9ZWxzZSBpZihpKXtmb3IoZiBpbiBhKWlmKGMuY2FsbChhW2ZdLGYsYVtmXSk9PT0hMSlicmVha31lbHNlIGZvcig7ZzxoOylpZihjLmNhbGwoYVtnXSxnLGFbZysrXSk9PT0hMSlicmVhaztyZXR1cm4gYX0sdHJpbTpIP2Z1bmN0aW9uKGEpe3JldHVybiBhPT1udWxsPyIiOkguY2FsbChhKX06ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PW51bGw/IiI6KGErIiIpLnJlcGxhY2UoaywiIikucmVwbGFjZShsLCIiKX0sbWFrZUFycmF5OmZ1bmN0aW9uKGEsYil7dmFyIGM9Ynx8W107aWYoYSE9bnVsbCl7dmFyIGQ9ZS50eXBlKGEpO2EubGVuZ3RoPT1udWxsfHxkPT09InN0cmluZyJ8fGQ9PT0iZnVuY3Rpb24ifHxkPT09InJlZ2V4cCJ8fGUuaXNXaW5kb3coYSk/Ri5jYWxsKGMsYSk6ZS5tZXJnZShjLGEpfXJldHVybiBjfSxpbkFycmF5OmZ1bmN0aW9uKGEsYil7aWYoIWIpcmV0dXJuLTE7aWYoSSlyZXR1cm4gSS5jYWxsKGIsYSk7Zm9yKHZhciBjPTAsZD1iLmxlbmd0aDtjPGQ7YysrKWlmKGJbY109PT1hKXJldHVybiBjO3JldHVybi0xfSxtZXJnZTpmdW5jdGlvbihhLGMpe3ZhciBkPWEubGVuZ3RoLGU9MDtpZih0eXBlb2YgYy5sZW5ndGg9PSJudW1iZXIiKWZvcih2YXIgZj1jLmxlbmd0aDtlPGY7ZSsrKWFbZCsrXT1jW2VdO2Vsc2Ugd2hpbGUoY1tlXSE9PWIpYVtkKytdPWNbZSsrXTthLmxlbmd0aD1kO3JldHVybiBhfSxncmVwOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXSxlO2M9ISFjO2Zvcih2YXIgZj0wLGc9YS5sZW5ndGg7ZjxnO2YrKyllPSEhYihhW2ZdLGYpLGMhPT1lJiZkLnB1c2goYVtmXSk7cmV0dXJuIGR9LG1hcDpmdW5jdGlvbihhLGMsZCl7dmFyIGYsZyxoPVtdLGk9MCxqPWEubGVuZ3RoLGs9YSBpbnN0YW5jZW9mIGV8fGohPT1iJiZ0eXBlb2Ygaj09Im51bWJlciImJihqPjAmJmFbMF0mJmFbai0xXXx8aj09PTB8fGUuaXNBcnJheShhKSk7aWYoaylmb3IoO2k8ajtpKyspZj1jKGFbaV0saSxkKSxmIT1udWxsJiYoaFtoLmxlbmd0aF09Zik7ZWxzZSBmb3IoZyBpbiBhKWY9YyhhW2ddLGcsZCksZiE9bnVsbCYmKGhbaC5sZW5ndGhdPWYpO3JldHVybiBoLmNvbmNhdC5hcHBseShbXSxoKX0sZ3VpZDoxLHByb3h5OmZ1bmN0aW9uKGEsYyl7aWYodHlwZW9mIGM9PSJzdHJpbmciKXt2YXIgZD1hW2NdO2M9YSxhPWR9aWYoIWUuaXNGdW5jdGlvbihhKSlyZXR1cm4gYjt2YXIgZj1HLmNhbGwoYXJndW1lbnRzLDIpLGc9ZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShjLGYuY29uY2F0KEcuY2FsbChhcmd1bWVudHMpKSl9O2cuZ3VpZD1hLmd1aWQ9YS5ndWlkfHxnLmd1aWR8fGUuZ3VpZCsrO3JldHVybiBnfSxhY2Nlc3M6ZnVuY3Rpb24oYSxjLGQsZixnLGgpe3ZhciBpPWEubGVuZ3RoO2lmKHR5cGVvZiBjPT0ib2JqZWN0Iil7Zm9yKHZhciBqIGluIGMpZS5hY2Nlc3MoYSxqLGNbal0sZixnLGQpO3JldHVybiBhfWlmKGQhPT1iKXtmPSFoJiZmJiZlLmlzRnVuY3Rpb24oZCk7Zm9yKHZhciBrPTA7azxpO2srKylnKGFba10sYyxmP2QuY2FsbChhW2tdLGssZyhhW2tdLGMpKTpkLGgpO3JldHVybiBhfXJldHVybiBpP2coYVswXSxjKTpifSxub3c6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX0sdWFNYXRjaDpmdW5jdGlvbihhKXthPWEudG9Mb3dlckNhc2UoKTt2YXIgYj1zLmV4ZWMoYSl8fHQuZXhlYyhhKXx8dS5leGVjKGEpfHxhLmluZGV4T2YoImNvbXBhdGlibGUiKTwwJiZ2LmV4ZWMoYSl8fFtdO3JldHVybnticm93c2VyOmJbMV18fCIiLHZlcnNpb246YlsyXXx8IjAifX0sc3ViOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiLGMpe3JldHVybiBuZXcgYS5mbi5pbml0KGIsYyl9ZS5leHRlbmQoITAsYSx0aGlzKSxhLnN1cGVyY2xhc3M9dGhpcyxhLmZuPWEucHJvdG90eXBlPXRoaXMoKSxhLmZuLmNvbnN0cnVjdG9yPWEsYS5zdWI9dGhpcy5zdWIsYS5mbi5pbml0PWZ1bmN0aW9uKGQsZil7ZiYmZiBpbnN0YW5jZW9mIGUmJiEoZiBpbnN0YW5jZW9mIGEpJiYoZj1hKGYpKTtyZXR1cm4gZS5mbi5pbml0LmNhbGwodGhpcyxkLGYsYil9LGEuZm4uaW5pdC5wcm90b3R5cGU9YS5mbjt2YXIgYj1hKGMpO3JldHVybiBhfSxicm93c2VyOnt9fSksZS5lYWNoKCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0Ii5zcGxpdCgiICIpLGZ1bmN0aW9uKGEsYil7SlsiW29iamVjdCAiK2IrIl0iXT1iLnRvTG93ZXJDYXNlKCl9KSxBPWUudWFNYXRjaCh6KSxBLmJyb3dzZXImJihlLmJyb3dzZXJbQS5icm93c2VyXT0hMCxlLmJyb3dzZXIudmVyc2lvbj1BLnZlcnNpb24pLGUuYnJvd3Nlci53ZWJraXQmJihlLmJyb3dzZXIuc2FmYXJpPSEwKSxqLnRlc3QoIsKgIikmJihrPS9eW1xzXHhBMF0rLyxsPS9bXHNceEEwXSskLyksaD1lKGMpLGMuYWRkRXZlbnRMaXN0ZW5lcj9DPWZ1bmN0aW9uKCl7Yy5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixDLCExKSxlLnJlYWR5KCl9OmMuYXR0YWNoRXZlbnQmJihDPWZ1bmN0aW9uKCl7Yy5yZWFkeVN0YXRlPT09ImNvbXBsZXRlIiYmKGMuZGV0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsQyksZS5yZWFkeSgpKX0pO3JldHVybiBlfSgpLGc9ImRvbmUgZmFpbCBpc1Jlc29sdmVkIGlzUmVqZWN0ZWQgcHJvbWlzZSB0aGVuIGFsd2F5cyBwaXBlIi5zcGxpdCgiICIpLGg9W10uc2xpY2U7Zi5leHRlbmQoe19EZWZlcnJlZDpmdW5jdGlvbigpe3ZhciBhPVtdLGIsYyxkLGU9e2RvbmU6ZnVuY3Rpb24oKXtpZighZCl7dmFyIGM9YXJndW1lbnRzLGcsaCxpLGosaztiJiYoaz1iLGI9MCk7Zm9yKGc9MCxoPWMubGVuZ3RoO2c8aDtnKyspaT1jW2ddLGo9Zi50eXBlKGkpLGo9PT0iYXJyYXkiP2UuZG9uZS5hcHBseShlLGkpOmo9PT0iZnVuY3Rpb24iJiZhLnB1c2goaSk7ayYmZS5yZXNvbHZlV2l0aChrWzBdLGtbMV0pfXJldHVybiB0aGlzfSxyZXNvbHZlV2l0aDpmdW5jdGlvbihlLGYpe2lmKCFkJiYhYiYmIWMpe2Y9Znx8W10sYz0xO3RyeXt3aGlsZShhWzBdKWEuc2hpZnQoKS5hcHBseShlLGYpfWZpbmFsbHl7Yj1bZSxmXSxjPTB9fXJldHVybiB0aGlzfSxyZXNvbHZlOmZ1bmN0aW9uKCl7ZS5yZXNvbHZlV2l0aCh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXN9LGlzUmVzb2x2ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWN8fCEhYn0sY2FuY2VsOmZ1bmN0aW9uKCl7ZD0xLGE9W107cmV0dXJuIHRoaXN9fTtyZXR1cm4gZX0sRGVmZXJyZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9Zi5fRGVmZXJyZWQoKSxjPWYuX0RlZmVycmVkKCksZDtmLmV4dGVuZChiLHt0aGVuOmZ1bmN0aW9uKGEsYyl7Yi5kb25lKGEpLmZhaWwoYyk7cmV0dXJuIHRoaXN9LGFsd2F5czpmdW5jdGlvbigpe3JldHVybiBiLmRvbmUuYXBwbHkoYixhcmd1bWVudHMpLmZhaWwuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxmYWlsOmMuZG9uZSxyZWplY3RXaXRoOmMucmVzb2x2ZVdpdGgscmVqZWN0OmMucmVzb2x2ZSxpc1JlamVjdGVkOmMuaXNSZXNvbHZlZCxwaXBlOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIGYuRGVmZXJyZWQoZnVuY3Rpb24oZCl7Zi5lYWNoKHtkb25lOlthLCJyZXNvbHZlIl0sZmFpbDpbYywicmVqZWN0Il19LGZ1bmN0aW9uKGEsYyl7dmFyIGU9Y1swXSxnPWNbMV0saDtmLmlzRnVuY3Rpb24oZSk/YlthXShmdW5jdGlvbigpe2g9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksaCYmZi5pc0Z1bmN0aW9uKGgucHJvbWlzZSk/aC5wcm9taXNlKCkudGhlbihkLnJlc29sdmUsZC5yZWplY3QpOmRbZysiV2l0aCJdKHRoaXM9PT1iP2Q6dGhpcyxbaF0pfSk6YlthXShkW2ddKX0pfSkucHJvbWlzZSgpfSxwcm9taXNlOmZ1bmN0aW9uKGEpe2lmKGE9PW51bGwpe2lmKGQpcmV0dXJuIGQ7ZD1hPXt9fXZhciBjPWcubGVuZ3RoO3doaWxlKGMtLSlhW2dbY11dPWJbZ1tjXV07cmV0dXJuIGF9fSksYi5kb25lKGMuY2FuY2VsKS5mYWlsKGIuY2FuY2VsKSxkZWxldGUgYi5jYW5jZWwsYSYmYS5jYWxsKGIsYik7cmV0dXJuIGJ9LHdoZW46ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gaShhKXtyZXR1cm4gZnVuY3Rpb24oYyl7YlthXT1hcmd1bWVudHMubGVuZ3RoPjE/aC5jYWxsKGFyZ3VtZW50cywwKTpjLC0tZXx8Zy5yZXNvbHZlV2l0aChnLGguY2FsbChiLDApKX19dmFyIGI9YXJndW1lbnRzLGM9MCxkPWIubGVuZ3RoLGU9ZCxnPWQ8PTEmJmEmJmYuaXNGdW5jdGlvbihhLnByb21pc2UpP2E6Zi5EZWZlcnJlZCgpO2lmKGQ+MSl7Zm9yKDtjPGQ7YysrKWJbY10mJmYuaXNGdW5jdGlvbihiW2NdLnByb21pc2UpP2JbY10ucHJvbWlzZSgpLnRoZW4oaShjKSxnLnJlamVjdCk6LS1lO2V8fGcucmVzb2x2ZVdpdGgoZyxiKX1lbHNlIGchPT1hJiZnLnJlc29sdmVXaXRoKGcsZD9bYV06W10pO3JldHVybiBnLnByb21pc2UoKX19KSxmLnN1cHBvcnQ9ZnVuY3Rpb24oKXt2YXIgYT1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGI9Yy5kb2N1bWVudEVsZW1lbnQsZCxlLGcsaCxpLGosayxsLG0sbixvLHAscSxyLHMsdCx1O2Euc2V0QXR0cmlidXRlKCJjbGFzc05hbWUiLCJ0IiksYS5pbm5lckhUTUw9IiAgIDxsaW5rLz48dGFibGU+PC90YWJsZT48YSBocmVmPScvYScgc3R5bGU9J3RvcDoxcHg7ZmxvYXQ6bGVmdDtvcGFjaXR5Oi41NTsnPmE8L2E+PGlucHV0IHR5cGU9J2NoZWNrYm94Jy8+IixkPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSxlPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKVswXTtpZighZHx8IWQubGVuZ3RofHwhZSlyZXR1cm57fTtnPWMuY3JlYXRlRWxlbWVudCgic2VsZWN0IiksaD1nLmFwcGVuZENoaWxkKGMuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpLGk9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKVswXSxrPXtsZWFkaW5nV2hpdGVzcGFjZTphLmZpcnN0Q2hpbGQubm9kZVR5cGU9PT0zLHRib2R5OiFhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0Ym9keSIpLmxlbmd0aCxodG1sU2VyaWFsaXplOiEhYS5nZXRFbGVtZW50c0J5VGFnTmFtZSgibGluayIpLmxlbmd0aCxzdHlsZTovdG9wLy50ZXN0KGUuZ2V0QXR0cmlidXRlKCJzdHlsZSIpKSxocmVmTm9ybWFsaXplZDplLmdldEF0dHJpYnV0ZSgiaHJlZiIpPT09Ii9hIixvcGFjaXR5Oi9eMC41NSQvLnRlc3QoZS5zdHlsZS5vcGFjaXR5KSxjc3NGbG9hdDohIWUuc3R5bGUuY3NzRmxvYXQsY2hlY2tPbjppLnZhbHVlPT09Im9uIixvcHRTZWxlY3RlZDpoLnNlbGVjdGVkLGdldFNldEF0dHJpYnV0ZTphLmNsYXNzTmFtZSE9PSJ0IixzdWJtaXRCdWJibGVzOiEwLGNoYW5nZUJ1YmJsZXM6ITAsZm9jdXNpbkJ1YmJsZXM6ITEsZGVsZXRlRXhwYW5kbzohMCxub0Nsb25lRXZlbnQ6ITAsaW5saW5lQmxvY2tOZWVkc0xheW91dDohMSxzaHJpbmtXcmFwQmxvY2tzOiExLHJlbGlhYmxlTWFyZ2luUmlnaHQ6ITB9LGkuY2hlY2tlZD0hMCxrLm5vQ2xvbmVDaGVja2VkPWkuY2xvbmVOb2RlKCEwKS5jaGVja2VkLGcuZGlzYWJsZWQ9ITAsay5vcHREaXNhYmxlZD0haC5kaXNhYmxlZDt0cnl7ZGVsZXRlIGEudGVzdH1jYXRjaCh2KXtrLmRlbGV0ZUV4cGFuZG89ITF9IWEuYWRkRXZlbnRMaXN0ZW5lciYmYS5hdHRhY2hFdmVudCYmYS5maXJlRXZlbnQmJihhLmF0dGFjaEV2ZW50KCJvbmNsaWNrIixmdW5jdGlvbigpe2subm9DbG9uZUV2ZW50PSExfSksYS5jbG9uZU5vZGUoITApLmZpcmVFdmVudCgib25jbGljayIpKSxpPWMuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxpLnZhbHVlPSJ0IixpLnNldEF0dHJpYnV0ZSgidHlwZSIsInJhZGlvIiksay5yYWRpb1ZhbHVlPWkudmFsdWU9PT0idCIsaS5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIiksYS5hcHBlbmRDaGlsZChpKSxsPWMuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGwuYXBwZW5kQ2hpbGQoYS5maXJzdENoaWxkKSxrLmNoZWNrQ2xvbmU9bC5jbG9uZU5vZGUoITApLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmNoZWNrZWQsYS5pbm5lckhUTUw9IiIsYS5zdHlsZS53aWR0aD1hLnN0eWxlLnBhZGRpbmdMZWZ0PSIxcHgiLG09Yy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpWzBdLG89Yy5jcmVhdGVFbGVtZW50KG0/ImRpdiI6ImJvZHkiKSxwPXt2aXNpYmlsaXR5OiJoaWRkZW4iLHdpZHRoOjAsaGVpZ2h0OjAsYm9yZGVyOjAsbWFyZ2luOjAsYmFja2dyb3VuZDoibm9uZSJ9LG0mJmYuZXh0ZW5kKHAse3Bvc2l0aW9uOiJhYnNvbHV0ZSIsbGVmdDoiLTEwMDBweCIsdG9wOiItMTAwMHB4In0pO2Zvcih0IGluIHApby5zdHlsZVt0XT1wW3RdO28uYXBwZW5kQ2hpbGQoYSksbj1tfHxiLG4uaW5zZXJ0QmVmb3JlKG8sbi5maXJzdENoaWxkKSxrLmFwcGVuZENoZWNrZWQ9aS5jaGVja2VkLGsuYm94TW9kZWw9YS5vZmZzZXRXaWR0aD09PTIsInpvb20iaW4gYS5zdHlsZSYmKGEuc3R5bGUuZGlzcGxheT0iaW5saW5lIixhLnN0eWxlLnpvb209MSxrLmlubGluZUJsb2NrTmVlZHNMYXlvdXQ9YS5vZmZzZXRXaWR0aD09PTIsYS5zdHlsZS5kaXNwbGF5PSIiLGEuaW5uZXJIVE1MPSI8ZGl2IHN0eWxlPSd3aWR0aDo0cHg7Jz48L2Rpdj4iLGsuc2hyaW5rV3JhcEJsb2Nrcz1hLm9mZnNldFdpZHRoIT09MiksYS5pbm5lckhUTUw9Ijx0YWJsZT48dHI+PHRkIHN0eWxlPSdwYWRkaW5nOjA7Ym9yZGVyOjA7ZGlzcGxheTpub25lJz48L3RkPjx0ZD50PC90ZD48L3RyPjwvdGFibGU+IixxPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRkIiksdT1xWzBdLm9mZnNldEhlaWdodD09PTAscVswXS5zdHlsZS5kaXNwbGF5PSIiLHFbMV0uc3R5bGUuZGlzcGxheT0ibm9uZSIsay5yZWxpYWJsZUhpZGRlbk9mZnNldHM9dSYmcVswXS5vZmZzZXRIZWlnaHQ9PT0wLGEuaW5uZXJIVE1MPSIiLGMuZGVmYXVsdFZpZXcmJmMuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSYmKGo9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxqLnN0eWxlLndpZHRoPSIwIixqLnN0eWxlLm1hcmdpblJpZ2h0PSIwIixhLmFwcGVuZENoaWxkKGopLGsucmVsaWFibGVNYXJnaW5SaWdodD0ocGFyc2VJbnQoKGMuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShqLG51bGwpfHx7bWFyZ2luUmlnaHQ6MH0pLm1hcmdpblJpZ2h0LDEwKXx8MCk9PT0wKSxvLmlubmVySFRNTD0iIixuLnJlbW92ZUNoaWxkKG8pO2lmKGEuYXR0YWNoRXZlbnQpZm9yKHQgaW57c3VibWl0OjEsY2hhbmdlOjEsZm9jdXNpbjoxfSlzPSJvbiIrdCx1PXMgaW4gYSx1fHwoYS5zZXRBdHRyaWJ1dGUocywicmV0dXJuOyIpLHU9dHlwZW9mIGFbc109PSJmdW5jdGlvbiIpLGtbdCsiQnViYmxlcyJdPXU7bz1sPWc9aD1tPWo9YT1pPW51bGw7cmV0dXJuIGt9KCksZi5ib3hNb2RlbD1mLnN1cHBvcnQuYm94TW9kZWw7dmFyIGk9L14oPzpcey4qXH18XFsuKlxdKSQvLGo9LyhbQS1aXSkvZztmLmV4dGVuZCh7Y2FjaGU6e30sdXVpZDowLGV4cGFuZG86ImpRdWVyeSIrKGYuZm4uanF1ZXJ5K01hdGgucmFuZG9tKCkpLnJlcGxhY2UoL1xEL2csIiIpLG5vRGF0YTp7ZW1iZWQ6ITAsb2JqZWN0OiJjbHNpZDpEMjdDREI2RS1BRTZELTExY2YtOTZCOC00NDQ1NTM1NDAwMDAiLGFwcGxldDohMH0saGFzRGF0YTpmdW5jdGlvbihhKXthPWEubm9kZVR5cGU/Zi5jYWNoZVthW2YuZXhwYW5kb11dOmFbZi5leHBhbmRvXTtyZXR1cm4hIWEmJiFsKGEpfSxkYXRhOmZ1bmN0aW9uKGEsYyxkLGUpe2lmKCEhZi5hY2NlcHREYXRhKGEpKXt2YXIgZyxoLGk9Zi5leHBhbmRvLGo9dHlwZW9mIGM9PSJzdHJpbmciLGs9YS5ub2RlVHlwZSxsPWs/Zi5jYWNoZTphLG09az9hW2YuZXhwYW5kb106YVtmLmV4cGFuZG9dJiZmLmV4cGFuZG87aWYoKCFtfHxlJiZtJiZsW21dJiYhbFttXVtpXSkmJmomJmQ9PT1iKXJldHVybjttfHwoaz9hW2YuZXhwYW5kb109bT0rK2YudXVpZDptPWYuZXhwYW5kbyksbFttXXx8KGxbbV09e30sa3x8KGxbbV0udG9KU09OPWYubm9vcCkpO2lmKHR5cGVvZiBjPT0ib2JqZWN0Inx8dHlwZW9mIGM9PSJmdW5jdGlvbiIpZT9sW21dW2ldPWYuZXh0ZW5kKGxbbV1baV0sYyk6bFttXT1mLmV4dGVuZChsW21dLGMpO2c9bFttXSxlJiYoZ1tpXXx8KGdbaV09e30pLGc9Z1tpXSksZCE9PWImJihnW2YuY2FtZWxDYXNlKGMpXT1kKTtpZihjPT09ImV2ZW50cyImJiFnW2NdKXJldHVybiBnW2ldJiZnW2ldLmV2ZW50cztqPyhoPWdbY10saD09bnVsbCYmKGg9Z1tmLmNhbWVsQ2FzZShjKV0pKTpoPWc7cmV0dXJuIGh9fSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEsYixjKXtpZighIWYuYWNjZXB0RGF0YShhKSl7dmFyIGQsZT1mLmV4cGFuZG8sZz1hLm5vZGVUeXBlLGg9Zz9mLmNhY2hlOmEsaT1nP2FbZi5leHBhbmRvXTpmLmV4cGFuZG87aWYoIWhbaV0pcmV0dXJuO2lmKGIpe2Q9Yz9oW2ldW2VdOmhbaV07aWYoZCl7ZFtiXXx8KGI9Zi5jYW1lbENhc2UoYikpLGRlbGV0ZSBkW2JdO2lmKCFsKGQpKXJldHVybn19aWYoYyl7ZGVsZXRlIGhbaV1bZV07aWYoIWwoaFtpXSkpcmV0dXJufXZhciBqPWhbaV1bZV07Zi5zdXBwb3J0LmRlbGV0ZUV4cGFuZG98fCFoLnNldEludGVydmFsP2RlbGV0ZSBoW2ldOmhbaV09bnVsbCxqPyhoW2ldPXt9LGd8fChoW2ldLnRvSlNPTj1mLm5vb3ApLGhbaV1bZV09aik6ZyYmKGYuc3VwcG9ydC5kZWxldGVFeHBhbmRvP2RlbGV0ZSBhW2YuZXhwYW5kb106YS5yZW1vdmVBdHRyaWJ1dGU/YS5yZW1vdmVBdHRyaWJ1dGUoZi5leHBhbmRvKTphW2YuZXhwYW5kb109bnVsbCl9fSxfZGF0YTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGYuZGF0YShhLGIsYywhMCl9LGFjY2VwdERhdGE6ZnVuY3Rpb24oYSl7aWYoYS5ub2RlTmFtZSl7dmFyIGI9Zi5ub0RhdGFbYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXTtpZihiKXJldHVybiBiIT09ITAmJmEuZ2V0QXR0cmlidXRlKCJjbGFzc2lkIik9PT1ifXJldHVybiEwfX0pLGYuZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9bnVsbDtpZih0eXBlb2YgYT09InVuZGVmaW5lZCIpe2lmKHRoaXMubGVuZ3RoKXtkPWYuZGF0YSh0aGlzWzBdKTtpZih0aGlzWzBdLm5vZGVUeXBlPT09MSl7dmFyIGU9dGhpc1swXS5hdHRyaWJ1dGVzLGc7Zm9yKHZhciBoPTAsaT1lLmxlbmd0aDtoPGk7aCsrKWc9ZVtoXS5uYW1lLGcuaW5kZXhPZigiZGF0YS0iKT09PTAmJihnPWYuY2FtZWxDYXNlKGcuc3Vic3RyaW5nKDUpKSxrKHRoaXNbMF0sZyxkW2ddKSl9fXJldHVybiBkfWlmKHR5cGVvZiBhPT0ib2JqZWN0IilyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Zi5kYXRhKHRoaXMsYSl9KTt2YXIgaj1hLnNwbGl0KCIuIik7alsxXT1qWzFdPyIuIitqWzFdOiIiO2lmKGM9PT1iKXtkPXRoaXMudHJpZ2dlckhhbmRsZXIoImdldERhdGEiK2pbMV0rIiEiLFtqWzBdXSksZD09PWImJnRoaXMubGVuZ3RoJiYoZD1mLmRhdGEodGhpc1swXSxhKSxkPWsodGhpc1swXSxhLGQpKTtyZXR1cm4gZD09PWImJmpbMV0/dGhpcy5kYXRhKGpbMF0pOmR9cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWYodGhpcyksZD1balswXSxjXTtiLnRyaWdnZXJIYW5kbGVyKCJzZXREYXRhIitqWzFdKyIhIixkKSxmLmRhdGEodGhpcyxhLGMpLGIudHJpZ2dlckhhbmRsZXIoImNoYW5nZURhdGEiK2pbMV0rIiEiLGQpfSl9LHJlbW92ZURhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2YucmVtb3ZlRGF0YSh0aGlzLGEpfSl9fSksZi5leHRlbmQoe19tYXJrOmZ1bmN0aW9uKGEsYyl7YSYmKGM9KGN8fCJmeCIpKyJtYXJrIixmLmRhdGEoYSxjLChmLmRhdGEoYSxjLGIsITApfHwwKSsxLCEwKSl9LF91bm1hcms6ZnVuY3Rpb24oYSxjLGQpe2EhPT0hMCYmKGQ9YyxjPWEsYT0hMSk7aWYoYyl7ZD1kfHwiZngiO3ZhciBlPWQrIm1hcmsiLGc9YT8wOihmLmRhdGEoYyxlLGIsITApfHwxKS0xO2c/Zi5kYXRhKGMsZSxnLCEwKTooZi5yZW1vdmVEYXRhKGMsZSwhMCksbShjLGQsIm1hcmsiKSl9fSxxdWV1ZTpmdW5jdGlvbihhLGMsZCl7aWYoYSl7Yz0oY3x8ImZ4IikrInF1ZXVlIjt2YXIgZT1mLmRhdGEoYSxjLGIsITApO2QmJighZXx8Zi5pc0FycmF5KGQpP2U9Zi5kYXRhKGEsYyxmLm1ha2VBcnJheShkKSwhMCk6ZS5wdXNoKGQpKTtyZXR1cm4gZXx8W119fSxkZXF1ZXVlOmZ1bmN0aW9uKGEsYil7Yj1ifHwiZngiO3ZhciBjPWYucXVldWUoYSxiKSxkPWMuc2hpZnQoKSxlO2Q9PT0iaW5wcm9ncmVzcyImJihkPWMuc2hpZnQoKSksZCYmKGI9PT0iZngiJiZjLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxkLmNhbGwoYSxmdW5jdGlvbigpe2YuZGVxdWV1ZShhLGIpfSkpLGMubGVuZ3RofHwoZi5yZW1vdmVEYXRhKGEsYisicXVldWUiLCEwKSxtKGEsYiwicXVldWUiKSl9fSksZi5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGEsYyl7dHlwZW9mIGEhPSJzdHJpbmciJiYoYz1hLGE9ImZ4Iik7aWYoYz09PWIpcmV0dXJuIGYucXVldWUodGhpc1swXSxhKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9Zi5xdWV1ZSh0aGlzLGEsYyk7YT09PSJmeCImJmJbMF0hPT0iaW5wcm9ncmVzcyImJmYuZGVxdWV1ZSh0aGlzLGEpfSl9LGRlcXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2YuZGVxdWV1ZSh0aGlzLGEpfSl9LGRlbGF5OmZ1bmN0aW9uKGEsYil7YT1mLmZ4P2YuZnguc3BlZWRzW2FdfHxhOmEsYj1ifHwiZngiO3JldHVybiB0aGlzLnF1ZXVlKGIsZnVuY3Rpb24oKXt2YXIgYz10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtmLmRlcXVldWUoYyxiKX0sYSl9KX0sY2xlYXJRdWV1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5xdWV1ZShhfHwiZngiLFtdKX0scHJvbWlzZTpmdW5jdGlvbihhLGMpe2Z1bmN0aW9uIG0oKXstLWh8fGQucmVzb2x2ZVdpdGgoZSxbZV0pfXR5cGVvZiBhIT0ic3RyaW5nIiYmKGM9YSxhPWIpLGE9YXx8ImZ4Ijt2YXIgZD1mLkRlZmVycmVkKCksZT10aGlzLGc9ZS5sZW5ndGgsaD0xLGk9YSsiZGVmZXIiLGo9YSsicXVldWUiLGs9YSsibWFyayIsbDt3aGlsZShnLS0paWYobD1mLmRhdGEoZVtnXSxpLGIsITApfHwoZi5kYXRhKGVbZ10saixiLCEwKXx8Zi5kYXRhKGVbZ10sayxiLCEwKSkmJmYuZGF0YShlW2ddLGksZi5fRGVmZXJyZWQoKSwhMCkpaCsrLGwuZG9uZShtKTttKCk7cmV0dXJuIGQucHJvbWlzZSgpfX0pO3ZhciBuPS9bXG5cdFxyXS9nLG89L1xzKy8scD0vXHIvZyxxPS9eKD86YnV0dG9ufGlucHV0KSQvaSxyPS9eKD86YnV0dG9ufGlucHV0fG9iamVjdHxzZWxlY3R8dGV4dGFyZWEpJC9pLHM9L15hKD86cmVhKT8kL2ksdD0vXig/OmF1dG9mb2N1c3xhdXRvcGxheXxhc3luY3xjaGVja2VkfGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnxsb29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkfHNlbGVjdGVkKSQvaSx1LHY7Zi5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZi5hY2Nlc3ModGhpcyxhLGIsITAsZi5hdHRyKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Zi5yZW1vdmVBdHRyKHRoaXMsYSl9KX0scHJvcDpmdW5jdGlvbihhLGIpe3JldHVybiBmLmFjY2Vzcyh0aGlzLGEsYiwhMCxmLnByb3ApfSxyZW1vdmVQcm9wOmZ1bmN0aW9uKGEpe2E9Zi5wcm9wRml4W2FdfHxhO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0cnl7dGhpc1thXT1iLGRlbGV0ZSB0aGlzW2FdfWNhdGNoKGMpe319KX0sYWRkQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZyxoLGk7aWYoZi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7Zih0aGlzKS5hZGRDbGFzcyhhLmNhbGwodGhpcyxiLHRoaXMuY2xhc3NOYW1lKSl9KTtpZihhJiZ0eXBlb2YgYT09InN0cmluZyIpe2I9YS5zcGxpdChvKTtmb3IoYz0wLGQ9dGhpcy5sZW5ndGg7YzxkO2MrKyl7ZT10aGlzW2NdO2lmKGUubm9kZVR5cGU9PT0xKWlmKCFlLmNsYXNzTmFtZSYmYi5sZW5ndGg9PT0xKWUuY2xhc3NOYW1lPWE7ZWxzZXtnPSIgIitlLmNsYXNzTmFtZSsiICI7Zm9yKGg9MCxpPWIubGVuZ3RoO2g8aTtoKyspfmcuaW5kZXhPZigiICIrYltoXSsiICIpfHwoZys9YltoXSsiICIpO2UuY2xhc3NOYW1lPWYudHJpbShnKX19fXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbihhKXt2YXIgYyxkLGUsZyxoLGksajtpZihmLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtmKHRoaXMpLnJlbW92ZUNsYXNzKGEuY2FsbCh0aGlzLGIsdGhpcy5jbGFzc05hbWUpKX0pO2lmKGEmJnR5cGVvZiBhPT0ic3RyaW5nInx8YT09PWIpe2M9KGF8fCIiKS5zcGxpdChvKTtmb3IoZD0wLGU9dGhpcy5sZW5ndGg7ZDxlO2QrKyl7Zz10aGlzW2RdO2lmKGcubm9kZVR5cGU9PT0xJiZnLmNsYXNzTmFtZSlpZihhKXtoPSgiICIrZy5jbGFzc05hbWUrIiAiKS5yZXBsYWNlKG4sIiAiKTtmb3IoaT0wLGo9Yy5sZW5ndGg7aTxqO2krKyloPWgucmVwbGFjZSgiICIrY1tpXSsiICIsIiAiKTtnLmNsYXNzTmFtZT1mLnRyaW0oaCl9ZWxzZSBnLmNsYXNzTmFtZT0iIn19cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dHlwZW9mIGEsZD10eXBlb2YgYj09ImJvb2xlYW4iO2lmKGYuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe2YodGhpcykudG9nZ2xlQ2xhc3MoYS5jYWxsKHRoaXMsYyx0aGlzLmNsYXNzTmFtZSxiKSxiKX0pO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtpZihjPT09InN0cmluZyIpe3ZhciBlLGc9MCxoPWYodGhpcyksaT1iLGo9YS5zcGxpdChvKTt3aGlsZShlPWpbZysrXSlpPWQ/aTohaC5oYXNDbGFzcyhlKSxoW2k/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXShlKX1lbHNlIGlmKGM9PT0idW5kZWZpbmVkInx8Yz09PSJib29sZWFuIil0aGlzLmNsYXNzTmFtZSYmZi5fZGF0YSh0aGlzLCJfX2NsYXNzTmFtZV9fIix0aGlzLmNsYXNzTmFtZSksdGhpcy5jbGFzc05hbWU9dGhpcy5jbGFzc05hbWV8fGE9PT0hMT8iIjpmLl9kYXRhKHRoaXMsIl9fY2xhc3NOYW1lX18iKXx8IiJ9KX0saGFzQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGI9IiAiK2ErIiAiO2Zvcih2YXIgYz0wLGQ9dGhpcy5sZW5ndGg7YzxkO2MrKylpZih0aGlzW2NdLm5vZGVUeXBlPT09MSYmKCIgIit0aGlzW2NdLmNsYXNzTmFtZSsiICIpLnJlcGxhY2UobiwiICIpLmluZGV4T2YoYik+LTEpcmV0dXJuITA7cmV0dXJuITF9LHZhbDpmdW5jdGlvbihhKXt2YXIgYyxkLGU9dGhpc1swXTtpZighYXJndW1lbnRzLmxlbmd0aCl7aWYoZSl7Yz1mLnZhbEhvb2tzW2Uubm9kZU5hbWUudG9Mb3dlckNhc2UoKV18fGYudmFsSG9va3NbZS50eXBlXTtpZihjJiYiZ2V0ImluIGMmJihkPWMuZ2V0KGUsInZhbHVlIikpIT09YilyZXR1cm4gZDtkPWUudmFsdWU7cmV0dXJuIHR5cGVvZiBkPT0ic3RyaW5nIj9kLnJlcGxhY2UocCwiIik6ZD09bnVsbD8iIjpkfXJldHVybiBifXZhciBnPWYuaXNGdW5jdGlvbihhKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGQpe3ZhciBlPWYodGhpcyksaDtpZih0aGlzLm5vZGVUeXBlPT09MSl7Zz9oPWEuY2FsbCh0aGlzLGQsZS52YWwoKSk6aD1hLGg9PW51bGw/aD0iIjp0eXBlb2YgaD09Im51bWJlciI/aCs9IiI6Zi5pc0FycmF5KGgpJiYoaD1mLm1hcChoLGZ1bmN0aW9uKGEpe3JldHVybiBhPT1udWxsPyIiOmErIiJ9KSksYz1mLnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV18fGYudmFsSG9va3NbdGhpcy50eXBlXTtpZighY3x8ISgic2V0ImluIGMpfHxjLnNldCh0aGlzLGgsInZhbHVlIik9PT1iKXRoaXMudmFsdWU9aH19KX19KSxmLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEuYXR0cmlidXRlcy52YWx1ZTtyZXR1cm4hYnx8Yi5zcGVjaWZpZWQ/YS52YWx1ZTphLnRleHR9fSxzZWxlY3Q6e2dldDpmdW5jdGlvbihhKXt2YXIgYixjPWEuc2VsZWN0ZWRJbmRleCxkPVtdLGU9YS5vcHRpb25zLGc9YS50eXBlPT09InNlbGVjdC1vbmUiO2lmKGM8MClyZXR1cm4gbnVsbDtmb3IodmFyIGg9Zz9jOjAsaT1nP2MrMTplLmxlbmd0aDtoPGk7aCsrKXt2YXIgaj1lW2hdO2lmKGouc2VsZWN0ZWQmJihmLnN1cHBvcnQub3B0RGlzYWJsZWQ/IWouZGlzYWJsZWQ6ai5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIik9PT1udWxsKSYmKCFqLnBhcmVudE5vZGUuZGlzYWJsZWR8fCFmLm5vZGVOYW1lKGoucGFyZW50Tm9kZSwib3B0Z3JvdXAiKSkpe2I9ZihqKS52YWwoKTtpZihnKXJldHVybiBiO2QucHVzaChiKX19aWYoZyYmIWQubGVuZ3RoJiZlLmxlbmd0aClyZXR1cm4gZihlW2NdKS52YWwoKTtyZXR1cm4gZH0sc2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9Zi5tYWtlQXJyYXkoYik7ZihhKS5maW5kKCJvcHRpb24iKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RlZD1mLmluQXJyYXkoZih0aGlzKS52YWwoKSxjKT49MH0pLGMubGVuZ3RofHwoYS5zZWxlY3RlZEluZGV4PS0xKTtyZXR1cm4gY319fSxhdHRyRm46e3ZhbDohMCxjc3M6ITAsaHRtbDohMCx0ZXh0OiEwLGRhdGE6ITAsd2lkdGg6ITAsaGVpZ2h0OiEwLG9mZnNldDohMH0sYXR0ckZpeDp7dGFiaW5kZXg6InRhYkluZGV4In0sYXR0cjpmdW5jdGlvbihhLGMsZCxlKXt2YXIgZz1hLm5vZGVUeXBlO2lmKCFhfHxnPT09M3x8Zz09PTh8fGc9PT0yKXJldHVybiBiO2lmKGUmJmMgaW4gZi5hdHRyRm4pcmV0dXJuIGYoYSlbY10oZCk7aWYoISgiZ2V0QXR0cmlidXRlImluIGEpKXJldHVybiBmLnByb3AoYSxjLGQpO3ZhciBoLGksaj1nIT09MXx8IWYuaXNYTUxEb2MoYSk7aiYmKGM9Zi5hdHRyRml4W2NdfHxjLGk9Zi5hdHRySG9va3NbY10saXx8KHQudGVzdChjKT9pPXY6dSYmKGk9dSkpKTtpZihkIT09Yil7aWYoZD09PW51bGwpe2YucmVtb3ZlQXR0cihhLGMpO3JldHVybiBifWlmKGkmJiJzZXQiaW4gaSYmaiYmKGg9aS5zZXQoYSxkLGMpKSE9PWIpcmV0dXJuIGg7YS5zZXRBdHRyaWJ1dGUoYywiIitkKTtyZXR1cm4gZH1pZihpJiYiZ2V0ImluIGkmJmomJihoPWkuZ2V0KGEsYykpIT09bnVsbClyZXR1cm4gaDtoPWEuZ2V0QXR0cmlidXRlKGMpO3JldHVybiBoPT09bnVsbD9iOmh9LHJlbW92ZUF0dHI6ZnVuY3Rpb24oYSxiKXt2YXIgYzthLm5vZGVUeXBlPT09MSYmKGI9Zi5hdHRyRml4W2JdfHxiLGYuYXR0cihhLGIsIiIpLGEucmVtb3ZlQXR0cmlidXRlKGIpLHQudGVzdChiKSYmKGM9Zi5wcm9wRml4W2JdfHxiKWluIGEmJihhW2NdPSExKSl9LGF0dHJIb29rczp7dHlwZTp7c2V0OmZ1bmN0aW9uKGEsYil7aWYocS50ZXN0KGEubm9kZU5hbWUpJiZhLnBhcmVudE5vZGUpZi5lcnJvcigidHlwZSBwcm9wZXJ0eSBjYW4ndCBiZSBjaGFuZ2VkIik7ZWxzZSBpZighZi5zdXBwb3J0LnJhZGlvVmFsdWUmJmI9PT0icmFkaW8iJiZmLm5vZGVOYW1lKGEsImlucHV0Iikpe3ZhciBjPWEudmFsdWU7YS5zZXRBdHRyaWJ1dGUoInR5cGUiLGIpLGMmJihhLnZhbHVlPWMpO3JldHVybiBifX19LHZhbHVlOntnZXQ6ZnVuY3Rpb24oYSxiKXtpZih1JiZmLm5vZGVOYW1lKGEsImJ1dHRvbiIpKXJldHVybiB1LmdldChhLGIpO3JldHVybiBiIGluIGE/YS52YWx1ZTpudWxsfSxzZXQ6ZnVuY3Rpb24oYSxiLGMpe2lmKHUmJmYubm9kZU5hbWUoYSwiYnV0dG9uIikpcmV0dXJuIHUuc2V0KGEsYixjKTthLnZhbHVlPWJ9fX0scHJvcEZpeDp7dGFiaW5kZXg6InRhYkluZGV4IixyZWFkb25seToicmVhZE9ubHkiLCJmb3IiOiJodG1sRm9yIiwiY2xhc3MiOiJjbGFzc05hbWUiLG1heGxlbmd0aDoibWF4TGVuZ3RoIixjZWxsc3BhY2luZzoiY2VsbFNwYWNpbmciLGNlbGxwYWRkaW5nOiJjZWxsUGFkZGluZyIscm93c3Bhbjoicm93U3BhbiIsY29sc3BhbjoiY29sU3BhbiIsdXNlbWFwOiJ1c2VNYXAiLGZyYW1lYm9yZGVyOiJmcmFtZUJvcmRlciIsY29udGVudGVkaXRhYmxlOiJjb250ZW50RWRpdGFibGUifSxwcm9wOmZ1bmN0aW9uKGEsYyxkKXt2YXIgZT1hLm5vZGVUeXBlO2lmKCFhfHxlPT09M3x8ZT09PTh8fGU9PT0yKXJldHVybiBiO3ZhciBnLGgsaT1lIT09MXx8IWYuaXNYTUxEb2MoYSk7aSYmKGM9Zi5wcm9wRml4W2NdfHxjLGg9Zi5wcm9wSG9va3NbY10pO3JldHVybiBkIT09Yj9oJiYic2V0ImluIGgmJihnPWguc2V0KGEsZCxjKSkhPT1iP2c6YVtjXT1kOmgmJiJnZXQiaW4gaCYmKGc9aC5nZXQoYSxjKSkhPT1udWxsP2c6YVtjXX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBjPWEuZ2V0QXR0cmlidXRlTm9kZSgidGFiaW5kZXgiKTtyZXR1cm4gYyYmYy5zcGVjaWZpZWQ/cGFyc2VJbnQoYy52YWx1ZSwxMCk6ci50ZXN0KGEubm9kZU5hbWUpfHxzLnRlc3QoYS5ub2RlTmFtZSkmJmEuaHJlZj8wOmJ9fX19KSxmLmF0dHJIb29rcy50YWJJbmRleD1mLnByb3BIb29rcy50YWJJbmRleCx2PXtnZXQ6ZnVuY3Rpb24oYSxjKXt2YXIgZDtyZXR1cm4gZi5wcm9wKGEsYyk9PT0hMHx8KGQ9YS5nZXRBdHRyaWJ1dGVOb2RlKGMpKSYmZC5ub2RlVmFsdWUhPT0hMT9jLnRvTG93ZXJDYXNlKCk6Yn0sc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZDtiPT09ITE/Zi5yZW1vdmVBdHRyKGEsYyk6KGQ9Zi5wcm9wRml4W2NdfHxjLGQgaW4gYSYmKGFbZF09ITApLGEuc2V0QXR0cmlidXRlKGMsYy50b0xvd2VyQ2FzZSgpKSk7cmV0dXJuIGN9fSxmLnN1cHBvcnQuZ2V0U2V0QXR0cmlidXRlfHwodT1mLnZhbEhvb2tzLmJ1dHRvbj17Z2V0OmZ1bmN0aW9uKGEsYyl7dmFyIGQ7ZD1hLmdldEF0dHJpYnV0ZU5vZGUoYyk7cmV0dXJuIGQmJmQubm9kZVZhbHVlIT09IiI/ZC5ub2RlVmFsdWU6Yn0sc2V0OmZ1bmN0aW9uKGEsYixkKXt2YXIgZT1hLmdldEF0dHJpYnV0ZU5vZGUoZCk7ZXx8KGU9Yy5jcmVhdGVBdHRyaWJ1dGUoZCksYS5zZXRBdHRyaWJ1dGVOb2RlKGUpKTtyZXR1cm4gZS5ub2RlVmFsdWU9YisiIn19LGYuZWFjaChbIndpZHRoIiwiaGVpZ2h0Il0sZnVuY3Rpb24oYSxiKXtmLmF0dHJIb29rc1tiXT1mLmV4dGVuZChmLmF0dHJIb29rc1tiXSx7c2V0OmZ1bmN0aW9uKGEsYyl7aWYoYz09PSIiKXthLnNldEF0dHJpYnV0ZShiLCJhdXRvIik7cmV0dXJuIGN9fX0pfSkpLGYuc3VwcG9ydC5ocmVmTm9ybWFsaXplZHx8Zi5lYWNoKFsiaHJlZiIsInNyYyIsIndpZHRoIiwiaGVpZ2h0Il0sZnVuY3Rpb24oYSxjKXtmLmF0dHJIb29rc1tjXT1mLmV4dGVuZChmLmF0dHJIb29rc1tjXSx7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBkPWEuZ2V0QXR0cmlidXRlKGMsMik7cmV0dXJuIGQ9PT1udWxsP2I6ZH19KX0pLGYuc3VwcG9ydC5zdHlsZXx8KGYuYXR0ckhvb2tzLnN0eWxlPXtnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuc3R5bGUuY3NzVGV4dC50b0xvd2VyQ2FzZSgpfHxifSxzZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5zdHlsZS5jc3NUZXh0PSIiK2J9fSksZi5zdXBwb3J0Lm9wdFNlbGVjdGVkfHwoZi5wcm9wSG9va3Muc2VsZWN0ZWQ9Zi5leHRlbmQoZi5wcm9wSG9va3Muc2VsZWN0ZWQse2dldDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudE5vZGU7YiYmKGIuc2VsZWN0ZWRJbmRleCxiLnBhcmVudE5vZGUmJmIucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4KTtyZXR1cm4gbnVsbH19KSksZi5zdXBwb3J0LmNoZWNrT258fGYuZWFjaChbInJhZGlvIiwiY2hlY2tib3giXSxmdW5jdGlvbigpe2YudmFsSG9va3NbdGhpc109e2dldDpmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUoInZhbHVlIik9PT1udWxsPyJvbiI6YS52YWx1ZX19fSksZi5lYWNoKFsicmFkaW8iLCJjaGVja2JveCJdLGZ1bmN0aW9uKCl7Zi52YWxIb29rc1t0aGlzXT1mLmV4dGVuZChmLnZhbEhvb2tzW3RoaXNdLHtzZXQ6ZnVuY3Rpb24oYSxiKXtpZihmLmlzQXJyYXkoYikpcmV0dXJuIGEuY2hlY2tlZD1mLmluQXJyYXkoZihhKS52YWwoKSxiKT49MH19KX0pO3ZhciB3PS9cLiguKikkLyx4PS9eKD86dGV4dGFyZWF8aW5wdXR8c2VsZWN0KSQvaSx5PS9cLi9nLHo9LyAvZyxBPS9bXlx3XHMufGBdL2csQj1mdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKEEsIlxcJCYiKX07Zi5ldmVudD17YWRkOmZ1bmN0aW9uKGEsYyxkLGUpe2lmKGEubm9kZVR5cGUhPT0zJiZhLm5vZGVUeXBlIT09OCl7aWYoZD09PSExKWQ9QztlbHNlIGlmKCFkKXJldHVybjt2YXIgZyxoO2QuaGFuZGxlciYmKGc9ZCxkPWcuaGFuZGxlciksZC5ndWlkfHwoZC5ndWlkPWYuZ3VpZCsrKTt2YXIgaT1mLl9kYXRhKGEpO2lmKCFpKXJldHVybjt2YXIgaj1pLmV2ZW50cyxrPWkuaGFuZGxlO2p8fChpLmV2ZW50cz1qPXt9KSxrfHwoaS5oYW5kbGU9az1mdW5jdGlvbihhKXtyZXR1cm4gdHlwZW9mIGYhPSJ1bmRlZmluZWQiJiYoIWF8fGYuZXZlbnQudHJpZ2dlcmVkIT09YS50eXBlKT9mLmV2ZW50LmhhbmRsZS5hcHBseShrLmVsZW0sYXJndW1lbnRzKTpifSksay5lbGVtPWEsYz1jLnNwbGl0KCIgIik7dmFyIGwsbT0wLG47d2hpbGUobD1jW20rK10pe2g9Zz9mLmV4dGVuZCh7fSxnKTp7aGFuZGxlcjpkLGRhdGE6ZX0sbC5pbmRleE9mKCIuIik+LTE/KG49bC5zcGxpdCgiLiIpLGw9bi5zaGlmdCgpLGgubmFtZXNwYWNlPW4uc2xpY2UoMCkuc29ydCgpLmpvaW4oIi4iKSk6KG49W10saC5uYW1lc3BhY2U9IiIpLGgudHlwZT1sLGguZ3VpZHx8KGguZ3VpZD1kLmd1aWQpO3ZhciBvPWpbbF0scD1mLmV2ZW50LnNwZWNpYWxbbF18fHt9O2lmKCFvKXtvPWpbbF09W107aWYoIXAuc2V0dXB8fHAuc2V0dXAuY2FsbChhLGUsbixrKT09PSExKWEuYWRkRXZlbnRMaXN0ZW5lcj9hLmFkZEV2ZW50TGlzdGVuZXIobCxrLCExKTphLmF0dGFjaEV2ZW50JiZhLmF0dGFjaEV2ZW50KCJvbiIrbCxrKX1wLmFkZCYmKHAuYWRkLmNhbGwoYSxoKSxoLmhhbmRsZXIuZ3VpZHx8KGguaGFuZGxlci5ndWlkPWQuZ3VpZCkpLG8ucHVzaChoKSxmLmV2ZW50Lmdsb2JhbFtsXT0hMH1hPW51bGx9fSxnbG9iYWw6e30scmVtb3ZlOmZ1bmN0aW9uKGEsYyxkLGUpe2lmKGEubm9kZVR5cGUhPT0zJiZhLm5vZGVUeXBlIT09OCl7ZD09PSExJiYoZD1DKTt2YXIgZyxoLGksaixrPTAsbCxtLG4sbyxwLHEscixzPWYuaGFzRGF0YShhKSYmZi5fZGF0YShhKSx0PXMmJnMuZXZlbnRzO2lmKCFzfHwhdClyZXR1cm47YyYmYy50eXBlJiYoZD1jLmhhbmRsZXIsYz1jLnR5cGUpO2lmKCFjfHx0eXBlb2YgYz09InN0cmluZyImJmMuY2hhckF0KDApPT09Ii4iKXtjPWN8fCIiO2ZvcihoIGluIHQpZi5ldmVudC5yZW1vdmUoYSxoK2MpO3JldHVybn1jPWMuc3BsaXQoIiAiKTt3aGlsZShoPWNbaysrXSl7cj1oLHE9bnVsbCxsPWguaW5kZXhPZigiLiIpPDAsbT1bXSxsfHwobT1oLnNwbGl0KCIuIiksaD1tLnNoaWZ0KCksbj1uZXcgUmVnRXhwKCIoXnxcXC4pIitmLm1hcChtLnNsaWNlKDApLnNvcnQoKSxCKS5qb2luKCJcXC4oPzouKlxcLik/IikrIihcXC58JCkiKSkscD10W2hdO2lmKCFwKWNvbnRpbnVlO2lmKCFkKXtmb3Ioaj0wO2o8cC5sZW5ndGg7aisrKXtxPXBbal07aWYobHx8bi50ZXN0KHEubmFtZXNwYWNlKSlmLmV2ZW50LnJlbW92ZShhLHIscS5oYW5kbGVyLGopLHAuc3BsaWNlKGotLSwxKX1jb250aW51ZX1vPWYuZXZlbnQuc3BlY2lhbFtoXXx8e307Zm9yKGo9ZXx8MDtqPHAubGVuZ3RoO2orKyl7cT1wW2pdO2lmKGQuZ3VpZD09PXEuZ3VpZCl7aWYobHx8bi50ZXN0KHEubmFtZXNwYWNlKSllPT1udWxsJiZwLnNwbGljZShqLS0sMSksby5yZW1vdmUmJm8ucmVtb3ZlLmNhbGwoYSxxKTtpZihlIT1udWxsKWJyZWFrfX1pZihwLmxlbmd0aD09PTB8fGUhPW51bGwmJnAubGVuZ3RoPT09MSkoIW8udGVhcmRvd258fG8udGVhcmRvd24uY2FsbChhLG0pPT09ITEpJiZmLnJlbW92ZUV2ZW50KGEsaCxzLmhhbmRsZSksZz1udWxsLGRlbGV0ZSAKdFtoXX1pZihmLmlzRW1wdHlPYmplY3QodCkpe3ZhciB1PXMuaGFuZGxlO3UmJih1LmVsZW09bnVsbCksZGVsZXRlIHMuZXZlbnRzLGRlbGV0ZSBzLmhhbmRsZSxmLmlzRW1wdHlPYmplY3QocykmJmYucmVtb3ZlRGF0YShhLGIsITApfX19LGN1c3RvbUV2ZW50OntnZXREYXRhOiEwLHNldERhdGE6ITAsY2hhbmdlRGF0YTohMH0sdHJpZ2dlcjpmdW5jdGlvbihjLGQsZSxnKXt2YXIgaD1jLnR5cGV8fGMsaT1bXSxqO2guaW5kZXhPZigiISIpPj0wJiYoaD1oLnNsaWNlKDAsLTEpLGo9ITApLGguaW5kZXhPZigiLiIpPj0wJiYoaT1oLnNwbGl0KCIuIiksaD1pLnNoaWZ0KCksaS5zb3J0KCkpO2lmKCEhZSYmIWYuZXZlbnQuY3VzdG9tRXZlbnRbaF18fCEhZi5ldmVudC5nbG9iYWxbaF0pe2M9dHlwZW9mIGM9PSJvYmplY3QiP2NbZi5leHBhbmRvXT9jOm5ldyBmLkV2ZW50KGgsYyk6bmV3IGYuRXZlbnQoaCksYy50eXBlPWgsYy5leGNsdXNpdmU9aixjLm5hbWVzcGFjZT1pLmpvaW4oIi4iKSxjLm5hbWVzcGFjZV9yZT1uZXcgUmVnRXhwKCIoXnxcXC4pIitpLmpvaW4oIlxcLig/Oi4qXFwuKT8iKSsiKFxcLnwkKSIpO2lmKGd8fCFlKWMucHJldmVudERlZmF1bHQoKSxjLnN0b3BQcm9wYWdhdGlvbigpO2lmKCFlKXtmLmVhY2goZi5jYWNoZSxmdW5jdGlvbigpe3ZhciBhPWYuZXhwYW5kbyxiPXRoaXNbYV07YiYmYi5ldmVudHMmJmIuZXZlbnRzW2hdJiZmLmV2ZW50LnRyaWdnZXIoYyxkLGIuaGFuZGxlLmVsZW0pfSk7cmV0dXJufWlmKGUubm9kZVR5cGU9PT0zfHxlLm5vZGVUeXBlPT09OClyZXR1cm47Yy5yZXN1bHQ9YixjLnRhcmdldD1lLGQ9ZCE9bnVsbD9mLm1ha2VBcnJheShkKTpbXSxkLnVuc2hpZnQoYyk7dmFyIGs9ZSxsPWguaW5kZXhPZigiOiIpPDA/Im9uIitoOiIiO2Rve3ZhciBtPWYuX2RhdGEoaywiaGFuZGxlIik7Yy5jdXJyZW50VGFyZ2V0PWssbSYmbS5hcHBseShrLGQpLGwmJmYuYWNjZXB0RGF0YShrKSYma1tsXSYma1tsXS5hcHBseShrLGQpPT09ITEmJihjLnJlc3VsdD0hMSxjLnByZXZlbnREZWZhdWx0KCkpLGs9ay5wYXJlbnROb2RlfHxrLm93bmVyRG9jdW1lbnR8fGs9PT1jLnRhcmdldC5vd25lckRvY3VtZW50JiZhfXdoaWxlKGsmJiFjLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpO2lmKCFjLmlzRGVmYXVsdFByZXZlbnRlZCgpKXt2YXIgbixvPWYuZXZlbnQuc3BlY2lhbFtoXXx8e307aWYoKCFvLl9kZWZhdWx0fHxvLl9kZWZhdWx0LmNhbGwoZS5vd25lckRvY3VtZW50LGMpPT09ITEpJiYoaCE9PSJjbGljayJ8fCFmLm5vZGVOYW1lKGUsImEiKSkmJmYuYWNjZXB0RGF0YShlKSl7dHJ5e2wmJmVbaF0mJihuPWVbbF0sbiYmKGVbbF09bnVsbCksZi5ldmVudC50cmlnZ2VyZWQ9aCxlW2hdKCkpfWNhdGNoKHApe31uJiYoZVtsXT1uKSxmLmV2ZW50LnRyaWdnZXJlZD1ifX1yZXR1cm4gYy5yZXN1bHR9fSxoYW5kbGU6ZnVuY3Rpb24oYyl7Yz1mLmV2ZW50LmZpeChjfHxhLmV2ZW50KTt2YXIgZD0oKGYuX2RhdGEodGhpcywiZXZlbnRzIil8fHt9KVtjLnR5cGVdfHxbXSkuc2xpY2UoMCksZT0hYy5leGNsdXNpdmUmJiFjLm5hbWVzcGFjZSxnPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKTtnWzBdPWMsYy5jdXJyZW50VGFyZ2V0PXRoaXM7Zm9yKHZhciBoPTAsaT1kLmxlbmd0aDtoPGk7aCsrKXt2YXIgaj1kW2hdO2lmKGV8fGMubmFtZXNwYWNlX3JlLnRlc3Qoai5uYW1lc3BhY2UpKXtjLmhhbmRsZXI9ai5oYW5kbGVyLGMuZGF0YT1qLmRhdGEsYy5oYW5kbGVPYmo9ajt2YXIgaz1qLmhhbmRsZXIuYXBwbHkodGhpcyxnKTtrIT09YiYmKGMucmVzdWx0PWssaz09PSExJiYoYy5wcmV2ZW50RGVmYXVsdCgpLGMuc3RvcFByb3BhZ2F0aW9uKCkpKTtpZihjLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpYnJlYWt9fXJldHVybiBjLnJlc3VsdH0scHJvcHM6ImFsdEtleSBhdHRyQ2hhbmdlIGF0dHJOYW1lIGJ1YmJsZXMgYnV0dG9uIGNhbmNlbGFibGUgY2hhckNvZGUgY2xpZW50WCBjbGllbnRZIGN0cmxLZXkgY3VycmVudFRhcmdldCBkYXRhIGRldGFpbCBldmVudFBoYXNlIGZyb21FbGVtZW50IGhhbmRsZXIga2V5Q29kZSBsYXllclggbGF5ZXJZIG1ldGFLZXkgbmV3VmFsdWUgb2Zmc2V0WCBvZmZzZXRZIHBhZ2VYIHBhZ2VZIHByZXZWYWx1ZSByZWxhdGVkTm9kZSByZWxhdGVkVGFyZ2V0IHNjcmVlblggc2NyZWVuWSBzaGlmdEtleSBzcmNFbGVtZW50IHRhcmdldCB0b0VsZW1lbnQgdmlldyB3aGVlbERlbHRhIHdoaWNoIi5zcGxpdCgiICIpLGZpeDpmdW5jdGlvbihhKXtpZihhW2YuZXhwYW5kb10pcmV0dXJuIGE7dmFyIGQ9YTthPWYuRXZlbnQoZCk7Zm9yKHZhciBlPXRoaXMucHJvcHMubGVuZ3RoLGc7ZTspZz10aGlzLnByb3BzWy0tZV0sYVtnXT1kW2ddO2EudGFyZ2V0fHwoYS50YXJnZXQ9YS5zcmNFbGVtZW50fHxjKSxhLnRhcmdldC5ub2RlVHlwZT09PTMmJihhLnRhcmdldD1hLnRhcmdldC5wYXJlbnROb2RlKSwhYS5yZWxhdGVkVGFyZ2V0JiZhLmZyb21FbGVtZW50JiYoYS5yZWxhdGVkVGFyZ2V0PWEuZnJvbUVsZW1lbnQ9PT1hLnRhcmdldD9hLnRvRWxlbWVudDphLmZyb21FbGVtZW50KTtpZihhLnBhZ2VYPT1udWxsJiZhLmNsaWVudFghPW51bGwpe3ZhciBoPWEudGFyZ2V0Lm93bmVyRG9jdW1lbnR8fGMsaT1oLmRvY3VtZW50RWxlbWVudCxqPWguYm9keTthLnBhZ2VYPWEuY2xpZW50WCsoaSYmaS5zY3JvbGxMZWZ0fHxqJiZqLnNjcm9sbExlZnR8fDApLShpJiZpLmNsaWVudExlZnR8fGomJmouY2xpZW50TGVmdHx8MCksYS5wYWdlWT1hLmNsaWVudFkrKGkmJmkuc2Nyb2xsVG9wfHxqJiZqLnNjcm9sbFRvcHx8MCktKGkmJmkuY2xpZW50VG9wfHxqJiZqLmNsaWVudFRvcHx8MCl9YS53aGljaD09bnVsbCYmKGEuY2hhckNvZGUhPW51bGx8fGEua2V5Q29kZSE9bnVsbCkmJihhLndoaWNoPWEuY2hhckNvZGUhPW51bGw/YS5jaGFyQ29kZTphLmtleUNvZGUpLCFhLm1ldGFLZXkmJmEuY3RybEtleSYmKGEubWV0YUtleT1hLmN0cmxLZXkpLCFhLndoaWNoJiZhLmJ1dHRvbiE9PWImJihhLndoaWNoPWEuYnV0dG9uJjE/MTphLmJ1dHRvbiYyPzM6YS5idXR0b24mND8yOjApO3JldHVybiBhfSxndWlkOjFlOCxwcm94eTpmLnByb3h5LHNwZWNpYWw6e3JlYWR5OntzZXR1cDpmLmJpbmRSZWFkeSx0ZWFyZG93bjpmLm5vb3B9LGxpdmU6e2FkZDpmdW5jdGlvbihhKXtmLmV2ZW50LmFkZCh0aGlzLE0oYS5vcmlnVHlwZSxhLnNlbGVjdG9yKSxmLmV4dGVuZCh7fSxhLHtoYW5kbGVyOkwsZ3VpZDphLmhhbmRsZXIuZ3VpZH0pKX0scmVtb3ZlOmZ1bmN0aW9uKGEpe2YuZXZlbnQucmVtb3ZlKHRoaXMsTShhLm9yaWdUeXBlLGEuc2VsZWN0b3IpLGEpfX0sYmVmb3JldW5sb2FkOntzZXR1cDpmdW5jdGlvbihhLGIsYyl7Zi5pc1dpbmRvdyh0aGlzKSYmKHRoaXMub25iZWZvcmV1bmxvYWQ9Yyl9LHRlYXJkb3duOmZ1bmN0aW9uKGEsYil7dGhpcy5vbmJlZm9yZXVubG9hZD09PWImJih0aGlzLm9uYmVmb3JldW5sb2FkPW51bGwpfX19fSxmLnJlbW92ZUV2ZW50PWMucmVtb3ZlRXZlbnRMaXN0ZW5lcj9mdW5jdGlvbihhLGIsYyl7YS5yZW1vdmVFdmVudExpc3RlbmVyJiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoYixjLCExKX06ZnVuY3Rpb24oYSxiLGMpe2EuZGV0YWNoRXZlbnQmJmEuZGV0YWNoRXZlbnQoIm9uIitiLGMpfSxmLkV2ZW50PWZ1bmN0aW9uKGEsYil7aWYoIXRoaXMucHJldmVudERlZmF1bHQpcmV0dXJuIG5ldyBmLkV2ZW50KGEsYik7YSYmYS50eXBlPyh0aGlzLm9yaWdpbmFsRXZlbnQ9YSx0aGlzLnR5cGU9YS50eXBlLHRoaXMuaXNEZWZhdWx0UHJldmVudGVkPWEuZGVmYXVsdFByZXZlbnRlZHx8YS5yZXR1cm5WYWx1ZT09PSExfHxhLmdldFByZXZlbnREZWZhdWx0JiZhLmdldFByZXZlbnREZWZhdWx0KCk/RDpDKTp0aGlzLnR5cGU9YSxiJiZmLmV4dGVuZCh0aGlzLGIpLHRoaXMudGltZVN0YW1wPWYubm93KCksdGhpc1tmLmV4cGFuZG9dPSEwfSxmLkV2ZW50LnByb3RvdHlwZT17cHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1EO3ZhciBhPXRoaXMub3JpZ2luYWxFdmVudDshYXx8KGEucHJldmVudERlZmF1bHQ/YS5wcmV2ZW50RGVmYXVsdCgpOmEucmV0dXJuVmFsdWU9ITEpfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPUQ7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50OyFhfHwoYS5zdG9wUHJvcGFnYXRpb24mJmEuc3RvcFByb3BhZ2F0aW9uKCksYS5jYW5jZWxCdWJibGU9ITApfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt0aGlzLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPUQsdGhpcy5zdG9wUHJvcGFnYXRpb24oKX0saXNEZWZhdWx0UHJldmVudGVkOkMsaXNQcm9wYWdhdGlvblN0b3BwZWQ6Qyxpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDpDfTt2YXIgRT1mdW5jdGlvbihhKXt2YXIgYj1hLnJlbGF0ZWRUYXJnZXQsYz0hMSxkPWEudHlwZTthLnR5cGU9YS5kYXRhLGIhPT10aGlzJiYoYiYmKGM9Zi5jb250YWlucyh0aGlzLGIpKSxjfHwoZi5ldmVudC5oYW5kbGUuYXBwbHkodGhpcyxhcmd1bWVudHMpLGEudHlwZT1kKSl9LEY9ZnVuY3Rpb24oYSl7YS50eXBlPWEuZGF0YSxmLmV2ZW50LmhhbmRsZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2YuZWFjaCh7bW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCJ9LGZ1bmN0aW9uKGEsYil7Zi5ldmVudC5zcGVjaWFsW2FdPXtzZXR1cDpmdW5jdGlvbihjKXtmLmV2ZW50LmFkZCh0aGlzLGIsYyYmYy5zZWxlY3Rvcj9GOkUsYSl9LHRlYXJkb3duOmZ1bmN0aW9uKGEpe2YuZXZlbnQucmVtb3ZlKHRoaXMsYixhJiZhLnNlbGVjdG9yP0Y6RSl9fX0pLGYuc3VwcG9ydC5zdWJtaXRCdWJibGVzfHwoZi5ldmVudC5zcGVjaWFsLnN1Ym1pdD17c2V0dXA6ZnVuY3Rpb24oYSxiKXtpZighZi5ub2RlTmFtZSh0aGlzLCJmb3JtIikpZi5ldmVudC5hZGQodGhpcywiY2xpY2suc3BlY2lhbFN1Ym1pdCIsZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQsYz1mLm5vZGVOYW1lKGIsImlucHV0Iil8fGYubm9kZU5hbWUoYiwiYnV0dG9uIik/Yi50eXBlOiIiOyhjPT09InN1Ym1pdCJ8fGM9PT0iaW1hZ2UiKSYmZihiKS5jbG9zZXN0KCJmb3JtIikubGVuZ3RoJiZKKCJzdWJtaXQiLHRoaXMsYXJndW1lbnRzKX0pLGYuZXZlbnQuYWRkKHRoaXMsImtleXByZXNzLnNwZWNpYWxTdWJtaXQiLGZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0LGM9Zi5ub2RlTmFtZShiLCJpbnB1dCIpfHxmLm5vZGVOYW1lKGIsImJ1dHRvbiIpP2IudHlwZToiIjsoYz09PSJ0ZXh0Inx8Yz09PSJwYXNzd29yZCIpJiZmKGIpLmNsb3Nlc3QoImZvcm0iKS5sZW5ndGgmJmEua2V5Q29kZT09PTEzJiZKKCJzdWJtaXQiLHRoaXMsYXJndW1lbnRzKX0pO2Vsc2UgcmV0dXJuITF9LHRlYXJkb3duOmZ1bmN0aW9uKGEpe2YuZXZlbnQucmVtb3ZlKHRoaXMsIi5zcGVjaWFsU3VibWl0Iil9fSk7aWYoIWYuc3VwcG9ydC5jaGFuZ2VCdWJibGVzKXt2YXIgRyxIPWZ1bmN0aW9uKGEpe3ZhciBiPWYubm9kZU5hbWUoYSwiaW5wdXQiKT9hLnR5cGU6IiIsYz1hLnZhbHVlO2I9PT0icmFkaW8ifHxiPT09ImNoZWNrYm94Ij9jPWEuY2hlY2tlZDpiPT09InNlbGVjdC1tdWx0aXBsZSI/Yz1hLnNlbGVjdGVkSW5kZXg+LTE/Zi5tYXAoYS5vcHRpb25zLGZ1bmN0aW9uKGEpe3JldHVybiBhLnNlbGVjdGVkfSkuam9pbigiLSIpOiIiOmYubm9kZU5hbWUoYSwic2VsZWN0IikmJihjPWEuc2VsZWN0ZWRJbmRleCk7cmV0dXJuIGN9LEk9ZnVuY3Rpb24oYyl7dmFyIGQ9Yy50YXJnZXQsZSxnO2lmKCEheC50ZXN0KGQubm9kZU5hbWUpJiYhZC5yZWFkT25seSl7ZT1mLl9kYXRhKGQsIl9jaGFuZ2VfZGF0YSIpLGc9SChkKSwoYy50eXBlIT09ImZvY3Vzb3V0Inx8ZC50eXBlIT09InJhZGlvIikmJmYuX2RhdGEoZCwiX2NoYW5nZV9kYXRhIixnKTtpZihlPT09Ynx8Zz09PWUpcmV0dXJuO2lmKGUhPW51bGx8fGcpYy50eXBlPSJjaGFuZ2UiLGMubGl2ZUZpcmVkPWIsZi5ldmVudC50cmlnZ2VyKGMsYXJndW1lbnRzWzFdLGQpfX07Zi5ldmVudC5zcGVjaWFsLmNoYW5nZT17ZmlsdGVyczp7Zm9jdXNvdXQ6SSxiZWZvcmVkZWFjdGl2YXRlOkksY2xpY2s6ZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQsYz1mLm5vZGVOYW1lKGIsImlucHV0Iik/Yi50eXBlOiIiOyhjPT09InJhZGlvInx8Yz09PSJjaGVja2JveCJ8fGYubm9kZU5hbWUoYiwic2VsZWN0IikpJiZJLmNhbGwodGhpcyxhKX0sa2V5ZG93bjpmdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldCxjPWYubm9kZU5hbWUoYiwiaW5wdXQiKT9iLnR5cGU6IiI7KGEua2V5Q29kZT09PTEzJiYhZi5ub2RlTmFtZShiLCJ0ZXh0YXJlYSIpfHxhLmtleUNvZGU9PT0zMiYmKGM9PT0iY2hlY2tib3gifHxjPT09InJhZGlvIil8fGM9PT0ic2VsZWN0LW11bHRpcGxlIikmJkkuY2FsbCh0aGlzLGEpfSxiZWZvcmVhY3RpdmF0ZTpmdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldDtmLl9kYXRhKGIsIl9jaGFuZ2VfZGF0YSIsSChiKSl9fSxzZXR1cDpmdW5jdGlvbihhLGIpe2lmKHRoaXMudHlwZT09PSJmaWxlIilyZXR1cm4hMTtmb3IodmFyIGMgaW4gRylmLmV2ZW50LmFkZCh0aGlzLGMrIi5zcGVjaWFsQ2hhbmdlIixHW2NdKTtyZXR1cm4geC50ZXN0KHRoaXMubm9kZU5hbWUpfSx0ZWFyZG93bjpmdW5jdGlvbihhKXtmLmV2ZW50LnJlbW92ZSh0aGlzLCIuc3BlY2lhbENoYW5nZSIpO3JldHVybiB4LnRlc3QodGhpcy5ub2RlTmFtZSl9fSxHPWYuZXZlbnQuc3BlY2lhbC5jaGFuZ2UuZmlsdGVycyxHLmZvY3VzPUcuYmVmb3JlYWN0aXZhdGV9Zi5zdXBwb3J0LmZvY3VzaW5CdWJibGVzfHxmLmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZShhKXt2YXIgYz1mLmV2ZW50LmZpeChhKTtjLnR5cGU9YixjLm9yaWdpbmFsRXZlbnQ9e30sZi5ldmVudC50cmlnZ2VyKGMsbnVsbCxjLnRhcmdldCksYy5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmYS5wcmV2ZW50RGVmYXVsdCgpfXZhciBkPTA7Zi5ldmVudC5zcGVjaWFsW2JdPXtzZXR1cDpmdW5jdGlvbigpe2QrKz09PTAmJmMuYWRkRXZlbnRMaXN0ZW5lcihhLGUsITApfSx0ZWFyZG93bjpmdW5jdGlvbigpey0tZD09PTAmJmMucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGUsITApfX19KSxmLmVhY2goWyJiaW5kIiwib25lIl0sZnVuY3Rpb24oYSxjKXtmLmZuW2NdPWZ1bmN0aW9uKGEsZCxlKXt2YXIgZztpZih0eXBlb2YgYT09Im9iamVjdCIpe2Zvcih2YXIgaCBpbiBhKXRoaXNbY10oaCxkLGFbaF0sZSk7cmV0dXJuIHRoaXN9aWYoYXJndW1lbnRzLmxlbmd0aD09PTJ8fGQ9PT0hMSllPWQsZD1iO2M9PT0ib25lIj8oZz1mdW5jdGlvbihhKXtmKHRoaXMpLnVuYmluZChhLGcpO3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZy5ndWlkPWUuZ3VpZHx8Zi5ndWlkKyspOmc9ZTtpZihhPT09InVubG9hZCImJmMhPT0ib25lIil0aGlzLm9uZShhLGQsZSk7ZWxzZSBmb3IodmFyIGk9MCxqPXRoaXMubGVuZ3RoO2k8ajtpKyspZi5ldmVudC5hZGQodGhpc1tpXSxhLGcsZCk7cmV0dXJuIHRoaXN9fSksZi5mbi5leHRlbmQoe3VuYmluZDpmdW5jdGlvbihhLGIpe2lmKHR5cGVvZiBhPT0ib2JqZWN0IiYmIWEucHJldmVudERlZmF1bHQpZm9yKHZhciBjIGluIGEpdGhpcy51bmJpbmQoYyxhW2NdKTtlbHNlIGZvcih2YXIgZD0wLGU9dGhpcy5sZW5ndGg7ZDxlO2QrKylmLmV2ZW50LnJlbW92ZSh0aGlzW2RdLGEsYik7cmV0dXJuIHRoaXN9LGRlbGVnYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLmxpdmUoYixjLGQsYSl9LHVuZGVsZWdhdGU6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPT09MD90aGlzLnVuYmluZCgibGl2ZSIpOnRoaXMuZGllKGIsbnVsbCxjLGEpfSx0cmlnZ2VyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2YuZXZlbnQudHJpZ2dlcihhLGIsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oYSxiKXtpZih0aGlzWzBdKXJldHVybiBmLmV2ZW50LnRyaWdnZXIoYSxiLHRoaXNbMF0sITApfSx0b2dnbGU6ZnVuY3Rpb24oYSl7dmFyIGI9YXJndW1lbnRzLGM9YS5ndWlkfHxmLmd1aWQrKyxkPTAsZT1mdW5jdGlvbihjKXt2YXIgZT0oZi5kYXRhKHRoaXMsImxhc3RUb2dnbGUiK2EuZ3VpZCl8fDApJWQ7Zi5kYXRhKHRoaXMsImxhc3RUb2dnbGUiK2EuZ3VpZCxlKzEpLGMucHJldmVudERlZmF1bHQoKTtyZXR1cm4gYltlXS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fCExfTtlLmd1aWQ9Yzt3aGlsZShkPGIubGVuZ3RoKWJbZCsrXS5ndWlkPWM7cmV0dXJuIHRoaXMuY2xpY2soZSl9LGhvdmVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMubW91c2VlbnRlcihhKS5tb3VzZWxlYXZlKGJ8fGEpfX0pO3ZhciBLPXtmb2N1czoiZm9jdXNpbiIsYmx1cjoiZm9jdXNvdXQiLG1vdXNlZW50ZXI6Im1vdXNlb3ZlciIsbW91c2VsZWF2ZToibW91c2VvdXQifTtmLmVhY2goWyJsaXZlIiwiZGllIl0sZnVuY3Rpb24oYSxjKXtmLmZuW2NdPWZ1bmN0aW9uKGEsZCxlLGcpe3ZhciBoLGk9MCxqLGssbCxtPWd8fHRoaXMuc2VsZWN0b3Isbj1nP3RoaXM6Zih0aGlzLmNvbnRleHQpO2lmKHR5cGVvZiBhPT0ib2JqZWN0IiYmIWEucHJldmVudERlZmF1bHQpe2Zvcih2YXIgbyBpbiBhKW5bY10obyxkLGFbb10sbSk7cmV0dXJuIHRoaXN9aWYoYz09PSJkaWUiJiYhYSYmZyYmZy5jaGFyQXQoMCk9PT0iLiIpe24udW5iaW5kKGcpO3JldHVybiB0aGlzfWlmKGQ9PT0hMXx8Zi5pc0Z1bmN0aW9uKGQpKWU9ZHx8QyxkPWI7YT0oYXx8IiIpLnNwbGl0KCIgIik7d2hpbGUoKGg9YVtpKytdKSE9bnVsbCl7aj13LmV4ZWMoaCksaz0iIixqJiYoaz1qWzBdLGg9aC5yZXBsYWNlKHcsIiIpKTtpZihoPT09ImhvdmVyIil7YS5wdXNoKCJtb3VzZWVudGVyIitrLCJtb3VzZWxlYXZlIitrKTtjb250aW51ZX1sPWgsS1toXT8oYS5wdXNoKEtbaF0rayksaD1oK2spOmg9KEtbaF18fGgpK2s7aWYoYz09PSJsaXZlIilmb3IodmFyIHA9MCxxPW4ubGVuZ3RoO3A8cTtwKyspZi5ldmVudC5hZGQobltwXSwibGl2ZS4iK00oaCxtKSx7ZGF0YTpkLHNlbGVjdG9yOm0saGFuZGxlcjplLG9yaWdUeXBlOmgsb3JpZ0hhbmRsZXI6ZSxwcmVUeXBlOmx9KTtlbHNlIG4udW5iaW5kKCJsaXZlLiIrTShoLG0pLGUpfXJldHVybiB0aGlzfX0pLGYuZWFjaCgiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IGxvYWQgcmVzaXplIHNjcm9sbCB1bmxvYWQgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBlcnJvciIuc3BsaXQoIiAiKSxmdW5jdGlvbihhLGIpe2YuZm5bYl09ZnVuY3Rpb24oYSxjKXtjPT1udWxsJiYoYz1hLGE9bnVsbCk7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MD90aGlzLmJpbmQoYixhLGMpOnRoaXMudHJpZ2dlcihiKX0sZi5hdHRyRm4mJihmLmF0dHJGbltiXT0hMCl9KSxmdW5jdGlvbigpe2Z1bmN0aW9uIHUoYSxiLGMsZCxlLGYpe2Zvcih2YXIgZz0wLGg9ZC5sZW5ndGg7ZzxoO2crKyl7dmFyIGk9ZFtnXTtpZihpKXt2YXIgaj0hMTtpPWlbYV07d2hpbGUoaSl7aWYoaS5zaXpjYWNoZT09PWMpe2o9ZFtpLnNpenNldF07YnJlYWt9aWYoaS5ub2RlVHlwZT09PTEpe2Z8fChpLnNpemNhY2hlPWMsaS5zaXpzZXQ9Zyk7aWYodHlwZW9mIGIhPSJzdHJpbmciKXtpZihpPT09Yil7aj0hMDticmVha319ZWxzZSBpZihrLmZpbHRlcihiLFtpXSkubGVuZ3RoPjApe2o9aTticmVha319aT1pW2FdfWRbZ109an19fWZ1bmN0aW9uIHQoYSxiLGMsZCxlLGYpe2Zvcih2YXIgZz0wLGg9ZC5sZW5ndGg7ZzxoO2crKyl7dmFyIGk9ZFtnXTtpZihpKXt2YXIgaj0hMTtpPWlbYV07d2hpbGUoaSl7aWYoaS5zaXpjYWNoZT09PWMpe2o9ZFtpLnNpenNldF07YnJlYWt9aS5ub2RlVHlwZT09PTEmJiFmJiYoaS5zaXpjYWNoZT1jLGkuc2l6c2V0PWcpO2lmKGkubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWIpe2o9aTticmVha31pPWlbYV19ZFtnXT1qfX19dmFyIGE9LygoPzpcKCg/OlwoW14oKV0rXCl8W14oKV0rKStcKXxcWyg/OlxbW15cW1xdXSpcXXxbJyJdW14nIl0qWyciXXxbXlxbXF0nIl0rKStcXXxcXC58W14gPit+LChcW1xcXSspK3xbPit+XSkoXHMqLFxzKik/KCg/Oi58XHJ8XG4pKikvZyxkPTAsZT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLGc9ITEsaD0hMCxpPS9cXC9nLGo9L1xXLztbMCwwXS5zb3J0KGZ1bmN0aW9uKCl7aD0hMTtyZXR1cm4gMH0pO3ZhciBrPWZ1bmN0aW9uKGIsZCxmLGcpe2Y9Znx8W10sZD1kfHxjO3ZhciBoPWQ7aWYoZC5ub2RlVHlwZSE9PTEmJmQubm9kZVR5cGUhPT05KXJldHVybltdO2lmKCFifHx0eXBlb2YgYiE9InN0cmluZyIpcmV0dXJuIGY7dmFyIGksaixuLG8scSxyLHMsdCx1PSEwLHc9ay5pc1hNTChkKSx4PVtdLHk9Yjtkb3thLmV4ZWMoIiIpLGk9YS5leGVjKHkpO2lmKGkpe3k9aVszXSx4LnB1c2goaVsxXSk7aWYoaVsyXSl7bz1pWzNdO2JyZWFrfX19d2hpbGUoaSk7aWYoeC5sZW5ndGg+MSYmbS5leGVjKGIpKWlmKHgubGVuZ3RoPT09MiYmbC5yZWxhdGl2ZVt4WzBdXSlqPXYoeFswXSt4WzFdLGQpO2Vsc2V7aj1sLnJlbGF0aXZlW3hbMF1dP1tkXTprKHguc2hpZnQoKSxkKTt3aGlsZSh4Lmxlbmd0aCliPXguc2hpZnQoKSxsLnJlbGF0aXZlW2JdJiYoYis9eC5zaGlmdCgpKSxqPXYoYixqKX1lbHNleyFnJiZ4Lmxlbmd0aD4xJiZkLm5vZGVUeXBlPT09OSYmIXcmJmwubWF0Y2guSUQudGVzdCh4WzBdKSYmIWwubWF0Y2guSUQudGVzdCh4W3gubGVuZ3RoLTFdKSYmKHE9ay5maW5kKHguc2hpZnQoKSxkLHcpLGQ9cS5leHByP2suZmlsdGVyKHEuZXhwcixxLnNldClbMF06cS5zZXRbMF0pO2lmKGQpe3E9Zz97ZXhwcjp4LnBvcCgpLHNldDpwKGcpfTprLmZpbmQoeC5wb3AoKSx4Lmxlbmd0aD09PTEmJih4WzBdPT09In4ifHx4WzBdPT09IisiKSYmZC5wYXJlbnROb2RlP2QucGFyZW50Tm9kZTpkLHcpLGo9cS5leHByP2suZmlsdGVyKHEuZXhwcixxLnNldCk6cS5zZXQseC5sZW5ndGg+MD9uPXAoaik6dT0hMTt3aGlsZSh4Lmxlbmd0aClyPXgucG9wKCkscz1yLGwucmVsYXRpdmVbcl0/cz14LnBvcCgpOnI9IiIscz09bnVsbCYmKHM9ZCksbC5yZWxhdGl2ZVtyXShuLHMsdyl9ZWxzZSBuPXg9W119bnx8KG49aiksbnx8ay5lcnJvcihyfHxiKTtpZihlLmNhbGwobik9PT0iW29iamVjdCBBcnJheV0iKWlmKCF1KWYucHVzaC5hcHBseShmLG4pO2Vsc2UgaWYoZCYmZC5ub2RlVHlwZT09PTEpZm9yKHQ9MDtuW3RdIT1udWxsO3QrKyluW3RdJiYoblt0XT09PSEwfHxuW3RdLm5vZGVUeXBlPT09MSYmay5jb250YWlucyhkLG5bdF0pKSYmZi5wdXNoKGpbdF0pO2Vsc2UgZm9yKHQ9MDtuW3RdIT1udWxsO3QrKyluW3RdJiZuW3RdLm5vZGVUeXBlPT09MSYmZi5wdXNoKGpbdF0pO2Vsc2UgcChuLGYpO28mJihrKG8saCxmLGcpLGsudW5pcXVlU29ydChmKSk7cmV0dXJuIGZ9O2sudW5pcXVlU29ydD1mdW5jdGlvbihhKXtpZihyKXtnPWgsYS5zb3J0KHIpO2lmKGcpZm9yKHZhciBiPTE7YjxhLmxlbmd0aDtiKyspYVtiXT09PWFbYi0xXSYmYS5zcGxpY2UoYi0tLDEpfXJldHVybiBhfSxrLm1hdGNoZXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gayhhLG51bGwsbnVsbCxiKX0say5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gayhiLG51bGwsbnVsbCxbYV0pLmxlbmd0aD4wfSxrLmZpbmQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO2lmKCFhKXJldHVybltdO2Zvcih2YXIgZT0wLGY9bC5vcmRlci5sZW5ndGg7ZTxmO2UrKyl7dmFyIGcsaD1sLm9yZGVyW2VdO2lmKGc9bC5sZWZ0TWF0Y2hbaF0uZXhlYyhhKSl7dmFyIGo9Z1sxXTtnLnNwbGljZSgxLDEpO2lmKGouc3Vic3RyKGoubGVuZ3RoLTEpIT09IlxcIil7Z1sxXT0oZ1sxXXx8IiIpLnJlcGxhY2UoaSwiIiksZD1sLmZpbmRbaF0oZyxiLGMpO2lmKGQhPW51bGwpe2E9YS5yZXBsYWNlKGwubWF0Y2hbaF0sIiIpO2JyZWFrfX19fWR8fChkPXR5cGVvZiBiLmdldEVsZW1lbnRzQnlUYWdOYW1lIT0idW5kZWZpbmVkIj9iLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIik6W10pO3JldHVybntzZXQ6ZCxleHByOmF9fSxrLmZpbHRlcj1mdW5jdGlvbihhLGMsZCxlKXt2YXIgZixnLGg9YSxpPVtdLGo9YyxtPWMmJmNbMF0mJmsuaXNYTUwoY1swXSk7d2hpbGUoYSYmYy5sZW5ndGgpe2Zvcih2YXIgbiBpbiBsLmZpbHRlcilpZigoZj1sLmxlZnRNYXRjaFtuXS5leGVjKGEpKSE9bnVsbCYmZlsyXSl7dmFyIG8scCxxPWwuZmlsdGVyW25dLHI9ZlsxXTtnPSExLGYuc3BsaWNlKDEsMSk7aWYoci5zdWJzdHIoci5sZW5ndGgtMSk9PT0iXFwiKWNvbnRpbnVlO2o9PT1pJiYoaT1bXSk7aWYobC5wcmVGaWx0ZXJbbl0pe2Y9bC5wcmVGaWx0ZXJbbl0oZixqLGQsaSxlLG0pO2lmKCFmKWc9bz0hMDtlbHNlIGlmKGY9PT0hMCljb250aW51ZX1pZihmKWZvcih2YXIgcz0wOyhwPWpbc10pIT1udWxsO3MrKylpZihwKXtvPXEocCxmLHMsaik7dmFyIHQ9ZV4hIW87ZCYmbyE9bnVsbD90P2c9ITA6altzXT0hMTp0JiYoaS5wdXNoKHApLGc9ITApfWlmKG8hPT1iKXtkfHwoaj1pKSxhPWEucmVwbGFjZShsLm1hdGNoW25dLCIiKTtpZighZylyZXR1cm5bXTticmVha319aWYoYT09PWgpaWYoZz09bnVsbClrLmVycm9yKGEpO2Vsc2UgYnJlYWs7aD1hfXJldHVybiBqfSxrLmVycm9yPWZ1bmN0aW9uKGEpe3Rocm93IlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrYX07dmFyIGw9ay5zZWxlY3RvcnM9e29yZGVyOlsiSUQiLCJOQU1FIiwiVEFHIl0sbWF0Y2g6e0lEOi8jKCg/Oltcd1x1MDBjMC1cdUZGRkZcLV18XFwuKSspLyxDTEFTUzovXC4oKD86W1x3XHUwMGMwLVx1RkZGRlwtXXxcXC4pKykvLE5BTUU6L1xbbmFtZT1bJyJdKigoPzpbXHdcdTAwYzAtXHVGRkZGXC1dfFxcLikrKVsnIl0qXF0vLEFUVFI6L1xbXHMqKCg/Oltcd1x1MDBjMC1cdUZGRkZcLV18XFwuKSspXHMqKD86KFxTPz0pXHMqKD86KFsnIl0pKC4qPylcM3woIz8oPzpbXHdcdTAwYzAtXHVGRkZGXC1dfFxcLikqKXwpfClccypcXS8sVEFHOi9eKCg/Oltcd1x1MDBjMC1cdUZGRkZcKlwtXXxcXC4pKykvLENISUxEOi86KG9ubHl8bnRofGxhc3R8Zmlyc3QpLWNoaWxkKD86XChccyooZXZlbnxvZGR8KD86WytcLV0/XGQrfCg/OlsrXC1dP1xkKik/blxzKig/OlsrXC1dXHMqXGQrKT8pKVxzKlwpKT8vLFBPUzovOihudGh8ZXF8Z3R8bHR8Zmlyc3R8bGFzdHxldmVufG9kZCkoPzpcKChcZCopXCkpPyg/PVteXC1dfCQpLyxQU0VVRE86LzooKD86W1x3XHUwMGMwLVx1RkZGRlwtXXxcXC4pKykoPzpcKChbJyJdPykoKD86XChbXlwpXStcKXxbXlwoXCldKikrKVwyXCkpPy99LGxlZnRNYXRjaDp7fSxhdHRyTWFwOnsiY2xhc3MiOiJjbGFzc05hbWUiLCJmb3IiOiJodG1sRm9yIn0sYXR0ckhhbmRsZTp7aHJlZjpmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUoImhyZWYiKX0sdHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUoInR5cGUiKX19LHJlbGF0aXZlOnsiKyI6ZnVuY3Rpb24oYSxiKXt2YXIgYz10eXBlb2YgYj09InN0cmluZyIsZD1jJiYhai50ZXN0KGIpLGU9YyYmIWQ7ZCYmKGI9Yi50b0xvd2VyQ2FzZSgpKTtmb3IodmFyIGY9MCxnPWEubGVuZ3RoLGg7ZjxnO2YrKylpZihoPWFbZl0pe3doaWxlKChoPWgucHJldmlvdXNTaWJsaW5nKSYmaC5ub2RlVHlwZSE9PTEpO2FbZl09ZXx8aCYmaC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yj9ofHwhMTpoPT09Yn1lJiZrLmZpbHRlcihiLGEsITApfSwiPiI6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPXR5cGVvZiBiPT0ic3RyaW5nIixlPTAsZj1hLmxlbmd0aDtpZihkJiYhai50ZXN0KGIpKXtiPWIudG9Mb3dlckNhc2UoKTtmb3IoO2U8ZjtlKyspe2M9YVtlXTtpZihjKXt2YXIgZz1jLnBhcmVudE5vZGU7YVtlXT1nLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1iP2c6ITF9fX1lbHNle2Zvcig7ZTxmO2UrKyljPWFbZV0sYyYmKGFbZV09ZD9jLnBhcmVudE5vZGU6Yy5wYXJlbnROb2RlPT09Yik7ZCYmay5maWx0ZXIoYixhLCEwKX19LCIiOmZ1bmN0aW9uKGEsYixjKXt2YXIgZSxmPWQrKyxnPXU7dHlwZW9mIGI9PSJzdHJpbmciJiYhai50ZXN0KGIpJiYoYj1iLnRvTG93ZXJDYXNlKCksZT1iLGc9dCksZygicGFyZW50Tm9kZSIsYixmLGEsZSxjKX0sIn4iOmZ1bmN0aW9uKGEsYixjKXt2YXIgZSxmPWQrKyxnPXU7dHlwZW9mIGI9PSJzdHJpbmciJiYhai50ZXN0KGIpJiYoYj1iLnRvTG93ZXJDYXNlKCksZT1iLGc9dCksZygicHJldmlvdXNTaWJsaW5nIixiLGYsYSxlLGMpfX0sZmluZDp7SUQ6ZnVuY3Rpb24oYSxiLGMpe2lmKHR5cGVvZiBiLmdldEVsZW1lbnRCeUlkIT0idW5kZWZpbmVkIiYmIWMpe3ZhciBkPWIuZ2V0RWxlbWVudEJ5SWQoYVsxXSk7cmV0dXJuIGQmJmQucGFyZW50Tm9kZT9bZF06W119fSxOQU1FOmZ1bmN0aW9uKGEsYil7aWYodHlwZW9mIGIuZ2V0RWxlbWVudHNCeU5hbWUhPSJ1bmRlZmluZWQiKXt2YXIgYz1bXSxkPWIuZ2V0RWxlbWVudHNCeU5hbWUoYVsxXSk7Zm9yKHZhciBlPTAsZj1kLmxlbmd0aDtlPGY7ZSsrKWRbZV0uZ2V0QXR0cmlidXRlKCJuYW1lIik9PT1hWzFdJiZjLnB1c2goZFtlXSk7cmV0dXJuIGMubGVuZ3RoPT09MD9udWxsOmN9fSxUQUc6ZnVuY3Rpb24oYSxiKXtpZih0eXBlb2YgYi5nZXRFbGVtZW50c0J5VGFnTmFtZSE9InVuZGVmaW5lZCIpcmV0dXJuIGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYVsxXSl9fSxwcmVGaWx0ZXI6e0NMQVNTOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXthPSIgIithWzFdLnJlcGxhY2UoaSwiIikrIiAiO2lmKGYpcmV0dXJuIGE7Zm9yKHZhciBnPTAsaDsoaD1iW2ddKSE9bnVsbDtnKyspaCYmKGVeKGguY2xhc3NOYW1lJiYoIiAiK2guY2xhc3NOYW1lKyIgIikucmVwbGFjZSgvW1x0XG5ccl0vZywiICIpLmluZGV4T2YoYSk+PTApP2N8fGQucHVzaChoKTpjJiYoYltnXT0hMSkpO3JldHVybiExfSxJRDpmdW5jdGlvbihhKXtyZXR1cm4gYVsxXS5yZXBsYWNlKGksIiIpfSxUQUc6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYVsxXS5yZXBsYWNlKGksIiIpLnRvTG93ZXJDYXNlKCl9LENISUxEOmZ1bmN0aW9uKGEpe2lmKGFbMV09PT0ibnRoIil7YVsyXXx8ay5lcnJvcihhWzBdKSxhWzJdPWFbMl0ucmVwbGFjZSgvXlwrfFxzKi9nLCIiKTt2YXIgYj0vKC0/KShcZCopKD86bihbK1wtXT9cZCopKT8vLmV4ZWMoYVsyXT09PSJldmVuIiYmIjJuInx8YVsyXT09PSJvZGQiJiYiMm4rMSJ8fCEvXEQvLnRlc3QoYVsyXSkmJiIwbisiK2FbMl18fGFbMl0pO2FbMl09YlsxXSsoYlsyXXx8MSktMCxhWzNdPWJbM10tMH1lbHNlIGFbMl0mJmsuZXJyb3IoYVswXSk7YVswXT1kKys7cmV0dXJuIGF9LEFUVFI6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnPWFbMV09YVsxXS5yZXBsYWNlKGksIiIpOyFmJiZsLmF0dHJNYXBbZ10mJihhWzFdPWwuYXR0ck1hcFtnXSksYVs0XT0oYVs0XXx8YVs1XXx8IiIpLnJlcGxhY2UoaSwiIiksYVsyXT09PSJ+PSImJihhWzRdPSIgIithWzRdKyIgIik7cmV0dXJuIGF9LFBTRVVETzpmdW5jdGlvbihiLGMsZCxlLGYpe2lmKGJbMV09PT0ibm90IilpZigoYS5leGVjKGJbM10pfHwiIikubGVuZ3RoPjF8fC9eXHcvLnRlc3QoYlszXSkpYlszXT1rKGJbM10sbnVsbCxudWxsLGMpO2Vsc2V7dmFyIGc9ay5maWx0ZXIoYlszXSxjLGQsITBeZik7ZHx8ZS5wdXNoLmFwcGx5KGUsZyk7cmV0dXJuITF9ZWxzZSBpZihsLm1hdGNoLlBPUy50ZXN0KGJbMF0pfHxsLm1hdGNoLkNISUxELnRlc3QoYlswXSkpcmV0dXJuITA7cmV0dXJuIGJ9LFBPUzpmdW5jdGlvbihhKXthLnVuc2hpZnQoITApO3JldHVybiBhfX0sZmlsdGVyczp7ZW5hYmxlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5kaXNhYmxlZD09PSExJiZhLnR5cGUhPT0iaGlkZGVuIn0sZGlzYWJsZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGlzYWJsZWQ9PT0hMH0sY2hlY2tlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5jaGVja2VkPT09ITB9LHNlbGVjdGVkOmZ1bmN0aW9uKGEpe2EucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7cmV0dXJuIGEuc2VsZWN0ZWQ9PT0hMH0scGFyZW50OmZ1bmN0aW9uKGEpe3JldHVybiEhYS5maXJzdENoaWxkfSxlbXB0eTpmdW5jdGlvbihhKXtyZXR1cm4hYS5maXJzdENoaWxkfSxoYXM6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiEhayhjWzNdLGEpLmxlbmd0aH0saGVhZGVyOmZ1bmN0aW9uKGEpe3JldHVybi9oXGQvaS50ZXN0KGEubm9kZU5hbWUpfSx0ZXh0OmZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0QXR0cmlidXRlKCJ0eXBlIiksYz1hLnR5cGU7cmV0dXJuIGEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PSJpbnB1dCImJiJ0ZXh0Ij09PWMmJihiPT09Y3x8Yj09PW51bGwpfSxyYWRpbzpmdW5jdGlvbihhKXtyZXR1cm4gYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ImlucHV0IiYmInJhZGlvIj09PWEudHlwZX0sY2hlY2tib3g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PSJpbnB1dCImJiJjaGVja2JveCI9PT1hLnR5cGV9LGZpbGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PSJpbnB1dCImJiJmaWxlIj09PWEudHlwZX0scGFzc3dvcmQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PSJpbnB1dCImJiJwYXNzd29yZCI9PT1hLnR5cGV9LHN1Ym1pdDpmdW5jdGlvbihhKXt2YXIgYj1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKGI9PT0iaW5wdXQifHxiPT09ImJ1dHRvbiIpJiYic3VibWl0Ij09PWEudHlwZX0saW1hZ2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PSJpbnB1dCImJiJpbWFnZSI9PT1hLnR5cGV9LHJlc2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oYj09PSJpbnB1dCJ8fGI9PT0iYnV0dG9uIikmJiJyZXNldCI9PT1hLnR5cGV9LGJ1dHRvbjpmdW5jdGlvbihhKXt2YXIgYj1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuIGI9PT0iaW5wdXQiJiYiYnV0dG9uIj09PWEudHlwZXx8Yj09PSJidXR0b24ifSxpbnB1dDpmdW5jdGlvbihhKXtyZXR1cm4vaW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbi9pLnRlc3QoYS5ub2RlTmFtZSl9LGZvY3VzOmZ1bmN0aW9uKGEpe3JldHVybiBhPT09YS5vd25lckRvY3VtZW50LmFjdGl2ZUVsZW1lbnR9fSxzZXRGaWx0ZXJzOntmaXJzdDpmdW5jdGlvbihhLGIpe3JldHVybiBiPT09MH0sbGFzdDpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gYj09PWQubGVuZ3RoLTF9LGV2ZW46ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYiUyPT09MH0sb2RkOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGIlMj09PTF9LGx0OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYjxjWzNdLTB9LGd0OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYj5jWzNdLTB9LG50aDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGNbM10tMD09PWJ9LGVxOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gY1szXS0wPT09Yn19LGZpbHRlcjp7UFNFVURPOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWJbMV0sZj1sLmZpbHRlcnNbZV07aWYoZilyZXR1cm4gZihhLGMsYixkKTtpZihlPT09ImNvbnRhaW5zIilyZXR1cm4oYS50ZXh0Q29udGVudHx8YS5pbm5lclRleHR8fGsuZ2V0VGV4dChbYV0pfHwiIikuaW5kZXhPZihiWzNdKT49MDtpZihlPT09Im5vdCIpe3ZhciBnPWJbM107Zm9yKHZhciBoPTAsaT1nLmxlbmd0aDtoPGk7aCsrKWlmKGdbaF09PT1hKXJldHVybiExO3JldHVybiEwfWsuZXJyb3IoZSl9LENISUxEOmZ1bmN0aW9uKGEsYil7dmFyIGM9YlsxXSxkPWE7c3dpdGNoKGMpe2Nhc2Uib25seSI6Y2FzZSJmaXJzdCI6d2hpbGUoZD1kLnByZXZpb3VzU2libGluZylpZihkLm5vZGVUeXBlPT09MSlyZXR1cm4hMTtpZihjPT09ImZpcnN0IilyZXR1cm4hMDtkPWE7Y2FzZSJsYXN0Ijp3aGlsZShkPWQubmV4dFNpYmxpbmcpaWYoZC5ub2RlVHlwZT09PTEpcmV0dXJuITE7cmV0dXJuITA7Y2FzZSJudGgiOnZhciBlPWJbMl0sZj1iWzNdO2lmKGU9PT0xJiZmPT09MClyZXR1cm4hMDt2YXIgZz1iWzBdLGg9YS5wYXJlbnROb2RlO2lmKGgmJihoLnNpemNhY2hlIT09Z3x8IWEubm9kZUluZGV4KSl7dmFyIGk9MDtmb3IoZD1oLmZpcnN0Q2hpbGQ7ZDtkPWQubmV4dFNpYmxpbmcpZC5ub2RlVHlwZT09PTEmJihkLm5vZGVJbmRleD0rK2kpO2guc2l6Y2FjaGU9Z312YXIgaj1hLm5vZGVJbmRleC1mO3JldHVybiBlPT09MD9qPT09MDpqJWU9PT0wJiZqL2U+PTB9fSxJRDpmdW5jdGlvbihhLGIpe3JldHVybiBhLm5vZGVUeXBlPT09MSYmYS5nZXRBdHRyaWJ1dGUoImlkIik9PT1ifSxUQUc6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj09PSIqIiYmYS5ub2RlVHlwZT09PTF8fGEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWJ9LENMQVNTOmZ1bmN0aW9uKGEsYil7cmV0dXJuKCIgIisoYS5jbGFzc05hbWV8fGEuZ2V0QXR0cmlidXRlKCJjbGFzcyIpKSsiICIpLmluZGV4T2YoYik+LTF9LEFUVFI6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iWzFdLGQ9bC5hdHRySGFuZGxlW2NdP2wuYXR0ckhhbmRsZVtjXShhKTphW2NdIT1udWxsP2FbY106YS5nZXRBdHRyaWJ1dGUoYyksZT1kKyIiLGY9YlsyXSxnPWJbNF07cmV0dXJuIGQ9PW51bGw/Zj09PSIhPSI6Zj09PSI9Ij9lPT09ZzpmPT09Iio9Ij9lLmluZGV4T2YoZyk+PTA6Zj09PSJ+PSI/KCIgIitlKyIgIikuaW5kZXhPZihnKT49MDpnP2Y9PT0iIT0iP2UhPT1nOmY9PT0iXj0iP2UuaW5kZXhPZihnKT09PTA6Zj09PSIkPSI/ZS5zdWJzdHIoZS5sZW5ndGgtZy5sZW5ndGgpPT09ZzpmPT09Inw9Ij9lPT09Z3x8ZS5zdWJzdHIoMCxnLmxlbmd0aCsxKT09PWcrIi0iOiExOmUmJmQhPT0hMX0sUE9TOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWJbMl0sZj1sLnNldEZpbHRlcnNbZV07aWYoZilyZXR1cm4gZihhLGMsYixkKX19fSxtPWwubWF0Y2guUE9TLG49ZnVuY3Rpb24oYSxiKXtyZXR1cm4iXFwiKyhiLTArMSl9O2Zvcih2YXIgbyBpbiBsLm1hdGNoKWwubWF0Y2hbb109bmV3IFJlZ0V4cChsLm1hdGNoW29dLnNvdXJjZSsvKD8hW15cW10qXF0pKD8hW15cKF0qXCkpLy5zb3VyY2UpLGwubGVmdE1hdGNoW29dPW5ldyBSZWdFeHAoLyheKD86LnxccnxcbikqPykvLnNvdXJjZStsLm1hdGNoW29dLnNvdXJjZS5yZXBsYWNlKC9cXChcZCspL2csbikpO3ZhciBwPWZ1bmN0aW9uKGEsYil7YT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhLDApO2lmKGIpe2IucHVzaC5hcHBseShiLGEpO3JldHVybiBifXJldHVybiBhfTt0cnl7QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYy5kb2N1bWVudEVsZW1lbnQuY2hpbGROb2RlcywwKVswXS5ub2RlVHlwZX1jYXRjaChxKXtwPWZ1bmN0aW9uKGEsYil7dmFyIGM9MCxkPWJ8fFtdO2lmKGUuY2FsbChhKT09PSJbb2JqZWN0IEFycmF5XSIpQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoZCxhKTtlbHNlIGlmKHR5cGVvZiBhLmxlbmd0aD09Im51bWJlciIpZm9yKHZhciBmPWEubGVuZ3RoO2M8ZjtjKyspZC5wdXNoKGFbY10pO2Vsc2UgZm9yKDthW2NdO2MrKylkLnB1c2goYVtjXSk7cmV0dXJuIGR9fXZhciByLHM7Yy5kb2N1bWVudEVsZW1lbnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24/cj1mdW5jdGlvbihhLGIpe2lmKGE9PT1iKXtnPSEwO3JldHVybiAwfWlmKCFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9ufHwhYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbilyZXR1cm4gYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbj8tMToxO3JldHVybiBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpJjQ/LTE6MX06KHI9ZnVuY3Rpb24oYSxiKXtpZihhPT09Yil7Zz0hMDtyZXR1cm4gMH1pZihhLnNvdXJjZUluZGV4JiZiLnNvdXJjZUluZGV4KXJldHVybiBhLnNvdXJjZUluZGV4LWIuc291cmNlSW5kZXg7dmFyIGMsZCxlPVtdLGY9W10saD1hLnBhcmVudE5vZGUsaT1iLnBhcmVudE5vZGUsaj1oO2lmKGg9PT1pKXJldHVybiBzKGEsYik7aWYoIWgpcmV0dXJuLTE7aWYoIWkpcmV0dXJuIDE7d2hpbGUoaillLnVuc2hpZnQoaiksaj1qLnBhcmVudE5vZGU7aj1pO3doaWxlKGopZi51bnNoaWZ0KGopLGo9ai5wYXJlbnROb2RlO2M9ZS5sZW5ndGgsZD1mLmxlbmd0aDtmb3IodmFyIGs9MDtrPGMmJms8ZDtrKyspaWYoZVtrXSE9PWZba10pcmV0dXJuIHMoZVtrXSxmW2tdKTtyZXR1cm4gaz09PWM/cyhhLGZba10sLTEpOnMoZVtrXSxiLDEpfSxzPWZ1bmN0aW9uKGEsYixjKXtpZihhPT09YilyZXR1cm4gYzt2YXIgZD1hLm5leHRTaWJsaW5nO3doaWxlKGQpe2lmKGQ9PT1iKXJldHVybi0xO2Q9ZC5uZXh0U2libGluZ31yZXR1cm4gMX0pLGsuZ2V0VGV4dD1mdW5jdGlvbihhKXt2YXIgYj0iIixjO2Zvcih2YXIgZD0wO2FbZF07ZCsrKWM9YVtkXSxjLm5vZGVUeXBlPT09M3x8Yy5ub2RlVHlwZT09PTQ/Yis9Yy5ub2RlVmFsdWU6Yy5ub2RlVHlwZSE9PTgmJihiKz1rLmdldFRleHQoYy5jaGlsZE5vZGVzKSk7cmV0dXJuIGJ9LGZ1bmN0aW9uKCl7dmFyIGE9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxkPSJzY3JpcHQiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpLGU9Yy5kb2N1bWVudEVsZW1lbnQ7YS5pbm5lckhUTUw9IjxhIG5hbWU9JyIrZCsiJy8+IixlLmluc2VydEJlZm9yZShhLGUuZmlyc3RDaGlsZCksYy5nZXRFbGVtZW50QnlJZChkKSYmKGwuZmluZC5JRD1mdW5jdGlvbihhLGMsZCl7aWYodHlwZW9mIGMuZ2V0RWxlbWVudEJ5SWQhPSJ1bmRlZmluZWQiJiYhZCl7dmFyIGU9Yy5nZXRFbGVtZW50QnlJZChhWzFdKTtyZXR1cm4gZT9lLmlkPT09YVsxXXx8dHlwZW9mIGUuZ2V0QXR0cmlidXRlTm9kZSE9InVuZGVmaW5lZCImJmUuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKS5ub2RlVmFsdWU9PT1hWzFdP1tlXTpiOltdfX0sbC5maWx0ZXIuSUQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10eXBlb2YgYS5nZXRBdHRyaWJ1dGVOb2RlIT0idW5kZWZpbmVkIiYmYS5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpO3JldHVybiBhLm5vZGVUeXBlPT09MSYmYyYmYy5ub2RlVmFsdWU9PT1ifSksZS5yZW1vdmVDaGlsZChhKSxlPWE9bnVsbH0oKSxmdW5jdGlvbigpe3ZhciBhPWMuY3JlYXRlRWxlbWVudCgiZGl2Iik7YS5hcHBlbmRDaGlsZChjLmNyZWF0ZUNvbW1lbnQoIiIpKSxhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikubGVuZ3RoPjAmJihsLmZpbmQuVEFHPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZShhWzFdKTtpZihhWzFdPT09IioiKXt2YXIgZD1bXTtmb3IodmFyIGU9MDtjW2VdO2UrKyljW2VdLm5vZGVUeXBlPT09MSYmZC5wdXNoKGNbZV0pO2M9ZH1yZXR1cm4gY30pLGEuaW5uZXJIVE1MPSI8YSBocmVmPScjJz48L2E+IixhLmZpcnN0Q2hpbGQmJnR5cGVvZiBhLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlIT0idW5kZWZpbmVkIiYmYS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgiaHJlZiIpIT09IiMiJiYobC5hdHRySGFuZGxlLmhyZWY9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0QXR0cmlidXRlKCJocmVmIiwyKX0pLGE9bnVsbH0oKSxjLnF1ZXJ5U2VsZWN0b3JBbGwmJmZ1bmN0aW9uKCl7dmFyIGE9ayxiPWMuY3JlYXRlRWxlbWVudCgiZGl2IiksZD0iX19zaXp6bGVfXyI7Yi5pbm5lckhUTUw9IjxwIGNsYXNzPSdURVNUJz48L3A+IjtpZighYi5xdWVyeVNlbGVjdG9yQWxsfHxiLnF1ZXJ5U2VsZWN0b3JBbGwoIi5URVNUIikubGVuZ3RoIT09MCl7az1mdW5jdGlvbihiLGUsZixnKXtlPWV8fGM7aWYoIWcmJiFrLmlzWE1MKGUpKXt2YXIgaD0vXihcdyskKXxeXC4oW1x3XC1dKyQpfF4jKFtcd1wtXSskKS8uZXhlYyhiKTtpZihoJiYoZS5ub2RlVHlwZT09PTF8fGUubm9kZVR5cGU9PT05KSl7aWYoaFsxXSlyZXR1cm4gcChlLmdldEVsZW1lbnRzQnlUYWdOYW1lKGIpLGYpO2lmKGhbMl0mJmwuZmluZC5DTEFTUyYmZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBwKGUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShoWzJdKSxmKX1pZihlLm5vZGVUeXBlPT09OSl7aWYoYj09PSJib2R5IiYmZS5ib2R5KXJldHVybiBwKFtlLmJvZHldLGYpO2lmKGgmJmhbM10pe3ZhciBpPWUuZ2V0RWxlbWVudEJ5SWQoaFszXSk7aWYoIWl8fCFpLnBhcmVudE5vZGUpcmV0dXJuIHAoW10sZik7aWYoaS5pZD09PWhbM10pcmV0dXJuIHAoW2ldLGYpfXRyeXtyZXR1cm4gcChlLnF1ZXJ5U2VsZWN0b3JBbGwoYiksZil9Y2F0Y2goail7fX1lbHNlIGlmKGUubm9kZVR5cGU9PT0xJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkhPT0ib2JqZWN0Iil7dmFyIG09ZSxuPWUuZ2V0QXR0cmlidXRlKCJpZCIpLG89bnx8ZCxxPWUucGFyZW50Tm9kZSxyPS9eXHMqWyt+XS8udGVzdChiKTtuP289by5yZXBsYWNlKC8nL2csIlxcJCYiKTplLnNldEF0dHJpYnV0ZSgiaWQiLG8pLHImJnEmJihlPWUucGFyZW50Tm9kZSk7dHJ5e2lmKCFyfHxxKXJldHVybiBwKGUucXVlcnlTZWxlY3RvckFsbCgiW2lkPSciK28rIiddICIrYiksZil9Y2F0Y2gocyl7fWZpbmFsbHl7bnx8bS5yZW1vdmVBdHRyaWJ1dGUoImlkIil9fX1yZXR1cm4gYShiLGUsZixnKX07Zm9yKHZhciBlIGluIGEpa1tlXT1hW2VdO2I9bnVsbH19KCksZnVuY3Rpb24oKXt2YXIgYT1jLmRvY3VtZW50RWxlbWVudCxiPWEubWF0Y2hlc1NlbGVjdG9yfHxhLm1vek1hdGNoZXNTZWxlY3Rvcnx8YS53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fGEubXNNYXRjaGVzU2VsZWN0b3I7aWYoYil7dmFyIGQ9IWIuY2FsbChjLmNyZWF0ZUVsZW1lbnQoImRpdiIpLCJkaXYiKSxlPSExO3RyeXtiLmNhbGwoYy5kb2N1bWVudEVsZW1lbnQsIlt0ZXN0IT0nJ106c2l6emxlIil9Y2F0Y2goZil7ZT0hMH1rLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihhLGMpe2M9Yy5yZXBsYWNlKC9cPVxzKihbXiciXF1dKilccypcXS9nLCI9JyQxJ10iKTtpZighay5pc1hNTChhKSl0cnl7aWYoZXx8IWwubWF0Y2guUFNFVURPLnRlc3QoYykmJiEvIT0vLnRlc3QoYykpe3ZhciBmPWIuY2FsbChhLGMpO2lmKGZ8fCFkfHxhLmRvY3VtZW50JiZhLmRvY3VtZW50Lm5vZGVUeXBlIT09MTEpcmV0dXJuIGZ9fWNhdGNoKGcpe31yZXR1cm4gayhjLG51bGwsbnVsbCxbYV0pLmxlbmd0aD4wfX19KCksZnVuY3Rpb24oKXt2YXIgYT1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2EuaW5uZXJIVE1MPSI8ZGl2IGNsYXNzPSd0ZXN0IGUnPjwvZGl2PjxkaXYgY2xhc3M9J3Rlc3QnPjwvZGl2PiI7aWYoISFhLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmEuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiZSIpLmxlbmd0aCE9PTApe2EubGFzdENoaWxkLmNsYXNzTmFtZT0iZSI7aWYoYS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJlIikubGVuZ3RoPT09MSlyZXR1cm47bC5vcmRlci5zcGxpY2UoMSwwLCJDTEFTUyIpLGwuZmluZC5DTEFTUz1mdW5jdGlvbihhLGIsYyl7aWYodHlwZW9mIGIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSE9InVuZGVmaW5lZCImJiFjKXJldHVybiBiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoYVsxXSl9LGE9bnVsbH19KCksYy5kb2N1bWVudEVsZW1lbnQuY29udGFpbnM/ay5jb250YWlucz1mdW5jdGlvbihhLGIpe3JldHVybiBhIT09YiYmKGEuY29udGFpbnM/YS5jb250YWlucyhiKTohMCl9OmMuZG9jdW1lbnRFbGVtZW50LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uP2suY29udGFpbnM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4hIShhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpJjE2KX06ay5jb250YWlucz1mdW5jdGlvbigpe3JldHVybiExfSxrLmlzWE1MPWZ1bmN0aW9uKGEpe3ZhciBiPShhP2Eub3duZXJEb2N1bWVudHx8YTowKS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIGI/Yi5ub2RlTmFtZSE9PSJIVE1MIjohMX07dmFyIHY9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9IiIsZj1iLm5vZGVUeXBlP1tiXTpiO3doaWxlKGM9bC5tYXRjaC5QU0VVRE8uZXhlYyhhKSllKz1jWzBdLGE9YS5yZXBsYWNlKGwubWF0Y2guUFNFVURPLCIiKTthPWwucmVsYXRpdmVbYV0/YSsiKiI6YTtmb3IodmFyIGc9MCxoPWYubGVuZ3RoO2c8aDtnKyspayhhLGZbZ10sZCk7cmV0dXJuIGsuZmlsdGVyKGUsZCl9O2YuZmluZD1rLGYuZXhwcj1rLnNlbGVjdG9ycyxmLmV4cHJbIjoiXT1mLmV4cHIuZmlsdGVycyxmLnVuaXF1ZT1rLnVuaXF1ZVNvcnQsZi50ZXh0PWsuZ2V0VGV4dCxmLmlzWE1MRG9jPWsuaXNYTUwsZi5jb250YWlucz1rLmNvbnRhaW5zfSgpO3ZhciBOPS9VbnRpbCQvLE89L14oPzpwYXJlbnRzfHByZXZVbnRpbHxwcmV2QWxsKS8sUD0vLC8sUT0vXi5bXjojXFtcLixdKiQvLFI9QXJyYXkucHJvdG90eXBlLnNsaWNlLFM9Zi5leHByLm1hdGNoLlBPUyxUPXtjaGlsZHJlbjohMCxjb250ZW50czohMCxuZXh0OiEwLHByZXY6ITB9O2YuZm4uZXh0ZW5kKHtmaW5kOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYyxkO2lmKHR5cGVvZiBhIT0ic3RyaW5nIilyZXR1cm4gZihhKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IoYz0wLGQ9Yi5sZW5ndGg7YzxkO2MrKylpZihmLmNvbnRhaW5zKGJbY10sdGhpcykpcmV0dXJuITB9KTt2YXIgZT10aGlzLnB1c2hTdGFjaygiIiwiZmluZCIsYSksZyxoLGk7Zm9yKGM9MCxkPXRoaXMubGVuZ3RoO2M8ZDtjKyspe2c9ZS5sZW5ndGgsZi5maW5kKGEsdGhpc1tjXSxlKTtpZihjPjApZm9yKGg9ZztoPGUubGVuZ3RoO2grKylmb3IoaT0wO2k8ZztpKyspaWYoZVtpXT09PWVbaF0pe2Uuc3BsaWNlKGgtLSwxKTticmVha319cmV0dXJuIGV9LGhhczpmdW5jdGlvbihhKXt2YXIgYj1mKGEpO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgYT0wLGM9Yi5sZW5ndGg7YTxjO2ErKylpZihmLmNvbnRhaW5zKHRoaXMsYlthXSkpcmV0dXJuITB9KX0sbm90OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayhWKHRoaXMsYSwhMSksIm5vdCIsYSl9LGZpbHRlcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soVih0aGlzLGEsITApLCJmaWx0ZXIiLGEpfSxpczpmdW5jdGlvbihhKXtyZXR1cm4hIWEmJih0eXBlb2YgYT09InN0cmluZyI/Zi5maWx0ZXIoYSx0aGlzKS5sZW5ndGg+MDp0aGlzLmZpbHRlcihhKS5sZW5ndGg+MCl9LGNsb3Nlc3Q6ZnVuY3Rpb24oYSxiKXt2YXIgYz1bXSxkLGUsZz10aGlzWzBdO2lmKGYuaXNBcnJheShhKSl7dmFyIGgsaSxqPXt9LGs9MTtpZihnJiZhLmxlbmd0aCl7Zm9yKGQ9MCxlPWEubGVuZ3RoO2Q8ZTtkKyspaT1hW2RdLGpbaV18fChqW2ldPVMudGVzdChpKT9mKGksYnx8dGhpcy5jb250ZXh0KTppKTt3aGlsZShnJiZnLm93bmVyRG9jdW1lbnQmJmchPT1iKXtmb3IoaSBpbiBqKWg9altpXSwoaC5qcXVlcnk/aC5pbmRleChnKT4tMTpmKGcpLmlzKGgpKSYmYy5wdXNoKHtzZWxlY3RvcjppLGVsZW06ZyxsZXZlbDprfSk7Zz1nLnBhcmVudE5vZGUsaysrfX1yZXR1cm4gY312YXIgbD1TLnRlc3QoYSl8fHR5cGVvZiBhIT0ic3RyaW5nIj9mKGEsYnx8dGhpcy5jb250ZXh0KTowO2ZvcihkPTAsZT10aGlzLmxlbmd0aDtkPGU7ZCsrKXtnPXRoaXNbZF07d2hpbGUoZyl7aWYobD9sLmluZGV4KGcpPi0xOmYuZmluZC5tYXRjaGVzU2VsZWN0b3IoZyxhKSl7Yy5wdXNoKGcpO2JyZWFrfWc9Zy5wYXJlbnROb2RlO2lmKCFnfHwhZy5vd25lckRvY3VtZW50fHxnPT09Ynx8Zy5ub2RlVHlwZT09PTExKWJyZWFrfX1jPWMubGVuZ3RoPjE/Zi51bmlxdWUoYyk6YztyZXR1cm4gdGhpcy5wdXNoU3RhY2soYywiY2xvc2VzdCIsYSl9LGluZGV4OmZ1bmN0aW9uKGEpe2lmKCFhKXJldHVybiB0aGlzWzBdJiZ0aGlzWzBdLnBhcmVudE5vZGU/dGhpcy5wcmV2QWxsKCkubGVuZ3RoOi0xO2lmKHR5cGVvZiBhPT0ic3RyaW5nIilyZXR1cm4gZi5pbkFycmF5KHRoaXNbMF0sZihhKSk7cmV0dXJuIGYuaW5BcnJheShhLmpxdWVyeT9hWzBdOmEsdGhpcyl9LGFkZDpmdW5jdGlvbihhLGIpe3ZhciBjPXR5cGVvZiBhPT0ic3RyaW5nIj9mKGEsYik6Zi5tYWtlQXJyYXkoYSYmYS5ub2RlVHlwZT9bYV06YSksZD1mLm1lcmdlKHRoaXMuZ2V0KCksYyk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFUoY1swXSl8fFUoZFswXSk/ZDpmLnVuaXF1ZShkKSl9LGFuZFNlbGY6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZGQodGhpcy5wcmV2T2JqZWN0KX19KSxmLmVhY2goe3BhcmVudDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudE5vZGU7cmV0dXJuIGImJmIubm9kZVR5cGUhPT0xMT9iOm51bGx9LHBhcmVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIGYuZGlyKGEsInBhcmVudE5vZGUiKX0scGFyZW50c1VudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZi5kaXIoYSwicGFyZW50Tm9kZSIsYyl9LG5leHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGYubnRoKGEsMiwibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihhKXtyZXR1cm4gZi5udGgoYSwyLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihhKXtyZXR1cm4gZi5kaXIoYSwibmV4dFNpYmxpbmciKX0scHJldkFsbDpmdW5jdGlvbihhKXtyZXR1cm4gZi5kaXIoYSwicHJldmlvdXNTaWJsaW5nIil9LG5leHRVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGYuZGlyKGEsIm5leHRTaWJsaW5nIixjKX0scHJldlVudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZi5kaXIoYSwicHJldmlvdXNTaWJsaW5nIixjKX0sc2libGluZ3M6ZnVuY3Rpb24oYSl7cmV0dXJuIGYuc2libGluZyhhLnBhcmVudE5vZGUuZmlyc3RDaGlsZCxhKX0sY2hpbGRyZW46ZnVuY3Rpb24oYSl7cmV0dXJuIGYuc2libGluZyhhLmZpcnN0Q2hpbGQpfSxjb250ZW50czpmdW5jdGlvbihhKXtyZXR1cm4gZi5ub2RlTmFtZShhLCJpZnJhbWUiKT9hLmNvbnRlbnREb2N1bWVudHx8YS5jb250ZW50V2luZG93LmRvY3VtZW50OmYubWFrZUFycmF5KGEuY2hpbGROb2Rlcyl9fSxmdW5jdGlvbihhLGIpe2YuZm5bYV09ZnVuY3Rpb24oYyxkKXt2YXIgZT1mLm1hcCh0aGlzLGIsYyksZz1SLmNhbGwoYXJndW1lbnRzKTtOLnRlc3QoYSl8fChkPWMpLGQmJnR5cGVvZiBkPT0ic3RyaW5nIiYmKGU9Zi5maWx0ZXIoZCxlKSksZT10aGlzLmxlbmd0aD4xJiYhVFthXT9mLnVuaXF1ZShlKTplLCh0aGlzLmxlbmd0aD4xfHxQLnRlc3QoZCkpJiZPLnRlc3QoYSkmJihlPWUucmV2ZXJzZSgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZSxhLGcuam9pbigiLCIpKX19KSxmLmV4dGVuZCh7ZmlsdGVyOmZ1bmN0aW9uKGEsYixjKXtjJiYoYT0iOm5vdCgiK2ErIikiKTtyZXR1cm4gYi5sZW5ndGg9PT0xP2YuZmluZC5tYXRjaGVzU2VsZWN0b3IoYlswXSxhKT9bYlswXV06W106Zi5maW5kLm1hdGNoZXMoYSxiKX0sZGlyOmZ1bmN0aW9uKGEsYyxkKXt2YXIgZT1bXSxnPWFbY107d2hpbGUoZyYmZy5ub2RlVHlwZSE9PTkmJihkPT09Ynx8Zy5ub2RlVHlwZSE9PTF8fCFmKGcpLmlzKGQpKSlnLm5vZGVUeXBlPT09MSYmZS5wdXNoKGcpLGc9Z1tjXTtyZXR1cm4gZX0sbnRoOmZ1bmN0aW9uKGEsYixjLGQpe2I9Ynx8MTt2YXIgZT0wO2Zvcig7YTthPWFbY10paWYoYS5ub2RlVHlwZT09PTEmJisrZT09PWIpYnJlYWs7cmV0dXJuIGF9LHNpYmxpbmc6ZnVuY3Rpb24oYSxiKXt2YXIgYz1bXTtmb3IoO2E7YT1hLm5leHRTaWJsaW5nKWEubm9kZVR5cGU9PT0xJiZhIT09YiYmYy5wdXNoKGEpO3JldHVybiBjfX0pO3ZhciBXPS8galF1ZXJ5XGQrPSIoPzpcZCt8bnVsbCkiL2csWD0vXlxzKy8sWT0vPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXHc6XSspW14+XSopXC8+L2lnLFo9LzwoW1x3Ol0rKS8sJD0vPHRib2R5L2ksXz0vPHwmIz9cdys7LyxiYT0vPCg/OnNjcmlwdHxvYmplY3R8ZW1iZWR8b3B0aW9ufHN0eWxlKS9pLGJiPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLGJjPS9cLyhqYXZhfGVjbWEpc2NyaXB0L2ksYmQ9L15ccyo8ISg/OlxbQ0RBVEFcW3xcLVwtKS8sYmU9e29wdGlvbjpbMSwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPiIsIjwvc2VsZWN0PiJdLGxlZ2VuZDpbMSwiPGZpZWxkc2V0PiIsIjwvZmllbGRzZXQ+Il0sdGhlYWQ6WzEsIjx0YWJsZT4iLCI8L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sY29sOlsyLCI8dGFibGU+PHRib2R5PjwvdGJvZHk+PGNvbGdyb3VwPiIsIjwvY29sZ3JvdXA+PC90YWJsZT4iXSxhcmVhOlsxLCI8bWFwPiIsIjwvbWFwPiJdLF9kZWZhdWx0OlswLCIiLCIiXX07YmUub3B0Z3JvdXA9YmUub3B0aW9uLGJlLnRib2R5PWJlLnRmb290PWJlLmNvbGdyb3VwPWJlLmNhcHRpb249YmUudGhlYWQsYmUudGg9YmUudGQsZi5zdXBwb3J0Lmh0bWxTZXJpYWxpemV8fChiZS5fZGVmYXVsdD1bMSwiZGl2PGRpdj4iLCI8L2Rpdj4iXSksZi5mbi5leHRlbmQoe3RleHQ6ZnVuY3Rpb24oYSl7aWYoZi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7dmFyIGM9Zih0aGlzKTtjLnRleHQoYS5jYWxsKHRoaXMsYixjLnRleHQoKSkpfSk7aWYodHlwZW9mIGEhPSJvYmplY3QiJiZhIT09YilyZXR1cm4gdGhpcy5lbXB0eSgpLmFwcGVuZCgodGhpc1swXSYmdGhpc1swXS5vd25lckRvY3VtZW50fHxjKS5jcmVhdGVUZXh0Tm9kZShhKSk7cmV0dXJuIGYudGV4dCh0aGlzKX0sd3JhcEFsbDpmdW5jdGlvbihhKXtpZihmLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtmKHRoaXMpLndyYXBBbGwoYS5jYWxsKHRoaXMsYikpfSk7aWYodGhpc1swXSl7dmFyIGI9ZihhLHRoaXNbMF0ub3duZXJEb2N1bWVudCkuZXEoMCkuY2xvbmUoITApO3RoaXNbMF0ucGFyZW50Tm9kZSYmYi5pbnNlcnRCZWZvcmUodGhpc1swXSksYi5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzO3doaWxlKGEuZmlyc3RDaGlsZCYmYS5maXJzdENoaWxkLm5vZGVUeXBlPT09MSlhPWEuZmlyc3RDaGlsZDtyZXR1cm4gYX0pLmFwcGVuZCh0aGlzKX1yZXR1cm4gdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKGEpe2lmKGYuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe2YodGhpcykud3JhcElubmVyKGEuY2FsbCh0aGlzLGIpKX0pO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1mKHRoaXMpLGM9Yi5jb250ZW50cygpO2MubGVuZ3RoP2Mud3JhcEFsbChhKTpiLmFwcGVuZChhKX0pfSx3cmFwOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtmKHRoaXMpLndyYXBBbGwoYSl9KX0sdW53cmFwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpe2Yubm9kZU5hbWUodGhpcywiYm9keSIpfHxmKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KS5lbmQoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLCEwLGZ1bmN0aW9uKGEpe3RoaXMubm9kZVR5cGU9PT0xJiZ0aGlzLmFwcGVuZENoaWxkKGEpfSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsITAsZnVuY3Rpb24oYSl7dGhpcy5ub2RlVHlwZT09PTEmJnRoaXMuaW5zZXJ0QmVmb3JlKGEsdGhpcy5maXJzdENoaWxkKX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtpZih0aGlzWzBdJiZ0aGlzWzBdLnBhcmVudE5vZGUpcmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLCExLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSx0aGlzKX0pO2lmKGFyZ3VtZW50cy5sZW5ndGgpe3ZhciBhPWYoYXJndW1lbnRzWzBdKTthLnB1c2guYXBwbHkoYSx0aGlzLnRvQXJyYXkoKSk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGEsImJlZm9yZSIsYXJndW1lbnRzKX19LGFmdGVyOmZ1bmN0aW9uKCl7aWYodGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlKXJldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cywhMSxmdW5jdGlvbihhKXt0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsdGhpcy5uZXh0U2libGluZyl9KTtpZihhcmd1bWVudHMubGVuZ3RoKXt2YXIgYT10aGlzLnB1c2hTdGFjayh0aGlzLCJhZnRlciIsYXJndW1lbnRzKTthLnB1c2guYXBwbHkoYSxmKGFyZ3VtZW50c1swXSkudG9BcnJheSgpKTtyZXR1cm4gYX19LHJlbW92ZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wLGQ7KGQ9dGhpc1tjXSkhPW51bGw7YysrKWlmKCFhfHxmLmZpbHRlcihhLFtkXSkubGVuZ3RoKSFiJiZkLm5vZGVUeXBlPT09MSYmKGYuY2xlYW5EYXRhKGQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSksZi5jbGVhbkRhdGEoW2RdKSksZC5wYXJlbnROb2RlJiZkLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZCk7cmV0dXJuIHRoaXN9LGVtcHR5OmZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYjsoYj10aGlzW2FdKSE9bnVsbDthKyspe2Iubm9kZVR5cGU9PT0xJiZmLmNsZWFuRGF0YShiLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikpO3doaWxlKGIuZmlyc3RDaGlsZCliLnJlbW92ZUNoaWxkKGIuZmlyc3RDaGlsZCl9cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKGEsYil7YT1hPT1udWxsPyExOmEsYj1iPT1udWxsP2E6YjtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gZi5jbG9uZSh0aGlzLGEsYil9KX0saHRtbDpmdW5jdGlvbihhKXtpZihhPT09YilyZXR1cm4gdGhpc1swXSYmdGhpc1swXS5ub2RlVHlwZT09PTE/dGhpc1swXS5pbm5lckhUTUwucmVwbGFjZShXLCIiKTpudWxsO2lmKHR5cGVvZiBhPT0ic3RyaW5nIiYmIWJhLnRlc3QoYSkmJihmLnN1cHBvcnQubGVhZGluZ1doaXRlc3BhY2V8fCFYLnRlc3QoYSkpJiYhYmVbKFouZXhlYyhhKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKV0pe2E9YS5yZXBsYWNlKFksIjwkMT48LyQyPiIpO3RyeXtmb3IodmFyIGM9MCxkPXRoaXMubGVuZ3RoO2M8ZDtjKyspdGhpc1tjXS5ub2RlVHlwZT09PTEmJihmLmNsZWFuRGF0YSh0aGlzW2NdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikpLHRoaXNbY10uaW5uZXJIVE1MPWEpfWNhdGNoKGUpe3RoaXMuZW1wdHkoKS5hcHBlbmQoYSl9fWVsc2UgZi5pc0Z1bmN0aW9uKGEpP3RoaXMuZWFjaChmdW5jdGlvbihiKXt2YXIgYz1mKHRoaXMpO2MuaHRtbChhLmNhbGwodGhpcyxiLGMuaHRtbCgpKSl9KTp0aGlzLmVtcHR5KCkuYXBwZW5kKGEpO3JldHVybiB0aGlzfSxyZXBsYWNlV2l0aDpmdW5jdGlvbihhKXtpZih0aGlzWzBdJiZ0aGlzWzBdLnBhcmVudE5vZGUpe2lmKGYuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe3ZhciBjPWYodGhpcyksZD1jLmh0bWwoKTtjLnJlcGxhY2VXaXRoKGEuY2FsbCh0aGlzLGIsZCkpfSk7dHlwZW9mIGEhPSJzdHJpbmciJiYoYT1mKGEpLmRldGFjaCgpKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5uZXh0U2libGluZyxjPXRoaXMucGFyZW50Tm9kZTtmKHRoaXMpLnJlbW92ZSgpLGI/ZihiKS5iZWZvcmUoYSk6ZihjKS5hcHBlbmQoYSl9KX1yZXR1cm4gdGhpcy5sZW5ndGg/dGhpcy5wdXNoU3RhY2soZihmLmlzRnVuY3Rpb24oYSk/YSgpOmEpLCJyZXBsYWNlV2l0aCIsYSk6dGhpc30sZGV0YWNoOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnJlbW92ZShhLCEwKX0sZG9tTWFuaXA6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlLGcsaCxpLGo9YVswXSxrPVtdO2lmKCFmLnN1cHBvcnQuY2hlY2tDbG9uZSYmYXJndW1lbnRzLmxlbmd0aD09PTMmJnR5cGVvZiBqPT0ic3RyaW5nIiYmYmIudGVzdChqKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Zih0aGlzKS5kb21NYW5pcChhLGMsZCwhMCl9KTtpZihmLmlzRnVuY3Rpb24oaikpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXt2YXIgZz1mKHRoaXMpO2FbMF09ai5jYWxsKHRoaXMsZSxjP2cuaHRtbCgpOmIpLGcuZG9tTWFuaXAoYSxjLGQpfSk7aWYodGhpc1swXSl7aT1qJiZqLnBhcmVudE5vZGUsZi5zdXBwb3J0LnBhcmVudE5vZGUmJmkmJmkubm9kZVR5cGU9PT0xMSYmaS5jaGlsZE5vZGVzLmxlbmd0aD09PXRoaXMubGVuZ3RoP2U9e2ZyYWdtZW50Oml9OmU9Zi5idWlsZEZyYWdtZW50KGEsdGhpcyxrKSxoPWUuZnJhZ21lbnQsaC5jaGlsZE5vZGVzLmxlbmd0aD09PTE/Zz1oPWguZmlyc3RDaGlsZDpnPWguZmlyc3RDaGlsZDtpZihnKXtjPWMmJmYubm9kZU5hbWUoZywidHIiKTtmb3IodmFyIGw9MCxtPXRoaXMubGVuZ3RoLG49bS0xO2w8bTtsKyspZC5jYWxsKGM/YmYodGhpc1tsXSxnKTp0aGlzW2xdLGUuY2FjaGVhYmxlfHxtPjEmJmw8bj9mLmNsb25lKGgsITAsITApOmgpfWsubGVuZ3RoJiZmLmVhY2goayxibCl9cmV0dXJuIHRoaXN9fSksZi5idWlsZEZyYWdtZW50PWZ1bmN0aW9uKGEsYixkKXt2YXIgZSxnLGgsaTtiJiZiWzBdJiYoaT1iWzBdLm93bmVyRG9jdW1lbnR8fGJbMF0pLGkuY3JlYXRlRG9jdW1lbnRGcmFnbWVudHx8KGk9YyksYS5sZW5ndGg9PT0xJiZ0eXBlb2YgYVswXT09InN0cmluZyImJmFbMF0ubGVuZ3RoPDUxMiYmaT09PWMmJmFbMF0uY2hhckF0KDApPT09IjwiJiYhYmEudGVzdChhWzBdKSYmKGYuc3VwcG9ydC5jaGVja0Nsb25lfHwhYmIudGVzdChhWzBdKSkmJihnPSEwLGg9Zi5mcmFnbWVudHNbYVswXV0saCYmaCE9PTEmJihlPWgpKSxlfHwoZT1pLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxmLmNsZWFuCihhLGksZSxkKSksZyYmKGYuZnJhZ21lbnRzW2FbMF1dPWg/ZToxKTtyZXR1cm57ZnJhZ21lbnQ6ZSxjYWNoZWFibGU6Z319LGYuZnJhZ21lbnRzPXt9LGYuZWFjaCh7YXBwZW5kVG86ImFwcGVuZCIscHJlcGVuZFRvOiJwcmVwZW5kIixpbnNlcnRCZWZvcmU6ImJlZm9yZSIsaW5zZXJ0QWZ0ZXI6ImFmdGVyIixyZXBsYWNlQWxsOiJyZXBsYWNlV2l0aCJ9LGZ1bmN0aW9uKGEsYil7Zi5mblthXT1mdW5jdGlvbihjKXt2YXIgZD1bXSxlPWYoYyksZz10aGlzLmxlbmd0aD09PTEmJnRoaXNbMF0ucGFyZW50Tm9kZTtpZihnJiZnLm5vZGVUeXBlPT09MTEmJmcuY2hpbGROb2Rlcy5sZW5ndGg9PT0xJiZlLmxlbmd0aD09PTEpe2VbYl0odGhpc1swXSk7cmV0dXJuIHRoaXN9Zm9yKHZhciBoPTAsaT1lLmxlbmd0aDtoPGk7aCsrKXt2YXIgaj0oaD4wP3RoaXMuY2xvbmUoITApOnRoaXMpLmdldCgpO2YoZVtoXSlbYl0oaiksZD1kLmNvbmNhdChqKX1yZXR1cm4gdGhpcy5wdXNoU3RhY2soZCxhLGUuc2VsZWN0b3IpfX0pLGYuZXh0ZW5kKHtjbG9uZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5jbG9uZU5vZGUoITApLGUsZyxoO2lmKCghZi5zdXBwb3J0Lm5vQ2xvbmVFdmVudHx8IWYuc3VwcG9ydC5ub0Nsb25lQ2hlY2tlZCkmJihhLm5vZGVUeXBlPT09MXx8YS5ub2RlVHlwZT09PTExKSYmIWYuaXNYTUxEb2MoYSkpe2JoKGEsZCksZT1iaShhKSxnPWJpKGQpO2ZvcihoPTA7ZVtoXTsrK2gpZ1toXSYmYmgoZVtoXSxnW2hdKX1pZihiKXtiZyhhLGQpO2lmKGMpe2U9YmkoYSksZz1iaShkKTtmb3IoaD0wO2VbaF07KytoKWJnKGVbaF0sZ1toXSl9fWU9Zz1udWxsO3JldHVybiBkfSxjbGVhbjpmdW5jdGlvbihhLGIsZCxlKXt2YXIgZztiPWJ8fGMsdHlwZW9mIGIuY3JlYXRlRWxlbWVudD09InVuZGVmaW5lZCImJihiPWIub3duZXJEb2N1bWVudHx8YlswXSYmYlswXS5vd25lckRvY3VtZW50fHxjKTt2YXIgaD1bXSxpO2Zvcih2YXIgaj0wLGs7KGs9YVtqXSkhPW51bGw7aisrKXt0eXBlb2Ygaz09Im51bWJlciImJihrKz0iIik7aWYoIWspY29udGludWU7aWYodHlwZW9mIGs9PSJzdHJpbmciKWlmKCFfLnRlc3Qoaykpaz1iLmNyZWF0ZVRleHROb2RlKGspO2Vsc2V7az1rLnJlcGxhY2UoWSwiPCQxPjwvJDI+Iik7dmFyIGw9KFouZXhlYyhrKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKSxtPWJlW2xdfHxiZS5fZGVmYXVsdCxuPW1bMF0sbz1iLmNyZWF0ZUVsZW1lbnQoImRpdiIpO28uaW5uZXJIVE1MPW1bMV0rayttWzJdO3doaWxlKG4tLSlvPW8ubGFzdENoaWxkO2lmKCFmLnN1cHBvcnQudGJvZHkpe3ZhciBwPSQudGVzdChrKSxxPWw9PT0idGFibGUiJiYhcD9vLmZpcnN0Q2hpbGQmJm8uZmlyc3RDaGlsZC5jaGlsZE5vZGVzOm1bMV09PT0iPHRhYmxlPiImJiFwP28uY2hpbGROb2RlczpbXTtmb3IoaT1xLmxlbmd0aC0xO2k+PTA7LS1pKWYubm9kZU5hbWUocVtpXSwidGJvZHkiKSYmIXFbaV0uY2hpbGROb2Rlcy5sZW5ndGgmJnFbaV0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChxW2ldKX0hZi5zdXBwb3J0LmxlYWRpbmdXaGl0ZXNwYWNlJiZYLnRlc3QoaykmJm8uaW5zZXJ0QmVmb3JlKGIuY3JlYXRlVGV4dE5vZGUoWC5leGVjKGspWzBdKSxvLmZpcnN0Q2hpbGQpLGs9by5jaGlsZE5vZGVzfXZhciByO2lmKCFmLnN1cHBvcnQuYXBwZW5kQ2hlY2tlZClpZihrWzBdJiZ0eXBlb2YgKHI9ay5sZW5ndGgpPT0ibnVtYmVyIilmb3IoaT0wO2k8cjtpKyspYmsoa1tpXSk7ZWxzZSBiayhrKTtrLm5vZGVUeXBlP2gucHVzaChrKTpoPWYubWVyZ2UoaCxrKX1pZihkKXtnPWZ1bmN0aW9uKGEpe3JldHVybiFhLnR5cGV8fGJjLnRlc3QoYS50eXBlKX07Zm9yKGo9MDtoW2pdO2orKylpZihlJiZmLm5vZGVOYW1lKGhbal0sInNjcmlwdCIpJiYoIWhbal0udHlwZXx8aFtqXS50eXBlLnRvTG93ZXJDYXNlKCk9PT0idGV4dC9qYXZhc2NyaXB0IikpZS5wdXNoKGhbal0ucGFyZW50Tm9kZT9oW2pdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaFtqXSk6aFtqXSk7ZWxzZXtpZihoW2pdLm5vZGVUeXBlPT09MSl7dmFyIHM9Zi5ncmVwKGhbal0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpLGcpO2guc3BsaWNlLmFwcGx5KGgsW2orMSwwXS5jb25jYXQocykpfWQuYXBwZW5kQ2hpbGQoaFtqXSl9fXJldHVybiBofSxjbGVhbkRhdGE6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPWYuY2FjaGUsZT1mLmV4cGFuZG8sZz1mLmV2ZW50LnNwZWNpYWwsaD1mLnN1cHBvcnQuZGVsZXRlRXhwYW5kbztmb3IodmFyIGk9MCxqOyhqPWFbaV0pIT1udWxsO2krKyl7aWYoai5ub2RlTmFtZSYmZi5ub0RhdGFbai5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSljb250aW51ZTtjPWpbZi5leHBhbmRvXTtpZihjKXtiPWRbY10mJmRbY11bZV07aWYoYiYmYi5ldmVudHMpe2Zvcih2YXIgayBpbiBiLmV2ZW50cylnW2tdP2YuZXZlbnQucmVtb3ZlKGosayk6Zi5yZW1vdmVFdmVudChqLGssYi5oYW5kbGUpO2IuaGFuZGxlJiYoYi5oYW5kbGUuZWxlbT1udWxsKX1oP2RlbGV0ZSBqW2YuZXhwYW5kb106ai5yZW1vdmVBdHRyaWJ1dGUmJmoucmVtb3ZlQXR0cmlidXRlKGYuZXhwYW5kbyksZGVsZXRlIGRbY119fX19KTt2YXIgYm09L2FscGhhXChbXildKlwpL2ksYm49L29wYWNpdHk9KFteKV0qKS8sYm89LyhbQS1aXXxebXMpL2csYnA9L14tP1xkKyg/OnB4KT8kL2ksYnE9L14tP1xkLyxicj0vXihbXC0rXSk9KFtcLSsuXGRlXSspLyxicz17cG9zaXRpb246ImFic29sdXRlIix2aXNpYmlsaXR5OiJoaWRkZW4iLGRpc3BsYXk6ImJsb2NrIn0sYnQ9WyJMZWZ0IiwiUmlnaHQiXSxidT1bIlRvcCIsIkJvdHRvbSJdLGJ2LGJ3LGJ4O2YuZm4uY3NzPWZ1bmN0aW9uKGEsYyl7aWYoYXJndW1lbnRzLmxlbmd0aD09PTImJmM9PT1iKXJldHVybiB0aGlzO3JldHVybiBmLmFjY2Vzcyh0aGlzLGEsYywhMCxmdW5jdGlvbihhLGMsZCl7cmV0dXJuIGQhPT1iP2Yuc3R5bGUoYSxjLGQpOmYuY3NzKGEsYyl9KX0sZi5leHRlbmQoe2Nzc0hvb2tzOntvcGFjaXR5OntnZXQ6ZnVuY3Rpb24oYSxiKXtpZihiKXt2YXIgYz1idihhLCJvcGFjaXR5Iiwib3BhY2l0eSIpO3JldHVybiBjPT09IiI/IjEiOmN9cmV0dXJuIGEuc3R5bGUub3BhY2l0eX19fSxjc3NOdW1iZXI6e2ZpbGxPcGFjaXR5OiEwLGZvbnRXZWlnaHQ6ITAsbGluZUhlaWdodDohMCxvcGFjaXR5OiEwLG9ycGhhbnM6ITAsd2lkb3dzOiEwLHpJbmRleDohMCx6b29tOiEwfSxjc3NQcm9wczp7ImZsb2F0IjpmLnN1cHBvcnQuY3NzRmxvYXQ/ImNzc0Zsb2F0Ijoic3R5bGVGbG9hdCJ9LHN0eWxlOmZ1bmN0aW9uKGEsYyxkLGUpe2lmKCEhYSYmYS5ub2RlVHlwZSE9PTMmJmEubm9kZVR5cGUhPT04JiYhIWEuc3R5bGUpe3ZhciBnLGgsaT1mLmNhbWVsQ2FzZShjKSxqPWEuc3R5bGUsaz1mLmNzc0hvb2tzW2ldO2M9Zi5jc3NQcm9wc1tpXXx8aTtpZihkPT09Yil7aWYoayYmImdldCJpbiBrJiYoZz1rLmdldChhLCExLGUpKSE9PWIpcmV0dXJuIGc7cmV0dXJuIGpbY119aD10eXBlb2YgZCxoPT09InN0cmluZyImJihnPWJyLmV4ZWMoZCkpJiYoZD0rKGdbMV0rMSkqK2dbMl0rcGFyc2VGbG9hdChmLmNzcyhhLGMpKSxoPSJudW1iZXIiKTtpZihkPT1udWxsfHxoPT09Im51bWJlciImJmlzTmFOKGQpKXJldHVybjtoPT09Im51bWJlciImJiFmLmNzc051bWJlcltpXSYmKGQrPSJweCIpO2lmKCFrfHwhKCJzZXQiaW4gayl8fChkPWsuc2V0KGEsZCkpIT09Yil0cnl7altjXT1kfWNhdGNoKGwpe319fSxjc3M6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlLGc7Yz1mLmNhbWVsQ2FzZShjKSxnPWYuY3NzSG9va3NbY10sYz1mLmNzc1Byb3BzW2NdfHxjLGM9PT0iY3NzRmxvYXQiJiYoYz0iZmxvYXQiKTtpZihnJiYiZ2V0ImluIGcmJihlPWcuZ2V0KGEsITAsZCkpIT09YilyZXR1cm4gZTtpZihidilyZXR1cm4gYnYoYSxjKX0sc3dhcDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9e307Zm9yKHZhciBlIGluIGIpZFtlXT1hLnN0eWxlW2VdLGEuc3R5bGVbZV09YltlXTtjLmNhbGwoYSk7Zm9yKGUgaW4gYilhLnN0eWxlW2VdPWRbZV19fSksZi5jdXJDU1M9Zi5jc3MsZi5lYWNoKFsiaGVpZ2h0Iiwid2lkdGgiXSxmdW5jdGlvbihhLGIpe2YuY3NzSG9va3NbYl09e2dldDpmdW5jdGlvbihhLGMsZCl7dmFyIGU7aWYoYyl7aWYoYS5vZmZzZXRXaWR0aCE9PTApcmV0dXJuIGJ5KGEsYixkKTtmLnN3YXAoYSxicyxmdW5jdGlvbigpe2U9YnkoYSxiLGQpfSk7cmV0dXJuIGV9fSxzZXQ6ZnVuY3Rpb24oYSxiKXtpZighYnAudGVzdChiKSlyZXR1cm4gYjtiPXBhcnNlRmxvYXQoYik7aWYoYj49MClyZXR1cm4gYisicHgifX19KSxmLnN1cHBvcnQub3BhY2l0eXx8KGYuY3NzSG9va3Mub3BhY2l0eT17Z2V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGJuLnRlc3QoKGImJmEuY3VycmVudFN0eWxlP2EuY3VycmVudFN0eWxlLmZpbHRlcjphLnN0eWxlLmZpbHRlcil8fCIiKT9wYXJzZUZsb2F0KFJlZ0V4cC4kMSkvMTAwKyIiOmI/IjEiOiIifSxzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnN0eWxlLGQ9YS5jdXJyZW50U3R5bGUsZT1mLmlzTmFOKGIpPyIiOiJhbHBoYShvcGFjaXR5PSIrYioxMDArIikiLGc9ZCYmZC5maWx0ZXJ8fGMuZmlsdGVyfHwiIjtjLnpvb209MTtpZihiPj0xJiZmLnRyaW0oZy5yZXBsYWNlKGJtLCIiKSk9PT0iIil7Yy5yZW1vdmVBdHRyaWJ1dGUoImZpbHRlciIpO2lmKGQmJiFkLmZpbHRlcilyZXR1cm59Yy5maWx0ZXI9Ym0udGVzdChnKT9nLnJlcGxhY2UoYm0sZSk6ZysiICIrZX19KSxmKGZ1bmN0aW9uKCl7Zi5zdXBwb3J0LnJlbGlhYmxlTWFyZ2luUmlnaHR8fChmLmNzc0hvb2tzLm1hcmdpblJpZ2h0PXtnZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYztmLnN3YXAoYSx7ZGlzcGxheToiaW5saW5lLWJsb2NrIn0sZnVuY3Rpb24oKXtiP2M9YnYoYSwibWFyZ2luLXJpZ2h0IiwibWFyZ2luUmlnaHQiKTpjPWEuc3R5bGUubWFyZ2luUmlnaHR9KTtyZXR1cm4gY319KX0pLGMuZGVmYXVsdFZpZXcmJmMuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSYmKGJ3PWZ1bmN0aW9uKGEsYyl7dmFyIGQsZSxnO2M9Yy5yZXBsYWNlKGJvLCItJDEiKS50b0xvd2VyQ2FzZSgpO2lmKCEoZT1hLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpKXJldHVybiBiO2lmKGc9ZS5nZXRDb21wdXRlZFN0eWxlKGEsbnVsbCkpZD1nLmdldFByb3BlcnR5VmFsdWUoYyksZD09PSIiJiYhZi5jb250YWlucyhhLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LGEpJiYoZD1mLnN0eWxlKGEsYykpO3JldHVybiBkfSksYy5kb2N1bWVudEVsZW1lbnQuY3VycmVudFN0eWxlJiYoYng9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPWEuY3VycmVudFN0eWxlJiZhLmN1cnJlbnRTdHlsZVtiXSxlPWEucnVudGltZVN0eWxlJiZhLnJ1bnRpbWVTdHlsZVtiXSxmPWEuc3R5bGU7IWJwLnRlc3QoZCkmJmJxLnRlc3QoZCkmJihjPWYubGVmdCxlJiYoYS5ydW50aW1lU3R5bGUubGVmdD1hLmN1cnJlbnRTdHlsZS5sZWZ0KSxmLmxlZnQ9Yj09PSJmb250U2l6ZSI/IjFlbSI6ZHx8MCxkPWYucGl4ZWxMZWZ0KyJweCIsZi5sZWZ0PWMsZSYmKGEucnVudGltZVN0eWxlLmxlZnQ9ZSkpO3JldHVybiBkPT09IiI/ImF1dG8iOmR9KSxidj1id3x8YngsZi5leHByJiZmLmV4cHIuZmlsdGVycyYmKGYuZXhwci5maWx0ZXJzLmhpZGRlbj1mdW5jdGlvbihhKXt2YXIgYj1hLm9mZnNldFdpZHRoLGM9YS5vZmZzZXRIZWlnaHQ7cmV0dXJuIGI9PT0wJiZjPT09MHx8IWYuc3VwcG9ydC5yZWxpYWJsZUhpZGRlbk9mZnNldHMmJihhLnN0eWxlLmRpc3BsYXl8fGYuY3NzKGEsImRpc3BsYXkiKSk9PT0ibm9uZSJ9LGYuZXhwci5maWx0ZXJzLnZpc2libGU9ZnVuY3Rpb24oYSl7cmV0dXJuIWYuZXhwci5maWx0ZXJzLmhpZGRlbihhKX0pO3ZhciBiej0vJTIwL2csYkE9L1xbXF0kLyxiQj0vXHI/XG4vZyxiQz0vIy4qJC8sYkQ9L14oLio/KTpbIFx0XSooW15cclxuXSopXHI/JC9tZyxiRT0vXig/OmNvbG9yfGRhdGV8ZGF0ZXRpbWV8ZGF0ZXRpbWUtbG9jYWx8ZW1haWx8aGlkZGVufG1vbnRofG51bWJlcnxwYXNzd29yZHxyYW5nZXxzZWFyY2h8dGVsfHRleHR8dGltZXx1cmx8d2VlaykkL2ksYkY9L14oPzphYm91dHxhcHB8YXBwXC1zdG9yYWdlfC4rXC1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyxiRz0vXig/OkdFVHxIRUFEKSQvLGJIPS9eXC9cLy8sYkk9L1w/LyxiSj0vPHNjcmlwdFxiW148XSooPzooPyE8XC9zY3JpcHQ+KTxbXjxdKikqPFwvc2NyaXB0Pi9naSxiSz0vXig/OnNlbGVjdHx0ZXh0YXJlYSkvaSxiTD0vXHMrLyxiTT0vKFs/Jl0pXz1bXiZdKi8sYk49L14oW1x3XCtcLlwtXSs6KSg/OlwvXC8oW15cLz8jOl0qKSg/OjooXGQrKSk/KT8vLGJPPWYuZm4ubG9hZCxiUD17fSxiUT17fSxiUixiUyxiVD1bIiovIl0rWyIqIl07dHJ5e2JSPWUuaHJlZn1jYXRjaChiVSl7YlI9Yy5jcmVhdGVFbGVtZW50KCJhIiksYlIuaHJlZj0iIixiUj1iUi5ocmVmfWJTPWJOLmV4ZWMoYlIudG9Mb3dlckNhc2UoKSl8fFtdLGYuZm4uZXh0ZW5kKHtsb2FkOmZ1bmN0aW9uKGEsYyxkKXtpZih0eXBlb2YgYSE9InN0cmluZyImJmJPKXJldHVybiBiTy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoIXRoaXMubGVuZ3RoKXJldHVybiB0aGlzO3ZhciBlPWEuaW5kZXhPZigiICIpO2lmKGU+PTApe3ZhciBnPWEuc2xpY2UoZSxhLmxlbmd0aCk7YT1hLnNsaWNlKDAsZSl9dmFyIGg9IkdFVCI7YyYmKGYuaXNGdW5jdGlvbihjKT8oZD1jLGM9Yik6dHlwZW9mIGM9PSJvYmplY3QiJiYoYz1mLnBhcmFtKGMsZi5hamF4U2V0dGluZ3MudHJhZGl0aW9uYWwpLGg9IlBPU1QiKSk7dmFyIGk9dGhpcztmLmFqYXgoe3VybDphLHR5cGU6aCxkYXRhVHlwZToiaHRtbCIsZGF0YTpjLGNvbXBsZXRlOmZ1bmN0aW9uKGEsYixjKXtjPWEucmVzcG9uc2VUZXh0LGEuaXNSZXNvbHZlZCgpJiYoYS5kb25lKGZ1bmN0aW9uKGEpe2M9YX0pLGkuaHRtbChnP2YoIjxkaXY+IikuYXBwZW5kKGMucmVwbGFjZShiSiwiIikpLmZpbmQoZyk6YykpLGQmJmkuZWFjaChkLFtjLGIsYV0pfX0pO3JldHVybiB0aGlzfSxzZXJpYWxpemU6ZnVuY3Rpb24oKXtyZXR1cm4gZi5wYXJhbSh0aGlzLnNlcmlhbGl6ZUFycmF5KCkpfSxzZXJpYWxpemVBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnRzP2YubWFrZUFycmF5KHRoaXMuZWxlbWVudHMpOnRoaXN9KS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lJiYhdGhpcy5kaXNhYmxlZCYmKHRoaXMuY2hlY2tlZHx8YksudGVzdCh0aGlzLm5vZGVOYW1lKXx8YkUudGVzdCh0aGlzLnR5cGUpKX0pLm1hcChmdW5jdGlvbihhLGIpe3ZhciBjPWYodGhpcykudmFsKCk7cmV0dXJuIGM9PW51bGw/bnVsbDpmLmlzQXJyYXkoYyk/Zi5tYXAoYyxmdW5jdGlvbihhLGMpe3JldHVybntuYW1lOmIubmFtZSx2YWx1ZTphLnJlcGxhY2UoYkIsIlxyXG4iKX19KTp7bmFtZTpiLm5hbWUsdmFsdWU6Yy5yZXBsYWNlKGJCLCJcclxuIil9fSkuZ2V0KCl9fSksZi5lYWNoKCJhamF4U3RhcnQgYWpheFN0b3AgYWpheENvbXBsZXRlIGFqYXhFcnJvciBhamF4U3VjY2VzcyBhamF4U2VuZCIuc3BsaXQoIiAiKSxmdW5jdGlvbihhLGIpe2YuZm5bYl09ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYmluZChiLGEpfX0pLGYuZWFjaChbImdldCIsInBvc3QiXSxmdW5jdGlvbihhLGMpe2ZbY109ZnVuY3Rpb24oYSxkLGUsZyl7Zi5pc0Z1bmN0aW9uKGQpJiYoZz1nfHxlLGU9ZCxkPWIpO3JldHVybiBmLmFqYXgoe3R5cGU6Yyx1cmw6YSxkYXRhOmQsc3VjY2VzczplLGRhdGFUeXBlOmd9KX19KSxmLmV4dGVuZCh7Z2V0U2NyaXB0OmZ1bmN0aW9uKGEsYyl7cmV0dXJuIGYuZ2V0KGEsYixjLCJzY3JpcHQiKX0sZ2V0SlNPTjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGYuZ2V0KGEsYixjLCJqc29uIil9LGFqYXhTZXR1cDpmdW5jdGlvbihhLGIpe2I/YlgoYSxmLmFqYXhTZXR0aW5ncyk6KGI9YSxhPWYuYWpheFNldHRpbmdzKSxiWChhLGIpO3JldHVybiBhfSxhamF4U2V0dGluZ3M6e3VybDpiUixpc0xvY2FsOmJGLnRlc3QoYlNbMV0pLGdsb2JhbDohMCx0eXBlOiJHRVQiLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGFjY2VwdHM6e3htbDoiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsaHRtbDoidGV4dC9odG1sIix0ZXh0OiJ0ZXh0L3BsYWluIixqc29uOiJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHQiLCIqIjpiVH0sY29udGVudHM6e3htbDoveG1sLyxodG1sOi9odG1sLyxqc29uOi9qc29uL30scmVzcG9uc2VGaWVsZHM6e3htbDoicmVzcG9uc2VYTUwiLHRleHQ6InJlc3BvbnNlVGV4dCJ9LGNvbnZlcnRlcnM6eyIqIHRleHQiOmEuU3RyaW5nLCJ0ZXh0IGh0bWwiOiEwLCJ0ZXh0IGpzb24iOmYucGFyc2VKU09OLCJ0ZXh0IHhtbCI6Zi5wYXJzZVhNTH0sZmxhdE9wdGlvbnM6e2NvbnRleHQ6ITAsdXJsOiEwfX0sYWpheFByZWZpbHRlcjpiVihiUCksYWpheFRyYW5zcG9ydDpiVihiUSksYWpheDpmdW5jdGlvbihhLGMpe2Z1bmN0aW9uIHcoYSxjLGwsbSl7aWYocyE9PTIpe3M9MixxJiZjbGVhclRpbWVvdXQocSkscD1iLG49bXx8IiIsdi5yZWFkeVN0YXRlPWE+MD80OjA7dmFyIG8scix1LHc9Yyx4PWw/YlooZCx2LGwpOmIseSx6O2lmKGE+PTIwMCYmYTwzMDB8fGE9PT0zMDQpe2lmKGQuaWZNb2RpZmllZCl7aWYoeT12LmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIikpZi5sYXN0TW9kaWZpZWRba109eTtpZih6PXYuZ2V0UmVzcG9uc2VIZWFkZXIoIkV0YWciKSlmLmV0YWdba109en1pZihhPT09MzA0KXc9Im5vdG1vZGlmaWVkIixvPSEwO2Vsc2UgdHJ5e3I9YiQoZCx4KSx3PSJzdWNjZXNzIixvPSEwfWNhdGNoKEEpe3c9InBhcnNlcmVycm9yIix1PUF9fWVsc2V7dT13O2lmKCF3fHxhKXc9ImVycm9yIixhPDAmJihhPTApfXYuc3RhdHVzPWEsdi5zdGF0dXNUZXh0PSIiKyhjfHx3KSxvP2gucmVzb2x2ZVdpdGgoZSxbcix3LHZdKTpoLnJlamVjdFdpdGgoZSxbdix3LHVdKSx2LnN0YXR1c0NvZGUoaiksaj1iLHQmJmcudHJpZ2dlcigiYWpheCIrKG8/IlN1Y2Nlc3MiOiJFcnJvciIpLFt2LGQsbz9yOnVdKSxpLnJlc29sdmVXaXRoKGUsW3Ysd10pLHQmJihnLnRyaWdnZXIoImFqYXhDb21wbGV0ZSIsW3YsZF0pLC0tZi5hY3RpdmV8fGYuZXZlbnQudHJpZ2dlcigiYWpheFN0b3AiKSl9fXR5cGVvZiBhPT0ib2JqZWN0IiYmKGM9YSxhPWIpLGM9Y3x8e307dmFyIGQ9Zi5hamF4U2V0dXAoe30sYyksZT1kLmNvbnRleHR8fGQsZz1lIT09ZCYmKGUubm9kZVR5cGV8fGUgaW5zdGFuY2VvZiBmKT9mKGUpOmYuZXZlbnQsaD1mLkRlZmVycmVkKCksaT1mLl9EZWZlcnJlZCgpLGo9ZC5zdGF0dXNDb2RlfHx7fSxrLGw9e30sbT17fSxuLG8scCxxLHIscz0wLHQsdSx2PXtyZWFkeVN0YXRlOjAsc2V0UmVxdWVzdEhlYWRlcjpmdW5jdGlvbihhLGIpe2lmKCFzKXt2YXIgYz1hLnRvTG93ZXJDYXNlKCk7YT1tW2NdPW1bY118fGEsbFthXT1ifXJldHVybiB0aGlzfSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gcz09PTI/bjpudWxsfSxnZXRSZXNwb25zZUhlYWRlcjpmdW5jdGlvbihhKXt2YXIgYztpZihzPT09Mil7aWYoIW8pe289e307d2hpbGUoYz1iRC5leGVjKG4pKW9bY1sxXS50b0xvd2VyQ2FzZSgpXT1jWzJdfWM9b1thLnRvTG93ZXJDYXNlKCldfXJldHVybiBjPT09Yj9udWxsOmN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24oYSl7c3x8KGQubWltZVR5cGU9YSk7cmV0dXJuIHRoaXN9LGFib3J0OmZ1bmN0aW9uKGEpe2E9YXx8ImFib3J0IixwJiZwLmFib3J0KGEpLHcoMCxhKTtyZXR1cm4gdGhpc319O2gucHJvbWlzZSh2KSx2LnN1Y2Nlc3M9di5kb25lLHYuZXJyb3I9di5mYWlsLHYuY29tcGxldGU9aS5kb25lLHYuc3RhdHVzQ29kZT1mdW5jdGlvbihhKXtpZihhKXt2YXIgYjtpZihzPDIpZm9yKGIgaW4gYSlqW2JdPVtqW2JdLGFbYl1dO2Vsc2UgYj1hW3Yuc3RhdHVzXSx2LnRoZW4oYixiKX1yZXR1cm4gdGhpc30sZC51cmw9KChhfHxkLnVybCkrIiIpLnJlcGxhY2UoYkMsIiIpLnJlcGxhY2UoYkgsYlNbMV0rIi8vIiksZC5kYXRhVHlwZXM9Zi50cmltKGQuZGF0YVR5cGV8fCIqIikudG9Mb3dlckNhc2UoKS5zcGxpdChiTCksZC5jcm9zc0RvbWFpbj09bnVsbCYmKHI9Yk4uZXhlYyhkLnVybC50b0xvd2VyQ2FzZSgpKSxkLmNyb3NzRG9tYWluPSEoIXJ8fHJbMV09PWJTWzFdJiZyWzJdPT1iU1syXSYmKHJbM118fChyWzFdPT09Imh0dHA6Ij84MDo0NDMpKT09KGJTWzNdfHwoYlNbMV09PT0iaHR0cDoiPzgwOjQ0MykpKSksZC5kYXRhJiZkLnByb2Nlc3NEYXRhJiZ0eXBlb2YgZC5kYXRhIT0ic3RyaW5nIiYmKGQuZGF0YT1mLnBhcmFtKGQuZGF0YSxkLnRyYWRpdGlvbmFsKSksYlcoYlAsZCxjLHYpO2lmKHM9PT0yKXJldHVybiExO3Q9ZC5nbG9iYWwsZC50eXBlPWQudHlwZS50b1VwcGVyQ2FzZSgpLGQuaGFzQ29udGVudD0hYkcudGVzdChkLnR5cGUpLHQmJmYuYWN0aXZlKys9PT0wJiZmLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpO2lmKCFkLmhhc0NvbnRlbnQpe2QuZGF0YSYmKGQudXJsKz0oYkkudGVzdChkLnVybCk/IiYiOiI/IikrZC5kYXRhLGRlbGV0ZSBkLmRhdGEpLGs9ZC51cmw7aWYoZC5jYWNoZT09PSExKXt2YXIgeD1mLm5vdygpLHk9ZC51cmwucmVwbGFjZShiTSwiJDFfPSIreCk7ZC51cmw9eSsoeT09PWQudXJsPyhiSS50ZXN0KGQudXJsKT8iJiI6Ij8iKSsiXz0iK3g6IiIpfX0oZC5kYXRhJiZkLmhhc0NvbnRlbnQmJmQuY29udGVudFR5cGUhPT0hMXx8Yy5jb250ZW50VHlwZSkmJnYuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIixkLmNvbnRlbnRUeXBlKSxkLmlmTW9kaWZpZWQmJihrPWt8fGQudXJsLGYubGFzdE1vZGlmaWVkW2tdJiZ2LnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIixmLmxhc3RNb2RpZmllZFtrXSksZi5ldGFnW2tdJiZ2LnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLGYuZXRhZ1trXSkpLHYuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0IixkLmRhdGFUeXBlc1swXSYmZC5hY2NlcHRzW2QuZGF0YVR5cGVzWzBdXT9kLmFjY2VwdHNbZC5kYXRhVHlwZXNbMF1dKyhkLmRhdGFUeXBlc1swXSE9PSIqIj8iLCAiK2JUKyI7IHE9MC4wMSI6IiIpOmQuYWNjZXB0c1siKiJdKTtmb3IodSBpbiBkLmhlYWRlcnMpdi5zZXRSZXF1ZXN0SGVhZGVyKHUsZC5oZWFkZXJzW3VdKTtpZihkLmJlZm9yZVNlbmQmJihkLmJlZm9yZVNlbmQuY2FsbChlLHYsZCk9PT0hMXx8cz09PTIpKXt2LmFib3J0KCk7cmV0dXJuITF9Zm9yKHUgaW57c3VjY2VzczoxLGVycm9yOjEsY29tcGxldGU6MX0pdlt1XShkW3VdKTtwPWJXKGJRLGQsYyx2KTtpZighcCl3KC0xLCJObyBUcmFuc3BvcnQiKTtlbHNle3YucmVhZHlTdGF0ZT0xLHQmJmcudHJpZ2dlcigiYWpheFNlbmQiLFt2LGRdKSxkLmFzeW5jJiZkLnRpbWVvdXQ+MCYmKHE9c2V0VGltZW91dChmdW5jdGlvbigpe3YuYWJvcnQoInRpbWVvdXQiKX0sZC50aW1lb3V0KSk7dHJ5e3M9MSxwLnNlbmQobCx3KX1jYXRjaCh6KXtzPDI/dygtMSx6KTpmLmVycm9yKHopfX1yZXR1cm4gdn0scGFyYW06ZnVuY3Rpb24oYSxjKXt2YXIgZD1bXSxlPWZ1bmN0aW9uKGEsYil7Yj1mLmlzRnVuY3Rpb24oYik/YigpOmIsZFtkLmxlbmd0aF09ZW5jb2RlVVJJQ29tcG9uZW50KGEpKyI9IitlbmNvZGVVUklDb21wb25lbnQoYil9O2M9PT1iJiYoYz1mLmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbCk7aWYoZi5pc0FycmF5KGEpfHxhLmpxdWVyeSYmIWYuaXNQbGFpbk9iamVjdChhKSlmLmVhY2goYSxmdW5jdGlvbigpe2UodGhpcy5uYW1lLHRoaXMudmFsdWUpfSk7ZWxzZSBmb3IodmFyIGcgaW4gYSliWShnLGFbZ10sYyxlKTtyZXR1cm4gZC5qb2luKCImIikucmVwbGFjZShieiwiKyIpfX0pLGYuZXh0ZW5kKHthY3RpdmU6MCxsYXN0TW9kaWZpZWQ6e30sZXRhZzp7fX0pO3ZhciBiXz1mLm5vdygpLGNhPS8oXD0pXD8oJnwkKXxcP1w/L2k7Zi5hamF4U2V0dXAoe2pzb25wOiJjYWxsYmFjayIsanNvbnBDYWxsYmFjazpmdW5jdGlvbigpe3JldHVybiBmLmV4cGFuZG8rIl8iK2JfKyt9fSksZi5hamF4UHJlZmlsdGVyKCJqc29uIGpzb25wIixmdW5jdGlvbihiLGMsZCl7dmFyIGU9Yi5jb250ZW50VHlwZT09PSJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiJiZ0eXBlb2YgYi5kYXRhPT0ic3RyaW5nIjtpZihiLmRhdGFUeXBlc1swXT09PSJqc29ucCJ8fGIuanNvbnAhPT0hMSYmKGNhLnRlc3QoYi51cmwpfHxlJiZjYS50ZXN0KGIuZGF0YSkpKXt2YXIgZyxoPWIuanNvbnBDYWxsYmFjaz1mLmlzRnVuY3Rpb24oYi5qc29ucENhbGxiYWNrKT9iLmpzb25wQ2FsbGJhY2soKTpiLmpzb25wQ2FsbGJhY2ssaT1hW2hdLGo9Yi51cmwsaz1iLmRhdGEsbD0iJDEiK2grIiQyIjtiLmpzb25wIT09ITEmJihqPWoucmVwbGFjZShjYSxsKSxiLnVybD09PWomJihlJiYoaz1rLnJlcGxhY2UoY2EsbCkpLGIuZGF0YT09PWsmJihqKz0oL1w/Ly50ZXN0KGopPyImIjoiPyIpK2IuanNvbnArIj0iK2gpKSksYi51cmw9aixiLmRhdGE9ayxhW2hdPWZ1bmN0aW9uKGEpe2c9W2FdfSxkLmFsd2F5cyhmdW5jdGlvbigpe2FbaF09aSxnJiZmLmlzRnVuY3Rpb24oaSkmJmFbaF0oZ1swXSl9KSxiLmNvbnZlcnRlcnNbInNjcmlwdCBqc29uIl09ZnVuY3Rpb24oKXtnfHxmLmVycm9yKGgrIiB3YXMgbm90IGNhbGxlZCIpO3JldHVybiBnWzBdfSxiLmRhdGFUeXBlc1swXT0ianNvbiI7cmV0dXJuInNjcmlwdCJ9fSksZi5hamF4U2V0dXAoe2FjY2VwdHM6e3NjcmlwdDoidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHQifSxjb250ZW50czp7c2NyaXB0Oi9qYXZhc2NyaXB0fGVjbWFzY3JpcHQvfSxjb252ZXJ0ZXJzOnsidGV4dCBzY3JpcHQiOmZ1bmN0aW9uKGEpe2YuZ2xvYmFsRXZhbChhKTtyZXR1cm4gYX19fSksZi5hamF4UHJlZmlsdGVyKCJzY3JpcHQiLGZ1bmN0aW9uKGEpe2EuY2FjaGU9PT1iJiYoYS5jYWNoZT0hMSksYS5jcm9zc0RvbWFpbiYmKGEudHlwZT0iR0VUIixhLmdsb2JhbD0hMSl9KSxmLmFqYXhUcmFuc3BvcnQoInNjcmlwdCIsZnVuY3Rpb24oYSl7aWYoYS5jcm9zc0RvbWFpbil7dmFyIGQsZT1jLmhlYWR8fGMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXXx8Yy5kb2N1bWVudEVsZW1lbnQ7cmV0dXJue3NlbmQ6ZnVuY3Rpb24oZixnKXtkPWMuY3JlYXRlRWxlbWVudCgic2NyaXB0IiksZC5hc3luYz0iYXN5bmMiLGEuc2NyaXB0Q2hhcnNldCYmKGQuY2hhcnNldD1hLnNjcmlwdENoYXJzZXQpLGQuc3JjPWEudXJsLGQub25sb2FkPWQub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKGEsYyl7aWYoY3x8IWQucmVhZHlTdGF0ZXx8L2xvYWRlZHxjb21wbGV0ZS8udGVzdChkLnJlYWR5U3RhdGUpKWQub25sb2FkPWQub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsZSYmZC5wYXJlbnROb2RlJiZlLnJlbW92ZUNoaWxkKGQpLGQ9YixjfHxnKDIwMCwic3VjY2VzcyIpfSxlLmluc2VydEJlZm9yZShkLGUuZmlyc3RDaGlsZCl9LGFib3J0OmZ1bmN0aW9uKCl7ZCYmZC5vbmxvYWQoMCwxKX19fX0pO3ZhciBjYj1hLkFjdGl2ZVhPYmplY3Q/ZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gY2QpY2RbYV0oMCwxKX06ITEsY2M9MCxjZDtmLmFqYXhTZXR0aW5ncy54aHI9YS5BY3RpdmVYT2JqZWN0P2Z1bmN0aW9uKCl7cmV0dXJuIXRoaXMuaXNMb2NhbCYmY2UoKXx8Y2YoKX06Y2UsZnVuY3Rpb24oYSl7Zi5leHRlbmQoZi5zdXBwb3J0LHthamF4OiEhYSxjb3JzOiEhYSYmIndpdGhDcmVkZW50aWFscyJpbiBhfSl9KGYuYWpheFNldHRpbmdzLnhocigpKSxmLnN1cHBvcnQuYWpheCYmZi5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGMpe2lmKCFjLmNyb3NzRG9tYWlufHxmLnN1cHBvcnQuY29ycyl7dmFyIGQ7cmV0dXJue3NlbmQ6ZnVuY3Rpb24oZSxnKXt2YXIgaD1jLnhocigpLGksajtjLnVzZXJuYW1lP2gub3BlbihjLnR5cGUsYy51cmwsYy5hc3luYyxjLnVzZXJuYW1lLGMucGFzc3dvcmQpOmgub3BlbihjLnR5cGUsYy51cmwsYy5hc3luYyk7aWYoYy54aHJGaWVsZHMpZm9yKGogaW4gYy54aHJGaWVsZHMpaFtqXT1jLnhockZpZWxkc1tqXTtjLm1pbWVUeXBlJiZoLm92ZXJyaWRlTWltZVR5cGUmJmgub3ZlcnJpZGVNaW1lVHlwZShjLm1pbWVUeXBlKSwhYy5jcm9zc0RvbWFpbiYmIWVbIlgtUmVxdWVzdGVkLVdpdGgiXSYmKGVbIlgtUmVxdWVzdGVkLVdpdGgiXT0iWE1MSHR0cFJlcXVlc3QiKTt0cnl7Zm9yKGogaW4gZSloLnNldFJlcXVlc3RIZWFkZXIoaixlW2pdKX1jYXRjaChrKXt9aC5zZW5kKGMuaGFzQ29udGVudCYmYy5kYXRhfHxudWxsKSxkPWZ1bmN0aW9uKGEsZSl7dmFyIGosayxsLG0sbjt0cnl7aWYoZCYmKGV8fGgucmVhZHlTdGF0ZT09PTQpKXtkPWIsaSYmKGgub25yZWFkeXN0YXRlY2hhbmdlPWYubm9vcCxjYiYmZGVsZXRlIGNkW2ldKTtpZihlKWgucmVhZHlTdGF0ZSE9PTQmJmguYWJvcnQoKTtlbHNle2o9aC5zdGF0dXMsbD1oLmdldEFsbFJlc3BvbnNlSGVhZGVycygpLG09e30sbj1oLnJlc3BvbnNlWE1MLG4mJm4uZG9jdW1lbnRFbGVtZW50JiYobS54bWw9biksbS50ZXh0PWgucmVzcG9uc2VUZXh0O3RyeXtrPWguc3RhdHVzVGV4dH1jYXRjaChvKXtrPSIifSFqJiZjLmlzTG9jYWwmJiFjLmNyb3NzRG9tYWluP2o9bS50ZXh0PzIwMDo0MDQ6aj09PTEyMjMmJihqPTIwNCl9fX1jYXRjaChwKXtlfHxnKC0xLHApfW0mJmcoaixrLG0sbCl9LCFjLmFzeW5jfHxoLnJlYWR5U3RhdGU9PT00P2QoKTooaT0rK2NjLGNiJiYoY2R8fChjZD17fSxmKGEpLnVubG9hZChjYikpLGNkW2ldPWQpLGgub25yZWFkeXN0YXRlY2hhbmdlPWQpfSxhYm9ydDpmdW5jdGlvbigpe2QmJmQoMCwxKX19fX0pO3ZhciBjZz17fSxjaCxjaSxjaj0vXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sY2s9L14oWytcLV09KT8oW1xkKy5cLV0rKShbYS16JV0qKSQvaSxjbCxjbT1bWyJoZWlnaHQiLCJtYXJnaW5Ub3AiLCJtYXJnaW5Cb3R0b20iLCJwYWRkaW5nVG9wIiwicGFkZGluZ0JvdHRvbSJdLFsid2lkdGgiLCJtYXJnaW5MZWZ0IiwibWFyZ2luUmlnaHQiLCJwYWRkaW5nTGVmdCIsInBhZGRpbmdSaWdodCJdLFsib3BhY2l0eSJdXSxjbjtmLmZuLmV4dGVuZCh7c2hvdzpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZTtpZihhfHxhPT09MClyZXR1cm4gdGhpcy5hbmltYXRlKGNxKCJzaG93IiwzKSxhLGIsYyk7Zm9yKHZhciBnPTAsaD10aGlzLmxlbmd0aDtnPGg7ZysrKWQ9dGhpc1tnXSxkLnN0eWxlJiYoZT1kLnN0eWxlLmRpc3BsYXksIWYuX2RhdGEoZCwib2xkZGlzcGxheSIpJiZlPT09Im5vbmUiJiYoZT1kLnN0eWxlLmRpc3BsYXk9IiIpLGU9PT0iIiYmZi5jc3MoZCwiZGlzcGxheSIpPT09Im5vbmUiJiZmLl9kYXRhKGQsIm9sZGRpc3BsYXkiLGNyKGQubm9kZU5hbWUpKSk7Zm9yKGc9MDtnPGg7ZysrKXtkPXRoaXNbZ107aWYoZC5zdHlsZSl7ZT1kLnN0eWxlLmRpc3BsYXk7aWYoZT09PSIifHxlPT09Im5vbmUiKWQuc3R5bGUuZGlzcGxheT1mLl9kYXRhKGQsIm9sZGRpc3BsYXkiKXx8IiJ9fXJldHVybiB0aGlzfSxoaWRlOmZ1bmN0aW9uKGEsYixjKXtpZihhfHxhPT09MClyZXR1cm4gdGhpcy5hbmltYXRlKGNxKCJoaWRlIiwzKSxhLGIsYyk7Zm9yKHZhciBkPTAsZT10aGlzLmxlbmd0aDtkPGU7ZCsrKWlmKHRoaXNbZF0uc3R5bGUpe3ZhciBnPWYuY3NzKHRoaXNbZF0sImRpc3BsYXkiKTtnIT09Im5vbmUiJiYhZi5fZGF0YSh0aGlzW2RdLCJvbGRkaXNwbGF5IikmJmYuX2RhdGEodGhpc1tkXSwib2xkZGlzcGxheSIsZyl9Zm9yKGQ9MDtkPGU7ZCsrKXRoaXNbZF0uc3R5bGUmJih0aGlzW2RdLnN0eWxlLmRpc3BsYXk9Im5vbmUiKTtyZXR1cm4gdGhpc30sX3RvZ2dsZTpmLmZuLnRvZ2dsZSx0b2dnbGU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXR5cGVvZiBhPT0iYm9vbGVhbiI7Zi5pc0Z1bmN0aW9uKGEpJiZmLmlzRnVuY3Rpb24oYik/dGhpcy5fdG9nZ2xlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTphPT1udWxsfHxkP3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWQ/YTpmKHRoaXMpLmlzKCI6aGlkZGVuIik7Zih0aGlzKVtiPyJzaG93IjoiaGlkZSJdKCl9KTp0aGlzLmFuaW1hdGUoY3EoInRvZ2dsZSIsMyksYSxiLGMpO3JldHVybiB0aGlzfSxmYWRlVG86ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMuZmlsdGVyKCI6aGlkZGVuIikuY3NzKCJvcGFjaXR5IiwwKS5zaG93KCkuZW5kKCkuYW5pbWF0ZSh7b3BhY2l0eTpifSxhLGMsZCl9LGFuaW1hdGU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9Zi5zcGVlZChiLGMsZCk7aWYoZi5pc0VtcHR5T2JqZWN0KGEpKXJldHVybiB0aGlzLmVhY2goZS5jb21wbGV0ZSxbITFdKTthPWYuZXh0ZW5kKHt9LGEpO3JldHVybiB0aGlzW2UucXVldWU9PT0hMT8iZWFjaCI6InF1ZXVlIl0oZnVuY3Rpb24oKXtlLnF1ZXVlPT09ITEmJmYuX21hcmsodGhpcyk7dmFyIGI9Zi5leHRlbmQoe30sZSksYz10aGlzLm5vZGVUeXBlPT09MSxkPWMmJmYodGhpcykuaXMoIjpoaWRkZW4iKSxnLGgsaSxqLGssbCxtLG4sbztiLmFuaW1hdGVkUHJvcGVydGllcz17fTtmb3IoaSBpbiBhKXtnPWYuY2FtZWxDYXNlKGkpLGkhPT1nJiYoYVtnXT1hW2ldLGRlbGV0ZSBhW2ldKSxoPWFbZ10sZi5pc0FycmF5KGgpPyhiLmFuaW1hdGVkUHJvcGVydGllc1tnXT1oWzFdLGg9YVtnXT1oWzBdKTpiLmFuaW1hdGVkUHJvcGVydGllc1tnXT1iLnNwZWNpYWxFYXNpbmcmJmIuc3BlY2lhbEVhc2luZ1tnXXx8Yi5lYXNpbmd8fCJzd2luZyI7aWYoaD09PSJoaWRlIiYmZHx8aD09PSJzaG93IiYmIWQpcmV0dXJuIGIuY29tcGxldGUuY2FsbCh0aGlzKTtjJiYoZz09PSJoZWlnaHQifHxnPT09IndpZHRoIikmJihiLm92ZXJmbG93PVt0aGlzLnN0eWxlLm92ZXJmbG93LHRoaXMuc3R5bGUub3ZlcmZsb3dYLHRoaXMuc3R5bGUub3ZlcmZsb3dZXSxmLmNzcyh0aGlzLCJkaXNwbGF5Iik9PT0iaW5saW5lIiYmZi5jc3ModGhpcywiZmxvYXQiKT09PSJub25lIiYmKGYuc3VwcG9ydC5pbmxpbmVCbG9ja05lZWRzTGF5b3V0PyhqPWNyKHRoaXMubm9kZU5hbWUpLGo9PT0iaW5saW5lIj90aGlzLnN0eWxlLmRpc3BsYXk9ImlubGluZS1ibG9jayI6KHRoaXMuc3R5bGUuZGlzcGxheT0iaW5saW5lIix0aGlzLnN0eWxlLnpvb209MSkpOnRoaXMuc3R5bGUuZGlzcGxheT0iaW5saW5lLWJsb2NrIikpfWIub3ZlcmZsb3chPW51bGwmJih0aGlzLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iKTtmb3IoaSBpbiBhKWs9bmV3IGYuZngodGhpcyxiLGkpLGg9YVtpXSxjai50ZXN0KGgpP2tbaD09PSJ0b2dnbGUiP2Q/InNob3ciOiJoaWRlIjpoXSgpOihsPWNrLmV4ZWMoaCksbT1rLmN1cigpLGw/KG49cGFyc2VGbG9hdChsWzJdKSxvPWxbM118fChmLmNzc051bWJlcltpXT8iIjoicHgiKSxvIT09InB4IiYmKGYuc3R5bGUodGhpcyxpLChufHwxKStvKSxtPShufHwxKS9rLmN1cigpKm0sZi5zdHlsZSh0aGlzLGksbStvKSksbFsxXSYmKG49KGxbMV09PT0iLT0iPy0xOjEpKm4rbSksay5jdXN0b20obSxuLG8pKTprLmN1c3RvbShtLGgsIiIpKTtyZXR1cm4hMH0pfSxzdG9wOmZ1bmN0aW9uKGEsYil7YSYmdGhpcy5xdWV1ZShbXSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGE9Zi50aW1lcnMsYz1hLmxlbmd0aDtifHxmLl91bm1hcmsoITAsdGhpcyk7d2hpbGUoYy0tKWFbY10uZWxlbT09PXRoaXMmJihiJiZhW2NdKCEwKSxhLnNwbGljZShjLDEpKX0pLGJ8fHRoaXMuZGVxdWV1ZSgpO3JldHVybiB0aGlzfX0pLGYuZWFjaCh7c2xpZGVEb3duOmNxKCJzaG93IiwxKSxzbGlkZVVwOmNxKCJoaWRlIiwxKSxzbGlkZVRvZ2dsZTpjcSgidG9nZ2xlIiwxKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKGEsYil7Zi5mblthXT1mdW5jdGlvbihhLGMsZCl7cmV0dXJuIHRoaXMuYW5pbWF0ZShiLGEsYyxkKX19KSxmLmV4dGVuZCh7c3BlZWQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEmJnR5cGVvZiBhPT0ib2JqZWN0Ij9mLmV4dGVuZCh7fSxhKTp7Y29tcGxldGU6Y3x8IWMmJmJ8fGYuaXNGdW5jdGlvbihhKSYmYSxkdXJhdGlvbjphLGVhc2luZzpjJiZifHxiJiYhZi5pc0Z1bmN0aW9uKGIpJiZifTtkLmR1cmF0aW9uPWYuZngub2ZmPzA6dHlwZW9mIGQuZHVyYXRpb249PSJudW1iZXIiP2QuZHVyYXRpb246ZC5kdXJhdGlvbiBpbiBmLmZ4LnNwZWVkcz9mLmZ4LnNwZWVkc1tkLmR1cmF0aW9uXTpmLmZ4LnNwZWVkcy5fZGVmYXVsdCxkLm9sZD1kLmNvbXBsZXRlLGQuY29tcGxldGU9ZnVuY3Rpb24oYSl7Zi5pc0Z1bmN0aW9uKGQub2xkKSYmZC5vbGQuY2FsbCh0aGlzKSxkLnF1ZXVlIT09ITE/Zi5kZXF1ZXVlKHRoaXMpOmEhPT0hMSYmZi5fdW5tYXJrKHRoaXMpfTtyZXR1cm4gZH0sZWFzaW5nOntsaW5lYXI6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIGMrZCphfSxzd2luZzpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4oLU1hdGguY29zKGEqTWF0aC5QSSkvMisuNSkqZCtjfX0sdGltZXJzOltdLGZ4OmZ1bmN0aW9uKGEsYixjKXt0aGlzLm9wdGlvbnM9Yix0aGlzLmVsZW09YSx0aGlzLnByb3A9YyxiLm9yaWc9Yi5vcmlnfHx7fX19KSxmLmZ4LnByb3RvdHlwZT17dXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnN0ZXAmJnRoaXMub3B0aW9ucy5zdGVwLmNhbGwodGhpcy5lbGVtLHRoaXMubm93LHRoaXMpLChmLmZ4LnN0ZXBbdGhpcy5wcm9wXXx8Zi5meC5zdGVwLl9kZWZhdWx0KSh0aGlzKX0sY3VyOmZ1bmN0aW9uKCl7aWYodGhpcy5lbGVtW3RoaXMucHJvcF0hPW51bGwmJighdGhpcy5lbGVtLnN0eWxlfHx0aGlzLmVsZW0uc3R5bGVbdGhpcy5wcm9wXT09bnVsbCkpcmV0dXJuIHRoaXMuZWxlbVt0aGlzLnByb3BdO3ZhciBhLGI9Zi5jc3ModGhpcy5lbGVtLHRoaXMucHJvcCk7cmV0dXJuIGlzTmFOKGE9cGFyc2VGbG9hdChiKSk/IWJ8fGI9PT0iYXV0byI/MDpiOmF9LGN1c3RvbTpmdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZyhhKXtyZXR1cm4gZC5zdGVwKGEpfXZhciBkPXRoaXMsZT1mLmZ4O3RoaXMuc3RhcnRUaW1lPWNufHxjbygpLHRoaXMuc3RhcnQ9YSx0aGlzLmVuZD1iLHRoaXMudW5pdD1jfHx0aGlzLnVuaXR8fChmLmNzc051bWJlclt0aGlzLnByb3BdPyIiOiJweCIpLHRoaXMubm93PXRoaXMuc3RhcnQsdGhpcy5wb3M9dGhpcy5zdGF0ZT0wLGcuZWxlbT10aGlzLmVsZW0sZygpJiZmLnRpbWVycy5wdXNoKGcpJiYhY2wmJihjbD1zZXRJbnRlcnZhbChlLnRpY2ssZS5pbnRlcnZhbCkpfSxzaG93OmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLm9yaWdbdGhpcy5wcm9wXT1mLnN0eWxlKHRoaXMuZWxlbSx0aGlzLnByb3ApLHRoaXMub3B0aW9ucy5zaG93PSEwLHRoaXMuY3VzdG9tKHRoaXMucHJvcD09PSJ3aWR0aCJ8fHRoaXMucHJvcD09PSJoZWlnaHQiPzE6MCx0aGlzLmN1cigpKSxmKHRoaXMuZWxlbSkuc2hvdygpfSxoaWRlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLm9yaWdbdGhpcy5wcm9wXT1mLnN0eWxlKHRoaXMuZWxlbSx0aGlzLnByb3ApLHRoaXMub3B0aW9ucy5oaWRlPSEwLHRoaXMuY3VzdG9tKHRoaXMuY3VyKCksMCl9LHN0ZXA6ZnVuY3Rpb24oYSl7dmFyIGI9Y258fGNvKCksYz0hMCxkPXRoaXMuZWxlbSxlPXRoaXMub3B0aW9ucyxnLGg7aWYoYXx8Yj49ZS5kdXJhdGlvbit0aGlzLnN0YXJ0VGltZSl7dGhpcy5ub3c9dGhpcy5lbmQsdGhpcy5wb3M9dGhpcy5zdGF0ZT0xLHRoaXMudXBkYXRlKCksZS5hbmltYXRlZFByb3BlcnRpZXNbdGhpcy5wcm9wXT0hMDtmb3IoZyBpbiBlLmFuaW1hdGVkUHJvcGVydGllcyllLmFuaW1hdGVkUHJvcGVydGllc1tnXSE9PSEwJiYoYz0hMSk7aWYoYyl7ZS5vdmVyZmxvdyE9bnVsbCYmIWYuc3VwcG9ydC5zaHJpbmtXcmFwQmxvY2tzJiZmLmVhY2goWyIiLCJYIiwiWSJdLGZ1bmN0aW9uKGEsYil7ZC5zdHlsZVsib3ZlcmZsb3ciK2JdPWUub3ZlcmZsb3dbYV19KSxlLmhpZGUmJmYoZCkuaGlkZSgpO2lmKGUuaGlkZXx8ZS5zaG93KWZvcih2YXIgaSBpbiBlLmFuaW1hdGVkUHJvcGVydGllcylmLnN0eWxlKGQsaSxlLm9yaWdbaV0pO2UuY29tcGxldGUuY2FsbChkKX1yZXR1cm4hMX1lLmR1cmF0aW9uPT1JbmZpbml0eT90aGlzLm5vdz1iOihoPWItdGhpcy5zdGFydFRpbWUsdGhpcy5zdGF0ZT1oL2UuZHVyYXRpb24sdGhpcy5wb3M9Zi5lYXNpbmdbZS5hbmltYXRlZFByb3BlcnRpZXNbdGhpcy5wcm9wXV0odGhpcy5zdGF0ZSxoLDAsMSxlLmR1cmF0aW9uKSx0aGlzLm5vdz10aGlzLnN0YXJ0Kyh0aGlzLmVuZC10aGlzLnN0YXJ0KSp0aGlzLnBvcyksdGhpcy51cGRhdGUoKTtyZXR1cm4hMH19LGYuZXh0ZW5kKGYuZngse3RpY2s6ZnVuY3Rpb24oKXtmb3IodmFyIGE9Zi50aW1lcnMsYj0wO2I8YS5sZW5ndGg7KytiKWFbYl0oKXx8YS5zcGxpY2UoYi0tLDEpO2EubGVuZ3RofHxmLmZ4LnN0b3AoKX0saW50ZXJ2YWw6MTMsc3RvcDpmdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwoY2wpLGNsPW51bGx9LHNwZWVkczp7c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxzdGVwOntvcGFjaXR5OmZ1bmN0aW9uKGEpe2Yuc3R5bGUoYS5lbGVtLCJvcGFjaXR5IixhLm5vdyl9LF9kZWZhdWx0OmZ1bmN0aW9uKGEpe2EuZWxlbS5zdHlsZSYmYS5lbGVtLnN0eWxlW2EucHJvcF0hPW51bGw/YS5lbGVtLnN0eWxlW2EucHJvcF09KGEucHJvcD09PSJ3aWR0aCJ8fGEucHJvcD09PSJoZWlnaHQiP01hdGgubWF4KDAsYS5ub3cpOmEubm93KSthLnVuaXQ6YS5lbGVtW2EucHJvcF09YS5ub3d9fX0pLGYuZXhwciYmZi5leHByLmZpbHRlcnMmJihmLmV4cHIuZmlsdGVycy5hbmltYXRlZD1mdW5jdGlvbihhKXtyZXR1cm4gZi5ncmVwKGYudGltZXJzLGZ1bmN0aW9uKGIpe3JldHVybiBhPT09Yi5lbGVtfSkubGVuZ3RofSk7dmFyIGNzPS9edCg/OmFibGV8ZHxoKSQvaSxjdD0vXig/OmJvZHl8aHRtbCkkL2k7ImdldEJvdW5kaW5nQ2xpZW50UmVjdCJpbiBjLmRvY3VtZW50RWxlbWVudD9mLmZuLm9mZnNldD1mdW5jdGlvbihhKXt2YXIgYj10aGlzWzBdLGM7aWYoYSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe2Yub2Zmc2V0LnNldE9mZnNldCh0aGlzLGEsYil9KTtpZighYnx8IWIub3duZXJEb2N1bWVudClyZXR1cm4gbnVsbDtpZihiPT09Yi5vd25lckRvY3VtZW50LmJvZHkpcmV0dXJuIGYub2Zmc2V0LmJvZHlPZmZzZXQoYik7dHJ5e2M9Yi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKX1jYXRjaChkKXt9dmFyIGU9Yi5vd25lckRvY3VtZW50LGc9ZS5kb2N1bWVudEVsZW1lbnQ7aWYoIWN8fCFmLmNvbnRhaW5zKGcsYikpcmV0dXJuIGM/e3RvcDpjLnRvcCxsZWZ0OmMubGVmdH06e3RvcDowLGxlZnQ6MH07dmFyIGg9ZS5ib2R5LGk9Y3UoZSksaj1nLmNsaWVudFRvcHx8aC5jbGllbnRUb3B8fDAsaz1nLmNsaWVudExlZnR8fGguY2xpZW50TGVmdHx8MCxsPWkucGFnZVlPZmZzZXR8fGYuc3VwcG9ydC5ib3hNb2RlbCYmZy5zY3JvbGxUb3B8fGguc2Nyb2xsVG9wLG09aS5wYWdlWE9mZnNldHx8Zi5zdXBwb3J0LmJveE1vZGVsJiZnLnNjcm9sbExlZnR8fGguc2Nyb2xsTGVmdCxuPWMudG9wK2wtaixvPWMubGVmdCttLWs7cmV0dXJue3RvcDpuLGxlZnQ6b319OmYuZm4ub2Zmc2V0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXNbMF07aWYoYSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe2Yub2Zmc2V0LnNldE9mZnNldCh0aGlzLGEsYil9KTtpZighYnx8IWIub3duZXJEb2N1bWVudClyZXR1cm4gbnVsbDtpZihiPT09Yi5vd25lckRvY3VtZW50LmJvZHkpcmV0dXJuIGYub2Zmc2V0LmJvZHlPZmZzZXQoYik7Zi5vZmZzZXQuaW5pdGlhbGl6ZSgpO3ZhciBjLGQ9Yi5vZmZzZXRQYXJlbnQsZT1iLGc9Yi5vd25lckRvY3VtZW50LGg9Zy5kb2N1bWVudEVsZW1lbnQsaT1nLmJvZHksaj1nLmRlZmF1bHRWaWV3LGs9aj9qLmdldENvbXB1dGVkU3R5bGUoYixudWxsKTpiLmN1cnJlbnRTdHlsZSxsPWIub2Zmc2V0VG9wLG09Yi5vZmZzZXRMZWZ0O3doaWxlKChiPWIucGFyZW50Tm9kZSkmJmIhPT1pJiZiIT09aCl7aWYoZi5vZmZzZXQuc3VwcG9ydHNGaXhlZFBvc2l0aW9uJiZrLnBvc2l0aW9uPT09ImZpeGVkIilicmVhaztjPWo/ai5nZXRDb21wdXRlZFN0eWxlKGIsbnVsbCk6Yi5jdXJyZW50U3R5bGUsbC09Yi5zY3JvbGxUb3AsbS09Yi5zY3JvbGxMZWZ0LGI9PT1kJiYobCs9Yi5vZmZzZXRUb3AsbSs9Yi5vZmZzZXRMZWZ0LGYub2Zmc2V0LmRvZXNOb3RBZGRCb3JkZXImJighZi5vZmZzZXQuZG9lc0FkZEJvcmRlckZvclRhYmxlQW5kQ2VsbHN8fCFjcy50ZXN0KGIubm9kZU5hbWUpKSYmKGwrPXBhcnNlRmxvYXQoYy5ib3JkZXJUb3BXaWR0aCl8fDAsbSs9cGFyc2VGbG9hdChjLmJvcmRlckxlZnRXaWR0aCl8fDApLGU9ZCxkPWIub2Zmc2V0UGFyZW50KSxmLm9mZnNldC5zdWJ0cmFjdHNCb3JkZXJGb3JPdmVyZmxvd05vdFZpc2libGUmJmMub3ZlcmZsb3chPT0idmlzaWJsZSImJihsKz1wYXJzZUZsb2F0KGMuYm9yZGVyVG9wV2lkdGgpfHwwLG0rPXBhcnNlRmxvYXQoYy5ib3JkZXJMZWZ0V2lkdGgpfHwwKSxrPWN9aWYoay5wb3NpdGlvbj09PSJyZWxhdGl2ZSJ8fGsucG9zaXRpb249PT0ic3RhdGljIilsKz1pLm9mZnNldFRvcCxtKz1pLm9mZnNldExlZnQ7Zi5vZmZzZXQuc3VwcG9ydHNGaXhlZFBvc2l0aW9uJiZrLnBvc2l0aW9uPT09ImZpeGVkIiYmKGwrPU1hdGgubWF4KGguc2Nyb2xsVG9wLGkuc2Nyb2xsVG9wKSxtKz1NYXRoLm1heChoLnNjcm9sbExlZnQsaS5zY3JvbGxMZWZ0KSk7cmV0dXJue3RvcDpsLGxlZnQ6bX19LGYub2Zmc2V0PXtpbml0aWFsaXplOmZ1bmN0aW9uKCl7dmFyIGE9Yy5ib2R5LGI9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxkLGUsZyxoLGk9cGFyc2VGbG9hdChmLmNzcyhhLCJtYXJnaW5Ub3AiKSl8fDAsaj0iPGRpdiBzdHlsZT0ncG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO21hcmdpbjowO2JvcmRlcjo1cHggc29saWQgIzAwMDtwYWRkaW5nOjA7d2lkdGg6MXB4O2hlaWdodDoxcHg7Jz48ZGl2PjwvZGl2PjwvZGl2Pjx0YWJsZSBzdHlsZT0ncG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO21hcmdpbjowO2JvcmRlcjo1cHggc29saWQgIzAwMDtwYWRkaW5nOjA7d2lkdGg6MXB4O2hlaWdodDoxcHg7JyBjZWxscGFkZGluZz0nMCcgY2VsbHNwYWNpbmc9JzAnPjx0cj48dGQ+PC90ZD48L3RyPjwvdGFibGU+IjtmLmV4dGVuZChiLnN0eWxlLHtwb3NpdGlvbjoiYWJzb2x1dGUiLHRvcDowLGxlZnQ6MCxtYXJnaW46MCxib3JkZXI6MCx3aWR0aDoiMXB4IixoZWlnaHQ6IjFweCIsdmlzaWJpbGl0eToiaGlkZGVuIn0pLGIuaW5uZXJIVE1MPWosYS5pbnNlcnRCZWZvcmUoYixhLmZpcnN0Q2hpbGQpLGQ9Yi5maXJzdENoaWxkLGU9ZC5maXJzdENoaWxkLGg9ZC5uZXh0U2libGluZy5maXJzdENoaWxkLmZpcnN0Q2hpbGQsdGhpcy5kb2VzTm90QWRkQm9yZGVyPWUub2Zmc2V0VG9wIT09NSx0aGlzLmRvZXNBZGRCb3JkZXJGb3JUYWJsZUFuZENlbGxzPWgub2Zmc2V0VG9wPT09NSxlLnN0eWxlLnBvc2l0aW9uPSJmaXhlZCIsZS5zdHlsZS50b3A9IjIwcHgiLHRoaXMuc3VwcG9ydHNGaXhlZFBvc2l0aW9uPWUub2Zmc2V0VG9wPT09MjB8fGUub2Zmc2V0VG9wPT09MTUsZS5zdHlsZS5wb3NpdGlvbj1lLnN0eWxlLnRvcD0iIixkLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iLGQuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIix0aGlzLnN1YnRyYWN0c0JvcmRlckZvck92ZXJmbG93Tm90VmlzaWJsZT1lLm9mZnNldFRvcD09PS01LHRoaXMuZG9lc05vdEluY2x1ZGVNYXJnaW5JbkJvZHlPZmZzZXQ9YS5vZmZzZXRUb3AhPT1pLGEucmVtb3ZlQ2hpbGQoYiksZi5vZmZzZXQuaW5pdGlhbGl6ZT1mLm5vb3B9LGJvZHlPZmZzZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5vZmZzZXRUb3AsYz1hLm9mZnNldExlZnQ7Zi5vZmZzZXQuaW5pdGlhbGl6ZSgpLGYub2Zmc2V0LmRvZXNOb3RJbmNsdWRlTWFyZ2luSW5Cb2R5T2Zmc2V0JiYoYis9cGFyc2VGbG9hdChmLmNzcyhhLCJtYXJnaW5Ub3AiKSl8fDAsYys9cGFyc2VGbG9hdChmLmNzcyhhLCJtYXJnaW5MZWZ0IikpfHwwKTtyZXR1cm57dG9wOmIsbGVmdDpjfX0sc2V0T2Zmc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mLmNzcyhhLCJwb3NpdGlvbiIpO2Q9PT0ic3RhdGljIiYmKGEuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIik7dmFyIGU9ZihhKSxnPWUub2Zmc2V0KCksaD1mLmNzcyhhLCJ0b3AiKSxpPWYuY3NzKGEsImxlZnQiKSxqPShkPT09ImFic29sdXRlInx8ZD09PSJmaXhlZCIpJiZmLmluQXJyYXkoImF1dG8iLFtoLGldKT4tMSxrPXt9LGw9e30sbSxuO2o/KGw9ZS5wb3NpdGlvbigpLG09bC50b3Asbj1sLmxlZnQpOihtPXBhcnNlRmxvYXQoaCl8fDAsbj1wYXJzZUZsb2F0KGkpfHwwKSxmLmlzRnVuY3Rpb24oYikmJihiPWIuY2FsbChhLGMsZykpLGIudG9wIT1udWxsJiYoay50b3A9Yi50b3AtZy50b3ArbSksYi5sZWZ0IT1udWxsJiYoay5sZWZ0PWIubGVmdC1nLmxlZnQrbiksInVzaW5nImluIGI/Yi51c2luZy5jYWxsKGEsayk6ZS5jc3Moayl9fSxmLmZuLmV4dGVuZCh7cG9zaXRpb246ZnVuY3Rpb24oKXtpZighdGhpc1swXSlyZXR1cm4gbnVsbDt2YXIgYT10aGlzWzBdLGI9dGhpcy5vZmZzZXRQYXJlbnQoKSxjPXRoaXMub2Zmc2V0KCksZD1jdC50ZXN0KGJbMF0ubm9kZU5hbWUpP3t0b3A6MCxsZWZ0OjB9OmIub2Zmc2V0KCk7Yy50b3AtPXBhcnNlRmxvYXQoZi5jc3MoYSwibWFyZ2luVG9wIikpfHwwLGMubGVmdC09cGFyc2VGbG9hdChmLmNzcyhhLCJtYXJnaW5MZWZ0IikpfHwwLGQudG9wKz1wYXJzZUZsb2F0KGYuY3NzKGJbMF0sImJvcmRlclRvcFdpZHRoIikpfHwwLGQubGVmdCs9cGFyc2VGbG9hdChmLmNzcyhiWzBdLCJib3JkZXJMZWZ0V2lkdGgiKSl8fDA7cmV0dXJue3RvcDpjLnRvcC1kLnRvcCxsZWZ0OmMubGVmdC1kLmxlZnR9fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9mZnNldFBhcmVudHx8Yy5ib2R5O3doaWxlKGEmJiFjdC50ZXN0KGEubm9kZU5hbWUpJiZmLmNzcyhhLCJwb3NpdGlvbiIpPT09InN0YXRpYyIpYT1hLm9mZnNldFBhcmVudDtyZXR1cm4gYX0pfX0pLGYuZWFjaChbIkxlZnQiLCJUb3AiXSxmdW5jdGlvbihhLGMpe3ZhciBkPSJzY3JvbGwiK2M7Zi5mbltkXT1mdW5jdGlvbihjKXt2YXIgZSxnO2lmKGM9PT1iKXtlPXRoaXNbMF07aWYoIWUpcmV0dXJuIG51bGw7Zz1jdShlKTtyZXR1cm4gZz8icGFnZVhPZmZzZXQiaW4gZz9nW2E/InBhZ2VZT2Zmc2V0IjoicGFnZVhPZmZzZXQiXTpmLnN1cHBvcnQuYm94TW9kZWwmJmcuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50W2RdfHxnLmRvY3VtZW50LmJvZHlbZF06ZVtkXX1yZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Zz1jdSh0aGlzKSxnP2cuc2Nyb2xsVG8oYT9mKGcpLnNjcm9sbExlZnQoKTpjLGE/YzpmKGcpLnNjcm9sbFRvcCgpKTp0aGlzW2RdPWN9KX19KSxmLmVhY2goWyJIZWlnaHQiLCJXaWR0aCJdLGZ1bmN0aW9uKGEsYyl7dmFyIGQ9Yy50b0xvd2VyQ2FzZSgpO2YuZm5bImlubmVyIitjXT1mdW5jdGlvbigpe3ZhciBhPXRoaXNbMF07cmV0dXJuIGEmJmEuc3R5bGU/cGFyc2VGbG9hdChmLmNzcyhhLGQsInBhZGRpbmciKSk6bnVsbH0sZi5mblsib3V0ZXIiK2NdPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXNbMF07cmV0dXJuIGImJmIuc3R5bGU/cGFyc2VGbG9hdChmLmNzcyhiLGQsYT8ibWFyZ2luIjoiYm9yZGVyIikpOm51bGx9LGYuZm5bZF09ZnVuY3Rpb24oYSl7dmFyIGU9dGhpc1swXTtpZighZSlyZXR1cm4gYT09bnVsbD9udWxsOnRoaXM7aWYoZi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7dmFyIGM9Zih0aGlzKTtjW2RdKGEuY2FsbCh0aGlzLGIsY1tkXSgpKSl9KTtpZihmLmlzV2luZG93KGUpKXt2YXIgZz1lLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsiY2xpZW50IitjXSxoPWUuZG9jdW1lbnQuYm9keTtyZXR1cm4gZS5kb2N1bWVudC5jb21wYXRNb2RlPT09IkNTUzFDb21wYXQiJiZnfHxoJiZoWyJjbGllbnQiK2NdfHxnfWlmKGUubm9kZVR5cGU9PT05KXJldHVybiBNYXRoLm1heChlLmRvY3VtZW50RWxlbWVudFsiY2xpZW50IitjXSxlLmJvZHlbInNjcm9sbCIrY10sZS5kb2N1bWVudEVsZW1lbnRbInNjcm9sbCIrY10sZS5ib2R5WyJvZmZzZXQiK2NdLGUuZG9jdW1lbnRFbGVtZW50WyJvZmZzZXQiK2NdKTtpZihhPT09Yil7dmFyIGk9Zi5jc3MoZSxkKSxqPXBhcnNlRmxvYXQoaSk7cmV0dXJuIGYuaXNOYU4oaik/aTpqfXJldHVybiB0aGlzLmNzcyhkLHR5cGVvZiBhPT0ic3RyaW5nIj9hOmErInB4Iil9fSksYS5qUXVlcnk9YS4kPWZ9KSh3aW5kb3cpOw==]]></item_file_attachment>
    <item_file_attachment_ext><![CDATA[.js]]></item_file_attachment_ext>
    <item_file_attachment_filename><![CDATA[jquery-1.6.4.min.js]]></item_file_attachment_filename>
    <item_file_attachment_size><![CDATA[91669]]></item_file_attachment_size>
    <item_file_attachment_type><![CDATA[application/unknown]]></item_file_attachment_type>
    <name><![CDATA[jquery-1.6.4.min]]></name>
  </item>
  <item>
    <mig_id>ajax-linking</mig_id>
    <community>siteAdmin</community>
    <contenttype>nciJavaScriptInternalInfo</contenttype>
    <folder>/configuration/js</folder>
    <long_title><![CDATA[ajax-linking]]></long_title>
    <pretty_url_name><![CDATA[ajax-linking]]></pretty_url_name>
    <item_file_attachment><![CDATA[LyokKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHsNCiAgLy8gZGlzYWJsZSBhamF4IG5hdg0KICAkLm1vYmlsZS5hamF4TGlua3NFbmFibGVkID0gZmFsc2U7DQogfSk7Ki8NCiANCiAkKGRvY3VtZW50KS5iaW5kKCJtb2JpbGVpbml0IiwgZnVuY3Rpb24oKXsNCiANCiAgICAkLm1vYmlsZS5hamF4RW5hYmxlZCA9IGZhbHNlOw0KDQp9KTs=]]></item_file_attachment>
    <item_file_attachment_ext><![CDATA[.js]]></item_file_attachment_ext>
    <item_file_attachment_filename><![CDATA[ajax-linking.js]]></item_file_attachment_filename>
    <item_file_attachment_size><![CDATA[194]]></item_file_attachment_size>
    <item_file_attachment_type><![CDATA[application/unknown]]></item_file_attachment_type>
    <name><![CDATA[ajax-linking]]></name>
  </item>
  <item>
    <mig_id>Mobilesitebanneres</mig_id>
    <community>siteAdmin</community>
    <contenttype>cgvBanner</contenttype>
    <folder>/shareditems/SiteBanner</folder>
    <long_title><![CDATA[Mobile Site Banner - Spanish]]></long_title>
    <bodyfield><![CDATA[<div class="rxbodyfield" xmlns:o="urn:www.microsoft.com/office" xmlns:st1="urn:www.microsoft.com/smarttags" xmlns:st2="urn:www.microsoft.com/smarttags2" xmlns:w="urn:www.microsoft.com/word" xmlns:x="urn:www.microsoft.com/excel"><div class="header"><div cl]]></bodyfield>
  </item>
  <item>
    <mig_id>Mobilesitebanneren</mig_id>
    <community>siteAdmin</community>
    <contenttype>cgvBanner</contenttype>
    <folder>/shareditems/SiteBanner</folder>
    <long_title><![CDATA[Mobile Site Banner - English]]></long_title>
    <bodyfield><![CDATA[<div class="rxbodyfield" xmlns:o="urn:www.microsoft.com/office" xmlns:st1="urn:www.microsoft.com/smarttags" xmlns:st2="urn:www.microsoft.com/smarttags2" xmlns:w="urn:www.microsoft.com/word" xmlns:x="urn:www.microsoft.com/excel"><div class="header"><div cl]]></bodyfield>
  </item>
  <item>
    <mig_id>MobileSitefooteres</mig_id>
    <community>siteAdmin</community>
    <contenttype>cgvSiteFooter</contenttype>
    <folder>/shareditems/SiteFooter</folder>
    <long_title><![CDATA[Mobile Site Footer - Spanish]]></long_title>
    <bodyfield><![CDATA[
<div xmlns:st2="urn:www.microsoft.com/smarttags2" xmlns:st1="urn:www.microsoft.com/smarttags" xmlns:o="urn:www.microsoft.com/office" xmlns:x="urn:www.microsoft.com/excel" xmlns:w="urn:www.microsoft.com/word" class="rxbodyfield">
<div style=" margin: 15px]]></bodyfield>
  </item>
  <item>
    <mig_id>MobileSitefooteren</mig_id>
    <community>siteAdmin</community>
    <contenttype>cgvSiteFooter</contenttype>
    <folder>/shareditems/SiteFooter</folder>
    <long_title><![CDATA[Mobile Site Footer - English]]></long_title>
    <bodyfield><![CDATA[
<div xmlns:st2="urn:www.microsoft.com/smarttags2" xmlns:st1="urn:www.microsoft.com/smarttags" xmlns:o="urn:www.microsoft.com/office" xmlns:x="urn:www.microsoft.com/excel" xmlns:w="urn:www.microsoft.com/word" class="rxbodyfield">
<div style=" margin: 15px]]></bodyfield>
  </item>
  <item>
    <mig_id>SiteWideSearchResults</mig_id>
    <community>siteAdmin</community>
    <contenttype>nciAppWidget</contenttype>
    <folder>/shareditems</folder>
    <long_title><![CDATA[SiteWideSearchResults]]></long_title>
    <pretty_url_name><![CDATA[SiteWideSearchResults]]></pretty_url_name>
    <snippet_control_path><![CDATA[~/SnippetTemplates/SiteWideSearch.ascx]]></snippet_control_path>
  </item>
</list>